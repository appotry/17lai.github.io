(function(e){var t=/\([^|()\n]+\)|\[[^\]\n]+\]|\{[^}\n]+\}/.source;var i=/\)|\((?![^|()\n]+\))/.source;function n(e,n){return RegExp(e.replace(/<MOD>/g,function(){return"(?:"+t+")"}).replace(/<PAR>/g,function(){return"(?:"+i+")"}),n||"")}var r={css:{pattern:/\{[^{}]+\}/,inside:{rest:e.languages.css}},"class-id":{pattern:/(\()[^()]+(?=\))/,lookbehind:true,alias:"attr-value"},lang:{pattern:/(\[)[^\[\]]+(?=\])/,lookbehind:true,alias:"attr-value"},punctuation:/[\\\/]\d+|\S/};var o=e.languages.textile=e.languages.extend("markup",{phrase:{pattern:/(^|\r|\n)\S[\s\S]*?(?=$|\r?\n\r?\n|\r\r)/,lookbehind:true,inside:{"block-tag":{pattern:n(/^[a-z]\w*(?:<MOD>|<PAR>|[<>=])*\./.source),inside:{modifier:{pattern:n(/(^[a-z]\w*)(?:<MOD>|<PAR>|[<>=])+(?=\.)/.source),lookbehind:true,inside:r},tag:/^[a-z]\w*/,punctuation:/\.$/}},list:{pattern:n(/^[*#]+<MOD>*\s+\S.*/.source,"m"),inside:{modifier:{pattern:n(/(^[*#]+)<MOD>+/.source),lookbehind:true,inside:r},punctuation:/^[*#]+/}},table:{pattern:n(/^(?:(?:<MOD>|<PAR>|[<>=^~])+\.\s*)?(?:\|(?:(?:<MOD>|<PAR>|[<>=^~_]|[\\/]\d+)+\.|(?!(?:<MOD>|<PAR>|[<>=^~_]|[\\/]\d+)+\.))[^|]*)+\|/.source,"m"),inside:{modifier:{pattern:n(/(^|\|(?:\r?\n|\r)?)(?:<MOD>|<PAR>|[<>=^~_]|[\\/]\d+)+(?=\.)/.source),lookbehind:true,inside:r},punctuation:/\||^\./}},inline:{pattern:n(/(^|[^a-zA-Z\d])(\*\*|__|\?\?|[*_%@+\-^~])<MOD>*.+?\2(?![a-zA-Z\d])/.source),lookbehind:true,inside:{bold:{pattern:n(/(^(\*\*?)<MOD>*).+?(?=\2)/.source),lookbehind:true},italic:{pattern:n(/(^(__?)<MOD>*).+?(?=\2)/.source),lookbehind:true},cite:{pattern:n(/(^\?\?<MOD>*).+?(?=\?\?)/.source),lookbehind:true,alias:"string"},code:{pattern:n(/(^@<MOD>*).+?(?=@)/.source),lookbehind:true,alias:"keyword"},inserted:{pattern:n(/(^\+<MOD>*).+?(?=\+)/.source),lookbehind:true},deleted:{pattern:n(/(^-<MOD>*).+?(?=-)/.source),lookbehind:true},span:{pattern:n(/(^%<MOD>*).+?(?=%)/.source),lookbehind:true},modifier:{pattern:n(/(^\*\*|__|\?\?|[*_%@+\-^~])<MOD>+/.source),lookbehind:true,inside:r},punctuation:/[*_%?@+\-^~]+/}},"link-ref":{pattern:/^\[[^\]]+\]\S+$/m,inside:{string:{pattern:/(^\[)[^\]]+(?=\])/,lookbehind:true},url:{pattern:/(^\])\S+$/,lookbehind:true},punctuation:/[\[\]]/}},link:{pattern:n(/"<MOD>*[^"]+":.+?(?=[^\w/]?(?:\s|$))/.source),inside:{text:{pattern:n(/(^"<MOD>*)[^"]+(?=")/.source),lookbehind:true},modifier:{pattern:n(/(^")<MOD>+/.source),lookbehind:true,inside:r},url:{pattern:/(:).+/,lookbehind:true},punctuation:/[":]/}},image:{pattern:n(/!(?:<MOD>|<PAR>|[<>=])*(?![<>=])[^!\s()]+(?:\([^)]+\))?!(?::.+?(?=[^\w/]?(?:\s|$)))?/.source),inside:{source:{pattern:n(/(^!(?:<MOD>|<PAR>|[<>=])*)(?![<>=])[^!\s()]+(?:\([^)]+\))?(?=!)/.source),lookbehind:true,alias:"url"},modifier:{pattern:n(/(^!)(?:<MOD>|<PAR>|[<>=])+/.source),lookbehind:true,inside:r},url:{pattern:/(:).+/,lookbehind:true},punctuation:/[!:]/}},footnote:{pattern:/\b\[\d+\]/,alias:"comment",inside:{punctuation:/\[|\]/}},acronym:{pattern:/\b[A-Z\d]+\([^)]+\)/,inside:{comment:{pattern:/(\()[^()]+(?=\))/,lookbehind:true},punctuation:/[()]/}},mark:{pattern:/\b\((?:C|R|TM)\)/,alias:"comment",inside:{punctuation:/[()]/}}}}});var a=o["phrase"].inside;var s={inline:a["inline"],link:a["link"],image:a["image"],footnote:a["footnote"],acronym:a["acronym"],mark:a["mark"]};o.tag.pattern=/<\/?(?!\d)[a-z0-9]+(?:\s+[^\s>\/=]+(?:=(?:("|')(?:\\[\s\S]|(?!\1)[^\\])*\1|[^\s'">=]+))?)*\s*\/?>/i;var u=a["inline"].inside;u["bold"].inside=s;u["italic"].inside=s;u["inserted"].inside=s;u["deleted"].inside=s;u["span"].inside=s;var d=a["table"].inside;d["inline"]=s["inline"];d["link"]=s["link"];d["image"]=s["image"];d["footnote"]=s["footnote"];d["acronym"]=s["acronym"];d["mark"]=s["mark"]})(Prism);