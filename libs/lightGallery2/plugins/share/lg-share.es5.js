var __assign=function(){__assign=Object.assign||function e(t){for(var r,o=1,i=arguments.length;o<i;o++){r=arguments[o];for(var a in r)if(Object.prototype.hasOwnProperty.call(r,a))t[a]=r[a]}return t};return __assign.apply(this,arguments)};function __spreadArrays(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var o=Array(e),i=0,t=0;t<r;t++)for(var a=arguments[t],n=0,s=a.length;n<s;n++,i++)o[i]=a[n];return o}var shareSettings={share:true,facebook:true,facebookDropdownText:"Facebook",twitter:true,twitterDropdownText:"Twitter",pinterest:true,pinterestDropdownText:"Pinterest",additionalShareOptions:[],sharePluginStrings:{share:"Share"}};function getFacebookShareLink(e){var t="//www.facebook.com/sharer/sharer.php?u=";return t+encodeURIComponent(e.facebookShareUrl||window.location.href)}function getTwitterShareLink(e){var t="//twitter.com/intent/tweet?text=";var r=encodeURIComponent(e.twitterShareUrl||window.location.href);var o=e.tweetText;return t+o+"&url="+r}function getPinterestShareLink(e){var t="http://www.pinterest.com/pin/create/button/?url=";var r=e.pinterestText;var o=encodeURIComponent(e.src);var i=encodeURIComponent(e.pinterestShareUrl||window.location.href);return t+i+"&media="+o+"&description="+r}var lGEvents={afterAppendSlide:"lgAfterAppendSlide",init:"lgInit",hasVideo:"lgHasVideo",containerResize:"lgContainerResize",updateSlides:"lgUpdateSlides",afterAppendSubHtml:"lgAfterAppendSubHtml",beforeOpen:"lgBeforeOpen",afterOpen:"lgAfterOpen",slideItemLoad:"lgSlideItemLoad",beforeSlide:"lgBeforeSlide",afterSlide:"lgAfterSlide",posterClick:"lgPosterClick",dragStart:"lgDragStart",dragMove:"lgDragMove",dragEnd:"lgDragEnd",beforeNextSlide:"lgBeforeNextSlide",beforePrevSlide:"lgBeforePrevSlide",beforeClose:"lgBeforeClose",afterClose:"lgAfterClose",rotateLeft:"lgRotateLeft",rotateRight:"lgRotateRight",flipHorizontal:"lgFlipHorizontal",flipVertical:"lgFlipVertical",autoplay:"lgAutoplay",autoplayStart:"lgAutoplayStart",autoplayStop:"lgAutoplayStop"};var Share=function(){function e(e){this.shareOptions=[];this.core=e;this.settings=__assign(__assign({},shareSettings),this.core.settings);return this}e.prototype.init=function(){if(!this.settings.share){return}this.shareOptions=__spreadArrays(this.getDefaultShareOptions(),this.settings.additionalShareOptions);this.setLgShareMarkup();this.core.outer.find(".lg-share .lg-dropdown").append(this.getShareListHtml());this.core.LGel.on(lGEvents.afterSlide+".share",this.onAfterSlide.bind(this))};e.prototype.getShareListHtml=function(){var t="";this.shareOptions.forEach(function(e){t+=e.dropdownHTML});return t};e.prototype.setLgShareMarkup=function(){var e=this;this.core.$toolbar.append('<button type="button" aria-label="'+this.settings.sharePluginStrings["share"]+'" aria-haspopup="true" aria-expanded="false" class="lg-share lg-icon">\n                <ul class="lg-dropdown" style="position: absolute;"></ul></button>');this.core.outer.append('<div class="lg-dropdown-overlay"></div>');var t=this.core.outer.find(".lg-share");t.first().on("click.lg",function(){e.core.outer.toggleClass("lg-dropdown-active");if(e.core.outer.hasClass("lg-dropdown-active")){e.core.outer.attr("aria-expanded",true)}else{e.core.outer.attr("aria-expanded",false)}});this.core.outer.find(".lg-dropdown-overlay").first().on("click.lg",function(){e.core.outer.removeClass("lg-dropdown-active");e.core.outer.attr("aria-expanded",false)})};e.prototype.onAfterSlide=function(e){var r=this;var t=e.detail.index;var o=this.core.galleryItems[t];setTimeout(function(){r.shareOptions.forEach(function(e){var t=e.selector;r.core.outer.find(t).attr("href",e.generateLink(o))})},100)};e.prototype.getShareListItemHTML=function(e,t){return'<li><a class="lg-share-'+e+'" rel="noopener" target="_blank"><span class="lg-icon"></span><span class="lg-dropdown-text">'+t+"</span></a></li>"};e.prototype.getDefaultShareOptions=function(){return __spreadArrays(this.settings.facebook?[{type:"facebook",generateLink:getFacebookShareLink,dropdownHTML:this.getShareListItemHTML("facebook",this.settings.facebookDropdownText),selector:".lg-share-facebook"}]:[],this.settings.twitter?[{type:"twitter",generateLink:getTwitterShareLink,dropdownHTML:this.getShareListItemHTML("twitter",this.settings.twitterDropdownText),selector:".lg-share-twitter"}]:[],this.settings.pinterest?[{type:"pinterest",generateLink:getPinterestShareLink,dropdownHTML:this.getShareListItemHTML("pinterest",this.settings.pinterestDropdownText),selector:".lg-share-pinterest"}]:[])};e.prototype.destroy=function(){this.core.outer.find(".lg-dropdown-overlay").remove();this.core.outer.find(".lg-share").remove();this.core.LGel.off(".lg.share");this.core.LGel.off(".share")};return e}();export default Share;