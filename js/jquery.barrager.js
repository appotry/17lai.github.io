!function(e){e.fn.barrager=function(r){r=e.extend({close:!0,max:10,speed:16,color:"#ffffff"},r||{});const a="#"+(o="barrage_"+(new Date).getTime());var o=e("<div class='barrage' id='"+o+"'></div>").appendTo(e(this)),i=.35*e(window).height();const t=e(window).width()+100;i=[i/5+.5*e(window).height(),i/5*2+.5*e(window).height(),i/5*3+.5*e(window).height(),i/5*4+.5*e(window).height(),i/5*5+.5*e(window).height()][Math.floor(5*Math.random())],o.css("bottom",i+"px"),div_barrager_box=e("<div class='barrage_box cl'></div>").appendTo(o),r.img&&(div_barrager_box.append("<a class='portrait z' href='javascript:;'></a>"),e("<img src='' >").appendTo(a+" .barrage_box .portrait").attr("src",r.img)),div_barrager_box.append(" <div class='z p'></div>"),r.close&&div_barrager_box.append(" <div class='close z'></div>"),(i=e("<a title='' href='' target='_blank'></a>").appendTo(a+" .barrage_box .p")).attr({href:r.href,id:r.id}).empty().append(r.info),i.css("color",r.color),o.css("margin-right",0),e(a).animate({right:t},1e3*r.speed,(function(){e(a).remove()})),div_barrager_box.mouseover((function(){e(a).stop(!0)})),div_barrager_box.mouseout((function(){e(a).animate({right:t},1e3*r.speed,(function(){e(a).remove()}))})),e(a+".barrage .barrage_box .close").click((function(){e(a).remove()}))},e.fn.barrager.removeAll=function(){e(".barrage").remove()}}(jQuery);