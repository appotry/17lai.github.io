//v1.4 2023-04-14
'use strict';function _0x3459(_0x222e08,_0x4d368d){const _0x5dfeae=_0x5dfe();return _0x3459=function(_0x3459a2,_0x483887){_0x3459a2=_0x3459a2-0x191;let _0x4cb9e7=_0x5dfeae[_0x3459a2];return _0x4cb9e7;},_0x3459(_0x222e08,_0x4d368d);}const _0x4514df=_0x3459;function _0x5dfe(){const _0x4537f0=['30902oNfeUf','263417Ridfoy','AMP_SUBSCRIPTION_STATE','webpushr-test-1002','7ANcjCd','push','url','registration','close','13116CCBbCs','54gEvaPq','notification','postMessage','1559136HOchnK','56vlmBfm','json','notificationclose','openWindow','showNotification','amp-web-push-subscription-state','https://cdn.webpushr.com/','matchAll','then','log','https://notevents.webpushr.com/notification/lg/','410960YiqsoE','30bLAlgZ','undefined','data','POST','pushManager','8lBEvvM','message','triggered_id','text','install','i_url','clients','floor','sid','3008004DuxpyD','Webpushr\x20Service\x20Worker\x20is\x20Activated!','img','campaign_id','activate','waitUntil','options','addEventListener','action','sub_id','758196TgHyDa','stringify','6097RXoaOZ','skipWaiting','AMP_SUBSCRIBE','getNotifications'];_0x5dfe=function(){return _0x4537f0;};return _0x5dfe();}(function(_0x11cef4,_0x42c336){const _0x42b4bc=_0x3459,_0x5e0066=_0x11cef4();while(!![]){try{const _0x33fd81=parseInt(_0x42b4bc(0x19d))/0x1*(parseInt(_0x42b4bc(0x1a7))/0x2)+-parseInt(_0x42b4bc(0x1aa))/0x3*(parseInt(_0x42b4bc(0x1bc))/0x4)+parseInt(_0x42b4bc(0x1b6))/0x5+parseInt(_0x42b4bc(0x1c5))/0x6*(parseInt(_0x42b4bc(0x1a1))/0x7)+parseInt(_0x42b4bc(0x1ab))/0x8*(parseInt(_0x42b4bc(0x197))/0x9)+-parseInt(_0x42b4bc(0x1b7))/0xa*(-parseInt(_0x42b4bc(0x19e))/0xb)+parseInt(_0x42b4bc(0x1a6))/0xc*(-parseInt(_0x42b4bc(0x199))/0xd);if(_0x33fd81===_0x42c336)break;else _0x5e0066['push'](_0x5e0066['shift']());}catch(_0x4f2682){_0x5e0066['push'](_0x5e0066['shift']());}}}(_0x5dfe,0x80c1c));var payload,logdata,webpushr_image_url,icon_url,image_url,badge_url,notificationClicked,log_data,$timeout=Math[_0x4514df(0x1c3)](Math['random']()*0x19*0x3e8);self[_0x4514df(0x194)](_0x4514df(0x1c0),_0x135a28=>{const _0x29bb59=_0x4514df;self[_0x29bb59(0x19a)]();}),self[_0x4514df(0x194)](_0x4514df(0x191),_0x42969a=>{const _0x4574a7=_0x4514df;console[_0x4574a7(0x1b4)](_0x4574a7(0x1c6));}),self['addEventListener'](_0x4514df(0x1a2),function(_0x564a08){const _0x5c9ad8=_0x4514df;payload=_0x564a08[_0x5c9ad8(0x1b9)][_0x5c9ad8(0x1ac)]();if(payload['t']==_0x5c9ad8(0x1a0))return![];log_data={'sub_id':payload[_0x5c9ad8(0x196)],'triggered_id':payload['tid'],'campaign_id':payload['c'],'server':payload['sr'],'sid':payload[_0x5c9ad8(0x1c4)]};if(typeof payload['i']!=_0x5c9ad8(0x1b8))icon_url=payload[_0x5c9ad8(0x1c1)]?payload['i']:'https://cdn.webpushr.com/'+payload['i'];else icon_url='';if(typeof payload[_0x5c9ad8(0x1c7)]!=_0x5c9ad8(0x1b8))image_url=payload['img_url']?payload[_0x5c9ad8(0x1c7)]:'https://cdn.webpushr.com/'+payload[_0x5c9ad8(0x1c7)];else image_url='';if(typeof payload['b']!='undefined')badge_url=_0x5c9ad8(0x1b1)+payload['b'];else badge_url='';const _0x4bdc49=payload['t'],_0x4c6c6c={'body':payload['m'],'icon':icon_url,'image':image_url,'badge':badge_url,'data':{'url':payload['u'],'logs':log_data},'requireInteraction':typeof payload['ah']!=_0x5c9ad8(0x1b8)?![]:!![],'actions':payload['a']};_0x564a08[_0x5c9ad8(0x192)](self['registration'][_0x5c9ad8(0x1af)](_0x4bdc49,_0x4c6c6c)[_0x5c9ad8(0x1b3)](()=>self[_0x5c9ad8(0x1a4)][_0x5c9ad8(0x19c)]())[_0x5c9ad8(0x1b3)](_0x2cd8f2=>{})['then'](function(){const _0x5776f1=_0x5c9ad8;notificationClicked=![];let _0x4e4899={};if(log_data[_0x5776f1(0x1c8)])_0x4e4899={'type':'d','campaign_id':log_data[_0x5776f1(0x1c8)],'server':log_data['server'],'sid':log_data['sid'],'sub_id':log_data[_0x5776f1(0x196)],'triggered_id':log_data[_0x5776f1(0x1be)]};else return;setTimeout(function(){const _0x20ccc5=_0x5776f1;fetch(_0x20ccc5(0x1b5),{'body':JSON[_0x20ccc5(0x198)](_0x4e4899),'method':'POST'})[_0x20ccc5(0x1b3)](function(_0x5078d4){const _0x3c10e1=_0x20ccc5;if(_0x5078d4['ok'])return _0x5078d4[_0x3c10e1(0x1bf)]();});},$timeout);}));}),self['addEventListener']('notificationclick',function(_0x2d4a67){const _0x36ef56=_0x4514df;notificationClicked=!![],_0x2d4a67[_0x36ef56(0x1a8)][_0x36ef56(0x1a5)]();!_0x2d4a67['action']?_0x2d4a67[_0x36ef56(0x192)](clients[_0x36ef56(0x1ae)](_0x2d4a67[_0x36ef56(0x1a8)][_0x36ef56(0x1b9)][_0x36ef56(0x1a3)])[_0x36ef56(0x1b3)](function(){})):clients[_0x36ef56(0x1ae)](_0x2d4a67[_0x36ef56(0x195)]);let _0x3a1d68={'type':'cl',..._0x2d4a67['notification'][_0x36ef56(0x1b9)]['logs']};fetch(_0x36ef56(0x1b5),{'body':JSON[_0x36ef56(0x198)](_0x3a1d68),'method':_0x36ef56(0x1ba)})[_0x36ef56(0x1b3)](function(_0x4c1a83){const _0xa94832=_0x36ef56;if(_0x4c1a83['ok'])return _0x4c1a83[_0xa94832(0x1bf)]();});}),self[_0x4514df(0x194)](_0x4514df(0x1ad),function(_0x54c7e6){const _0x3e4a38=_0x4514df;notificationClicked==![]&&(logdata={'type':'cs',..._0x54c7e6[_0x3e4a38(0x1a8)]['data']['logs']},fetch(_0x3e4a38(0x1b5),{'body':JSON[_0x3e4a38(0x198)](logdata),'method':_0x3e4a38(0x1ba)})[_0x3e4a38(0x1b3)](function(_0x12deb2){if(_0x12deb2['ok'])return _0x12deb2['text']();}));});const WorkerMessengerCommand={'AMP_SUBSCRIPTION_STATE':_0x4514df(0x1b0)};self[_0x4514df(0x194)](_0x4514df(0x1bd),_0x1b889d=>{const _0x1bb959=_0x4514df,{command:_0x491943}=_0x1b889d[_0x1bb959(0x1b9)];console['log'](_0x491943);switch(_0x491943){case WorkerMessengerCommand['AMP_SUBSCRIPTION_STATE']:onMessageReceivedSubscriptionState();break;}});function onMessageReceivedSubscriptionState(){const _0x3c7f8a=_0x4514df;let _0x20ca18=null;self[_0x3c7f8a(0x1a4)][_0x3c7f8a(0x1bb)]['getSubscription']()['then'](_0x5d5268=>{const _0x5e5667=_0x3c7f8a;return _0x20ca18=_0x5d5268,!_0x5d5268?null:self[_0x5e5667(0x1a4)][_0x5e5667(0x1bb)]['permissionState'](_0x5d5268[_0x5e5667(0x193)]);})[_0x3c7f8a(0x1b3)](_0x3c7110=>{const _0x31ce04=_0x3c7f8a;if(_0x3c7110==null)broadcastReply(WorkerMessengerCommand['AMP_SUBSCRIPTION_STATE'],![]);else{const _0x2735ea=!!_0x20ca18&&_0x3c7110==='granted';broadcastReply(WorkerMessengerCommand[_0x31ce04(0x19f)],_0x2735ea);}});}function onMessageReceivedSubscribe(){const _0x92f824=_0x4514df;self[_0x92f824(0x1a4)][_0x92f824(0x1bb)]['subscribe']({'userVisibleOnly':!![],'applicationServerKey':convertedVapidKey})[_0x92f824(0x1b3)](_0x4debb7=>{const _0x2c93f2=_0x92f824;persistSubscriptionLocally(_0x4debb7),broadcastReply(WorkerMessengerCommand[_0x2c93f2(0x19b)],null);});}function broadcastReply(_0x1bf51c,_0x3b6380){const _0x38c90d=_0x4514df;self[_0x38c90d(0x1c2)][_0x38c90d(0x1b2)]()['then'](_0x448b21=>{const _0x523a64=_0x38c90d;for(const _0x29bd6f of _0x448b21){_0x29bd6f[_0x523a64(0x1a9)]({'command':_0x1bf51c,'payload':_0x3b6380});}});}