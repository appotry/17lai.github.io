require(["gitbook","jquery"],(function(t,e){function o(t,e,o){return{label:t,icon:"fa fa-"+e,onClick:function(t){t.preventDefault(),window.open(o)}}}var n=encodeURIComponent(location.href),r=encodeURIComponent(document.title),i={douban:o("豆瓣","share","http://shuo.douban.com/!service/share?href="+n+"&name="+r),facebook:o("Facebook","facebook","http://www.facebook.com/sharer/sharer.php?s=100&p[url]="+n),google:o("Google+","google-plus","https://plus.google.com/share?url="+n),hatenaBookmark:o("はてなブックマーク","bold","http://b.hatena.ne.jp/entry/"+n),instapaper:o("instapaper","instapaper","http://www.instapaper.com/text?u="+n),line:o("LINE","comment","http://line.me/R/msg/text/?"+r+" "+n),linkedin:o("Linkedin","linkedin","https://www.linkedin.com/shareArticle?mini=true&url="+n),messenger:o("Facebook Messenger","commenting","fb-messenger://share?link="+n),pocket:o("Pocket","get-pocket","https://getpocket.com/save?url="+n+"&title="+r),qq:o("QQ","qq","http://connect.qq.com/widget/shareqq/index.html?url="+n+"&title="+r),qzone:o("QQ空间","star","http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?url="+n+"&title="+r),stumbleupon:o("StumbleUpon","stumbleupon","http://www.stumbleupon.com/submit?url="+n+"&title="+r),twitter:o("Twitter","twitter","https://twitter.com/intent/tweet?url="+r+"&text="+r),viber:o("Viber","volume-control-phone","viber://forward?text="+n+" "+r),vk:o("VK","vk","http://vkontakte.ru/share.php?url="+n),weibo:o("新浪微博","weibo","http://service.weibo.com/share/share.php?content=utf-8&url="+n+"&title="+r),whatsapp:o("WhatsApp","whatsapp","whatsapp://send?text="+n+" "+r)};t.events.bind("start",(function(o,n){var r=n.sharing,a=e.map(r.all,(function(t){var e=i[t];return{text:e.label,onClick:e.onClick}}));a.length>0&&t.toolbar.createButton({icon:"fa fa-share-alt",label:"Share",position:"right",dropdown:[a]}),e.each(i,(function(e,o){r[e]&&t.toolbar.createButton({icon:o.icon,label:o.text,position:"right",onClick:o.onClick})}))}))}));