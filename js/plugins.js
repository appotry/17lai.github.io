HTMLElement.prototype.wrap=function(e){this.parentNode.insertBefore(e,this),this.parentNode.removeChild(this),e.appendChild(this)},Matery.plugins={typing:function(e){var a;"Typed"in window&&((a=new window.Typed("#subtitle",{strings:["  ",e+"&nbsp;"],cursorChar:CONFIG.typing.cursorChar,typeSpeed:CONFIG.typing.typeSpeed,loop:CONFIG.typing.loop})).stop(),(e=document.getElementById("subtitle"))&&(e.innerText=""),jQuery(document).ready(function(){a.start()}))},fancyBox:function(e){CONFIG.image_zoom.enable&&"fancybox"in jQuery&&(jQuery(e||".markdown-body :not(a) > img, .markdown-body > img").each(function(){var e,a,t=jQuery(this),o=t.attr("data-src")||t.attr("src")||"",n=(CONFIG.image_zoom.img_url_replace&&(a=(e=CONFIG.image_zoom.img_url_replace)[0]||"",e=e[1]||"",a&&(o=/^re:/.test(a)?(a=a.replace(/^re:/,""),n=new RegExp(a,"gi"),o.replace(n,e)):o.replace(a,e))),t.wrap(`
        <a class="fancybox fancybox.image" href="${o}"
          itemscope itemtype="http://schema.org/ImageObject" itemprop="url"></a>`).parent("a"));0!==n.length&&(t.is(".group-image-container img")?n.attr("data-fancybox","group").attr("rel","group"):n.attr("data-fancybox","default").attr("rel","default"),(a=t.attr("title")||t.attr("alt"))&&n.attr("title",a).attr("data-caption",a))}),jQuery.fancybox.defaults.hash=!1,jQuery(".fancybox").fancybox({loop:!0,helpers:{overlay:{locked:!1}}}))},imageCaption:function(e){CONFIG.image_caption.enable&&jQuery(e||`.markdown-body > p > img, .markdown-body > figure > img,
      .markdown-body > p > a.fancybox, .markdown-body > figure > a.fancybox`).each(function(){var e=jQuery(this),a=e.next("figcaption");0!==a.length?a.addClass("image-caption"):(a=e.attr("title")||e.attr("alt"))&&e.after(`<figcaption aria-hidden="true" class="image-caption">${a}</figcaption>`)})},codeWidget(){var e=CONFIG.code_language.enable&&CONFIG.code_language.default,a=CONFIG.copy_btn,t=CONFIG.show_full,o=CONFIG.show_expand,n=CONFIG.shrink,i=CONFIG.break;(e||a||t||n||i)&&(jQuery(".markdown-body pre").each(function(){var e=jQuery(this);0<e.find("code.mermaid").length||e.find("span.line").length}),i=jQuery(".markdown-body .code-area pre"),e&&(e=$('<div class="code_lang" title="代码语言"></div>'),i.before(e),i.each(function(){var e=$(this).attr("class");if(!e)return!0;e=e.replace("line-numbers","").trim().replace("language-","").trim();$(this).siblings(".code_lang").text(e)})),a&&(e=$('<i class="fas fa-clipboard code_copy" title="复制代码" aria-hidden="true"></i>'),a=$('<div class="codecopy_notice"></div>'),i.before(e).before(a),$(".code-area .code_copy").on("click",function(){var e=window.getSelection(),a=document.createRange(),t=(a.selectNodeContents($(this).siblings("pre").find("code")[0]),e.removeAllRanges(),e.addRange(a),e.toString(),this);if(document.queryCommandSupported&&document.queryCommandSupported("copy"))try{document.execCommand("copy"),$(t).prev(".codecopy_notice").text("复制成功").animate({opacity:1,top:30},450,function(){setTimeout(function(){$(t).prev(".codecopy_notice").animate({opacity:0,top:0},650)},400)})}catch(e){$(t).prev(".codecopy_notice").text("复制失败").animate({opacity:1,top:30},650,function(){setTimeout(function(){$(t).prev(".codecopy_notice").animate({opacity:0,top:0},650)},400)})}else $(t).prev(".codecopy_notice").text("浏览器不支持复制");e.removeAllRanges()})),t&&(e=$('<div class="scroll-down-bar"><i class="fas fa-angle-down" ></i></div>'),i.before(e),$(".code-area pre").each(function(e,a){405<=$(this).height()&&($(this).parent().addClass("show-code-full"),AOS.refresh(),progressBarInit())}),$(".code-area .scroll-down-bar").on("click",function(){$(this).parent().hasClass("code-full")?$(this).parent().removeClass("code-full"):$(this).parent().addClass("code-full"),AOS.refresh(),progressBarInit()})),n&&(a=$('<i class="fas fa-angle-down code-expand" aria-hidden="true"></i>'),i.before(a),$(".code-area .code-expand").on("click",function(){$(this).parent().hasClass("code-closed")?($(this).siblings("pre").find("code").show(),$(this).parent().removeClass("code-closed")):($(this).siblings("pre").find("code").hide(),$(this).parent().addClass("code-closed")),AOS.refresh(),progressBarInit()})),o&&(t=$('<i class="fas fa-expand code-show-expand"  title="全屏显示" aria-hidden="true"></i>'),i.before(t),$(".code-area .code-show-expand").on("click",function(e){e.target===this&&($(this).parent().hasClass("code-closed")&&($(this).siblings("pre").find("code").show(),$(this).parent().removeClass("code-closed")),$(this).parent().toggleClass("code-block-fullscreen"),$("html").toggleClass("code-block-fullscreen-html-scroll"))})))}};