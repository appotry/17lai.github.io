<!DOCTYPE html>
<html>
<head>
<meta charset='utf-8'>
<title>Capybara</title>
<link href='style.css' rel='stylesheet'>
<link href='//dash_ref/Category/Navigation/1'>
<link href='//dash_ref_Navigation/Entry/Visit a path/0'>
<link href='//dash_ref_Navigation/Entry/Click on/0'>
<link href='//dash_ref/Category/Page Interaction and Scoping/1'>
<link href='//dash_ref_Page Interaction and Scoping/Entry/Has CSS?/0'>
<link href='//dash_ref_Page Interaction and Scoping/Entry/Within/0'>
<link href='//dash_ref_Page Interaction and Scoping/Entry/Has content?/0'>
<link href='//dash_ref_Page Interaction and Scoping/Entry/Find/0'>
<link href='//dash_ref_Page Interaction and Scoping/Entry/All/0'>
<link href='//dash_ref/Category/Page Assertions/1'>
<link href='//dash_ref_Page Assertions/Entry/Have CSS/0'>
<link href='//dash_ref_Page Assertions/Entry/Have content/0'>
<link href='//dash_ref_Page Assertions/Entry/Current URL path comparison/0'>
<link href='//dash_ref/Category/Node Interactions/1'>
<link href='//dash_ref_Node Interactions/Entry/Click/0'>
<link href='//dash_ref_Node Interactions/Entry/Trigger/0'>
<link href='//dash_ref_Node Interactions/Entry/Visible?/0'>
<link href='//dash_ref/Category/Form Interactions/1'>
<link href='//dash_ref_Form Interactions/Entry/Fill in/0'>
<link href='//dash_ref_Form Interactions/Entry/Choose/0'>
<link href='//dash_ref_Form Interactions/Entry/Check/0'>
<link href='//dash_ref_Form Interactions/Entry/Uncheck/0'>
<link href='//dash_ref_Form Interactions/Entry/Select/0'>
<link href='//dash_ref_Form Interactions/Entry/Attach file/0'>
<link href='//dash_ref_Form Interactions/Entry/Click button/0'>
<link href='//dash_ref/Category/Debugging/1'>
<link href='//dash_ref_Debugging/Entry/Save and open page/0'>
<link href='//dash_ref_Debugging/Entry/Save and open screenshot/0'>
<link href='//dash_ref/Category/Waiting.../1'>
<link href='//dash_ref_Waiting.../Entry/Capybara automatically waits for asynchronous operations to complete. When you try to find an element that isn&#39;t on the page, it waits and retries until it is there, or a timeout duration elapses. The wait time is defined at Capybara.default_max_wait_time./0'>
<link href='//dash_ref_Waiting.../Entry/Methods that wait/0'>
<link href='//dash_ref_Waiting.../Entry/Methods that don&#39;t wait/0'>
</head>
<body>
<header>
<h1>Capybara</h1>
</header>
<article>
<p></p>
<section class='category'>
<h2 id='//dash_ref/Category/Navigation/1'>
Navigation
</h2>
<div class='scrollable'>
<table>
<tr id='//dash_ref_Navigation/Entry/Visit a path/0'>
<td class='description' colspan='2'>
<div class='name'><p>Visit a path</p>
</div>
<div class='notes'><pre class="highlight ruby"><span class="n">visit</span> <span class="s1">'/blog'</span></pre>
<p>Navigates to a particular path. Pass a string or uses one of Rails path helpers.</p>
</div>
</td>
</tr>
<tr id='//dash_ref_Navigation/Entry/Click on/0'>
<td class='description' colspan='2'>
<div class='name'><p>Click on</p>
</div>
<div class='notes'><pre class="highlight ruby"><span class="n">click_on</span> <span class="s1">'Sign in'</span></pre>
<p>Clicks an anchor tag, button, or input with type submit. Pass a string containing the anchor text.</p>
</div>
</td>
</tr>
</table>
</div>
</section>
<section class='category'>
<h2 id='//dash_ref/Category/Page Interaction and Scoping/1'>
Page Interaction and Scoping
</h2>
<div class='scrollable'>
<table>
<tr id='//dash_ref_Page Interaction and Scoping/Entry/Has CSS?/0'>
<td class='description' colspan='2'>
<div class='name'><p>Has CSS?</p>
</div>
<div class='notes'><pre class="highlight ruby"><span class="n">page</span><span class="p">.</span><span class="nf">has_css?</span><span class="p">(</span><span class="s1">'nav[data-role=\"primary-navigation\"] li'</span><span class="p">,</span><span class="ss">text: </span><span class="s1">'FAQ'</span><span class="p">)</span></pre>
<p>Returns a boolean value reporting whether a specific selector is present on this page.</p>
</div>
</td>
</tr>
<tr id='//dash_ref_Page Interaction and Scoping/Entry/Within/0'>
<td class='description' colspan='2'>
<div class='name'><p>Within</p>
</div>
<div class='notes'><pre class="highlight ruby"><span class="n">within</span><span class="p">(</span><span class="s1">'footer'</span><span class="p">){</span><span class="n">expect</span><span class="p">(</span><span class="n">page</span><span class="p">).</span><span class="nf">to</span> <span class="n">have_content</span><span class="p">(</span><span class="s1">'Copyright'</span><span class="p">)}</span></pre>
<p>Will scope interaction to within a particular selector. Useful if you&#39;re looking for content in a particular area.</p>
</div>
</td>
</tr>
<tr id='//dash_ref_Page Interaction and Scoping/Entry/Has content?/0'>
<td class='description' colspan='2'>
<div class='name'><p>Has content?</p>
</div>
<div class='notes'><pre class="highlight ruby"><span class="n">page</span><span class="p">.</span><span class="nf">has_content?</span><span class="p">(</span><span class="s1">'Sign in'</span><span class="p">)</span></pre>
<p>Returns a boolean value reporting whether specific content is present on the page.</p>
</div>
</td>
</tr>
<tr id='//dash_ref_Page Interaction and Scoping/Entry/Find/0'>
<td class='description' colspan='2'>
<div class='name'><p>Find</p>
</div>
<div class='notes'><pre class="highlight ruby"><span class="n">page</span><span class="p">.</span><span class="nf">find</span><span class="p">(</span><span class="s1">'.todos li:first-child'</span><span class="p">)</span></pre>
<p>Returns a single Capybara::Node::Element instance from the page.</p>
</div>
</td>
</tr>
<tr id='//dash_ref_Page Interaction and Scoping/Entry/All/0'>
<td class='description' colspan='2'>
<div class='name'><p>All</p>
</div>
<div class='notes'><pre class="highlight ruby"><span class="n">page</span><span class="p">.</span><span class="nf">all</span><span class="p">(</span><span class="s1">'.todos li:nth-of_type(odd)'</span><span class="p">)</span></pre>
<p>Returns an array of Capybara::Node::Element instance from the page.</p>
</div>
</td>
</tr>
</table>
</div>
</section>
<section class='category'>
<h2 id='//dash_ref/Category/Page Assertions/1'>
Page Assertions
</h2>
<div class='scrollable'>
<table>
<tr id='//dash_ref_Page Assertions/Entry/Have CSS/0'>
<td class='description' colspan='2'>
<div class='name'><p>Have CSS</p>
</div>
<div class='notes'><pre class="highlight ruby"><span class="n">expect</span><span class="p">(</span><span class="n">page</span><span class="p">).</span><span class="nf">to</span> <span class="n">have_css</span><span class="p">(</span><span class="s1">'header'</span><span class="p">)</span>&#x000A;<span class="n">expect</span><span class="p">(</span><span class="n">page</span><span class="p">).</span><span class="nf">to</span> <span class="n">have_css</span><span class="p">(</span><span class="s1">'table#records + .pagination a[rel="next"'</span><span class="p">)</span></pre>
<p>Asserts that a certain selector is present on the page.</p>
</div>
</td>
</tr>
<tr id='//dash_ref_Page Assertions/Entry/Have content/0'>
<td class='description' colspan='2'>
<div class='name'><p>Have content</p>
</div>
<div class='notes'><pre class="highlight ruby"><span class="n">expect</span><span class="p">(</span><span class="n">page</span><span class="p">).</span><span class="nf">to</span> <span class="n">have_content</span><span class="p">(</span><span class="s1">'What are you looking for?'</span><span class="p">)</span></pre>
<p>Asserts that certain text is present on the page.</p>
</div>
</td>
</tr>
<tr id='//dash_ref_Page Assertions/Entry/Current URL path comparison/0'>
<td class='description' colspan='2'>
<div class='name'><p>Current URL path comparison</p>
</div>
<div class='notes'><pre class="highlight ruby"><span class="n">expect</span><span class="p">(</span><span class="n">page</span><span class="p">).</span><span class="nf">to</span> <span class="n">have_current_path</span><span class="p">(</span><span class="n">prefix_path</span><span class="p">)</span></pre></div>
</td>
</tr>
</table>
</div>
</section>
<section class='category'>
<h2 id='//dash_ref/Category/Node Interactions/1'>
Node Interactions
</h2>
<div class='scrollable'>
<table>
<tr id='//dash_ref_Node Interactions/Entry/Click/0'>
<td class='description' colspan='2'>
<div class='name'><p>Click</p>
</div>
<div class='notes'><pre class="highlight ruby"><span class="n">find</span><span class="p">(</span><span class="s1">'article a.title'</span><span class="p">).</span><span class="nf">click</span></pre>
<p>Triggers a click on a Capybara::Element. Works with JavaScript drivers.</p>
</div>
</td>
</tr>
<tr id='//dash_ref_Node Interactions/Entry/Trigger/0'>
<td class='description' colspan='2'>
<div class='name'><p>Trigger</p>
</div>
<div class='notes'><pre class="highlight ruby"><span class="n">find</span><span class="p">(</span><span class="s1">'input[name="post[title]"]'</span><span class="p">).</span><span class="nf">trigger</span><span class="p">(</span><span class="s1">'focus'</span><span class="p">)</span></pre>
<p>Allows triggering of custom events. Works with JavaScript drivers.</p>
</div>
</td>
</tr>
<tr id='//dash_ref_Node Interactions/Entry/Visible?/0'>
<td class='description' colspan='2'>
<div class='name'><p>Visible?</p>
</div>
<div class='notes'><pre class="highlight ruby"><span class="n">find</span><span class="p">(</span><span class="s1">'.navigation'</span><span class="p">).</span><span class="nf">visible?</span></pre>
<p>Returns a boolean value reporting if the Capybara::Element is visible.</p>
</div>
</td>
</tr>
</table>
</div>
</section>
<section class='category'>
<h2 id='//dash_ref/Category/Form Interactions/1'>
Form Interactions
</h2>
<div class='scrollable'>
<table>
<tr id='//dash_ref_Form Interactions/Entry/Fill in/0'>
<td class='description' colspan='2'>
<div class='name'><p>Fill in</p>
</div>
<div class='notes'><pre class="highlight ruby"><span class="n">fill_in</span> <span class="s1">'Title'</span><span class="p">,</span> <span class="ss">with: </span><span class="s1">'I love Rails!'</span>&#x000A;<span class="n">fill_in</span> <span class="s1">'post[title]'</span><span class="p">,</span> <span class="ss">with: </span><span class="s1">'I love Rails!'</span></pre>
<p>Fills in fields for you. Pass the label text or the name of the input.</p>
</div>
</td>
</tr>
<tr id='//dash_ref_Form Interactions/Entry/Choose/0'>
<td class='description' colspan='2'>
<div class='name'><p>Choose</p>
</div>
<div class='notes'><pre class="highlight ruby"><span class="n">choose</span> <span class="s1">'Male'</span></pre>
<p>Chooses a radio button. Pass the label text.</p>
</div>
</td>
</tr>
<tr id='//dash_ref_Form Interactions/Entry/Check/0'>
<td class='description' colspan='2'>
<div class='name'><p>Check</p>
</div>
<div class='notes'><pre class="highlight ruby"><span class="n">check</span> <span class="s1">'I accept the terms of the site'</span></pre>
<p>Checks a checkbox. Pass the label text.</p>
</div>
</td>
</tr>
<tr id='//dash_ref_Form Interactions/Entry/Uncheck/0'>
<td class='description' colspan='2'>
<div class='name'><p>Uncheck</p>
</div>
<div class='notes'><pre class="highlight ruby"><span class="n">uncheck</span> <span class="s1">'Admin access?'</span></pre>
<p>Unchecks a checkbox. Pass the label text.</p>
</div>
</td>
</tr>
<tr id='//dash_ref_Form Interactions/Entry/Select/0'>
<td class='description' colspan='2'>
<div class='name'><p>Select</p>
</div>
<div class='notes'><pre class="highlight ruby"><span class="nb">select</span> <span class="s1">'MA'</span><span class="p">,</span> <span class="ss">from: </span><span class="s1">'State'</span></pre>
<p>Selects an option from a select tag.</p>
</div>
</td>
</tr>
<tr id='//dash_ref_Form Interactions/Entry/Attach file/0'>
<td class='description' colspan='2'>
<div class='name'><p>Attach file</p>
</div>
<div class='notes'><pre class="highlight ruby"><span class="n">attach_file</span> <span class="s1">'Image'</span><span class="p">,</span> <span class="s1">'path/to/image.jpg'</span></pre>
<p>Attaches a file.</p>
</div>
</td>
</tr>
<tr id='//dash_ref_Form Interactions/Entry/Click button/0'>
<td class='description' colspan='2'>
<div class='name'><p>Click button</p>
</div>
<div class='notes'><pre class="highlight ruby"><span class="n">click_button</span> <span class="s1">'Create My Account'</span></pre>
<p>Will press a button or <code>input[type=&#39;submit&#39;]</code></p>
</div>
</td>
</tr>
</table>
</div>
</section>
<section class='category'>
<h2 id='//dash_ref/Category/Debugging/1'>
Debugging
</h2>
<div class='scrollable'>
<table>
<tr id='//dash_ref_Debugging/Entry/Save and open page/0'>
<td class='description' colspan='2'>
<div class='name'><p>Save and open page</p>
</div>
<div class='notes'><pre class="highlight ruby"><span class="n">save_and_open_page</span></pre>
<p>Will save the current page (typically to <code>Rails.root/tmp</code>) and attemps to open the HTML in the default web browser.</p>
</div>
</td>
</tr>
<tr id='//dash_ref_Debugging/Entry/Save and open screenshot/0'>
<td class='description' colspan='2'>
<div class='name'><p>Save and open screenshot</p>
</div>
<div class='notes'><pre class="highlight ruby"><span class="n">save_and_open_screenshot</span></pre>
<p>Save a screenshot of the current page and open in the default image viewer.</p>
</div>
</td>
</tr>
</table>
</div>
</section>
<section class='category'>
<h2 id='//dash_ref/Category/Waiting.../1'>
Waiting...
</h2>
<div class='scrollable'>
<table>
<tr id='//dash_ref_Waiting.../Entry/Capybara automatically waits for asynchronous operations to complete. When you try to find an element that isn&#39;t on the page, it waits and retries until it is there, or a timeout duration elapses. The wait time is defined at Capybara.default_max_wait_time./0'>
<td class='description' colspan='2'>
<div class='name'><p>Capybara automatically waits for asynchronous operations to complete.
          When you try to find an element that isn&#39;t on the page, it waits and retries until it is there, or a timeout duration elapses.
          The wait time is defined at <code>Capybara.default_max_wait_time</code>.</p>
</div>
<div class='notes'><p>Thanks to <a href="https://gist.github.com/zhengjia/428105#gistcomment-1413436">this gist</a> and <a href="https://speakerdeck.com/timmoore/embracing-capybara">this presentation</a></p>
</div>
</td>
</tr>
<tr id='//dash_ref_Waiting.../Entry/Methods that wait/0'>
<td class='description' colspan='2'>
<div class='name'><p>Methods that wait</p>
</div>
<div class='notes'><ul>
<li><code>find(selector)</code>, <code>find_field</code>, <code>find_link</code></li>
<li><code>within(selector)(scoping)</code></li>
<li><code>has_selector?</code>, <code>has_no_selector?</code> &amp; assertions</li>
<li>form &amp; link actions

<ul>
<li><code>click_link</code>, <code>click_button</code></li>
<li><code>fill_in</code></li>
<li><code>check/uncheck</code>, <code>select</code>, <code>choose</code></li>
</ul></li>
</ul>
</div>
</td>
</tr>
<tr id='//dash_ref_Waiting.../Entry/Methods that don&#39;t wait/0'>
<td class='description' colspan='2'>
<div class='name'><p>Methods that don&#39;t wait</p>
</div>
<div class='notes'><ul>
<li><code>visit</code></li>
<li><code>current_path</code></li>
<li><code>all(selector)</code></li>
<li><code>first(selector)</code></li>
<li><code>execute_script</code></li>
<li>simple accessors: <code>text</code>, <code>value</code>, <code>title</code>, etc.</li>
</ul>
</div>
</td>
</tr>
</table>
</div>
</section>
<section class='notes'>
<h2>Notes</h2>
<ul>
<li>Based on a <a href="https://learn.thoughtbot.com/test-driven-rails-resources/capybara.pdf">cheat sheet</a> by <a href="http://thoughtbot.com/">thoughtbot</a>.</li>
</ul>

</section>
</article>
<footer>
You can modify and improve this cheat sheet <a onclick="window.dash.openExternal_(this.href); return false;" href="http://cheat.kapeli.com">here</a>
</footer>
</body>
</html>
