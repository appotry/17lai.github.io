!function(){"use strict";var r=.5*(Math.sqrt(3)-1),e=(3-Math.sqrt(3))/6,t=1/6,a=(Math.sqrt(5)-1)/4,i=(5-Math.sqrt(5))/20;function o(r){r||(r=Math.random),this.p=n(r),this.perm=new Uint8Array(512),this.permMod12=new Uint8Array(512);for(var e=0;e<512;e++)this.perm[e]=this.p[255&e],this.permMod12[e]=this.perm[e]%12}function n(r){var e,t=new Uint8Array(256);for(e=0;e<256;e++)t[e]=e;for(e=0;e<255;e++){var a=e+~~(r()*(256-e)),i=t[e];t[e]=t[a],t[a]=i}return t}o.prototype={grad3:new Float32Array([1,1,0,-1,1,0,1,-1,0,-1,-1,0,1,0,1,-1,0,1,1,0,-1,-1,0,-1,0,1,1,0,-1,1,0,1,-1,0,-1,-1]),grad4:new Float32Array([0,1,1,1,0,1,1,-1,0,1,-1,1,0,1,-1,-1,0,-1,1,1,0,-1,1,-1,0,-1,-1,1,0,-1,-1,-1,1,0,1,1,1,0,1,-1,1,0,-1,1,1,0,-1,-1,-1,0,1,1,-1,0,1,-1,-1,0,-1,1,-1,0,-1,-1,1,1,0,1,1,1,0,-1,1,-1,0,1,1,-1,0,-1,-1,1,0,1,-1,1,0,-1,-1,-1,0,1,-1,-1,0,-1,1,1,1,0,1,1,-1,0,1,-1,1,0,1,-1,-1,0,-1,1,1,0,-1,1,-1,0,-1,-1,1,0,-1,-1,-1,0]),noise2D:function(t,a){var i,o,n=this.permMod12,f=this.perm,s=this.grad3,v=0,h=0,d=0,l=(t+a)*r,p=Math.floor(t+l),u=Math.floor(a+l),M=(p+u)*e,m=t-(p-M),y=a-(u-M);m>y?(i=1,o=0):(i=0,o=1);var w=m-i+e,c=y-o+e,g=m-1+2*e,x=y-1+2*e,A=255&p,q=255&u,D=.5-m*m-y*y;if(D>=0){var U=3*n[A+f[q]];v=(D*=D)*D*(s[U]*m+s[U+1]*y)}var b=.5-w*w-c*c;if(b>=0){var F=3*n[A+i+f[q+o]];h=(b*=b)*b*(s[F]*w+s[F+1]*c)}var N=.5-g*g-x*x;if(N>=0){var S=3*n[A+1+f[q+1]];d=(N*=N)*N*(s[S]*g+s[S+1]*x)}return 70*(v+h+d)},noise3D:function(r,e,a){var i,o,n,f,s,v,h,d,l,p,u=this.permMod12,M=this.perm,m=this.grad3,y=.3333333333333333*(r+e+a),w=Math.floor(r+y),c=Math.floor(e+y),g=Math.floor(a+y),x=(w+c+g)*t,A=r-(w-x),q=e-(c-x),D=a-(g-x);A>=q?q>=D?(s=1,v=0,h=0,d=1,l=1,p=0):A>=D?(s=1,v=0,h=0,d=1,l=0,p=1):(s=0,v=0,h=1,d=1,l=0,p=1):q<D?(s=0,v=0,h=1,d=0,l=1,p=1):A<D?(s=0,v=1,h=0,d=0,l=1,p=1):(s=0,v=1,h=0,d=1,l=1,p=0);var U=A-s+t,b=q-v+t,F=D-h+t,N=A-d+2*t,S=q-l+2*t,P=D-p+2*t,T=A-1+.5,_=q-1+.5,j=D-1+.5,k=255&w,z=255&c,B=255&g,C=.6-A*A-q*q-D*D;if(C<0)i=0;else{var E=3*u[k+M[z+M[B]]];i=(C*=C)*C*(m[E]*A+m[E+1]*q+m[E+2]*D)}var G=.6-U*U-b*b-F*F;if(G<0)o=0;else{var H=3*u[k+s+M[z+v+M[B+h]]];o=(G*=G)*G*(m[H]*U+m[H+1]*b+m[H+2]*F)}var I=.6-N*N-S*S-P*P;if(I<0)n=0;else{var J=3*u[k+d+M[z+l+M[B+p]]];n=(I*=I)*I*(m[J]*N+m[J+1]*S+m[J+2]*P)}var K=.6-T*T-_*_-j*j;if(K<0)f=0;else{var L=3*u[k+1+M[z+1+M[B+1]]];f=(K*=K)*K*(m[L]*T+m[L+1]*_+m[L+2]*j)}return 32*(i+o+n+f)},noise4D:function(r,e,t,o){this.permMod12;var n,f,s,v,h,d,l,p,u,M,m,y,w,c,g,x,A,q=this.perm,D=this.grad4,U=(r+e+t+o)*a,b=Math.floor(r+U),F=Math.floor(e+U),N=Math.floor(t+U),S=Math.floor(o+U),P=(b+F+N+S)*i,T=r-(b-P),_=e-(F-P),j=t-(N-P),k=o-(S-P),z=0,B=0,C=0,E=0;T>_?z++:B++,T>j?z++:C++,T>k?z++:E++,_>j?B++:C++,_>k?B++:E++,j>k?C++:E++;var G=T-(d=z>=3?1:0)+i,H=_-(l=B>=3?1:0)+i,I=j-(p=C>=3?1:0)+i,J=k-(u=E>=3?1:0)+i,K=T-(M=z>=2?1:0)+2*i,L=_-(m=B>=2?1:0)+2*i,O=j-(y=C>=2?1:0)+2*i,Q=k-(w=E>=2?1:0)+2*i,R=T-(c=z>=1?1:0)+3*i,V=_-(g=B>=1?1:0)+3*i,W=j-(x=C>=1?1:0)+3*i,X=k-(A=E>=1?1:0)+3*i,Y=T-1+4*i,Z=_-1+4*i,$=j-1+4*i,rr=k-1+4*i,er=255&b,tr=255&F,ar=255&N,ir=255&S,or=.6-T*T-_*_-j*j-k*k;if(or<0)n=0;else{var nr=q[er+q[tr+q[ar+q[ir]]]]%32*4;n=(or*=or)*or*(D[nr]*T+D[nr+1]*_+D[nr+2]*j+D[nr+3]*k)}var fr=.6-G*G-H*H-I*I-J*J;if(fr<0)f=0;else{var sr=q[er+d+q[tr+l+q[ar+p+q[ir+u]]]]%32*4;f=(fr*=fr)*fr*(D[sr]*G+D[sr+1]*H+D[sr+2]*I+D[sr+3]*J)}var vr=.6-K*K-L*L-O*O-Q*Q;if(vr<0)s=0;else{var hr=q[er+M+q[tr+m+q[ar+y+q[ir+w]]]]%32*4;s=(vr*=vr)*vr*(D[hr]*K+D[hr+1]*L+D[hr+2]*O+D[hr+3]*Q)}var dr=.6-R*R-V*V-W*W-X*X;if(dr<0)v=0;else{var lr=q[er+c+q[tr+g+q[ar+x+q[ir+A]]]]%32*4;v=(dr*=dr)*dr*(D[lr]*R+D[lr+1]*V+D[lr+2]*W+D[lr+3]*X)}var pr=.6-Y*Y-Z*Z-$*$-rr*rr;if(pr<0)h=0;else{var ur=q[er+1+q[tr+1+q[ar+1+q[ir+1]]]]%32*4;h=(pr*=pr)*pr*(D[ur]*Y+D[ur+1]*Z+D[ur+2]*$+D[ur+3]*rr)}return 27*(n+f+s+v+h)}},o._buildPermutationTable=n,"undefined"!=typeof define&&define.amd&&define((function(){return o})),"undefined"!=typeof exports?exports.SimplexNoise=o:"undefined"!=typeof window&&(window.SimplexNoise=o),"undefined"!=typeof module&&(module.exports=o)}();