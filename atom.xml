<?xml version="1.0"?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <id>https://blog.17lai.site</id>
    <title>夜法之书</title>
    <link href="https://blog.17lai.site" />
    <updated>2022-03-27T07:28:46.000Z</updated>
    <category term="github" />
    <category term="jekyll" />
    <category term="blog" />
    <category term="gitlab" />
    <category term="git" />
    <category term="crack" />
    <category term="linux" />
    <category term="hardlink" />
    <category term="bt" />
    <category term="pt" />
    <category term="note" />
    <category term="markdown" />
    <category term="picgo" />
    <category term="wiz" />
    <category term="joplin" />
    <category term="typora" />
    <category term="qnap" />
    <category term="硬盘" />
    <category term="nas" />
    <category term="embeded" />
    <category term="3G" />
    <category term="4G" />
    <category term="3531a" />
    <category term="移植" />
    <category term="嵌入式" />
    <category term="hisilicon" />
    <category term="driver" />
    <category term="3798m" />
    <category term="mpp" />
    <category term="unf" />
    <category term="kernel" />
    <category term="宝塔" />
    <category term="vps" />
    <category term="建站" />
    <category term="nginx" />
    <category term="apache" />
    <category term="mysql" />
    <category term="docker" />
    <category term="lamp" />
    <category term="php" />
    <category term="tomcat" />
    <category term="registry" />
    <category term="教程" />
    <category term="email" />
    <category term="https" />
    <category term="ssl" />
    <category term="debian" />
    <category term="laptop" />
    <category term="ed2k" />
    <category term="ati" />
    <category term="ssd" />
    <category term="hdd" />
    <category term="pdca" />
    <category term="5w2h" />
    <category term="smart" />
    <category term="swot" />
    <category term="grow" />
    <category term="okr" />
    <category term="wbs" />
    <category term="qbittorrent" />
    <category term="transmission" />
    <category term="emby" />
    <category term="sonarr" />
    <category term="jeckett" />
    <category term="portainer" />
    <category term="优化" />
    <category term="启动" />
    <category term="tls" />
    <category term="隐私" />
    <category term="安全" />
    <category term="gitbook" />
    <category term="mariadb" />
    <category term="mermaid" />
    <category term="Nas" />
    <category term="Docker" />
    <category term="Webdav" />
    <category term="Linux" />
    <category term="Joplin" />
    <category term="hexo" />
    <category term="matery" />
    <category term="cdn" />
    <category term="seo" />
    <category term="web" />
    <category term="http" />
    <category term="css" />
    <category term="js" />
    <category term="3a" />
    <category term="ae" />
    <category term="image" />
    <category term="ai" />
    <category term="face" />
    <category term="vim" />
    <category term="ide" />
    <category term="music" />
    <category term="韩红" />
    <category term="ccs" />
    <category term="thinkpad" />
    <category term="sound" />
    <category term="speaker" />
    <category term="刮削" />
    <category term="musicbrainz" />
    <category term="mp3tag" />
    <category term="ipv6" />
    <category term="cmake" />
    <category term="develop" />
    <category term="tmm" />
    <category term="字幕" />
    <category term="plex" />
    <category term="traefik" />
    <category term="proxy" />
    <category term="swarm" />
    <category term="ubuntu" />
    <category term="vscode" />
    <category term="插件" />
    <category term="编码" />
    <category term="plantuml" />
    <category term="mathjax" />
    <category term="ci/cd" />
    <category term="earthly" />
    <category term="mstream" />
    <category term="selfhost" />
    <category term="中岛美嘉" />
    <category term="node" />
    <category term="jenkins" />
    <category term="shell" />
    <category term="tools" />
    <category term="winrar" />
    <category term="emoji" />
    <category term="isp" />
    <category term="awb" />
    <category term="mywork" />
    <entry>
        <id>https://blog.17lai.site/posts/84b4059a/</id>
        <title>基于Hexo的matery主题搭建博客常见问题篇6</title>
        <link rel="alternate" href="https://blog.17lai.site/posts/84b4059a/"/>
        <content type="html">&lt;p&gt;&lt;strong&gt;Hexo系列&lt;/strong&gt;  &lt;a href=&#34;https://blog.17lai.site/categories/hexo/atom.xml&#34;&gt;&lt;strong&gt;HexoRSS分类订阅&lt;/strong&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;[三万字教程]基于Hexo的matery主题搭建博客并深度优化完全一站式教程&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;https://blog.17lai.site/posts/40300608/&#34;&gt;Hexo Docker环境与Hexo基础配置篇&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;https://blog.17lai.site/posts/4d8a0b22/&#34;&gt;hexo博客自定义修改篇&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;https://blog.17lai.site/posts/9b056c86/&#34;&gt;hexo博客网络优化篇&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;https://blog.17lai.site/posts/5311b619/&#34;&gt;hexo博客增强部署篇&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;https://blog.17lai.site/posts/4a2050e2/&#34;&gt;hexo博客个性定制篇&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;https://blog.17lai.site/posts/84b4059a/&#34;&gt;hexo博客常见问题篇&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;https://blog.17lai.site/posts/cf0f47fd/&#34;&gt;Hexo Markdown以及各种插件功能测试&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;markdown 各种其它语法插件&lt;/li&gt;
&lt;li&gt;latex公式支持&lt;/li&gt;
&lt;li&gt;mermaid图表&lt;/li&gt;
&lt;li&gt;plant uml图表&lt;/li&gt;
&lt;li&gt;URL卡片&lt;/li&gt;
&lt;li&gt;bilibili卡片&lt;/li&gt;
&lt;li&gt;github卡片&lt;/li&gt;
&lt;li&gt;豆瓣卡片&lt;/li&gt;
&lt;li&gt;插入音乐和视频&lt;/li&gt;
&lt;li&gt;插入脑图&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;h2 id=&#34;出错了，怎么办？&#34;&gt;出错了，怎么办？&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;首先，学会搜索，最好实用Google，准确率比X毒高几个数量级。你遇到过的问题，90%以上其他人也遇到过，网上能找到现成的解决方案。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;个人独立博客文章质量最高，&lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://stackoverflow.com&#34;&gt;stackoverflow&lt;/a&gt;质量也很非常高，CSDN基本就是垃圾场，普通搜索文章能有50%准确率就非常不错了，独立博客和stackoverflow之类的80%以上的准确率！&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;h2 id=&#34;如何调试博客&#34;&gt;如何调试博客&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;需要一定的web开发知识才能做。&lt;/p&gt;
&lt;p&gt;学会一些简单调试及基本html语言很容易，网上教程很多。&lt;/p&gt;
&lt;p&gt;按&lt;code&gt;F12&lt;/code&gt;进入调试模式，元素，网络，控制台，是常用的页面。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2022/03/2620220326142924.png&#34; alt=&#34;web debug&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2022/03/2620220326142626.png&#34; alt=&#34;如何网页调试&#34;&gt;&lt;/p&gt;
&lt;h2 id=&#34;通过hexo-g-d部署时报Error-Spawn-failed错误&#34;&gt;通过&lt;code&gt;hexo g -d&lt;/code&gt;部署时报&lt;code&gt;Error: Spawn failed&lt;/code&gt;错误:&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;这是由于 git 本地记录的提交版本号与 github 上不一致导致的，通过&lt;code&gt;git reset --hard commitCode&lt;/code&gt;即可解决。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;检查本地最近提交记录，获取最后一次提交记录的更新时间及标识，如&lt;code&gt;280a7fdd46fcfd7d34e652aec15523dcd247fac8&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;pre class=&#34;line-numbers language-bash&#34; data-language=&#34;bash&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;&lt;span class=&#34;token builtin class-name&#34;&gt;cd&lt;/span&gt; .deploy_git
&lt;span class=&#34;token function&#34;&gt;cat&lt;/span&gt; .git/logs/HEAD&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
&lt;li&gt;获取 github pages 服务所关联分支的最近一次提交记录，获取更新时间及标识。地址一般为：&lt;code&gt;https://github.com/用户名/仓库名/commits/分支名&lt;/code&gt;，如&lt;code&gt;https://github.com/lxl80/blog/commits/gh-pages&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;如果发现提交最新的提交时间/标识不一致，通过以下命令即可解决:&lt;/li&gt;
&lt;/ul&gt;
&lt;pre class=&#34;line-numbers language-bash&#34; data-language=&#34;bash&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;&lt;span class=&#34;token function&#34;&gt;git&lt;/span&gt; reset --hard f085038efdf79546c09641d37b2a2429c1ae8e60 &lt;span class=&#34;token comment&#34;&gt;#github上最新的提交标识&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;hexo-docker-本地访问内容没有更新&#34;&gt;hexo docker 本地访问内容没有更新&lt;/h2&gt;
&lt;p&gt;可能是node内部PM2模块的缓存机制导致的。pm2模块重启一下就可以了。&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-bash&#34; data-language=&#34;bash&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;pm2 restart /hexo_run.js&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2022/03/2520220325143634.png&#34; alt=&#34;image-20220325143625352&#34;&gt;&lt;/p&gt;
&lt;h2 id=&#34;fsevents报错&#34;&gt;fsevents报错&lt;/h2&gt;
&lt;pre class=&#34;line-numbers language-bash&#34; data-language=&#34;bash&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;&lt;span class=&#34;token function&#34;&gt;npm&lt;/span&gt; ERR&lt;span class=&#34;token operator&#34;&gt;!&lt;/span&gt; code EBADPLATFORM &lt;span class=&#34;token function&#34;&gt;npm&lt;/span&gt; ERR&lt;span class=&#34;token operator&#34;&gt;!&lt;/span&gt; notsup Unsupported platform &lt;span class=&#34;token keyword&#34;&gt;for&lt;/span&gt;
fsevents@2.3.2: wanted &lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#34;os&#34;&lt;/span&gt;&lt;span class=&#34;token builtin class-name&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#34;darwin&#34;&lt;/span&gt;,&lt;span class=&#34;token string&#34;&gt;&#34;arch&#34;&lt;/span&gt;&lt;span class=&#34;token builtin class-name&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#34;any&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;current:
&lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#34;os&#34;&lt;/span&gt;&lt;span class=&#34;token builtin class-name&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#34;win32&#34;&lt;/span&gt;,&lt;span class=&#34;token string&#34;&gt;&#34;arch&#34;&lt;/span&gt;&lt;span class=&#34;token builtin class-name&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#34;x64&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;npm&lt;/span&gt; ERR&lt;span class=&#34;token operator&#34;&gt;!&lt;/span&gt; notsup Valid OS:    darwin &lt;span class=&#34;token function&#34;&gt;npm&lt;/span&gt;
ERR&lt;span class=&#34;token operator&#34;&gt;!&lt;/span&gt; notsup Valid Arch:  any &lt;span class=&#34;token function&#34;&gt;npm&lt;/span&gt; ERR&lt;span class=&#34;token operator&#34;&gt;!&lt;/span&gt; notsup Actual OS:   win32 &lt;span class=&#34;token function&#34;&gt;npm&lt;/span&gt;
ERR&lt;span class=&#34;token operator&#34;&gt;!&lt;/span&gt; notsup Actual Arch: x64&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;解决方法：修改package.json&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-js&#34; data-language=&#34;js&#34;&gt;&lt;code class=&#34;language-js&#34;&gt;&lt;span class=&#34;token string-property property&#34;&gt;&#34;optionalDependencies&#34;&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt;
  &lt;span class=&#34;token string-property property&#34;&gt;&#34;fsevents&#34;&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;^2.3.2&#34;&lt;/span&gt;
&lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;关于百度无法爬取GitHub内容解决方案&#34;&gt;关于百度无法爬取GitHub内容解决方案&lt;/h2&gt;
&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;使用coding搭建一个可以被百度爬取到的代码托管平台&lt;/li&gt;
&lt;li&gt;使用vps搭建一个hexo 镜像访问，专门针对搜索引擎。&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;Tips: 博主用了第二种方法，2个域名，前端域名用dnspod，采用cloudflare parter cname接入。dnspos有选路选择，针对搜索引擎进入vps搭建的blog，对于其它线路到cloudflare parter 加速过的github pages  cname。后端域名用cloudflare parter 以及免费版cloudflare管理。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;既然百度无法爬取GitHub，那么我们只需要找个可以被百度爬取到的代码托管平台即可（并且还提供pages服务），基本只有国内的平台了：&lt;code&gt;Gitee&lt;/code&gt;和&lt;code&gt;Coding&lt;/code&gt;！Gitee自定义域名要花钱（九十多，都可以买服务器了），而Coding是可以免费自定义域名的。这里推介大家使用企业版的Coding，因为企业版的Coding仓库服务器是在香港的，而普通版的服务器是在新加坡。地理原因，理论上企业版的更快一些！&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;将博客同时部署到两个仓库：GitHub和Coding&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-yml&#34; data-language=&#34;yml&#34;&gt;&lt;code class=&#34;language-yml&#34;&gt;&lt;span class=&#34;token key atrule&#34;&gt;deploy&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;
&lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt; &lt;span class=&#34;token key atrule&#34;&gt;type&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; git
  &lt;span class=&#34;token key atrule&#34;&gt;repository&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; git@github.com&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;xxx/xxx.github.io.git
  &lt;span class=&#34;token key atrule&#34;&gt;branch&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; master

&lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt; &lt;span class=&#34;token key atrule&#34;&gt;type&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; git
  &lt;span class=&#34;token key atrule&#34;&gt;repository&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; git@e.coding.net&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;xxx/xxx.git
  &lt;span class=&#34;token key atrule&#34;&gt;branch&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; master&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;在域名那里，配置两个解析&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;线路类型作用：如果该值填“国内”，国内的IP就会去访问此项对应的&lt;code&gt;记录值地址&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;同理，如果该值填写“国外”，国外的IP就会去访问“国外”对应的&lt;code&gt;记录值地址&lt;/code&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ol&gt;
&lt;li&gt;&lt;code&gt;线路类型&lt;/code&gt;为&lt;code&gt;百度&lt;/code&gt;或者&lt;code&gt;国内&lt;/code&gt;，记录值为&lt;code&gt;Coding仓库的地址&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;线路类型&lt;/code&gt;为&lt;code&gt;默认&lt;/code&gt;或者&lt;code&gt;国外&lt;/code&gt;，记录值为&lt;code&gt;GitHub仓库地址&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2021/09/1120210911170615.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;这样来自&lt;code&gt;百度的spider&lt;/code&gt;就会去爬&lt;code&gt;国内Coding&lt;/code&gt;的地址，而两个仓库的内容又都是一样的，如果请求IP来自国外，它又会去访问&lt;code&gt;国外的GitHub&lt;/code&gt;，这样还有利于外国华侨和那些科学上网的用户访问，一石二鸟！（我真他妈天才！）&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;如果你只用Coding仓库，那就不需要这么麻烦了&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;测试百度Spider能不能爬你的域名&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;在任意目录下执行以下命令（将“你的域名”换成你的域名）&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-sh&#34; data-language=&#34;sh&#34;&gt;&lt;code class=&#34;language-sh&#34;&gt;curl -A &#34;Mozilla/5.0 (compatible; Baiduspider/2.0; +http://www.baidu.com/search/spider.html)&#34; -o example.html 你的域名&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;执行完命令，在该目录下会生成一个文件：&lt;code&gt;example.html&lt;/code&gt;，打开它，如果显示&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;Moved Permanently&lt;/code&gt;，说明301，被重定向了&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;Found&lt;/code&gt;，也就是爬到了&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;如果打开是你的首页，说明爬取到的内容就是你的首页HTML内容。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;如果显示：&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2021/09/1120210911170621.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;说明域名是解析到GitHub的，403Forbidden访问禁止。&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;busuanzi不蒜子计数显示异常，一闪就没&#34;&gt;busuanzi不蒜子计数显示异常，一闪就没&lt;/h2&gt;
&lt;blockquote&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;原因可能有两种live2d看板娘和busuanzi不蒜子计数冲突&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;busuanzi不蒜子网络访问异常。&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;blockquote&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;不在leancloud安全名单&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;不是正常域名访问&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;各种网络访问错误等等&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/blockquote&gt;
&lt;/blockquote&gt;
&lt;p&gt;近日安装了live2d看板娘插件，&lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://github.com/EYHN/hexo-helper-live2d&#34;&gt;github项目地址&lt;/a&gt;，安装后却意外发现busuanzi不蒜子计数失效了,在页面中不显示，但强制刷新后出现，再刷新又消失。经排查，未发现问题，但事实是网站源码出现了变化。&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;em&gt;正常时&lt;/em&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;pre class=&#34;line-numbers language-HTML&#34; data-language=&#34;HTML&#34;&gt;&lt;code class=&#34;language-HTML&#34;&gt;&amp;lt;div id=&#34;busuanzi_container_page_pv&#34; class=&#34;info-break-policy&#34; style=&#34;display: inline;&#34;&amp;gt;
    &amp;lt;i class=&#34;far fa-eye fa-fw&#34;&amp;gt;&amp;lt;/i&amp;gt;阅读次数:&amp;amp;nbsp;&amp;amp;nbsp;
    &amp;lt;span id=&#34;busuanzi_value_page_pv&#34;&amp;gt;433&amp;lt;/span&amp;gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;em&gt;异常时&lt;/em&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;pre class=&#34;line-numbers language-HTML&#34; data-language=&#34;HTML&#34;&gt;&lt;code class=&#34;language-HTML&#34;&gt;&amp;lt;div id=&#34;busuanzi_container_page_pv&#34; class=&#34;info-break-policy&#34; style=&#34;display: none;&#34;&amp;gt;
    &amp;lt;i class=&#34;far fa-eye fa-fw&#34;&amp;gt;&amp;lt;/i&amp;gt;阅读次数:&amp;amp;nbsp;&amp;amp;nbsp;
    &amp;lt;span id=&#34;busuanzi_value_page_pv&#34;&amp;gt;434&amp;lt;/span&amp;gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;对比发现出现了多余的&lt;code&gt;style=&#34;display: none;&lt;/code&gt;。&lt;br&gt;
经过搜索主题源码，发现这个文件&lt;code&gt;themes\matery\source\libs\others\busuanzi.pure.mini.js&lt;/code&gt;控制显示。&lt;/p&gt;
&lt;p&gt;可以直接下载下面这个地址的js替换，来自个人blog的js   &lt;a href=&#34;https://blog.17lai.site/libs/others/busuanzi.pure.mini.js&#34;&gt;busuanzi.pure.mini.js&lt;/a&gt;，直接下载这个js替换即可。下面源码经过了展开美化，原始文件是压缩去空格版本的。&lt;br&gt;
&lt;strong&gt;注意&lt;/strong&gt;： 这是一种破坏性修复，没有解决根本问题，临时修复方案。&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-js&#34; data-language=&#34;js&#34;&gt;&lt;code class=&#34;language-js&#34;&gt;&lt;span class=&#34;token keyword&#34;&gt;var&lt;/span&gt; bszCaller&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; bszTag&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;token operator&#34;&gt;!&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;function&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;token keyword&#34;&gt;var&lt;/span&gt; c&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; d&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; e&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; a &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;!&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;
        b &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;token function-variable function&#34;&gt;ready&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;function&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token parameter&#34;&gt;c&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;token keyword&#34;&gt;return&lt;/span&gt; a &lt;span class=&#34;token operator&#34;&gt;||&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;interactive&#34;&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;===&lt;/span&gt; document&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;readyState &lt;span class=&#34;token operator&#34;&gt;||&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;complete&#34;&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;===&lt;/span&gt; document&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;readyState &lt;span class=&#34;token operator&#34;&gt;?&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;c&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;call&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;document&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt;
            b&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;push&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token keyword&#34;&gt;function&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt;
                &lt;span class=&#34;token keyword&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;c&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;call&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token keyword&#34;&gt;this&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;
            &lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;this&lt;/span&gt;
    &lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token function-variable function&#34;&gt;d&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;function&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;token keyword&#34;&gt;for&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token keyword&#34;&gt;var&lt;/span&gt; a &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; c &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; b&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;length&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt; c &lt;span class=&#34;token operator&#34;&gt;&amp;gt;&lt;/span&gt; a&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt; a&lt;span class=&#34;token operator&#34;&gt;++&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; b&lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;a&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;apply&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;document&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;
        b &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;
    &lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token function-variable function&#34;&gt;e&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;function&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt;
        a &lt;span class=&#34;token operator&#34;&gt;||&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;a &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;!&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;d&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;call&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;window&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; document&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;removeEventListener &lt;span class=&#34;token operator&#34;&gt;?&lt;/span&gt; document&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;removeEventListener&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;
            &lt;span class=&#34;token string&#34;&gt;&#34;DOMContentLoaded&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; e&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;!&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt; document&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;attachEvent &lt;span class=&#34;token operator&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;document&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;detachEvent&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#34;onreadystatechange&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;
            e&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; window &lt;span class=&#34;token operator&#34;&gt;==&lt;/span&gt; window&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;top &lt;span class=&#34;token operator&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;clearInterval&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;c&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; c &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;null&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;
    &lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; document&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;addEventListener &lt;span class=&#34;token operator&#34;&gt;?&lt;/span&gt; document&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;addEventListener&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#34;DOMContentLoaded&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; e&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;!&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt; document&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;attachEvent &lt;span class=&#34;token operator&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;
        document&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;attachEvent&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#34;onreadystatechange&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;function&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt;
            &lt;span class=&#34;token regex&#34;&gt;&lt;span class=&#34;token regex-delimiter&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;token regex-source language-regex&#34;&gt;loaded|complete&lt;/span&gt;&lt;span class=&#34;token regex-delimiter&#34;&gt;/&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;test&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;document&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;readyState&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;e&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;
        &lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; window &lt;span class=&#34;token operator&#34;&gt;==&lt;/span&gt; window&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;top &lt;span class=&#34;token operator&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;c &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;setInterval&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token keyword&#34;&gt;function&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt;
            &lt;span class=&#34;token keyword&#34;&gt;try&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt;
                a &lt;span class=&#34;token operator&#34;&gt;||&lt;/span&gt; document&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;documentElement&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;doScroll&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#34;left&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;
            &lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;catch&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;b&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt;
                &lt;span class=&#34;token keyword&#34;&gt;return&lt;/span&gt;
            &lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt;
            &lt;span class=&#34;token function&#34;&gt;e&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;
        &lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;5&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; bszCaller &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;token function-variable function&#34;&gt;fetch&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;function&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token parameter&#34;&gt;a&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; b&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;token keyword&#34;&gt;var&lt;/span&gt; c &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;BusuanziCallback_&#34;&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;+&lt;/span&gt; Math&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;floor&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;1099511627776&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;*&lt;/span&gt; Math&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;random&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;
        window&lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;c&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;this&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;evalCall&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;b&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; a &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; a&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;replace&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#34;=BusuanziCallback&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;=&#34;&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;+&lt;/span&gt; c&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; scriptTag &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; document&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;createElement&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;
                &lt;span class=&#34;token string&#34;&gt;&#34;SCRIPT&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; scriptTag&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;type &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;text/javascript&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; scriptTag&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;defer &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;!&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; scriptTag&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;src &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; a&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;
            document&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;getElementsByTagName&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#34;HEAD&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;appendChild&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;scriptTag&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;
    &lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;
    &lt;span class=&#34;token function-variable function&#34;&gt;evalCall&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;function&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token parameter&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;token keyword&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;function&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token parameter&#34;&gt;b&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt;
            &lt;span class=&#34;token function&#34;&gt;ready&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token keyword&#34;&gt;function&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt;
                &lt;span class=&#34;token keyword&#34;&gt;try&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt;
                    &lt;span class=&#34;token function&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;b&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; scriptTag&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;parentElement&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;removeChild&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;scriptTag&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;
                &lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;catch&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;c&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt;
                    bszTag&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;hides&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;
                &lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt;
            &lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;
        &lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt;
    &lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; bszCaller&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;fetch&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#34;//busuanzi.ibruce.info/busuanzi?jsonpCallback=BusuanziCallback&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;function&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token parameter&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt;
    bszTag&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;texts&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;a&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; bszTag&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;shows&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; bszTag &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;token literal-property property&#34;&gt;bszs&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#34;site_pv&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;page_pv&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;site_uv&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;
    &lt;span class=&#34;token function-variable function&#34;&gt;texts&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;function&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token parameter&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;token keyword&#34;&gt;this&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;bszs&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;map&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token keyword&#34;&gt;function&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token parameter&#34;&gt;b&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt;
            &lt;span class=&#34;token keyword&#34;&gt;var&lt;/span&gt; c &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; document&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;getElementById&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#34;busuanzi_value_&#34;&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;+&lt;/span&gt; b&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;
            c &lt;span class=&#34;token operator&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;c&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;innerHTML &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; a&lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;b&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;
        &lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;
    &lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;
    &lt;span class=&#34;token function-variable function&#34;&gt;hides&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;function&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;token keyword&#34;&gt;this&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;bszs&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;map&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token keyword&#34;&gt;function&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token parameter&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt;
            &lt;span class=&#34;token keyword&#34;&gt;var&lt;/span&gt; b &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; document&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;getElementById&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#34;busuanzi_container_&#34;&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;+&lt;/span&gt; a&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;
            b &lt;span class=&#34;token operator&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;b&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;style&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;display &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;
        &lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;
    &lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;
    &lt;span class=&#34;token function-variable function&#34;&gt;shows&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;function&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;token keyword&#34;&gt;this&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;bszs&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;map&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token keyword&#34;&gt;function&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token parameter&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt;
            &lt;span class=&#34;token keyword&#34;&gt;var&lt;/span&gt; b &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; document&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;getElementById&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#34;busuanzi_container_&#34;&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;+&lt;/span&gt; a&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;
            b &lt;span class=&#34;token operator&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;b&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;style&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;display &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;inline&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;
        &lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;
    &lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;替换的人请操作其实就是把其中的&lt;code&gt;b.style.display=&#34;none&#34;&lt;/code&gt;中&lt;code&gt;none&lt;/code&gt;去掉。&lt;/p&gt;
&lt;h2 id=&#34;不蒜子-busuanzi-文章计数出错问题&#34;&gt;不蒜子 (busuanzi) 文章计数出错问题&lt;/h2&gt;
&lt;p&gt;出现这个原因，和 Chrome 85 版本 Referrer Policy 更改有关。什么是 Referrer，简单理解，就是请求 Web 服务器时，可以在 HTTP Request 的请求头 (header) 中加上当前页面的 URL，例如我们在浏览某个博客页面，需要加载一些图片，从服务器请求这些图片时，referrer 就是当前的博客页面 URL。从这里也可以看出，referrer 可能会暴露请求来源的某些信息或者隐私，有一定的隐私或安全风险。之前版本的 Chrome 浏览器，如果网站没有指定自己的 Referrer Policy，那么 Chrome 默认 policy 是 no-referrer-when-downgrade，在 Chrome 85 版本中，为了保护用户的隐私，默认的 Referrer Policy 则变成了 strict-origin-when-cross-origin。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;no-referrer-when-downgrade: 当两个网站的 http 协议安全等级相当，或者目的网站安全协议等级高于当前网站(HTTP –&amp;gt; HTTP, HTTPS –&amp;gt; HTTPS, HTTP –&amp;gt; HTTPS)， referer 将会包含源网站的域名，路径，查询字符串；如果目的网站安全协议等级低于源网站 (HTTPS –&amp;gt; HTTP)，将不会发送这些信息。&lt;/li&gt;
&lt;li&gt;strict-origin-when-cross-origin： 只有当做同一域名请求时 (源网址和目标网址是同一域名），才发送域名，路径和请求字符串，当两个网站安全协议相当时，发送源网站的域名(没有具体路径信息和查询字符串)，如果目标网站安全协议等级低于源网站，不发送 header 信息。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;不蒜子统计博客文章访问量就是通过 referer 来计算的，通过上面的分析，如果 Referrer Policy 是 strict-origin-when-cross-origin，不蒜子接收到的只有博客的域名，没有文章的具体路径，所以具体某个文章的 PV 统计会出现错误。&lt;/p&gt;
&lt;p&gt;修复方法：&lt;/p&gt;
&lt;p&gt;在主题文件夹下/layout/_partial/head.ejs中添加&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-html&#34; data-language=&#34;html&#34;&gt;&lt;code class=&#34;language-html&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;meta&lt;/span&gt; &lt;span class=&#34;token attr-name&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;token attr-value&#34;&gt;&lt;span class=&#34;token punctuation attr-equals&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;referrer&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&lt;/span&gt; &lt;span class=&#34;token attr-name&#34;&gt;content&lt;/span&gt;&lt;span class=&#34;token attr-value&#34;&gt;&lt;span class=&#34;token punctuation attr-equals&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;no-referrer-when-downgrade&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;如何多个域名映射同一个github-pages&#34;&gt;如何多个域名映射同一个github pages&lt;/h2&gt;
&lt;p&gt;可能由于某种原因，换了一个域名，之前又有一些被搜索引擎收录，但是又不想让原来的链接失效，就需要让两个域名都映射到github pages中。本文介绍几种当前可能的方法。欢迎提出更多有效方法。&lt;/p&gt;
&lt;h4 id=&#34;直接映射有什么问题？&#34;&gt;直接映射有什么问题？&lt;/h4&gt;
&lt;p&gt;你可能会想，两个域名都映射到github pages不就可以了？然而事实并非如此。首先当前github 的CNAME中只支持一个域名。因此CNAME文件中只能有一个域名，而如果在域名映射中将两个域名都映射到username.github.io，那么其中有一个会出现404错误。&lt;/p&gt;
&lt;h4 id=&#34;前提&#34;&gt;前提&lt;/h4&gt;
&lt;p&gt;以下方法的前提是你已经明白如何为自己的github pages添加自定义域名。&lt;/p&gt;
&lt;h4 id=&#34;需要注意什么？&#34;&gt;需要注意什么？&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;需要给各大网站提交新的域名网址，重新被收录&lt;/li&gt;
&lt;li&gt;域名变换前面网站的内容结构不能变，否则重定向也没有意义&lt;/li&gt;
&lt;li&gt;当前单纯的域名没有办法进行备案&lt;/li&gt;
&lt;li&gt;注意修改配置文件里的主域名为新的域名&lt;/li&gt;
&lt;li&gt;由于更换了新的域名，导致原来leancloud统计的访问数据需要重新计算，也就是网站访问量被清零了，leancloud也需要更新域名&lt;/li&gt;
&lt;li&gt;新的com域名可申请免费的SSL证书，保证https可访问，而不会提示不安全&lt;/li&gt;
&lt;li&gt;301重定向会将旧地址的权重转义到新地址上&lt;/li&gt;
&lt;li&gt;百度收录速度较慢&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;方法一：域名托管平台重定向&#34;&gt;方法一：域名托管平台重定向&lt;/h4&gt;
&lt;p&gt;有的域名服务商提供重定向功能，以阿里云为例，在域名映射添加记录的时候，可以选择显性URL或隐性URL。但是自己在尝试这种方法的时候，会提示我URL备案异常。可能是由于这个时候已经用新的域名映射了博客地址，但是新的域名实际上是没有备案的。更无奈的是，目前貌似没有办法单独对域名进行备案。因此本人放弃了该方法。&lt;/p&gt;
&lt;p&gt;如果你的博客也是部署在github上的，那么这种方法就不用尝试了，如果你的博客是部署在自己的服务器上的，那么网上都很多方法，这里就不介绍了。&lt;/p&gt;
&lt;h4 id=&#34;方法二：部署两个仓库&#34;&gt;方法二：部署两个仓库&lt;/h4&gt;
&lt;p&gt;我们注意到，除了github pages，还有coding.net可用。它与github类似。原来的域名映射到这个地址就可以了。而在部署hexo的时候，是可以添加两个仓库地址的：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-yaml&#34; data-language=&#34;yaml&#34;&gt;&lt;code class=&#34;language-yaml&#34;&gt;&lt;span class=&#34;token key atrule&#34;&gt;deploy&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;
&lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt; &lt;span class=&#34;token key atrule&#34;&gt;type&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; git
  &lt;span class=&#34;token key atrule&#34;&gt;repository&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; git@github.com&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;username/username.github.io.git
  &lt;span class=&#34;token key atrule&#34;&gt;branch&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; master
&lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt; &lt;span class=&#34;token key atrule&#34;&gt;type&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; git
  &lt;span class=&#34;token key atrule&#34;&gt;repository&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; git@git.coding.net&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;username/username.git
  &lt;span class=&#34;token key atrule&#34;&gt;branch&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; coding&lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt;pages&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;这两个仓库内容唯一的差别就是域名不一样，即CNAME中的记录值不一样。这样当访问两个不同的域名的时候，是访问不同的两个平台仓库。但是原来域名的权重不会转到新的域名中去。&lt;/p&gt;
&lt;h4 id=&#34;方法三：新增项目重定向&#34;&gt;方法三：新增项目重定向&lt;/h4&gt;
&lt;p&gt;假如你已经有username.github.io项目，新建一个名为blog(名字自定义)的项目，在项目的setting中，开启github pages服务，并且将旧的域名映射到username.github.io。&lt;/p&gt;
&lt;p&gt;实际上，github pages并不是只能有一个，例如，你新创建的仓库访问地址为：username.github.io/blog。&lt;br&gt;
由于旧的域名映射会导致404错误，那么在我们的新项目中增加一个404.html，在页面中进行跳转即可：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-html&#34; data-language=&#34;html&#34;&gt;&lt;code class=&#34;language-html&#34;&gt;&lt;span class=&#34;token doctype&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;!&lt;/span&gt;&lt;span class=&#34;token doctype-tag&#34;&gt;DOCTYPE&lt;/span&gt; &lt;span class=&#34;token name&#34;&gt;html&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;html&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;head&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;meta&lt;/span&gt; &lt;span class=&#34;token attr-name&#34;&gt;charset&lt;/span&gt;&lt;span class=&#34;token attr-value&#34;&gt;&lt;span class=&#34;token punctuation attr-equals&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;utf-8&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;title&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;/&lt;/span&gt;title&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;/&lt;/span&gt;head&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
 &lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;script&lt;/span&gt; &lt;span class=&#34;token attr-name&#34;&gt;language&lt;/span&gt;&lt;span class=&#34;token attr-value&#34;&gt;&lt;span class=&#34;token punctuation attr-equals&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;javascript&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token script&#34;&gt;&lt;span class=&#34;token language-javascript&#34;&gt;
&lt;span class=&#34;token keyword&#34;&gt;var&lt;/span&gt; domain &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;换成你自己的新域名&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;token keyword&#34;&gt;var&lt;/span&gt; src &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; window&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;location&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;href&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;token keyword&#34;&gt;var&lt;/span&gt; prtc &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; src&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;substring&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; src&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;indexOf&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;:&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;token keyword&#34;&gt;var&lt;/span&gt; target &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; src&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;substring&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;src&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;indexOf&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;/&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; src&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;indexOf&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;:&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;3&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;
window&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;location&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;href &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; prtc &lt;span class=&#34;token operator&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;://&#34;&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;+&lt;/span&gt; domain &lt;span class=&#34;token operator&#34;&gt;+&lt;/span&gt; target&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;
location&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;href&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;prtc &lt;span class=&#34;token operator&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;://&#34;&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;+&lt;/span&gt; domain &lt;span class=&#34;token operator&#34;&gt;+&lt;/span&gt; target&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;/&lt;/span&gt;script&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;body&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
 &lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;h1&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;/&lt;/span&gt;h1&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;/&lt;/span&gt;body&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;/&lt;/span&gt;html&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;另外，需要利用google的地址更改功能，使得旧网址的权重往新网址转移。&lt;br&gt;
找到search console中的地址更改工具（设置按钮中找到）。&lt;/p&gt;
&lt;p&gt;除了增加404页面外，还需要增加CNAME文件，里面的内容是你原先的域名。&lt;/p&gt;
&lt;h2 id=&#34;参照&#34;&gt;参照&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://www.lixl.cn/2019/092856736.html&#34;&gt;基于Hexo的matery主题搭建博客并深度优化-悟尘记&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://hexo.io/zh-cn/docs/&#34;&gt;hexo 官方文档&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://blinkfox.github.io/2018/09/28/qian-duan/hexo-bo-ke-zhu-ti-zhi-hexo-theme-matery-de-jie-shao/&#34;&gt;闪烁之狐&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://github.com/blinkfox/hexo-theme-matery/blob/develop/README_CN.md&#34;&gt;hexo-theme-matery&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://blog.sky03.cn/posts/42790.html#toc-heading-1&#34;&gt;Hexo 进阶之各种优化&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://www.cnblogs.com/Timesi/p/9556236.html&#34;&gt;Leancloud+Valine打造Hexo个人博客极简评论系统&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://blog.sky03.cn/posts/42790.html&#34;&gt;Hexo进阶之各种优化&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://sitoi.cn/posts/15908.html&#34;&gt;自动部署篇&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://www.cnblogs.com/luoshuitianyi/p/10333928.html&#34;&gt;Hexo搭建(VPS)&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://boyinthesun.cn/post/error-live2d-busuanzi/&#34;&gt;解决live2d看板娘和busuanzi不蒜子计数冲突&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://www.yanbinghu.com/2019/03/29/25951.html&#34;&gt;多个域名映射同一个github pages&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://segmentfault.com/a/1190000016286007&#34;&gt;hexo博客简单支持PWA&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://blog.imlete.cn/article/hexo-seo-autopush.html&#34;&gt;Hexo 每天自动提交网站url到搜索引擎&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://yafine-blog.cn/posts/ebb2.html&#34;&gt;Hexo 博客订阅文章通知功能&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://yafine-blog.cn/posts/3b98.html&#34;&gt;修改 matery 原有主题相册&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://small-rose.github.io/posts/a53a9069.html&#34;&gt;Matery主题新手常见问题&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://hunterx.xyz/hexo-gitlab-cicd-conf.html&#34;&gt;hexo-gitlab-cicd-conf&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://jxyblog.top/article/2da64065.html&#34;&gt;更改hexo的主题为Matery,并进行初步的优化&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;http://luckyzmj.cn/posts/17fd92ae.html&#34;&gt;Hexo之渲染绕过&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://wiki.jikexueyuan.com/project/gulp-book/chapter4.html&#34;&gt;使用 gulp 压缩图片&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://sunhwee.com/posts/6e8839eb.html&#34;&gt;Hexo+Github博客搭建完全教程&lt;/a&gt; &lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://github.com/shw2018/hexo-blog-fly&#34;&gt;博客开源&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://segmentfault.com/a/1190000021474516&#34;&gt;Hexo主题使用Valine-Admin管理评论和评论提醒&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://m3df.xyz/2021/06/20/edd7462d/&#34;&gt;Hexo博客进阶：图片懒加载与代码压缩&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://qvchuang.top/archives/d3c10307.html&#34;&gt;matery主题个性化定制&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://crystalblog.xyz/&#34;&gt;crystalblog三部曲&lt;/a&gt; &lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://crystalblog.xyz/2021082944649.html&#34;&gt;1&lt;/a&gt; &lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://crystalblog.xyz/2021082917116.html&#34;&gt;2&lt;/a&gt; &lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://crystalblog.xyz/2021082965135.html&#34;&gt;3&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;http://www.luckyzmj.cn/posts/e3e08109.html&#34;&gt;个人博客搭建&lt;/a&gt; &lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://github.com/LuckyZmj/LuckyBlog&#34;&gt;博客开源&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://tellyouwhat.cn/p/pwa-your-blog-can-also-be-accessed-offline/&#34;&gt;PWA踩坑记-从零到一让你的博客也能离线访问&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://www.islu.cn/posts/21369.html#&#34;&gt;Matery主题添加暗色模式&lt;/a&gt; &lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://dreamruins.gitee.io/tutorials/1121281946.html&#34;&gt;黑夜模式&lt;/a&gt; &lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://github.com/ialoe/hexo-themes-matery-pro&#34;&gt;开源代码hexo-themes-matery-pro&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://www.islu.cn/posts/2687.html&#34;&gt;加载动画(吃豆豆)&lt;/a&gt; &lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://dreamruins.gitee.io/tutorials/1793947201.html&#34;&gt;加载动画旋转方块&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://www.voidking.com/dev-hexo-gulp/&#34;&gt;优化&lt;code&gt;search.xml&lt;/code&gt;大小&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://akilar.top/posts/5b8f515f/&#34;&gt;更好的Live2d Widget&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://easyhexo.com/&#34;&gt;easyhexo&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;系列教程-30&#34;&gt;&lt;strong&gt;系列教程&lt;/strong&gt;&lt;/h2&gt;
&lt;p&gt;&lt;a href=&#34;https://blog.17lai.site/atom.xml&#34;&gt;全部文章RSS订阅&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Hexo系列&lt;/strong&gt;  &lt;a href=&#34;https://blog.17lai.site/categories/hexo/atom.xml&#34;&gt;&lt;strong&gt;HexoRSS分类订阅&lt;/strong&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;[三万字教程]基于Hexo的matery主题搭建博客并深度优化完全一站式教程&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;https://blog.17lai.site/posts/40300608/&#34;&gt;Hexo Docker环境与Hexo基础配置篇&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;https://blog.17lai.site/posts/4d8a0b22/&#34;&gt;hexo博客自定义修改篇&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;https://blog.17lai.site/posts/9b056c86/&#34;&gt;hexo博客网络优化篇&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;https://blog.17lai.site/posts/5311b619/&#34;&gt;hexo博客增强部署篇&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;https://blog.17lai.site/posts/4a2050e2/&#34;&gt;hexo博客个性定制篇&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;https://blog.17lai.site/posts/84b4059a/&#34;&gt;hexo博客常见问题篇&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;https://blog.17lai.site/posts/cf0f47fd/&#34;&gt;Hexo Markdown以及各种插件功能测试&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;markdown 各种其它语法插件&lt;/li&gt;
&lt;li&gt;latex公式支持&lt;/li&gt;
&lt;li&gt;mermaid图表&lt;/li&gt;
&lt;li&gt;plant uml图表&lt;/li&gt;
&lt;li&gt;URL卡片&lt;/li&gt;
&lt;li&gt;bilibili卡片&lt;/li&gt;
&lt;li&gt;github卡片&lt;/li&gt;
&lt;li&gt;豆瓣卡片&lt;/li&gt;
&lt;li&gt;插入音乐和视频&lt;/li&gt;
&lt;li&gt;插入脑图&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;strong&gt;笔记系列&lt;/strong&gt;  &lt;a href=&#34;https://blog.17lai.site/categories/note/atom.xml&#34;&gt;&lt;strong&gt;Note分类RSS订阅&lt;/strong&gt;&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://blog.17lai.site/posts/a8535f26/&#34;&gt;完美笔记进化论&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;经历了很长时间，使用了各种各样的方案，最终选择了一种相对完美的方式。docker私有部署运行的joplin，使用markdown语法，github作为图床，picgo作为图像自动上传后端，pypora作为MD编辑器，Snipaste作为截图工具。后备gitlab ee selfhost备份，自建图床VPS多线负载均衡。cloudflare partner cdn加速，jsdelivr加速。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;pigo图床搭建与配置&lt;/li&gt;
&lt;li&gt;Joplin教程&lt;/li&gt;
&lt;li&gt;Snipaste截图工具&lt;/li&gt;
&lt;li&gt;Typora 作为Markdown编辑器最强&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://blog.17lai.fun/posts/e6086437/&#34;&gt;Joplin入门指南&amp;amp;实践方案&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;Joplin和使用&lt;/li&gt;
&lt;li&gt;Joplin同步与备份&lt;/li&gt;
&lt;li&gt;Joplin导入与导出&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://blog.17lai.fun/posts/45f878cd/&#34;&gt;替代Evernote免费开源笔记Joplin-网盘同步笔记历史版本Markdown可视化&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;Joplin安装使用，调用外部编辑器，网盘同步等等&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://blog.17lai.site/posts/92d347d6/&#34;&gt;Joplin 插件以及其Markdown语法。All in One!&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;Joplin简明教程&lt;/li&gt;
&lt;li&gt;markdown语法简明教程&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://blog.17lai.site/posts/e3ee7f8b/&#34;&gt;Joplin 插件使用推荐&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;教你用各种插件打造一个强大的笔记工具。&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://blog.17lai.site/posts/1802a8a7/&#34;&gt;为知笔记私有化Docker部署&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;如何部署自己私有的为知笔记。&lt;/li&gt;
&lt;li&gt;其实博主更推荐私有部署joplin&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;strong&gt;Gitbook使用系列&lt;/strong&gt; &lt;a href=&#34;https://blog.17lai.site/categories/gitbook/atom.xml&#34;&gt;Gitbook分类RSS订阅&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;https://blog.17lai.site/posts/7fe86002/&#34;&gt;GitBook+GitLab撰写发布技术文档-Part1:GitBook篇&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;https://blog.17lai.site/posts/7790e989/&#34;&gt;GitBook+GitLab撰写发布技术文档-Part2:GitLab篇&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;https://blog.17lai.site/posts/d6bad1e5/&#34;&gt;自己动手制作电子书的最佳方式（支持PDF、ePub、mobi等格式）&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;Gitlab 使用系列&lt;/strong&gt;  &lt;a href=&#34;https://blog.17lai.site/categories/gitlab/atom.xml&#34;&gt;&lt;strong&gt;Gitlab RSS 分类订阅&lt;/strong&gt;&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://blog.17lai.site/posts/acc13b70/&#34;&gt;&lt;strong&gt;Gitlab的安装及使用教程完全版&lt;/strong&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://blog.17lai.site/posts/29a820b3/&#34;&gt;破解Gitlab EE&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://blog.17lai.site/posts/d08eb7b/&#34;&gt;Gitlab的安装及使用&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://blog.17lai.site/posts/1879721e/&#34;&gt;CI/CD与Git Flow与GitLab&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;link rel=&#34;stylesheet&#34; href=&#34;/css/bilicard.css&#34; type=&#34;text/css&#34;&gt;</content>
        <category term="github" />
        <category term="hexo" />
        <category term="matery" />
        <category term="cdn" />
        <category term="seo" />
        <updated>2022-03-27T07:28:46.000Z</updated>
    </entry>
    <entry>
        <id>https://blog.17lai.site/posts/4a2050e2/</id>
        <title>基于Hexo的matery主题搭建博客个性定制篇5</title>
        <link rel="alternate" href="https://blog.17lai.site/posts/4a2050e2/"/>
        <content type="html">&lt;p&gt;&lt;strong&gt;Hexo系列&lt;/strong&gt;  &lt;a href=&#34;https://blog.17lai.site/categories/hexo/atom.xml&#34;&gt;&lt;strong&gt;HexoRSS分类订阅&lt;/strong&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;[三万字教程]基于Hexo的matery主题搭建博客并深度优化完全一站式教程&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;https://blog.17lai.site/posts/40300608/&#34;&gt;Hexo Docker环境与Hexo基础配置篇&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;https://blog.17lai.site/posts/4d8a0b22/&#34;&gt;hexo博客自定义修改篇&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;https://blog.17lai.site/posts/9b056c86/&#34;&gt;hexo博客网络优化篇&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;https://blog.17lai.site/posts/5311b619/&#34;&gt;hexo博客增强部署篇&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;https://blog.17lai.site/posts/4a2050e2/&#34;&gt;hexo博客个性定制篇&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;https://blog.17lai.site/posts/84b4059a/&#34;&gt;hexo博客常见问题篇&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;https://blog.17lai.site/posts/cf0f47fd/&#34;&gt;Hexo Markdown以及各种插件功能测试&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;markdown 各种其它语法插件&lt;/li&gt;
&lt;li&gt;latex公式支持&lt;/li&gt;
&lt;li&gt;mermaid图表&lt;/li&gt;
&lt;li&gt;plant uml图表&lt;/li&gt;
&lt;li&gt;URL卡片&lt;/li&gt;
&lt;li&gt;bilibili卡片&lt;/li&gt;
&lt;li&gt;github卡片&lt;/li&gt;
&lt;li&gt;豆瓣卡片&lt;/li&gt;
&lt;li&gt;插入音乐和视频&lt;/li&gt;
&lt;li&gt;插入脑图&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;h2 id=&#34;多种主题美化&#34;&gt;多种主题美化&lt;/h2&gt;
&lt;h3 id=&#34;修改主题颜色&#34;&gt;修改主题颜色&lt;/h3&gt;
&lt;p&gt;配色包括导航栏，底部栏，a标签等，主题配色是绿色。&lt;/p&gt;
&lt;p&gt;修改themes\Matery\source\css\matery.css样式&lt;br&gt;
快捷键ctrl+F查找到#4cbf30（浅绿色）和#0f9d58（深绿色）还有首页字体颜色，修改为你喜欢的颜色&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-css&#34; data-language=&#34;css&#34;&gt;&lt;code class=&#34;language-css&#34;&gt;&lt;span class=&#34;token comment&#34;&gt;/* 整体背景颜色，包括导航、移动端的导航、页尾、标签页等的背景颜色. */&lt;/span&gt; 
&lt;span class=&#34;token selector&#34;&gt;.bg-color&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt; 
	&lt;span class=&#34;token property&#34;&gt;background-image&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;linear-gradient&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;to right&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; #4cbf30 0%&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; #0f9d58 100%&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt; 
&lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt; 
&lt;span class=&#34;token comment&#34;&gt;/*如果想去掉banner图的颜色渐变效果，请将以下的css属性注释掉或者删除掉即可*/&lt;/span&gt; 
&lt;span class=&#34;token atrule&#34;&gt;&lt;span class=&#34;token rule&#34;&gt;@-webkit-keyframes&lt;/span&gt; rainbow&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt; 
	&lt;span class=&#34;token comment&#34;&gt;/* 动态切换背景颜色. */&lt;/span&gt; 
&lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt; 
&lt;span class=&#34;token atrule&#34;&gt;&lt;span class=&#34;token rule&#34;&gt;@keyframes&lt;/span&gt; rainbow&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt; 
	&lt;span class=&#34;token comment&#34;&gt;/* 动态切换背景颜色. */&lt;/span&gt; 
&lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt;
&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;背景樱花飘落效果&#34;&gt;背景樱花飘落效果&lt;/h3&gt;
&lt;p&gt;在&lt;code&gt;themes/matery/source/js&lt;/code&gt;目录下新建&lt;code&gt;sakura.js&lt;/code&gt;文件，打开这个网址&lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://cdn.jsdelivr.net/gh/Yafine/cdn@3.3.1/source/js/sakura.js&#34;&gt;传送门&lt;/a&gt;，将内容复制粘贴到&lt;code&gt;sakura.js&lt;/code&gt;即可。&lt;/p&gt;
&lt;p&gt;然后在&lt;code&gt;themes/matery/layout/layout.ejs&lt;/code&gt;文件内添加下面的内容：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-js&#34; data-language=&#34;js&#34;&gt;&lt;code class=&#34;language-js&#34;&gt;&lt;span class=&#34;token operator&#34;&gt;&amp;lt;&lt;/span&gt;script type&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#34;text/javascript&#34;&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;span class=&#34;token comment&#34;&gt;//只在桌面版网页启用特效&lt;/span&gt;
&lt;span class=&#34;token keyword&#34;&gt;var&lt;/span&gt; windowWidth &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;$&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;window&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;width&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;token keyword&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;windowWidth &lt;span class=&#34;token operator&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;768&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt;
    document&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;write&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;&amp;lt;script type=&#34;text/javascript&#34; src=&#34;/js/sakura.js&#34;&amp;gt;&amp;lt;\/script&amp;gt;&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;token operator&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;/&lt;/span&gt;script&lt;span class=&#34;token operator&#34;&gt;&amp;gt;&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;strong&gt;修改花瓣的数量&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;因为普遍在使用的樱花背景效果花瓣数太多了，一些人不太喜欢。&lt;/p&gt;
&lt;p&gt;于是按不同花瓣数量做了几个新的 &lt;code&gt;js&lt;/code&gt; ，并提供如下 &lt;code&gt;cdn&lt;/code&gt; 形式的引用：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-html&#34; data-language=&#34;html&#34;&gt;&lt;code class=&#34;language-html&#34;&gt;https://cdn.jsdelivr.net/gh/fz6m/Private-web@1.2/js/sakura/sakura-small.js&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;以上为少量樱花效果，另提供几个不同数量的文件引用名：&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:left&#34;&gt;文件名&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;说明&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;sakura-small.js&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;少量樱花&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;sakura-half.js&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;樱花相对原效果数量减半&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;sakura-reduce.js&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;樱花相对原效果减少1/4&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;sakura-original.js&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;樱花数量不变（原效果）&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h3 id=&#34;自定义鼠标样式&#34;&gt;自定义鼠标样式&lt;/h3&gt;
&lt;p&gt;首先将鼠标样式下载到本地，推荐大家一个网站：https://zhutix.com/ico/ori-cursors/&lt;/p&gt;
&lt;p&gt;以我的为例，我将鼠标指针样式放在了主题文件夹下的medias目录下，然后打开&lt;code&gt;themes\matery\source\css&lt;/code&gt;下的&lt;strong&gt;my.css&lt;/strong&gt;文件，添加内容如下：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-css&#34; data-language=&#34;css&#34;&gt;&lt;code class=&#34;language-css&#34;&gt;&lt;span class=&#34;token selector&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;token property&#34;&gt;cursor&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token url&#34;&gt;&lt;span class=&#34;token function&#34;&gt;url&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token string url&#34;&gt;&#34;/medias/imgs/zhengchang.ico&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;auto&lt;span class=&#34;token important&#34;&gt;!important&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;token selector&#34;&gt;:active&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;token property&#34;&gt;cursor&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token url&#34;&gt;&lt;span class=&#34;token function&#34;&gt;url&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token string url&#34;&gt;&#34;/medias/imgs/dianji.ico&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;auto&lt;span class=&#34;token important&#34;&gt;!important&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;取消首页渐变颜色动画&#34;&gt;取消首页渐变颜色动画&lt;/h3&gt;
&lt;p&gt;在themes\Matery\source\css\matery.css，ctrl+F快捷键查找.bg-cover:after，注释掉即可。&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-css&#34; data-language=&#34;css&#34;&gt;&lt;code class=&#34;language-css&#34;&gt;&lt;span class=&#34;token comment&#34;&gt;/* .bg-cover:after {
    -webkit-animation: rainbow 60s infinite;
    animation: rainbow 60s infinite;
} */&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;优化目录栏，透明化&#34;&gt;优化目录栏，透明化&lt;/h3&gt;
&lt;p&gt;目录样式竟然在：&lt;code&gt;themes\Matery\layout\_partial\post-detail-toc.ejs&lt;/code&gt;&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-css&#34; data-language=&#34;css&#34;&gt;&lt;code class=&#34;language-css&#34;&gt;&lt;span class=&#34;token selector&#34;&gt;.toc-widget&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;token property&#34;&gt;width&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; 345px&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;token property&#34;&gt;padding-left&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; 20px&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;token property&#34;&gt;background-color&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;rgb&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;255&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; 255&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; 255&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;0.7&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;token property&#34;&gt;border-radius&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; 10px&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;token property&#34;&gt;box-shadow&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; 0 10px 35px 2px &lt;span class=&#34;token function&#34;&gt;rgba&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;0&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; 0&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; 0&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; .15&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; 0 5px 15px &lt;span class=&#34;token function&#34;&gt;rgba&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;0&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; 0&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; 0&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; .07&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; 0 2px 5px -5px &lt;span class=&#34;token function&#34;&gt;rgba&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;0&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; 0&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; 0&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; .1&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token important&#34;&gt;!important&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;增加点击跳转评论按钮&#34;&gt;增加点击跳转评论按钮&lt;/h3&gt;
&lt;p&gt;新建文件&lt;code&gt;themes\Matery\layout\_partial\back-comment.ejs&lt;/code&gt;,粘贴如下代码&lt;/p&gt;
&lt;p&gt;我这里评论是valine，直接填写的valine的id——&lt;code&gt;href=&#34;#vcomments&#34;&lt;/code&gt;,如果是其他评论，对应修改即可。&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-ejs&#34; data-language=&#34;ejs&#34;&gt;&lt;code class=&#34;language-ejs&#34;&gt;&lt;span class=&#34;token comment&#34;&gt;&amp;lt;!-- 直达评论 --&amp;gt;&lt;/span&gt;
&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;div&lt;/span&gt; &lt;span class=&#34;token attr-name&#34;&gt;id&lt;/span&gt;&lt;span class=&#34;token attr-value&#34;&gt;&lt;span class=&#34;token punctuation attr-equals&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;to_comment&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&lt;/span&gt; &lt;span class=&#34;token attr-name&#34;&gt;class&lt;/span&gt;&lt;span class=&#34;token attr-value&#34;&gt;&lt;span class=&#34;token punctuation attr-equals&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;comment-scroll&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;a&lt;/span&gt; &lt;span class=&#34;token attr-name&#34;&gt;class&lt;/span&gt;&lt;span class=&#34;token attr-value&#34;&gt;&lt;span class=&#34;token punctuation attr-equals&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;btn-floating btn-large waves-effect waves-light&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&lt;/span&gt; &lt;span class=&#34;token attr-name&#34;&gt;href&lt;/span&gt;&lt;span class=&#34;token attr-value&#34;&gt;&lt;span class=&#34;token punctuation attr-equals&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;#vcomments&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&lt;/span&gt; &lt;span class=&#34;token attr-name&#34;&gt;title&lt;/span&gt;&lt;span class=&#34;token attr-value&#34;&gt;&lt;span class=&#34;token punctuation attr-equals&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;直达评论&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
        &lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;i&lt;/span&gt; &lt;span class=&#34;token attr-name&#34;&gt;class&lt;/span&gt;&lt;span class=&#34;token attr-value&#34;&gt;&lt;span class=&#34;token punctuation attr-equals&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;fas fa-comments&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;/&lt;/span&gt;i&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;/&lt;/span&gt;a&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;/&lt;/span&gt;div&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;在&lt;code&gt;themes\Matery\layout\_partial\valine.ejs&lt;/code&gt;文末添加一条，引用第一步的内容；&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-bash&#34; data-language=&#34;bash&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;&lt;span class=&#34;token operator&#34;&gt;&amp;lt;&lt;/span&gt;%- partial&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;_partial/back-comment.ejs&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; %&lt;span class=&#34;token operator&#34;&gt;&amp;gt;&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;则只在valine存在的页面才显示直达评论，防止首页其他地方也出现按钮。其实还可以优化为浮动出现，有一点麻烦，我这里没有设置。&lt;/p&gt;
&lt;p&gt;增加样式在themes\Matery\source\css\matery.css添加内容如下：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-css&#34; data-language=&#34;css&#34;&gt;&lt;code class=&#34;language-css&#34;&gt;&lt;span class=&#34;token comment&#34;&gt;/*直达评论按钮样式*/&lt;/span&gt;
&lt;span class=&#34;token selector&#34;&gt;.comment-scroll&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;token property&#34;&gt;position&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; fixed&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;token property&#34;&gt;right&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; 15px&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;token property&#34;&gt;bottom&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; 135px&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;token property&#34;&gt;padding-top&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; 15px&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;token property&#34;&gt;margin-bottom&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; 0&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;token property&#34;&gt;z-index&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; 998&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt;

&lt;span class=&#34;token selector&#34;&gt;.comment-scroll .btn-floating&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;token property&#34;&gt;background&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;linear-gradient&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;to bottom right&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; #FF9999 0%&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; #ff6666 100%&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;token property&#34;&gt;width&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; 48px&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;token property&#34;&gt;height&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; 48px&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt;

&lt;span class=&#34;token selector&#34;&gt;.comment-scroll .btn-floating i&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;token property&#34;&gt;line-height&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; 48px&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;token property&#34;&gt;font-size&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; 1.8rem&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt;
&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;bottom: 135px;是距离底部的高度，看看你是否需要修改。&lt;/p&gt;
&lt;h3 id=&#34;修改滑动条&#34;&gt;修改滑动条&lt;/h3&gt;
&lt;pre class=&#34;line-numbers language-css&#34; data-language=&#34;css&#34;&gt;&lt;code class=&#34;language-css&#34;&gt;&lt;span class=&#34;token comment&#34;&gt;/* 滚动条 */&lt;/span&gt;
&lt;span class=&#34;token selector&#34;&gt;::-webkit-scrollbar-thumb&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;token property&#34;&gt;background-color&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; #FF2A68&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;token property&#34;&gt;background-image&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;-webkit-linear-gradient&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;45deg&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;rgba&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;255&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;255&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;255&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;.4&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; 25%&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;transparent 25%&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;transparent 50%&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;rgba&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;255&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;255&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;255&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;.4&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; 50%&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;rgba&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;255&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;255&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;255&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;.4&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; 75%&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;transparent 75%&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;transparent&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;token property&#34;&gt;border-radius&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; 3em&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;token selector&#34;&gt;::-webkit-scrollbar-track&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;token property&#34;&gt;background-color&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; #ffcacaff&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;token property&#34;&gt;border-radius&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; 3em&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;token selector&#34;&gt;::-webkit-scrollbar&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;token property&#34;&gt;width&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; 8px&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;token property&#34;&gt;height&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; 15px&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;添加博客看板娘&#34;&gt;添加博客看板娘&lt;/h2&gt;
&lt;p&gt;方法如下：&lt;/p&gt;
&lt;p&gt;安装插件：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-bash&#34; data-language=&#34;bash&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;&lt;span class=&#34;token function&#34;&gt;npm&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;install&lt;/span&gt; --save hexo-helper-live2d&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;安装喜欢的模型：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-bash&#34; data-language=&#34;bash&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;$ &lt;span class=&#34;token function&#34;&gt;npm&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;install&lt;/span&gt; packagename
&lt;span class=&#34;token comment&#34;&gt;#安装下载动画人物库, 动画人物有很多, 可以网上查询资料, 下面推荐几种.&lt;/span&gt;
&lt;span class=&#34;token function&#34;&gt;npm&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;install&lt;/span&gt; --save live2d-widget-model-shizuku &lt;span class=&#34;token comment&#34;&gt;#课桌女孩&lt;/span&gt;
&lt;span class=&#34;token function&#34;&gt;npm&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;install&lt;/span&gt; --save live2d-widget-model-hibiki  &lt;span class=&#34;token comment&#34;&gt;#御姐&lt;/span&gt;
&lt;span class=&#34;token function&#34;&gt;npm&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;install&lt;/span&gt; --save live2d-widget-model-wanko   &lt;span class=&#34;token comment&#34;&gt;#狗狗&lt;/span&gt;
&lt;span class=&#34;token function&#34;&gt;npm&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;install&lt;/span&gt; --save live2d-widget-model-haruto  &lt;span class=&#34;token comment&#34;&gt;#海军服女孩&lt;/span&gt;
&lt;span class=&#34;token function&#34;&gt;npm&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;install&lt;/span&gt; --save live2d-widget-model-miku    &lt;span class=&#34;token comment&#34;&gt;#萝莉&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;将packagename换成模型名字，如我使用的模型：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-bash&#34; data-language=&#34;bash&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;$ &lt;span class=&#34;token function&#34;&gt;npm&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;install&lt;/span&gt; live2d-widget-model-shizuku&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;然后打开博客根目录下的 _config.yml文件，添加如下代码：&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;使用本地模型方式：&lt;/strong&gt;&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-yaml&#34; data-language=&#34;yaml&#34;&gt;&lt;code class=&#34;language-yaml&#34;&gt;&lt;span class=&#34;token comment&#34;&gt;## 添加动画live2d模块  npm install --save hexo-helper-live2d&lt;/span&gt;
&lt;span class=&#34;token comment&#34;&gt;## 下载动画人物库 npm install live2d-widget-model-z16 -D&lt;/span&gt;
&lt;span class=&#34;token key atrule&#34;&gt;live2d&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;
  &lt;span class=&#34;token key atrule&#34;&gt;enable&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token boolean important&#34;&gt;true&lt;/span&gt;
  &lt;span class=&#34;token key atrule&#34;&gt;scriptFrom&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; local &lt;span class=&#34;token comment&#34;&gt;# 默认&lt;/span&gt;
  &lt;span class=&#34;token key atrule&#34;&gt;pluginRootPath&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; live2dw/ &lt;span class=&#34;token comment&#34;&gt;# 插件在站点上的根目录(相对路径)&lt;/span&gt;
  &lt;span class=&#34;token key atrule&#34;&gt;pluginJsPath&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; lib/ &lt;span class=&#34;token comment&#34;&gt;# 脚本文件相对与插件根目录路径&lt;/span&gt;
  &lt;span class=&#34;token key atrule&#34;&gt;pluginModelPath&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; assets/ &lt;span class=&#34;token comment&#34;&gt;# 模型文件相对与插件根目录路径&lt;/span&gt;
  &lt;span class=&#34;token key atrule&#34;&gt;tagMode&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token boolean important&#34;&gt;false&lt;/span&gt; &lt;span class=&#34;token comment&#34;&gt;# 标签模式, 是否仅替换 live2d tag标签而非插入到所有页面中&lt;/span&gt;
  &lt;span class=&#34;token key atrule&#34;&gt;debug&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token boolean important&#34;&gt;false&lt;/span&gt; &lt;span class=&#34;token comment&#34;&gt;# 调试, 是否在控制台输出日志&lt;/span&gt;
  &lt;span class=&#34;token key atrule&#34;&gt;model&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;
    &lt;span class=&#34;token key atrule&#34;&gt;use&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; live2d&lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt;widget&lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt;model&lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt;miku
  &lt;span class=&#34;token key atrule&#34;&gt;display&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;
    &lt;span class=&#34;token key atrule&#34;&gt;position&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; right &lt;span class=&#34;token comment&#34;&gt;#动画位置&lt;/span&gt;
    &lt;span class=&#34;token key atrule&#34;&gt;width&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;150&lt;/span&gt;
    &lt;span class=&#34;token key atrule&#34;&gt;height&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;190&lt;/span&gt;
    &lt;span class=&#34;token comment&#34;&gt;# 位置配置，这个在左侧边栏位置很居中&lt;/span&gt;
    &lt;span class=&#34;token key atrule&#34;&gt;hOffset&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;50&lt;/span&gt;  &lt;span class=&#34;token comment&#34;&gt;# 调节水平位置&lt;/span&gt;
    &lt;span class=&#34;token key atrule&#34;&gt;vOffset&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;-5&lt;/span&gt;  &lt;span class=&#34;token comment&#34;&gt;# 调节垂直位置&lt;/span&gt;
  &lt;span class=&#34;token key atrule&#34;&gt;mobile&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;
    &lt;span class=&#34;token key atrule&#34;&gt;show&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token boolean important&#34;&gt;false&lt;/span&gt; &lt;span class=&#34;token comment&#34;&gt;# 是否在移动设备上显示&lt;/span&gt;
    &lt;span class=&#34;token key atrule&#34;&gt;scale&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;0.5&lt;/span&gt; &lt;span class=&#34;token comment&#34;&gt;# 移动设备上的缩放&lt;/span&gt;
  &lt;span class=&#34;token key atrule&#34;&gt;react&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;
    &lt;span class=&#34;token key atrule&#34;&gt;opacityDefault&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;0.7&lt;/span&gt;
    &lt;span class=&#34;token key atrule&#34;&gt;opacityOnHover&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;0.8&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;strong&gt;使用网络模型方式：&lt;/strong&gt;&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-yaml&#34; data-language=&#34;yaml&#34;&gt;&lt;code class=&#34;language-yaml&#34;&gt;&lt;span class=&#34;token comment&#34;&gt;# Live2D&lt;/span&gt;
&lt;span class=&#34;token comment&#34;&gt;## https://github.com/EYHN/hexo-helper-live2d&lt;/span&gt;
&lt;span class=&#34;token key atrule&#34;&gt;live2d&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;
  &lt;span class=&#34;token key atrule&#34;&gt;enable&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token boolean important&#34;&gt;true&lt;/span&gt;
  &lt;span class=&#34;token comment&#34;&gt;# enable: false&lt;/span&gt;
  &lt;span class=&#34;token key atrule&#34;&gt;pluginRootPath&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; live2dw/ &lt;span class=&#34;token comment&#34;&gt;# Root path of plugin to be on the site (Relative)&lt;/span&gt;
  &lt;span class=&#34;token key atrule&#34;&gt;pluginJsPath&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; lib/ &lt;span class=&#34;token comment&#34;&gt;# JavaScript path related to plugin&#39;s root (Relative)&lt;/span&gt;
  &lt;span class=&#34;token key atrule&#34;&gt;pluginModelPath&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; assets/ &lt;span class=&#34;token comment&#34;&gt;# Relative model path related to plugin&#39;s root (Relative)&lt;/span&gt;
  &lt;span class=&#34;token key atrule&#34;&gt;scriptFrom&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; local &lt;span class=&#34;token comment&#34;&gt;# Default&lt;/span&gt;
  &lt;span class=&#34;token comment&#34;&gt;# scriptFrom: jsdelivr # jsdelivr CDN&lt;/span&gt;
  &lt;span class=&#34;token comment&#34;&gt;# scriptFrom: unpkg # unpkg CDN&lt;/span&gt;
  &lt;span class=&#34;token comment&#34;&gt;# scriptFrom: https://cdn.jsdelivr.net/npm/live2d-widget@3.x/lib/L2Dwidget.min.js # Your custom url&lt;/span&gt;
  &lt;span class=&#34;token key atrule&#34;&gt;tagMode&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token boolean important&#34;&gt;false&lt;/span&gt; &lt;span class=&#34;token comment&#34;&gt;# Whether only to replace live2d tag instead of inject to all pages&lt;/span&gt;
  &lt;span class=&#34;token key atrule&#34;&gt;log&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token boolean important&#34;&gt;false&lt;/span&gt; &lt;span class=&#34;token comment&#34;&gt;# Whether to show logs in console&lt;/span&gt;
  &lt;span class=&#34;token key atrule&#34;&gt;model&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;
    &lt;span class=&#34;token comment&#34;&gt;#use: live2d-widget-model-lwet # npm-module package name&lt;/span&gt;
    &lt;span class=&#34;token comment&#34;&gt;# use: wanko # folder name in (hexo base dir)/live2d_models/&lt;/span&gt;
    &lt;span class=&#34;token comment&#34;&gt;# use: ./wives/wanko # folder path relative to hexo base dir&lt;/span&gt;
    &lt;span class=&#34;token comment&#34;&gt;# 模型：https://huaji8.top/post/live2d-plugin-2.0/&lt;/span&gt;
    &lt;span class=&#34;token key atrule&#34;&gt;use&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; https&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;//cdn.jsdelivr.net/npm/live2d&lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt;widget&lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt;model&lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt;wanko@1.0.5/assets/wanko.model.json &lt;span class=&#34;token comment&#34;&gt;# Your custom url&lt;/span&gt;
  &lt;span class=&#34;token key atrule&#34;&gt;display&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;
    &lt;span class=&#34;token key atrule&#34;&gt;position&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; left
    &lt;span class=&#34;token key atrule&#34;&gt;width&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;300&lt;/span&gt;
    &lt;span class=&#34;token key atrule&#34;&gt;height&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;400&lt;/span&gt;
    &lt;span class=&#34;token key atrule&#34;&gt;hOffset&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;50&lt;/span&gt;
    &lt;span class=&#34;token key atrule&#34;&gt;vOffset&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;10&lt;/span&gt;
  &lt;span class=&#34;token key atrule&#34;&gt;mobile&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;
    &lt;span class=&#34;token key atrule&#34;&gt;show&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token boolean important&#34;&gt;false&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;见右下角&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2022/03/2720220327072647-1.png&#34; alt=&#34;Live2D看板娘&#34;&gt;&lt;/p&gt;
&lt;h2 id=&#34;更强大的看板娘&#34;&gt;更强大的看板娘&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;&lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://github.com/stevenjoezhang/live2d-widget&#34;&gt;live2d-widget&lt;/a&gt;&lt;/strong&gt; &lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://www.fghrsh.net/post/123.html&#34;&gt;原作者教程&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;支持换装，模型切换，对话框，拍照，小游戏，眼神跟随，触摸对话，音频等。&lt;/p&gt;
&lt;p&gt;可以自建api，自定义各种模型，各种对话等。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2022/03/2820220328202350.png&#34; alt=&#34;live2d看板娘&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2022/03/2820220328201742.png&#34; alt=&#34;live2d-widget效果图&#34;&gt;&lt;/p&gt;
&lt;h3 id=&#34;依赖-Font-Awesome&#34;&gt;依赖  Font Awesome&lt;/h3&gt;
&lt;p&gt;请在 &lt;code&gt;&amp;lt;head&amp;gt;&lt;/code&gt; 中加入。在Matery中自带，这一步跳过。&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-js&#34; data-language=&#34;js&#34;&gt;&lt;code class=&#34;language-js&#34;&gt;&lt;span class=&#34;token operator&#34;&gt;&amp;lt;&lt;/span&gt;link rel&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#34;stylesheet&#34;&lt;/span&gt; href&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#34;https://cdn.jsdelivr.net/npm/font-awesome/css/font-awesome.min.css&#34;&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;&amp;gt;&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;使用-Usage&#34;&gt;使用 Usage&lt;/h3&gt;
&lt;p&gt;将这一行代码加入 &lt;code&gt;&amp;lt;head&amp;gt;&lt;/code&gt; 或 &lt;code&gt;&amp;lt;body&amp;gt;&lt;/code&gt;，即可展现出效果：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-js&#34; data-language=&#34;js&#34;&gt;&lt;code class=&#34;language-js&#34;&gt;&lt;span class=&#34;token operator&#34;&gt;&amp;lt;&lt;/span&gt;script src&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#34;https://cdn.jsdelivr.net/gh/17lai/live2d-widget@latest/autoload.js&#34;&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;/&lt;/span&gt;script&lt;span class=&#34;token operator&#34;&gt;&amp;gt;&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;后端-API&#34;&gt;后端 API&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;initWidget&lt;/code&gt; 方法接受名为 &lt;code&gt;apiPath&lt;/code&gt; 和 &lt;code&gt;cdnPath&lt;/code&gt; 的参数，两者设置其中一项即可。其中 &lt;code&gt;apiPath&lt;/code&gt; 为后端 API 的 URL，可以自行搭建，并增加模型（需要修改的内容比较多，此处不再赘述）。而 &lt;code&gt;cdnPath&lt;/code&gt; 则是通过 jsDelivr 这样的 CDN 服务加载资源，更加稳定。&lt;/p&gt;
&lt;h3 id=&#34;目录结构-Files&#34;&gt;目录结构 Files&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;waifu-tips.js&lt;/code&gt; 包含了按钮和对话框的逻辑；&lt;/li&gt;
&lt;li&gt;&lt;code&gt;waifu-tips.json&lt;/code&gt; 中定义了触发条件（&lt;code&gt;selector&lt;/code&gt;，CSS 选择器）和触发时显示的文字（&lt;code&gt;text&lt;/code&gt;）；&lt;/li&gt;
&lt;li&gt;&lt;code&gt;waifu.css&lt;/code&gt; 是看板娘的样式表。&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;使用 &lt;code&gt;waifu-tips.json&lt;/code&gt; 自定义 &lt;code&gt;selector&lt;/code&gt;触发提示文字框，可以用来做菜单，按钮的导航提示，终于是个合格的看板娘了！&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;对所有菜单，常用按钮做了基本文字提示。鼠标去到处戳一下，看看触发提示！😄&lt;/li&gt;
&lt;li&gt;这是一个不小的工程，难度不高，趣味性很强。&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2022/03/2920220329182729.png&#34; alt=&#34;看板娘触发文字提示&#34;&gt;&lt;/p&gt;
&lt;h2 id=&#34;添加夜间模式切换&#34;&gt;添加夜间模式切换&lt;/h2&gt;
&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;下面这个还远未完善，只是基本可用，很多显示细节还需要调整。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;博主业余钻研ccs教程，慢慢修改完善中。&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;p&gt;在主题目录下的&lt;code&gt;/layout/layout.ejs&lt;/code&gt;文件添加夜间模式切换按钮:&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-html&#34; data-language=&#34;html&#34;&gt;&lt;code class=&#34;language-html&#34;&gt;&lt;span class=&#34;token comment&#34;&gt;&amp;lt;!-- 切换夜间/白天模式按钮 --&amp;gt;&lt;/span&gt;
&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;a&lt;/span&gt; &lt;span class=&#34;token special-attr&#34;&gt;&lt;span class=&#34;token attr-name&#34;&gt;onclick&lt;/span&gt;&lt;span class=&#34;token attr-value&#34;&gt;&lt;span class=&#34;token punctuation attr-equals&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&lt;span class=&#34;token value javascript language-javascript&#34;&gt;&lt;span class=&#34;token function&#34;&gt;switchNightMode&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt; &lt;span class=&#34;token attr-name&#34;&gt;id&lt;/span&gt;&lt;span class=&#34;token attr-value&#34;&gt;&lt;span class=&#34;token punctuation attr-equals&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;sma&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt; &lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;i&lt;/span&gt; &lt;span class=&#34;token attr-name&#34;&gt;class&lt;/span&gt;&lt;span class=&#34;token attr-value&#34;&gt;&lt;span class=&#34;token punctuation attr-equals&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;fa fa-moon-o&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&lt;/span&gt; &lt;span class=&#34;token attr-name&#34;&gt;id&lt;/span&gt;&lt;span class=&#34;token attr-value&#34;&gt;&lt;span class=&#34;token punctuation attr-equals&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;nightMode&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&lt;/span&gt; &lt;span class=&#34;token attr-name&#34;&gt;aria-hidden&lt;/span&gt;&lt;span class=&#34;token attr-value&#34;&gt;&lt;span class=&#34;token punctuation attr-equals&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;true&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;/&lt;/span&gt;i&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt; &lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;/&lt;/span&gt;a&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;在主题目录下的&lt;code&gt;/source/js/matery.js&lt;/code&gt;文件添加js代码:&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-javascript&#34; data-language=&#34;javascript&#34;&gt;&lt;code class=&#34;language-javascript&#34;&gt;&lt;span class=&#34;token comment&#34;&gt;// 深色模式按钮设置&lt;/span&gt;
&lt;span class=&#34;token keyword&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;localStorage&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;getItem&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;dark&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;===&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;1&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt;
    document&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;body&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;classList&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;add&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;dark&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;else&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token keyword&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;token class-name&#34;&gt;Date&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;getHours&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;&amp;gt;=&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;22&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;||&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;token class-name&#34;&gt;Date&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;getHours&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;7&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;token comment&#34;&gt;/*定时开启暗色模式&amp;lt;默认晚22点至早6点默认开启&amp;gt;*/&lt;/span&gt;
    &lt;span class=&#34;token comment&#34;&gt;// document.body.classList.add(&#39;dark&#39;);&lt;/span&gt;
    &lt;span class=&#34;token comment&#34;&gt;// $(&#34;#nightMode&#34;).removeClass(&#34;fa-moon-o&#34;).addClass(&#34;fa-lightbulb&#34;);&lt;/span&gt;
&lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;else&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;matchMedia&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;(prefers-color-scheme: dark)&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;matches&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt;
    document&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;body&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;classList&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;add&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;dark&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt;

&lt;span class=&#34;token comment&#34;&gt;// 深色模式设置&lt;/span&gt;
&lt;span class=&#34;token keyword&#34;&gt;function&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;switchNightMode&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;token keyword&#34;&gt;var&lt;/span&gt; body &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; document&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;body&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;token keyword&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;body&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;classList&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;contains&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;dark&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt;
        document&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;body&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;classList&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;remove&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;dark&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;
        localStorage&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;setItem&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;dark&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;0&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;
        &lt;span class=&#34;token function&#34;&gt;$&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;#nightMode&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;removeClass&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#34;fa-lightbulb&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;addClass&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#34;fa-moon-o&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;
        &lt;span class=&#34;token keyword&#34;&gt;return&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;else&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt;
        document&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;body&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;classList&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;add&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;dark&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;
        localStorage&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;setItem&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;dark&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;1&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;
        &lt;span class=&#34;token function&#34;&gt;$&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;#nightMode&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;removeClass&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#34;fa-moon-o&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;addClass&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#34;fa-lightbulb&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;
        &lt;span class=&#34;token keyword&#34;&gt;return&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt;

&lt;span class=&#34;token comment&#34;&gt;/*提醒开启夜间模式功能*/&lt;/span&gt;
&lt;span class=&#34;token function&#34;&gt;setTimeout&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;
    &lt;span class=&#34;token keyword&#34;&gt;function&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;token keyword&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token keyword&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;token class-name&#34;&gt;Date&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;getHours&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;&amp;gt;=&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;19&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;||&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;token class-name&#34;&gt;Date&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;getHours&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;7&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;!&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;$&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;body&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;hasClass&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;DarkMode&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt;
            &lt;span class=&#34;token keyword&#34;&gt;let&lt;/span&gt; toastHTML &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;&amp;lt;span style=&#34;color:#97b8b2;border-radius: 10px;&amp;gt;&#39;&lt;/span&gt;
                &lt;span class=&#34;token operator&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;&amp;lt;i class=&#34;fa fa-bell&#34; aria-hidden=&#34;true&#34;&amp;gt;&amp;lt;/i&amp;gt;晚上使用深色模式阅读更好哦。(ﾟ▽ﾟ)/&amp;lt;/span&amp;gt;&#39;&lt;/span&gt;
            &lt;span class=&#34;token constant&#34;&gt;M&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;toast&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;token literal-property property&#34;&gt;html&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt; toastHTML&lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;
        &lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt;
    &lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;2200&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;在主题目录下的&lt;code&gt;/source/css/matery.css&lt;/code&gt;文件添加夜间模式切换的样式:&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-css&#34; data-language=&#34;css&#34;&gt;&lt;code class=&#34;language-css&#34;&gt;&lt;span class=&#34;token comment&#34;&gt;/******夜间模式切换样式 start*******/&lt;/span&gt;
&lt;span class=&#34;token comment&#34;&gt;/* 深色模式按钮设置 */&lt;/span&gt;
&lt;span class=&#34;token selector&#34;&gt;#sma&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;token property&#34;&gt;background&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; #000&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;token property&#34;&gt;width&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; 38px&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;token property&#34;&gt;height&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; 38px&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;token property&#34;&gt;display&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; block&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;token property&#34;&gt;position&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; fixed&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;token property&#34;&gt;border-radius&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; 50%&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;token property&#34;&gt;right&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; 15px&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;token property&#34;&gt;bottom&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; 170px&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;token property&#34;&gt;padding-top&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; 15px&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;token property&#34;&gt;margin-bottom&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; 0&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;token property&#34;&gt;z-index&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; 998&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;token property&#34;&gt;cursor&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; pointer&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt;

&lt;span class=&#34;token selector&#34;&gt;#sma .fa-moon-o&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;token property&#34;&gt;position&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; absolute&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;token property&#34;&gt;right&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; 8px&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;token property&#34;&gt;bottom&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; 8px&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;token property&#34;&gt;font-size&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; 1.48rem &lt;span class=&#34;token important&#34;&gt;!important&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt;

&lt;span class=&#34;token selector&#34;&gt;#sma .fa-lightbulb&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;token property&#34;&gt;position&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; absolute&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;token property&#34;&gt;right&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; 13px&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;token property&#34;&gt;bottom&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; 8px&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;token property&#34;&gt;font-size&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; 1.5rem &lt;span class=&#34;token important&#34;&gt;!important&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt;

&lt;span class=&#34;token selector&#34;&gt;.fa-moon-o:before&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;token property&#34;&gt;content&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;\f186&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt;

&lt;span class=&#34;token selector&#34;&gt;.fa-comments:before&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;token property&#34;&gt;content&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;\f086&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt;

&lt;span class=&#34;token comment&#34;&gt;/* 深色模式设置 */&lt;/span&gt; &lt;span class=&#34;token comment&#34;&gt;/* 字体颜色变灰白色 */&lt;/span&gt;
&lt;span class=&#34;token selector&#34;&gt;body.dark .fas,
body.dark .title,
body.dark .row .text,
body.dark article .article-content .summary,
body.dark .card .card-image .card-title,
body.dark .fa-moon-o:before,
body.dark .fa-lightbulb:before,
body.dark article .article-tags .chip,
body.dark .chip-container .tag-title,
body.dark div.jqcloud a,
body.dark .friends-container .tag-title,
body.dark .frind-ship .title h1,
body.dark .card .card-content p,
body.dark .v[data-class=v] .vcount,
body.dark .v[data-class=v] .vcount .vnum,
body.dark pre code,
body.dark h1,
body.dark h2,
body.dark h3, body.dark h4,
body.dark h5,
body.dark h6, body.dark li,
body.dark p,
body.dark header .side-nav .mobile-head .logo-name,
body.dark header .side-nav .mobile-head .logo-desc,
body.dark header .side-nav .menu-list a,
body.dark .bg-cover .post-title,
body.dark a&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;token property&#34;&gt;color&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;rgba&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;255&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; 255&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; 255&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; 0.6&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt;

&lt;span class=&#34;token comment&#34;&gt;/* 背景颜色变灰色 */&lt;/span&gt;
&lt;span class=&#34;token selector&#34;&gt;body.dark .card,
body.dark .block-with-text:after&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;token property&#34;&gt;background-color&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; #282c34&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt;

&lt;span class=&#34;token comment&#34;&gt;/* 背景颜色变黑色 */&lt;/span&gt;
&lt;span class=&#34;token selector&#34;&gt;body.dark,
body.dark .v[data-class=v] .vcount,
body.dark #rewardModal .modal-content,
body.dark .modal,
body.dark header .side-nav,
body.dark header .side-nav .menu-list .m-nav-show&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;token property&#34;&gt;background-color&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; #12121c&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;
   &lt;span class=&#34;token comment&#34;&gt;/**因为我的背景图导致部分页面无法全部切换成深色背景, 需要取消背景图片**/&lt;/span&gt;
    &lt;span class=&#34;token property&#34;&gt;background-image&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token url&#34;&gt;&lt;span class=&#34;token function&#34;&gt;url&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;#&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt; 
&lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt;

&lt;span class=&#34;token comment&#34;&gt;/* 改变透明度 */&lt;/span&gt;
&lt;span class=&#34;token selector&#34;&gt;body.dark .aplayer&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;token property&#34;&gt;background&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; #2f3742 &lt;span class=&#34;token important&#34;&gt;!important&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt;

&lt;span class=&#34;token selector&#34;&gt;body.dark img, body.dark strong&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;token property&#34;&gt;filter&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;brightness&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;.7&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;token comment&#34;&gt;/******夜间模式切换样式 end*******/&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;Tag标签外挂使用方法&#34;&gt;Tag标签外挂使用方法&lt;/h2&gt;
&lt;pre class=&#34;line-numbers language-markdown&#34; data-language=&#34;markdown&#34;&gt;&lt;code class=&#34;language-markdown&#34;&gt;Tag标签外挂使用方法

{%r%}
紅色
{%endr%}
{%g%}
綠色
{%endg%}
{%y%}
黃色
{%endy%}&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;图片懒加载&#34;&gt;图片懒加载&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;图片懒加载是提升网站性能和用户体验的一个非常很好方式，并且几乎所有的大型网站都使用到了，比如微博，仅把用户可见的部分显示图片，其余的都暂时不加载，做法就是：让所有图片元素src指向一个小的站位图片比如loading，并新增一个属性(如data-original)存放真实图片地址。每当页面加载（或者滚动条滚动），使用JS脚本将可视区域内的图片src替换回真实地址，并做请求重新加载。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Don&#39;t worry about lazyload SEO problem, because Google supports it already.&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;p&gt;那么，赶快用起来吧！&lt;/p&gt;
&lt;p&gt;在站点根目录执行下面的命令：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-bash&#34; data-language=&#34;bash&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;&lt;span class=&#34;token function&#34;&gt;npm&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;install&lt;/span&gt; hexo-lazyload-image --save
&lt;span class=&#34;token comment&#34;&gt;#或者使用yarn&lt;/span&gt;
&lt;span class=&#34;token function&#34;&gt;yarn&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;add&lt;/span&gt; hexo-lazyload-image&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;之后在站点配置文件下添加下面的代码&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-yaml&#34; data-language=&#34;yaml&#34;&gt;&lt;code class=&#34;language-yaml&#34;&gt;&lt;span class=&#34;token key atrule&#34;&gt;lazyload&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;
  &lt;span class=&#34;token key atrule&#34;&gt;enable&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token boolean important&#34;&gt;true&lt;/span&gt;  &lt;span class=&#34;token comment&#34;&gt;# 是否开启图片懒加载&lt;/span&gt;
  &lt;span class=&#34;token key atrule&#34;&gt;onlypost&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token boolean important&#34;&gt;false&lt;/span&gt;  &lt;span class=&#34;token comment&#34;&gt;# 是否只对文章的图片做懒加载&lt;/span&gt;
  &lt;span class=&#34;token key atrule&#34;&gt;loadingImg&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token comment&#34;&gt;# eg ./images/loading.gif&lt;/span&gt;
  &lt;span class=&#34;token key atrule&#34;&gt;isSPA&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token boolean important&#34;&gt;false&lt;/span&gt; &lt;span class=&#34;token comment&#34;&gt;# optional. For performance considering, isSPA is added. If your theme is a SPA page, please set it as true&lt;/span&gt;
  &lt;span class=&#34;token key atrule&#34;&gt;preloadRatio&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;3&lt;/span&gt; &lt;span class=&#34;token comment&#34;&gt;# optional, default is 1&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;最后执行 &lt;code&gt;hexo clean &amp;amp;&amp;amp; hexo g &amp;amp;&amp;amp; hexo s&lt;/code&gt; 就可以看到效果了。&lt;/p&gt;
&lt;p&gt;存在问题：&lt;/p&gt;
&lt;p&gt;查看大图，发现全部为 loading 加载图，原因是因为懒加载插件与 lightgallery 插件冲突，解决办法如下：&lt;/p&gt;
&lt;p&gt;修改主题文件下的 matery.js，在 108 行左右添加以下代码：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-javascript&#34; data-language=&#34;javascript&#34;&gt;&lt;code class=&#34;language-javascript&#34;&gt;&lt;span class=&#34;token function&#34;&gt;$&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;document&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;find&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;img[data-original]&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;each&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token keyword&#34;&gt;function&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;token function&#34;&gt;$&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token keyword&#34;&gt;this&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;parent&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;attr&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#34;href&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;$&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token keyword&#34;&gt;this&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;attr&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#34;data-original&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
&lt;h3 id=&#34;specify-no-lazy-for-specify-image&#34;&gt;specify &lt;strong&gt;no-lazy&lt;/strong&gt; for specify image&lt;/h3&gt;
&lt;p&gt;we can also disable the lazy process if specify a attribute on img tag in both markdown or html&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-html&#34; data-language=&#34;html&#34;&gt;&lt;code class=&#34;language-html&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;img&lt;/span&gt; &lt;span class=&#34;token attr-name&#34;&gt;no-lazy&lt;/span&gt; &lt;span class=&#34;token attr-name&#34;&gt;src&lt;/span&gt;&lt;span class=&#34;token attr-value&#34;&gt;&lt;span class=&#34;token punctuation attr-equals&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;abc.png&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;/&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/blockquote&gt;
&lt;h2 id=&#34;外链跳转插件&#34;&gt;外链跳转插件&lt;/h2&gt;
&lt;p&gt;使用 npm 或者 yarn 安装&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-bash&#34; data-language=&#34;bash&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;&lt;span class=&#34;token comment&#34;&gt;## npm 安装&lt;/span&gt;
&lt;span class=&#34;token function&#34;&gt;npm&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;install&lt;/span&gt; hexo-external-link --save
&lt;span class=&#34;token comment&#34;&gt;## yarn 安装&lt;/span&gt;
&lt;span class=&#34;token function&#34;&gt;yarn&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;add&lt;/span&gt; hexo-external-link&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;之后在博客站点根目录下添加如下配置：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-yaml&#34; data-language=&#34;yaml&#34;&gt;&lt;code class=&#34;language-yaml&#34;&gt;&lt;span class=&#34;token key atrule&#34;&gt;hexo_external_link&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;
  &lt;span class=&#34;token key atrule&#34;&gt;enable&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token boolean important&#34;&gt;true&lt;/span&gt;
  &lt;span class=&#34;token key atrule&#34;&gt;enable_base64_encode&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token boolean important&#34;&gt;true&lt;/span&gt;
  &lt;span class=&#34;token key atrule&#34;&gt;url_param_name&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;u&#39;&lt;/span&gt;
  &lt;span class=&#34;token key atrule&#34;&gt;html_file_name&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;go.html&#39;&lt;/span&gt;
  &lt;span class=&#34;token key atrule&#34;&gt;target_blank&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token boolean important&#34;&gt;true&lt;/span&gt;
  &lt;span class=&#34;token key atrule&#34;&gt;link_rel&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;external nofollow noopener noreferrer&#39;&lt;/span&gt;
  &lt;span class=&#34;token key atrule&#34;&gt;domain&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;your_domain&#39;&lt;/span&gt; &lt;span class=&#34;token comment&#34;&gt;# 如果开启了防盗链，填写你的域名&lt;/span&gt;
  &lt;span class=&#34;token key atrule&#34;&gt;safety_chain&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token boolean important&#34;&gt;true&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;添加天气小插件&#34;&gt;添加天气小插件&lt;/h2&gt;
&lt;p&gt;首先去中国天气&lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://cj.weather.com.cn/plugin/pc&#34;&gt;官网：&lt;/a&gt;，配置自己的插件，选择自定义插件—&amp;gt;自定义样式——&amp;gt;生成代码，然后会生成一段代码，复制粘贴到 &lt;code&gt;themes/matery/layout/layout.ejs&lt;/code&gt; 即可。&lt;/p&gt;
&lt;h2 id=&#34;新增个人相册&#34;&gt;新增个人相册&lt;/h2&gt;
&lt;h3 id=&#34;新建相册目录&#34;&gt;新建相册目录&lt;/h3&gt;
&lt;p&gt;执行下面的命令：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-bash&#34; data-language=&#34;bash&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;hexo new page galleries&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;然后到站点根目录的 source 目录下找名称为 &lt;strong&gt;galleries&lt;/strong&gt; 的目录，打开目录下的 **index.md ** 文档，在原有基础上添加一下配置：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-bash&#34; data-language=&#34;bash&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;type: &lt;span class=&#34;token string&#34;&gt;&#34;galleries&#34;&lt;/span&gt;
layout: &lt;span class=&#34;token string&#34;&gt;&#34;galleries&#34;&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;紧接着，在主题配置文件的 &lt;code&gt;menu&lt;/code&gt; 属性添加关于相册的菜单&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-yaml&#34; data-language=&#34;yaml&#34;&gt;&lt;code class=&#34;language-yaml&#34;&gt;&lt;span class=&#34;token key atrule&#34;&gt;相册&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;
  &lt;span class=&#34;token key atrule&#34;&gt;url&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; /galleries 
  &lt;span class=&#34;token key atrule&#34;&gt;icon&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; fas fa&lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt;image&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;如果需要添加到二级菜单，添加格式为：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-yaml&#34; data-language=&#34;yaml&#34;&gt;&lt;code class=&#34;language-yaml&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt; &lt;span class=&#34;token key atrule&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; 相册
  &lt;span class=&#34;token key atrule&#34;&gt;url&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; /galleries 
  &lt;span class=&#34;token key atrule&#34;&gt;icon&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; fas fa&lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt;image&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;添加-ejs-文件和-css-文件&#34;&gt;添加 ejs 文件和 css 文件&lt;/h3&gt;
&lt;p&gt;首先新建 &lt;code&gt;gallery.css&lt;/code&gt;，填写的代码内容如下：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-css&#34; data-language=&#34;css&#34;&gt;&lt;code class=&#34;language-css&#34;&gt;&lt;span class=&#34;token selector&#34;&gt;.gallery-wrapper&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt;
  &lt;span class=&#34;token property&#34;&gt;padding-top&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; 30px&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;token selector&#34;&gt;.gallery-wrapper .gallery-box&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt;
  &lt;span class=&#34;token property&#34;&gt;padding&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; 5px &lt;span class=&#34;token important&#34;&gt;!important&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt;

&lt;span class=&#34;token selector&#34;&gt;.gallery-wrapper .gallery-item&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt;
  &lt;span class=&#34;token property&#34;&gt;display&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; block&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;
  &lt;span class=&#34;token property&#34;&gt;overflow&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; hidden&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;
  &lt;span class=&#34;token property&#34;&gt;background-color&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; #fff&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;
  &lt;span class=&#34;token property&#34;&gt;padding&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; 5px&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;
  &lt;span class=&#34;token property&#34;&gt;padding-bottom&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; 0&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;
  &lt;span class=&#34;token property&#34;&gt;position&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; relative&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;
  &lt;span class=&#34;token property&#34;&gt;-moz-box-shadow&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; 0 1px 3px 0 &lt;span class=&#34;token function&#34;&gt;rgba&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;0&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; 0&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; 0&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; 0.22&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;
  &lt;span class=&#34;token property&#34;&gt;-webkit-box-shadow&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; 0 1px 3px 0 &lt;span class=&#34;token function&#34;&gt;rgba&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;0&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; 0&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; 0&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; 0.22&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;
  &lt;span class=&#34;token property&#34;&gt;box-shadow&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; 0 1px 3px 0 &lt;span class=&#34;token function&#34;&gt;rgba&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;0&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; 0&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; 0&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; 0.22&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt;

&lt;span class=&#34;token selector&#34;&gt;.gallery-cover-box&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt;
  &lt;span class=&#34;token property&#34;&gt;width&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; 100%&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;
  &lt;span class=&#34;token property&#34;&gt;padding-top&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; 60%&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;
  &lt;span class=&#34;token property&#34;&gt;text-align&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; center&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;
  &lt;span class=&#34;token property&#34;&gt;overflow&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; hidden&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;
  &lt;span class=&#34;token property&#34;&gt;position&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; relative&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;
  &lt;span class=&#34;token property&#34;&gt;background&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; center center no-repeat&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;
  &lt;span class=&#34;token property&#34;&gt;-webkit-background-size&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; cover&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;
  &lt;span class=&#34;token property&#34;&gt;background-size&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; cover&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt;

&lt;span class=&#34;token selector&#34;&gt;.gallery-cover-box .gallery-cover-img&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt;
  &lt;span class=&#34;token property&#34;&gt;display&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; inline-block&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;
  &lt;span class=&#34;token property&#34;&gt;width&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; 100%&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;
  &lt;span class=&#34;token property&#34;&gt;position&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; absolute&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;
  &lt;span class=&#34;token property&#34;&gt;left&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; 50%&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;
  &lt;span class=&#34;token property&#34;&gt;top&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; 50%&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;
  &lt;span class=&#34;token property&#34;&gt;transform&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;translate&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;-50%&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;-50%&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;token selector&#34;&gt;.gallery-item .gallery-name&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt;
  &lt;span class=&#34;token property&#34;&gt;font-size&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; 14px&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;
  &lt;span class=&#34;token property&#34;&gt;line-height&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; 24px&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;
  &lt;span class=&#34;token property&#34;&gt;text-align&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; center&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;
  &lt;span class=&#34;token property&#34;&gt;color&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; #666&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;
  &lt;span class=&#34;token property&#34;&gt;margin&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; 0&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt;

&lt;span class=&#34;token selector&#34;&gt;.waterfall&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt;
  &lt;span class=&#34;token property&#34;&gt;column-count&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; 3&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;
  &lt;span class=&#34;token property&#34;&gt;column-gap&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; 1em&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;token selector&#34;&gt;.photo-wrapper&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt;
  &lt;span class=&#34;token property&#34;&gt;padding-top&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; 20px&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;token selector&#34;&gt;.photo-item&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt;
  &lt;span class=&#34;token property&#34;&gt;display&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; block&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;
  &lt;span class=&#34;token property&#34;&gt;padding&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; 10px&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;
  &lt;span class=&#34;token property&#34;&gt;padding-bottom&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; 0&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;
  &lt;span class=&#34;token property&#34;&gt;margin-bottom&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; 14px&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;
  &lt;span class=&#34;token property&#34;&gt;font-size&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; 0&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;
  &lt;span class=&#34;token property&#34;&gt;-moz-page-break-inside&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; avoid&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;
  &lt;span class=&#34;token property&#34;&gt;-webkit-column-break-inside&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; avoid&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;
  &lt;span class=&#34;token property&#34;&gt;break-inside&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; avoid&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;
  &lt;span class=&#34;token property&#34;&gt;background&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; white&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;
  &lt;span class=&#34;token property&#34;&gt;-moz-box-shadow&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; 0 1px 3px 0 &lt;span class=&#34;token function&#34;&gt;rgba&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;0&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; 0&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; 0&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; 0.22&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;
  &lt;span class=&#34;token property&#34;&gt;-webkit-box-shadow&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; 0 1px 3px 0 &lt;span class=&#34;token function&#34;&gt;rgba&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;0&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; 0&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; 0&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; 0.22&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;
  &lt;span class=&#34;token property&#34;&gt;box-shadow&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; 0 1px 3px 0 &lt;span class=&#34;token function&#34;&gt;rgba&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;0&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; 0&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; 0&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; 0.22&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;token selector&#34;&gt;.photo-item img&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt;
  &lt;span class=&#34;token property&#34;&gt;width&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; 100%&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;token selector&#34;&gt;.photo-item .photo-name&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt;
  &lt;span class=&#34;token property&#34;&gt;font-size&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; 14px&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;
  &lt;span class=&#34;token property&#34;&gt;line-height&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; 30px&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;
  &lt;span class=&#34;token property&#34;&gt;text-align&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; center&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;
  &lt;span class=&#34;token property&#34;&gt;margin-top&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; 10px&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;
  &lt;span class=&#34;token property&#34;&gt;margin-bottom&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; 10px&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;
  &lt;span class=&#34;token property&#34;&gt;border-top&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; 1px solid #dddddd&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt;

&lt;span class=&#34;token comment&#34;&gt;/*适配移动端布局*/&lt;/span&gt;
&lt;span class=&#34;token atrule&#34;&gt;&lt;span class=&#34;token rule&#34;&gt;@media&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;only&lt;/span&gt; screen &lt;span class=&#34;token keyword&#34;&gt;and&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token property&#34;&gt;max-width&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; 601px&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt;
  &lt;span class=&#34;token selector&#34;&gt;.waterfall&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;token property&#34;&gt;column-count&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; 2&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;token property&#34;&gt;column-gap&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; 1em&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;
  &lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;然后保存，将此文件放在主题目录下，路径为 &lt;strong&gt;matery/source/css&lt;/strong&gt;。&lt;/p&gt;
&lt;p&gt;紧接着，新建 &lt;code&gt;galleries.ejs&lt;/code&gt; 文件，添加以下代码：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-javascript&#34; data-language=&#34;javascript&#34;&gt;&lt;code class=&#34;language-javascript&#34;&gt;&lt;span class=&#34;token operator&#34;&gt;&amp;lt;&lt;/span&gt;link rel&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#34;stylesheet&#34;&lt;/span&gt; href&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#34;/css/gallery.css&#34;&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;&amp;gt;&lt;/span&gt;

&lt;span class=&#34;token operator&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;%&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;-&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;partial&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;_partial/bg-cover&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;%&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;&amp;gt;&lt;/span&gt;

&lt;span class=&#34;token operator&#34;&gt;&amp;lt;&lt;/span&gt;main &lt;span class=&#34;token keyword&#34;&gt;class&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#34;content&#34;&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;&amp;gt;&lt;/span&gt;
    &lt;span class=&#34;token operator&#34;&gt;&amp;lt;&lt;/span&gt;div &lt;span class=&#34;token keyword&#34;&gt;class&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#34;container&#34;&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;&amp;gt;&lt;/span&gt;
        &lt;span class=&#34;token operator&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;%&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;site&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;data &lt;span class=&#34;token operator&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; site&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;data&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;galleries&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;%&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;&amp;gt;&lt;/span&gt;
        &lt;span class=&#34;token operator&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;%&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;var&lt;/span&gt; galleries &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; site&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;data&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;galleries&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;%&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;&amp;gt;&lt;/span&gt;
        &lt;span class=&#34;token operator&#34;&gt;&amp;lt;&lt;/span&gt;div &lt;span class=&#34;token keyword&#34;&gt;class&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#34;gallery-wrapper row&#34;&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;&amp;gt;&lt;/span&gt;
            &lt;span class=&#34;token operator&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;%&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;for&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token keyword&#34;&gt;var&lt;/span&gt; i &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; len &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; galleries&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;length&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt; i &lt;span class=&#34;token operator&#34;&gt;&amp;lt;&lt;/span&gt; len&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt; i&lt;span class=&#34;token operator&#34;&gt;++&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;%&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;&amp;gt;&lt;/span&gt;
            &lt;span class=&#34;token operator&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;%&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;var&lt;/span&gt; gallery &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; galleries&lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;i&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;%&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;&amp;gt;&lt;/span&gt;
            &lt;span class=&#34;token operator&#34;&gt;&amp;lt;&lt;/span&gt;div &lt;span class=&#34;token keyword&#34;&gt;class&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#34;col s6 m4 l4 xl3 gallery-box&#34;&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;&amp;gt;&lt;/span&gt;
                &lt;span class=&#34;token operator&#34;&gt;&amp;lt;&lt;/span&gt;a href&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#34;./&amp;lt;%- gallery.name %&amp;gt;&#34;&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;class&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#34;gallery-item&#34;&lt;/span&gt; data&lt;span class=&#34;token operator&#34;&gt;-&lt;/span&gt;aos&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#34;zoom-in-up&#34;&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;&amp;gt;&lt;/span&gt;
                     &lt;span class=&#34;token operator&#34;&gt;&amp;lt;&lt;/span&gt;div &lt;span class=&#34;token keyword&#34;&gt;class&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#34;gallery-cover-box&#34;&lt;/span&gt; style&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#34;background-image: url(&amp;lt;%- theme.jsDelivr.url %&amp;gt;&amp;lt;%- gallery.cover%&amp;gt;);&#34;&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;&amp;gt;&lt;/span&gt;
                    &lt;span class=&#34;token operator&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;/&lt;/span&gt;div&lt;span class=&#34;token operator&#34;&gt;&amp;gt;&lt;/span&gt;
                    &lt;span class=&#34;token operator&#34;&gt;&amp;lt;&lt;/span&gt;p &lt;span class=&#34;token keyword&#34;&gt;class&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#34;gallery-name&#34;&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;&amp;gt;&lt;/span&gt;
                        &lt;span class=&#34;token operator&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;%&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;-&lt;/span&gt; gallery&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;name &lt;span class=&#34;token operator&#34;&gt;%&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;&amp;gt;&lt;/span&gt;
                    &lt;span class=&#34;token operator&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;/&lt;/span&gt;p&lt;span class=&#34;token operator&#34;&gt;&amp;gt;&lt;/span&gt;
                &lt;span class=&#34;token operator&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;/&lt;/span&gt;a&lt;span class=&#34;token operator&#34;&gt;&amp;gt;&lt;/span&gt;
            &lt;span class=&#34;token operator&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;/&lt;/span&gt;div&lt;span class=&#34;token operator&#34;&gt;&amp;gt;&lt;/span&gt;
            &lt;span class=&#34;token operator&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;%&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;%&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;&amp;gt;&lt;/span&gt;
        &lt;span class=&#34;token operator&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;/&lt;/span&gt;div&lt;span class=&#34;token operator&#34;&gt;&amp;gt;&lt;/span&gt;
        &lt;span class=&#34;token operator&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;%&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;%&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;&amp;gt;&lt;/span&gt;
    &lt;span class=&#34;token operator&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;/&lt;/span&gt;div&lt;span class=&#34;token operator&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;span class=&#34;token operator&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;/&lt;/span&gt;main&lt;span class=&#34;token operator&#34;&gt;&amp;gt;&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;将此文件放在 &lt;strong&gt;matery/layout&lt;/strong&gt; 目录下，同时再此目录下接着新建 &lt;code&gt;gallery.ejs&lt;/code&gt; 文件，添加以下代码：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-javascript&#34; data-language=&#34;javascript&#34;&gt;&lt;code class=&#34;language-javascript&#34;&gt;&lt;span class=&#34;token operator&#34;&gt;&amp;lt;&lt;/span&gt;link rel&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#34;stylesheet&#34;&lt;/span&gt; href&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#34;/css/gallery.css&#34;&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;span class=&#34;token operator&#34;&gt;&amp;lt;&lt;/span&gt;link type&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#34;text/css&#34;&lt;/span&gt; href&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#34;/libs/fancybox/jquery.fancybox.css&#34;&lt;/span&gt; rel&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#34;stylesheet&#34;&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;span class=&#34;token operator&#34;&gt;&amp;lt;&lt;/span&gt;link type&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#34;text/css&#34;&lt;/span&gt; href&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#34;/libs/justifiedGallery/justifiedGallery.min.css&#34;&lt;/span&gt; rel&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#34;stylesheet&#34;&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;&amp;gt;&lt;/span&gt;

&lt;span class=&#34;token operator&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;%&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;-&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;partial&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;_partial/post-cover&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;%&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;span class=&#34;token operator&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;%&lt;/span&gt;
&lt;span class=&#34;token keyword&#34;&gt;let&lt;/span&gt; galleries &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;token keyword&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;site&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;data &lt;span class=&#34;token operator&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; site&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;data&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;galleries&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt;
    galleries &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; site&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;data&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;galleries&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;token keyword&#34;&gt;var&lt;/span&gt; pageTitle &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; page&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;title&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;token keyword&#34;&gt;function&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;getCurrentGallery&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token parameter&#34;&gt;galleries&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; pageTitle&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;token keyword&#34;&gt;for&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token keyword&#34;&gt;let&lt;/span&gt; i &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt; i &lt;span class=&#34;token operator&#34;&gt;&amp;lt;&lt;/span&gt; galleries&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;length&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt; i&lt;span class=&#34;token operator&#34;&gt;++&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;token keyword&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;galleries&lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;i&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;name&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;==&lt;/span&gt; pageTitle&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt;
            &lt;span class=&#34;token keyword&#34;&gt;return&lt;/span&gt; galleries&lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;i&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;
        &lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt;
    &lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;token keyword&#34;&gt;var&lt;/span&gt; currentGallery &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;getCurrentGallery&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;galleries&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; pageTitle&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;

&lt;span class=&#34;token keyword&#34;&gt;var&lt;/span&gt; photos &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; currentGallery&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;photos&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;token keyword&#34;&gt;var&lt;/span&gt; galleryImageStr &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; theme&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;jsDelivr&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;url &lt;span class=&#34;token operator&#34;&gt;?&lt;/span&gt; theme&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;jsDelivr&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;url &lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;

&lt;span class=&#34;token keyword&#34;&gt;let&lt;/span&gt; imageStr &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;&#39;&lt;/span&gt;

&lt;span class=&#34;token keyword&#34;&gt;for&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token keyword&#34;&gt;var&lt;/span&gt; i &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; len &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; photos&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;length&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt; i &lt;span class=&#34;token operator&#34;&gt;&amp;lt;&lt;/span&gt; len&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt; i&lt;span class=&#34;token operator&#34;&gt;++&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;token keyword&#34;&gt;var&lt;/span&gt; photo &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; photos&lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;i&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;

    imageStr &lt;span class=&#34;token operator&#34;&gt;+=&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;&amp;lt;a href=\&#34;&#34;&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;+&lt;/span&gt; galleryImageStr &lt;span class=&#34;token operator&#34;&gt;+&lt;/span&gt; photo &lt;span class=&#34;token operator&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;\&#34;&#34;&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;+&lt;/span&gt;
            &lt;span class=&#34;token string&#34;&gt;&#34;     class=\&#34;photo-item\&#34; rel=\&#34;example_group\&#34;&#34;&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;+&lt;/span&gt;
            &lt;span class=&#34;token string&#34;&gt;&#34;     data-fancybox=\&#34;images\&#34;&amp;gt;&#34;&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;+&lt;/span&gt;
            &lt;span class=&#34;token string&#34;&gt;&#34;      &amp;lt;img src=\&#34;&#34;&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;+&lt;/span&gt; galleryImageStr &lt;span class=&#34;token operator&#34;&gt;+&lt;/span&gt; photo &lt;span class=&#34;token operator&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;\&#34;&#34;&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;+&lt;/span&gt;
            &lt;span class=&#34;token string&#34;&gt;&#34;       alt=&#34;&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;+&lt;/span&gt; photo &lt;span class=&#34;token operator&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;&amp;gt;\n&#34;&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;+&lt;/span&gt;
            &lt;span class=&#34;token string&#34;&gt;&#34;    &amp;lt;/a&amp;gt;&#34;&lt;/span&gt;

&lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;token operator&#34;&gt;%&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;&amp;gt;&lt;/span&gt;  

&lt;span class=&#34;token operator&#34;&gt;&amp;lt;&lt;/span&gt;div &lt;span class=&#34;token keyword&#34;&gt;class&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#34;container&#34;&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;&amp;gt;&lt;/span&gt;
    &lt;span class=&#34;token operator&#34;&gt;&amp;lt;&lt;/span&gt;div &lt;span class=&#34;token keyword&#34;&gt;class&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#34;photo-wrapper&#34;&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;&amp;gt;&lt;/span&gt;
        &lt;span class=&#34;token operator&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;%&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;page&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;password &lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;%&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;&amp;gt;&lt;/span&gt;

            &lt;span class=&#34;token operator&#34;&gt;&amp;lt;&lt;/span&gt;script src&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#34;/js/crypto-js.js&#34;&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;/&lt;/span&gt;script&lt;span class=&#34;token operator&#34;&gt;&amp;gt;&lt;/span&gt;
            &lt;span class=&#34;token operator&#34;&gt;&amp;lt;&lt;/span&gt;script src&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#34;/js/gallery-encrypt.js&#34;&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;/&lt;/span&gt;script&lt;span class=&#34;token operator&#34;&gt;&amp;gt;&lt;/span&gt;
            &lt;span class=&#34;token operator&#34;&gt;&amp;lt;&lt;/span&gt;div id&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#34;hbe-security&#34;&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;&amp;gt;&lt;/span&gt;
                &lt;span class=&#34;token operator&#34;&gt;&amp;lt;&lt;/span&gt;div &lt;span class=&#34;token keyword&#34;&gt;class&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#34;hbe-input-container&#34;&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;&amp;gt;&lt;/span&gt;
                    &lt;span class=&#34;token operator&#34;&gt;&amp;lt;&lt;/span&gt;input type&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#34;password&#34;&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;class&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#34;hbe-form-control&#34;&lt;/span&gt; id&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#34;pass&#34;&lt;/span&gt;  placeholder&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#34;请输入密码查看内容&#34;&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;&amp;gt;&lt;/span&gt;
                    &lt;span class=&#34;token operator&#34;&gt;&amp;lt;&lt;/span&gt;a href&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#34;javascript:;&#34;&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;class&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#34;btn-decrypt&#34;&lt;/span&gt; id&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#34;btn_decrypt&#34;&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;&amp;gt;&lt;/span&gt;解密&lt;span class=&#34;token operator&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;/&lt;/span&gt;a&lt;span class=&#34;token operator&#34;&gt;&amp;gt;&lt;/span&gt;
                &lt;span class=&#34;token operator&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;/&lt;/span&gt;div&lt;span class=&#34;token operator&#34;&gt;&amp;gt;&lt;/span&gt;
            &lt;span class=&#34;token operator&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;/&lt;/span&gt;div&lt;span class=&#34;token operator&#34;&gt;&amp;gt;&lt;/span&gt;
            &lt;span class=&#34;token operator&#34;&gt;&amp;lt;&lt;/span&gt;div  id&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#34;mygallery&#34;&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;&amp;gt;&lt;/span&gt;
                &lt;span class=&#34;token operator&#34;&gt;&amp;lt;&lt;/span&gt;div &lt;span class=&#34;token keyword&#34;&gt;class&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#34;waterfall&#34;&lt;/span&gt; id&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#34;encrypt-blog&#34;&lt;/span&gt; style&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#34;display:none&#34;&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;&amp;gt;&lt;/span&gt;
                    &lt;span class=&#34;token operator&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;%&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;-&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;aes&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;imageStr&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; page&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;password&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;%&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;&amp;gt;&lt;/span&gt;
                &lt;span class=&#34;token operator&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;/&lt;/span&gt;div&lt;span class=&#34;token operator&#34;&gt;&amp;gt;&lt;/span&gt;
            &lt;span class=&#34;token operator&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;/&lt;/span&gt;div&lt;span class=&#34;token operator&#34;&gt;&amp;gt;&lt;/span&gt;
        &lt;span class=&#34;token operator&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;%&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;else&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;%&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;&amp;gt;&lt;/span&gt;
            &lt;span class=&#34;token operator&#34;&gt;&amp;lt;&lt;/span&gt;div &lt;span class=&#34;token keyword&#34;&gt;class&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#34;waterfall&#34;&lt;/span&gt; id&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#34;encrypt-blog&#34;&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;&amp;gt;&lt;/span&gt;
                &lt;span class=&#34;token operator&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;%&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;-&lt;/span&gt; imageStr &lt;span class=&#34;token operator&#34;&gt;%&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;&amp;gt;&lt;/span&gt;
            &lt;span class=&#34;token operator&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;/&lt;/span&gt;div&lt;span class=&#34;token operator&#34;&gt;&amp;gt;&lt;/span&gt;
        &lt;span class=&#34;token operator&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;%&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;%&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;&amp;gt;&lt;/span&gt;
    &lt;span class=&#34;token operator&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;/&lt;/span&gt;div&lt;span class=&#34;token operator&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;span class=&#34;token operator&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;/&lt;/span&gt;div&lt;span class=&#34;token operator&#34;&gt;&amp;gt;&lt;/span&gt;

&lt;span class=&#34;token operator&#34;&gt;&amp;lt;&lt;/span&gt;script src&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#34;/libs/fancybox/fancybox.js&#34;&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;/&lt;/span&gt;script&lt;span class=&#34;token operator&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;span class=&#34;token operator&#34;&gt;&amp;lt;&lt;/span&gt;script src&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#34;/libs/justifiedGallery/justifiedGallery.min.js&#34;&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;/&lt;/span&gt;script&lt;span class=&#34;token operator&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;span class=&#34;token operator&#34;&gt;&amp;lt;&lt;/span&gt;script&lt;span class=&#34;token operator&#34;&gt;&amp;gt;&lt;/span&gt;

  &lt;span class=&#34;token function&#34;&gt;$&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#34;a[rel=example_group]&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;fancybox&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;
  &lt;span class=&#34;token function&#34;&gt;$&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#34;#encrypt-blog&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;justifiedGallery&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;token literal-property property&#34;&gt;margins&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;5&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token literal-property property&#34;&gt;rowHeight&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;150&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;

&lt;span class=&#34;token operator&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;/&lt;/span&gt;script&lt;span class=&#34;token operator&#34;&gt;&amp;gt;&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;strong&gt;注意：&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;需要几个文件，我把文件地址放在下面，用浏览器打开链接，就会显示出代码，然后复制粘贴到文加中去就行。开头的是文件路径，如果没有的话，就新建一个就 OK 了。&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;libs/fancybox/jquery.fancybox.css&lt;/strong&gt;：&lt;/p&gt;
&lt;p&gt;https://blog.17lai.site/libs/fancybox/jquery.fancybox.css&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;libs/justifiedGallery/justifiedGallery.min.css：&lt;/p&gt;
&lt;p&gt;https://blog.17lai.site/libs/justifiedGallery/justifiedGallery.min.css&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;matery/source/js/crypto-js.js：&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;https://blog.17lai.site/js/crypto-js.js&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;matery/source/js/gallery-encrypt.js：&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;https://blog.17lai.site/js/gallery-encrypt.js&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;libs/fancybox/fancybox.js：&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;https://blog.17lai.site/libs/fancybox/fancybox.js&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;libs/justifiedGallery/justifiedGallery.min.js：&lt;/p&gt;
&lt;p&gt;https://blog.17lai.site/libs/justifiedGallery/justifiedGallery.min.js&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;添加相册-json-配置文件&#34;&gt;添加相册 json 配置文件&lt;/h3&gt;
&lt;p&gt;在&lt;code&gt;站点&lt;/code&gt;目录 &lt;code&gt;source/_data/&lt;/code&gt; 下新建一个 &lt;strong&gt;galleries.json&lt;/strong&gt; 的文件，&lt;strong&gt;json&lt;/strong&gt; 代码如下：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-json&#34; data-language=&#34;json&#34;&gt;&lt;code class=&#34;language-json&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;
    &lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt;
      &lt;span class=&#34;token property&#34;&gt;&#34;name&#34;&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;2020&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;
      &lt;span class=&#34;token property&#34;&gt;&#34;cover&#34;&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;/medias_webp/images/01.webp&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;
      &lt;span class=&#34;token property&#34;&gt;&#34;description&#34;&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;我的图床&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;
      &lt;span class=&#34;token property&#34;&gt;&#34;photos&#34;&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;
        &lt;span class=&#34;token string&#34;&gt;&#34;/medias_webp/images/01.webp&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;
        &lt;span class=&#34;token string&#34;&gt;&#34;/medias_webp/images/02.webp&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;
        &lt;span class=&#34;token string&#34;&gt;&#34;/medias_webp/images/03.webp&#34;&lt;/span&gt;
      &lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;
    &lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;
    &lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt;
      &lt;span class=&#34;token property&#34;&gt;&#34;name&#34;&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;2021&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;
      &lt;span class=&#34;token property&#34;&gt;&#34;cover&#34;&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;/medias_webp/featureimages/1.webp&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;
      &lt;span class=&#34;token property&#34;&gt;&#34;description&#34;&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;featureimages 图片展示&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;
      &lt;span class=&#34;token property&#34;&gt;&#34;photos&#34;&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;
        &lt;span class=&#34;token string&#34;&gt;&#34;/medias_webp/featureimages/1.webp&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;
        &lt;span class=&#34;token string&#34;&gt;&#34;/medias_webp/featureimages/2.webp&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;
        &lt;span class=&#34;token string&#34;&gt;&#34;/medias_webp/featureimages/3.webp&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;
        &lt;span class=&#34;token string&#34;&gt;&#34;/medias_webp/featureimages/4.webp&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;
      &lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;
    &lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;
    &lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt;
      &lt;span class=&#34;token property&#34;&gt;&#34;name&#34;&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;2022&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;
      &lt;span class=&#34;token property&#34;&gt;&#34;cover&#34;&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;/medias_webp/banner/0.webp&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;
      &lt;span class=&#34;token property&#34;&gt;&#34;description&#34;&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;banner 图片展示&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;
      &lt;span class=&#34;token property&#34;&gt;&#34;photos&#34;&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;
        &lt;span class=&#34;token string&#34;&gt;&#34;/medias_webp/banner/0.webp&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;
        &lt;span class=&#34;token string&#34;&gt;&#34;/medias_webp/banner/1.webp&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;
        &lt;span class=&#34;token string&#34;&gt;&#34;/medias_webp/banner/2.webp&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;
      &lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;
    &lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;字段含义：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;name&lt;/code&gt; 是相册标题&lt;/li&gt;
&lt;li&gt;&lt;code&gt;cover&lt;/code&gt; 是封面图片&lt;/li&gt;
&lt;li&gt;&lt;code&gt;description&lt;/code&gt; 是相册介绍&lt;/li&gt;
&lt;li&gt;&lt;code&gt;photos&lt;/code&gt; 是图片列表&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;配置文件建好了之后还没完，只剩最后一个步骤了，在 &lt;strong&gt;galleries 目录&lt;/strong&gt;下建立对应的相册名称目录和文件，比如我这个相册需要新建名称为 2020 目录，然后下面再分别新建 &lt;code&gt;index.md&lt;/code&gt; 文件，&lt;code&gt;2020/index.md&lt;/code&gt;文件内容为：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-markdown&#34; data-language=&#34;markdown&#34;&gt;&lt;code class=&#34;language-markdown&#34;&gt;&lt;span class=&#34;token front-matter-block&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;---&lt;/span&gt;
&lt;span class=&#34;token front-matter yaml language-yaml&#34;&gt;&lt;span class=&#34;token key atrule&#34;&gt;title&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;2020&lt;/span&gt;
&lt;span class=&#34;token key atrule&#34;&gt;date&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token datetime number&#34;&gt;2021-10-13 10:51:50&lt;/span&gt;
&lt;span class=&#34;token key atrule&#34;&gt;type&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;gallery&#34;&lt;/span&gt;
&lt;span class=&#34;token key atrule&#34;&gt;layout&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;gallery&#34;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&#34;token punctuation&#34;&gt;---&lt;/span&gt;&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;code&gt;2021/index.md&lt;/code&gt;，&lt;code&gt;2022/index.md&lt;/code&gt;文件内容和上面一样，只是&lt;code&gt;title&lt;/code&gt;修改不同而已&lt;/p&gt;
&lt;p&gt;galleries 目录结构&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-none&#34;&gt;&lt;code class=&#34;language-none&#34;&gt;galleries
├── 2020
│&amp;nbsp;&amp;nbsp; └── index.md
├── 2021
│&amp;nbsp;&amp;nbsp; └── index.md
├── 2022
│&amp;nbsp;&amp;nbsp; └── index.md
├── index.md&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;查看效果&#34;&gt;查看效果&lt;/h3&gt;
&lt;p&gt;完成以上步骤，执行命令，在本地查看效果：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-bash&#34; data-language=&#34;bash&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;hexo clean &lt;span class=&#34;token operator&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; hexo g &lt;span class=&#34;token operator&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; hexo s&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;我的效果&#34;&gt;我的&lt;a href=&#34;https://blog.17lai.site/galleries&#34;&gt;效果&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2021/10/1320211013084134.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;h2 id=&#34;新增折叠功能&#34;&gt;新增折叠功能&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;这里利用&lt;code&gt;hexo-sliding-spoiler&lt;/code&gt;插件间接实现折叠功能，在matery主题中零修改源代码实现折叠功能。&lt;/p&gt;
&lt;p&gt;另一种修改代码实现折叠效果，参考&lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://www.cnblogs.com/woshimrf/p/hexo-fold-block.html&#34;&gt;Hexo next博客添加折叠块功能添加折叠代码块&lt;/a&gt;。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;安装插件-2&#34;&gt;安装插件&lt;/h3&gt;
&lt;pre class=&#34;line-numbers language-bash&#34; data-language=&#34;bash&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;&lt;span class=&#34;token function&#34;&gt;npm&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;install&lt;/span&gt; hexo-sliding-spoiler --save&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;配置插件&#34;&gt;配置插件&lt;/h3&gt;
&lt;p&gt;根目录配置文件&lt;code&gt;_config.yml&lt;/code&gt;中添加&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-yaml&#34; data-language=&#34;yaml&#34;&gt;&lt;code class=&#34;language-yaml&#34;&gt;&lt;span class=&#34;token key atrule&#34;&gt;plugin&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;
&lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt; hexo&lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt;sliding&lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt;spoiler&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;到这里已经实现折叠功能了。&lt;/p&gt;
&lt;h3 id=&#34;进一步完善美化&#34;&gt;进一步完善美化&lt;/h3&gt;
&lt;p&gt;修改node_modules_hexo-sliding-spoiler@1.2.1@hexo-sliding-spoiler\assets\spoiler.css&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-css&#34; data-language=&#34;css&#34;&gt;&lt;code class=&#34;language-css&#34;&gt;&lt;span class=&#34;token selector&#34;&gt;.spoiler&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;token property&#34;&gt;margin&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; 20px 0&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;token property&#34;&gt;padding&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; 15px&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;token property&#34;&gt;border&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; 1px solid #E5E5E5&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;token property&#34;&gt;background&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; #E5E5E5&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;token property&#34;&gt;position&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; relative&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;token property&#34;&gt;clear&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; both&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;token property&#34;&gt;border-radius&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; 3px&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;token property&#34;&gt;transition&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;all .6s
&lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt;

&lt;span class=&#34;token selector&#34;&gt;.spoiler .spoiler-title&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;token property&#34;&gt;margin&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; 0 -15px&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;token property&#34;&gt;padding&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; 5px 15px&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;token property&#34;&gt;color&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; #353535&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;token property&#34;&gt;font-weight&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; bold&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;token property&#34;&gt;font-size&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; 18px&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;token property&#34;&gt;display&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; block&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;token property&#34;&gt;cursor&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; pointer&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt;

&lt;span class=&#34;token selector&#34;&gt;.spoiler.collapsed .spoiler-title:before&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;token property&#34;&gt;content&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;▶ &#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt;

&lt;span class=&#34;token selector&#34;&gt;.spoiler.expanded .spoiler-title:before&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;token property&#34;&gt;content&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;▼ &#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;使用方法&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-markdown&#34; data-language=&#34;markdown&#34;&gt;&lt;code class=&#34;language-markdown&#34;&gt;{% spoiler title %}
content
{% endspoiler %}&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;实例&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-markdown&#34; data-language=&#34;markdown&#34;&gt;&lt;code class=&#34;language-markdown&#34;&gt;{% spoiler 点击显/隐内容 %}

内容测试

{% endspoiler %}

{% spoiler 点击显/隐内容 %}

内容测试

{% endspoiler %}&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2021/10/1220211012105432.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;h2 id=&#34;让Hexo博客支持通知功能&#34;&gt;让Hexo博客支持通知功能&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;更新文章后，自动发消息给订阅用户的浏览器！&lt;/p&gt;
&lt;p&gt;国外非常火的低成本客户召回方式，增加用户粘性。&lt;/p&gt;
&lt;p&gt;Tips: 如果访问不了订阅服务器，就不可用这个通知功能了！&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;安装插件-3&#34;&gt;安装插件&lt;/h3&gt;
&lt;p&gt;插件的 GitHub 仓库&lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://github.com/glazec/hexo-web-push-notification&#34;&gt; hexo-web-push-notification&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;在你的博客站点目录执行下面的命令：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-bash&#34; data-language=&#34;bash&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;&lt;span class=&#34;token function&#34;&gt;npm&lt;/span&gt; i hexo-web-push-notification --save&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;如果你安装了 &lt;code&gt;cnpm&lt;/code&gt; 或者 &lt;code&gt;yarn&lt;/code&gt; 等可执行下面的命令，安装依赖包的速度更快：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-bash&#34; data-language=&#34;bash&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;cnpm i hexo-web-push-notification --save &lt;span class=&#34;token comment&#34;&gt;#安装cnpm的执行这个命令&lt;/span&gt;
&lt;span class=&#34;token function&#34;&gt;yarn&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;add&lt;/span&gt; hexo-web-push-notification &lt;span class=&#34;token comment&#34;&gt;#安装yarn的执行这个命令&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;紧接着再你的博客站点目录下的配置文件，而不是&lt;em&gt;主题配置文件&lt;/em&gt;，添加以下配置：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-yaml&#34; data-language=&#34;yaml&#34;&gt;&lt;code class=&#34;language-yaml&#34;&gt;&lt;span class=&#34;token key atrule&#34;&gt;webPushNotification&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;
  &lt;span class=&#34;token key atrule&#34;&gt;webpushrKey&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;your webpushr rest api key&#34;&lt;/span&gt;
  &lt;span class=&#34;token key atrule&#34;&gt;webpushrAuthToken&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;your webpushr authorize token&#34;&lt;/span&gt;
  &lt;span class=&#34;token key atrule&#34;&gt;trackingCode&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;AEGlpbdgvBCWXqXI6PtsUzobY7TLV9gwJU8bzMktrwfrSERg_xnLVbjpCw8x2GmFmi1ZcLTz0ni6OnX5MAwoM88&#34;&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;其中 &lt;code&gt;webpushrKey&lt;/code&gt;,&lt;code&gt;webpushrAuthToken&lt;/code&gt; 和 &lt;code&gt;trackingCode&lt;/code&gt; 的值在官网注册得到。&lt;/p&gt;
&lt;h3 id=&#34;官网注册&#34;&gt;官网注册&lt;/h3&gt;
&lt;p&gt;点击右边的图标即可进入👉 ： &lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://app.webpushr.com/signup&#34;&gt;传送门&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;注册完之后，然后会让你重新登录，登录之后，然后填写相关的信息即可。&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;填写图中所显示的相关网站信息，填写完之后，点击下一步&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2021/10/1220211012112936.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;code&gt;Web push notications&lt;/code&gt; 仅支持 HTTPS 的网站，不支持 HTTP 的网站&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;根据网站类型，并根据网站指引进行操作，以 &lt;code&gt;Hexo&lt;/code&gt; 为例&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2021/10/1220211012114232.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;info， 其中将第二步中所指的代码复制粘贴到你的 &lt;code&gt;footer.ejs&lt;/code&gt; 或者 &lt;code&gt;layout.ejs&lt;/code&gt;，对于 hexo 用户，建议将其加入 &lt;code&gt;index.ejs&lt;/code&gt; 即可。因为主题的不同，所以代码添加的位置不同，简单的说，就是放在网站的 &lt;code&gt;&amp;lt;/body&amp;gt;&lt;/code&gt; 标签之前，根据你的主题而言，自己添加。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;接着将以下代码插入到网页中就可以了。确保每一个你想要询问用户接受通知的页面都要包含以下代码。&lt;/p&gt;
&lt;p&gt;其中，上图步骤二中的代码有 &lt;code&gt;trackingCode&lt;/code&gt; 的值，如下图中所标明的一长串字母。&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2021/10/1220211012114333.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;验证安装&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2021/10/1220211012114406.png&#34; alt=&#34;安装成功&#34;&gt;&lt;/p&gt;
&lt;p&gt;部署之后可能会遇到无法正常发送通知的情况.&lt;/p&gt;
&lt;p&gt;进入目录&lt;code&gt; node_modules/hexo-web-push-notification/index.js文件中第22行&#39;summary&#39;: util.stripHTML(newPost.excerpt)&lt;/code&gt;,这里取值取的是excerpt，改成summary即可。&lt;/p&gt;
&lt;p&gt;修改前&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-js&#34; data-language=&#34;js&#34;&gt;&lt;code class=&#34;language-js&#34;&gt;&lt;span class=&#34;token keyword&#34;&gt;var&lt;/span&gt; JSONFeed &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;token string-property property&#34;&gt;&#39;title&#39;&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt; newPost&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;title&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;
        &lt;span class=&#34;token string-property property&#34;&gt;&#39;id&#39;&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt; newPost&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;path&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;
        &lt;span class=&#34;token string-property property&#34;&gt;&#39;date_published&#39;&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt; newPost&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;date&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;format&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;L&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;
        &lt;span class=&#34;token string-property property&#34;&gt;&#39;summary&#39;&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt; util&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;stripHTML&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;newPost&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;excerpt&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;
        &lt;span class=&#34;token string-property property&#34;&gt;&#39;url&#39;&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt; newPost&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;permalink&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;
        &lt;span class=&#34;token string-property property&#34;&gt;&#39;tags&#39;&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt; newPost&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;tags&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;data&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;map&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token keyword&#34;&gt;function&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token parameter&#34;&gt;v&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;return&lt;/span&gt; v&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;name &lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;
        &lt;span class=&#34;token string-property property&#34;&gt;&#39;categories&#39;&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt; newPost&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;categories&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;data&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;map&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token keyword&#34;&gt;function&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token parameter&#34;&gt;v&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;return&lt;/span&gt; v&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;name &lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;
    &lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;line-numbers language-js&#34; data-language=&#34;js&#34;&gt;&lt;code class=&#34;language-js&#34;&gt;&lt;span class=&#34;token keyword&#34;&gt;var&lt;/span&gt; JSONFeed &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;token string-property property&#34;&gt;&#39;title&#39;&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt; newPost&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;title&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;
        &lt;span class=&#34;token string-property property&#34;&gt;&#39;id&#39;&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt; newPost&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;path&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;
        &lt;span class=&#34;token string-property property&#34;&gt;&#39;date_published&#39;&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt; newPost&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;date&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;format&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;L&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;
        &lt;span class=&#34;token string-property property&#34;&gt;&#39;summary&#39;&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt; util&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;stripHTML&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;newPost&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;summary&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;
        &lt;span class=&#34;token string-property property&#34;&gt;&#39;url&#39;&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt; newPost&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;permalink&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;
        &lt;span class=&#34;token string-property property&#34;&gt;&#39;tags&#39;&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt; newPost&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;tags&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;data&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;map&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token keyword&#34;&gt;function&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token parameter&#34;&gt;v&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;return&lt;/span&gt; v&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;name &lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;
        &lt;span class=&#34;token string-property property&#34;&gt;&#39;categories&#39;&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt; newPost&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;categories&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;data&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;map&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token keyword&#34;&gt;function&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token parameter&#34;&gt;v&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;return&lt;/span&gt; v&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;name &lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;
    &lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;客服聊天窗口&#34;&gt;客服聊天窗口&lt;/h2&gt;
&lt;p&gt;1、在官网注册账号&lt;/p&gt;
&lt;p&gt;官网地址：&lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://app.crisp.chat/initiate/signup/&#34;&gt;点我去crisp官网注册&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;2、注册完成后设置&lt;/p&gt;
&lt;p&gt;登录刚才注册的账户——设置——网站设置——添加网站。&lt;/p&gt;
&lt;p&gt;添加完成之后就多了一行网站信息。点网站整合，就有不同的站的整合方式。&lt;/p&gt;
&lt;p&gt;比如：html方式&lt;/p&gt;
&lt;p&gt;就是复制JS代码片段到你的到&lt;code&gt;head&lt;/code&gt;标签里。&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-javascript&#34; data-language=&#34;javascript&#34;&gt;&lt;code class=&#34;language-javascript&#34;&gt;&lt;span class=&#34;token operator&#34;&gt;&amp;lt;&lt;/span&gt;script type&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#34;text/javascript&#34;&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;&amp;gt;&lt;/span&gt;window&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;$crisp&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;window&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token constant&#34;&gt;CRISP_WEBSITE_ID&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#34;xxxxxxx-097e-402f-bb6b-xxxxxxx&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token keyword&#34;&gt;function&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt;d&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;document&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;s&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;d&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;createElement&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#34;script&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;s&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;src&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#34;https://client.crisp.chat/l.js&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;s&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;async&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;d&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;getElementsByTagName&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#34;head&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;appendChild&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;s&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;/&lt;/span&gt;script&lt;span class=&#34;token operator&#34;&gt;&amp;gt;&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;3、其他的设置也&lt;br&gt;
登录刚才注册的账户——设置——网站设置。&lt;br&gt;
网站信息行——设置，自己根据需要设置即可，比如显示位置，颜色，自己的头像等。&lt;/p&gt;
&lt;p&gt;整个使用非常简单的。&lt;/p&gt;
&lt;h2 id=&#34;使用Valine-Admin管理评论和评论提醒&#34;&gt;使用Valine-Admin管理评论和评论提醒&lt;/h2&gt;
&lt;h3 id=&#34;使用&#34;&gt;使用&lt;/h3&gt;
&lt;p&gt;首先其他的不错说了，在阅读本篇文章之前你最好已经整合了&lt;code&gt;Valine&lt;/code&gt;留言。&lt;/p&gt;
&lt;p&gt;由于我已经整合过了所以前面几个步骤的图片来源自@Valine-Admin&lt;/p&gt;
&lt;p&gt;首先登陆账号，找到云引擎在点击设置。&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;推荐使用这个 &lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://github.com/HCLonely/Valine-Admin.git&#34;&gt;HCLonely/Valine-Admin&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;复制仓库地址：&lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://github.com/DesertsP/Valine-Admin&#34;&gt;DesertsP/Valine-Admin&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2021/10/1920211019004314.png&#34; alt=&#34;img&#34;&gt;&lt;/p&gt;
&lt;p&gt;把git仓库地址房子代码库输入框中。&lt;/p&gt;
&lt;p&gt;切换到部署标签页，分支使用 master，点击部署。&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2021/10/1920211019005041.png&#34; alt=&#34;img&#34;&gt;&lt;/p&gt;
&lt;p&gt;接下来输入分支为&lt;code&gt;master&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2021/10/1920211019005044.png&#34; alt=&#34;img&#34;&gt;&lt;/p&gt;
&lt;p&gt;部署完成之后就是设置环境变量&lt;/p&gt;
&lt;h3 id=&#34;环境变量&#34;&gt;环境变量&lt;/h3&gt;
&lt;p&gt;点击设置，找到自定义环境变量点击新增变量&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2021/10/1920211019005055.png&#34; alt=&#34;img&#34;&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;SITE_NAME&lt;/code&gt; : 网站名称。&lt;/li&gt;
&lt;li&gt;&lt;code&gt;SITE_URL&lt;/code&gt; : 网站地址, &lt;strong&gt;最后不要加 &lt;code&gt;/&lt;/code&gt; 。&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;SMTP_USER&lt;/code&gt; : SMTP 服务用户名，一般为邮箱地址。&lt;/li&gt;
&lt;li&gt;&lt;code&gt;SMTP_PASS&lt;/code&gt; : SMTP 密码，一般为授权码，而不是邮箱的登陆密码，请自行查询对应邮件服务商的获取方式&lt;/li&gt;
&lt;li&gt;&lt;code&gt;SMTP_SERVICE&lt;/code&gt; : 邮件服务提供商，支持 &lt;code&gt;QQ&lt;/code&gt;、&lt;code&gt;163&lt;/code&gt;、&lt;code&gt;126&lt;/code&gt;、&lt;code&gt;Gmail&lt;/code&gt;、&lt;code&gt;&#34;Yahoo&#34;&lt;/code&gt;、&lt;code&gt;......&lt;/code&gt; ，全部支持请参考 : &lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://link.segmentfault.com/?enc=rwjb6jO8Z6x5%2FZZ1q6w%2FaQ%3D%3D.c2CTXx8YrmrN3w%2BVCYtYe%2FsUgGzhUYn%2F%2BbjgGgV2S51GBFVQiTGaYl5o5UaNumJuwdhJ%2FnoFgOTGclNq8Noalw%3D%3D&#34;&gt;Nodemailer Supported services&lt;/a&gt;。 — &lt;em&gt;如这里没有你使用的邮件提供商，请查看&lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://link.segmentfault.com/?enc=oVf5otkSfg0SdXBBeouLJA%3D%3D.0hcduHENfwuLs%2BpqYrgereNYPsZQ8kcfWmApG6UOpW2OmWOpqe8zkNwbXW9e7luhj6rGequwkCAxtpvF7Gyy9PwnwqwQ5vJrYfxsl%2FPocUV4bFVAFieliaIgGegSBiRXBRqzzewoxolE7zsPuIMxsNSs9EsJDNkovE4qn4Bk2Bv4KZs6ctloQUQGK0BxiN26&#34;&gt;自定义邮件服务器&lt;/a&gt;&lt;/em&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;SENDER_NAME&lt;/code&gt; : 寄件人名称。&lt;/li&gt;
&lt;li&gt;&lt;code&gt;TO_EMAIL&lt;/code&gt;：这个是填收邮件提醒的邮箱地址，若没有这个字段，则将邮件发到&lt;code&gt;SMTP_USER&lt;/code&gt;。&lt;/li&gt;
&lt;li&gt;&lt;code&gt;TEMPLATE_NAME&lt;/code&gt;：设置提醒邮件的主题，目前内置了两款主题，分别为 &lt;code&gt;default&lt;/code&gt; 与 &lt;code&gt;rainbow&lt;/code&gt;。默认为 &lt;code&gt;default&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;设置好以上变量之后 点击实例&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2021/10/1920211019005407.png&#34; alt=&#34;img&#34;&gt;&lt;/p&gt;
&lt;p&gt;然后重启项目，注意任何变动都要重启项目&lt;/p&gt;
&lt;p&gt;然后看一下效果&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2021/10/1920211019005102.png&#34; alt=&#34;img&#34;&gt;&lt;/p&gt;
&lt;p&gt;还不错&lt;/p&gt;
&lt;h3 id=&#34;自定义后台&#34;&gt;自定义后台&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;首先需要设置管理员信息。访问管理员注册页面&lt;code&gt;https://云引擎域名/sign-up&lt;/code&gt;，注册管理员登录信息，如：https://deserts-io.avosapps.us/sign-up&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;点击设置然后点击Web主机域名找到自己的后台地址&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2021/10/1920211019005103.png&#34; alt=&#34;img&#34;&gt;&lt;/p&gt;
&lt;p&gt;然后在Usee表中增加账号， 只需要填写 &lt;code&gt;email&lt;/code&gt;、&lt;code&gt;password&lt;/code&gt;、&lt;code&gt;username&lt;/code&gt; 其中邮箱必须设置为你的上面环境变量的邮箱&lt;/p&gt;
&lt;p&gt;设置完之后登录就能在你的后台管理评论&lt;/p&gt;
&lt;h3 id=&#34;更多设置&#34;&gt;更多设置&lt;/h3&gt;
&lt;h3 id=&#34;邮件通知模板&#34;&gt;邮件通知模板&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://github.com/HCLonely/Valine-Admin.git&#34;&gt;HCLonely/Valine-Admin&lt;/a&gt; 时使用这个&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2022/03/2920220329103059.png&#34; alt=&#34;邮件通知演示&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;评论通知模板&lt;/strong&gt;&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-html&#34; data-language=&#34;html&#34;&gt;&lt;code class=&#34;language-html&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;div&lt;/span&gt;
                            &lt;span class=&#34;token special-attr&#34;&gt;&lt;span class=&#34;token attr-name&#34;&gt;style&lt;/span&gt;&lt;span class=&#34;token attr-value&#34;&gt;&lt;span class=&#34;token punctuation attr-equals&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;
                                border-radius: 10px 10px 10px 10px;
                                font-size: 13px;
                                color: #555555;
                                width: 666px;
                                font-family: &lt;span class=&#34;token punctuation&#34;&gt;&#39;&lt;/span&gt;Century Gothic&lt;span class=&#34;token punctuation&#34;&gt;&#39;&lt;/span&gt;, &lt;span class=&#34;token punctuation&#34;&gt;&#39;&lt;/span&gt;Trebuchet MS&lt;span class=&#34;token punctuation&#34;&gt;&#39;&lt;/span&gt;, &lt;span class=&#34;token punctuation&#34;&gt;&#39;&lt;/span&gt;Hiragino Sans GB&lt;span class=&#34;token punctuation&#34;&gt;&#39;&lt;/span&gt;, 微软雅黑, &lt;span class=&#34;token punctuation&#34;&gt;&#39;&lt;/span&gt;Microsoft Yahei&lt;span class=&#34;token punctuation&#34;&gt;&#39;&lt;/span&gt;, Tahoma, Helvetica,
                                    Arial, &lt;span class=&#34;token punctuation&#34;&gt;&#39;&lt;/span&gt;SimSun&lt;span class=&#34;token punctuation&#34;&gt;&#39;&lt;/span&gt;, sans-serif;
                                margin: 50px auto;
                                border: 1px solid #eee;
                                max-width: 100%;
                                background: #ffffff repeating-linear-gradient(-45deg, #fff, #fff 1.125rem, transparent 1.125rem, transparent 2.25rem);
                                box-shadow: 0 1px 5px rgba(0, 0, 0, 0.15);
                            &lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;
                        &lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
                            &lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;div&lt;/span&gt;
                                &lt;span class=&#34;token special-attr&#34;&gt;&lt;span class=&#34;token attr-name&#34;&gt;style&lt;/span&gt;&lt;span class=&#34;token attr-value&#34;&gt;&lt;span class=&#34;token punctuation attr-equals&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;
                                    width: 100%;
                                    background: #49bdad;
                                    color: #ffffff;
                                    border-radius: 10px 10px 0 0;
                                    background-image: -moz-linear-gradient(0deg, rgb(67, 198, 184), rgb(255, 209, 244));
                                    background-image: -webkit-linear-gradient(0deg, rgb(67, 198, 184), rgb(255, 209, 244));
                                    height: 66px;
                                &lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;
                            &lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
                                &lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;p&lt;/span&gt;
                                    &lt;span class=&#34;token special-attr&#34;&gt;&lt;span class=&#34;token attr-name&#34;&gt;style&lt;/span&gt;&lt;span class=&#34;token attr-value&#34;&gt;&lt;span class=&#34;token punctuation attr-equals&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;
                                        font-size: 15px;
                                        word-break: break-all;
                                        padding: 23px 32px;
                                        margin: 0;
                                        background-color: hsla(0, 0%, 100%, 0.4);
                                        border-radius: 10px 10px 0 0;
                                    &lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;
                                &lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
                                    您在&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;a&lt;/span&gt; &lt;span class=&#34;token special-attr&#34;&gt;&lt;span class=&#34;token attr-name&#34;&gt;style&lt;/span&gt;&lt;span class=&#34;token attr-value&#34;&gt;&lt;span class=&#34;token punctuation attr-equals&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&lt;span class=&#34;token value css language-css&#34;&gt;&lt;span class=&#34;token property&#34;&gt;text-decoration&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; none&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;token property&#34;&gt;color&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; #ffffff&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt; &lt;span class=&#34;token attr-name&#34;&gt;href&lt;/span&gt;&lt;span class=&#34;token attr-value&#34;&gt;&lt;span class=&#34;token punctuation attr-equals&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&amp;lt;%=siteUrl%&amp;gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt; &amp;lt;%=siteName%&amp;gt; &lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;/&lt;/span&gt;a&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;上的留言有新回复啦！
                                &lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;/&lt;/span&gt;p&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
                            &lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;/&lt;/span&gt;div&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
                            &lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;div&lt;/span&gt; &lt;span class=&#34;token special-attr&#34;&gt;&lt;span class=&#34;token attr-name&#34;&gt;style&lt;/span&gt;&lt;span class=&#34;token attr-value&#34;&gt;&lt;span class=&#34;token punctuation attr-equals&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&lt;span class=&#34;token value css language-css&#34;&gt;&lt;span class=&#34;token property&#34;&gt;margin&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; 40px auto&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;token property&#34;&gt;width&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; 90%&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
                                &lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;p&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&amp;lt;%=pname%&amp;gt; 同学，您曾在文章上发表评论：&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;/&lt;/span&gt;p&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
                                &lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;div&lt;/span&gt;
                                    &lt;span class=&#34;token special-attr&#34;&gt;&lt;span class=&#34;token attr-name&#34;&gt;style&lt;/span&gt;&lt;span class=&#34;token attr-value&#34;&gt;&lt;span class=&#34;token punctuation attr-equals&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;
                                        background: #fafafa
                                            repeating-linear-gradient(-45deg, #fff, #fff 1.125rem, transparent 1.125rem, transparent 2.25rem);
                                        box-shadow: 0 2px 5px rgba(0, 0, 0, 0.15);
                                        margin: 20px 0px;
                                        padding: 15px;
                                        border-radius: 5px;
                                        font-size: 14px;
                                        color: #555555;
                                    &lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;
                                &lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
                                    &amp;lt;%-ptext%&amp;gt;
                                &lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;/&lt;/span&gt;div&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
                                &lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;p&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&amp;lt;%=name%&amp;gt; 给您的回复如下：&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;/&lt;/span&gt;p&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
                                &lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;div&lt;/span&gt;
                                    &lt;span class=&#34;token special-attr&#34;&gt;&lt;span class=&#34;token attr-name&#34;&gt;style&lt;/span&gt;&lt;span class=&#34;token attr-value&#34;&gt;&lt;span class=&#34;token punctuation attr-equals&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;
                                        background: #fafafa
                                            repeating-linear-gradient(-45deg, #fff, #fff 1.125rem, transparent 1.125rem, transparent 2.25rem);
                                        box-shadow: 0 2px 5px rgba(0, 0, 0, 0.15);
                                        margin: 20px 0px;
                                        padding: 15px;
                                        border-radius: 5px;
                                        font-size: 14px;
                                        color: #555555;
                                    &lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;
                                &lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
                                    &amp;lt;%-text%&amp;gt;
                                &lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;/&lt;/span&gt;div&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
                                &lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;p&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
                                    您可以点击 &lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;a&lt;/span&gt; &lt;span class=&#34;token special-attr&#34;&gt;&lt;span class=&#34;token attr-name&#34;&gt;style&lt;/span&gt;&lt;span class=&#34;token attr-value&#34;&gt;&lt;span class=&#34;token punctuation attr-equals&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&lt;span class=&#34;token value css language-css&#34;&gt;&lt;span class=&#34;token property&#34;&gt;text-decoration&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; none&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;token property&#34;&gt;color&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; #12addb&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt; &lt;span class=&#34;token attr-name&#34;&gt;href&lt;/span&gt;&lt;span class=&#34;token attr-value&#34;&gt;&lt;span class=&#34;token punctuation attr-equals&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&amp;lt;%=url%&amp;gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;查看回复的完整內容 &lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;/&lt;/span&gt;a&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;，欢迎再次光临
                                    &lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;a&lt;/span&gt; &lt;span class=&#34;token special-attr&#34;&gt;&lt;span class=&#34;token attr-name&#34;&gt;style&lt;/span&gt;&lt;span class=&#34;token attr-value&#34;&gt;&lt;span class=&#34;token punctuation attr-equals&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&lt;span class=&#34;token value css language-css&#34;&gt;&lt;span class=&#34;token property&#34;&gt;text-decoration&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; none&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;token property&#34;&gt;color&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; #12addb&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt; &lt;span class=&#34;token attr-name&#34;&gt;href&lt;/span&gt;&lt;span class=&#34;token attr-value&#34;&gt;&lt;span class=&#34;token punctuation attr-equals&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&amp;lt;%=siteUrl%&amp;gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt; &amp;lt;%=siteName%&amp;gt; &lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;/&lt;/span&gt;a&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;。
                                &lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;/&lt;/span&gt;p&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
                                &lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;style&lt;/span&gt; &lt;span class=&#34;token attr-name&#34;&gt;type&lt;/span&gt;&lt;span class=&#34;token attr-value&#34;&gt;&lt;span class=&#34;token punctuation attr-equals&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;text/css&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token style&#34;&gt;&lt;span class=&#34;token language-css&#34;&gt;
                                    &lt;span class=&#34;token selector&#34;&gt;a:link&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt;
                                        &lt;span class=&#34;token property&#34;&gt;text-decoration&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; none&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;
                                    &lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt;
                                    &lt;span class=&#34;token selector&#34;&gt;a:visited&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt;
                                        &lt;span class=&#34;token property&#34;&gt;text-decoration&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; none&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;
                                    &lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt;
                                    &lt;span class=&#34;token selector&#34;&gt;a:hover&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt;
                                        &lt;span class=&#34;token property&#34;&gt;text-decoration&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; none&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;
                                    &lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt;
                                    &lt;span class=&#34;token selector&#34;&gt;a:active&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt;
                                        &lt;span class=&#34;token property&#34;&gt;text-decoration&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; none&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;
                                    &lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt;
                                &lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;/&lt;/span&gt;style&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
                            &lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;/&lt;/span&gt;div&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
                        &lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;/&lt;/span&gt;div&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;strong&gt;博主回复通知模板&lt;/strong&gt;&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-html&#34; data-language=&#34;html&#34;&gt;&lt;code class=&#34;language-html&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;div&lt;/span&gt;
                            &lt;span class=&#34;token special-attr&#34;&gt;&lt;span class=&#34;token attr-name&#34;&gt;style&lt;/span&gt;&lt;span class=&#34;token attr-value&#34;&gt;&lt;span class=&#34;token punctuation attr-equals&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;
                                border-radius: 10px 10px 10px 10px;
                                font-size: 13px;
                                color: #555555;
                                width: 666px;
                                font-family: &lt;span class=&#34;token punctuation&#34;&gt;&#39;&lt;/span&gt;Century Gothic&lt;span class=&#34;token punctuation&#34;&gt;&#39;&lt;/span&gt;, &lt;span class=&#34;token punctuation&#34;&gt;&#39;&lt;/span&gt;Trebuchet MS&lt;span class=&#34;token punctuation&#34;&gt;&#39;&lt;/span&gt;, &lt;span class=&#34;token punctuation&#34;&gt;&#39;&lt;/span&gt;Hiragino Sans GB&lt;span class=&#34;token punctuation&#34;&gt;&#39;&lt;/span&gt;, 微软雅黑, &lt;span class=&#34;token punctuation&#34;&gt;&#39;&lt;/span&gt;Microsoft Yahei&lt;span class=&#34;token punctuation&#34;&gt;&#39;&lt;/span&gt;, Tahoma, Helvetica,
                                    Arial, &lt;span class=&#34;token punctuation&#34;&gt;&#39;&lt;/span&gt;SimSun&lt;span class=&#34;token punctuation&#34;&gt;&#39;&lt;/span&gt;, sans-serif;
                                margin: 50px auto;
                                border: 1px solid #eee;
                                max-width: 100%;
                                background: #ffffff repeating-linear-gradient(-45deg, #fff, #fff 1.125rem, transparent 1.125rem, transparent 2.25rem);
                                box-shadow: 0 1px 5px rgba(0, 0, 0, 0.15);
                            &lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;
                        &lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
                            &lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;div&lt;/span&gt;
                                &lt;span class=&#34;token special-attr&#34;&gt;&lt;span class=&#34;token attr-name&#34;&gt;style&lt;/span&gt;&lt;span class=&#34;token attr-value&#34;&gt;&lt;span class=&#34;token punctuation attr-equals&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;
                                    width: 100%;
                                    background: #49bdad;
                                    color: #ffffff;
                                    border-radius: 10px 10px 0 0;
                                    background-image: -moz-linear-gradient(0deg, rgb(67, 198, 184), rgb(255, 209, 244));
                                    background-image: -webkit-linear-gradient(0deg, rgb(67, 198, 184), rgb(255, 209, 244));
                                    height: 66px;
                                &lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;
                            &lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
                                &lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;p&lt;/span&gt;
                                    &lt;span class=&#34;token special-attr&#34;&gt;&lt;span class=&#34;token attr-name&#34;&gt;style&lt;/span&gt;&lt;span class=&#34;token attr-value&#34;&gt;&lt;span class=&#34;token punctuation attr-equals&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;
                                        font-size: 15px;
                                        word-break: break-all;
                                        padding: 23px 32px;
                                        margin: 0;
                                        background-color: hsla(0, 0%, 100%, 0.4);
                                        border-radius: 10px 10px 0 0;
                                    &lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;
                                &lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
                                    您的&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;a&lt;/span&gt; &lt;span class=&#34;token special-attr&#34;&gt;&lt;span class=&#34;token attr-name&#34;&gt;style&lt;/span&gt;&lt;span class=&#34;token attr-value&#34;&gt;&lt;span class=&#34;token punctuation attr-equals&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&lt;span class=&#34;token value css language-css&#34;&gt;&lt;span class=&#34;token property&#34;&gt;text-decoration&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; none&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;token property&#34;&gt;color&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; #ffffff&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt; &lt;span class=&#34;token attr-name&#34;&gt;href&lt;/span&gt;&lt;span class=&#34;token attr-value&#34;&gt;&lt;span class=&#34;token punctuation attr-equals&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&amp;lt;%=siteUrl%&amp;gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt; &amp;lt;%=siteName%&amp;gt; &lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;/&lt;/span&gt;a&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;上有新的评论啦！
                                &lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;/&lt;/span&gt;p&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
                            &lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;/&lt;/span&gt;div&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
                            &lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;div&lt;/span&gt; &lt;span class=&#34;token special-attr&#34;&gt;&lt;span class=&#34;token attr-name&#34;&gt;style&lt;/span&gt;&lt;span class=&#34;token attr-value&#34;&gt;&lt;span class=&#34;token punctuation attr-equals&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&lt;span class=&#34;token value css language-css&#34;&gt;&lt;span class=&#34;token property&#34;&gt;margin&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; 40px auto&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;token property&#34;&gt;width&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; 90%&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
                                &lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;p&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&amp;lt;%=name%&amp;gt; 发表评论：&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;/&lt;/span&gt;p&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
                                &lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;div&lt;/span&gt;
                                    &lt;span class=&#34;token special-attr&#34;&gt;&lt;span class=&#34;token attr-name&#34;&gt;style&lt;/span&gt;&lt;span class=&#34;token attr-value&#34;&gt;&lt;span class=&#34;token punctuation attr-equals&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;
                                        background: #fafafa
                                            repeating-linear-gradient(-45deg, #fff, #fff 1.125rem, transparent 1.125rem, transparent 2.25rem);
                                        box-shadow: 0 2px 5px rgba(0, 0, 0, 0.15);
                                        margin: 20px 0px;
                                        padding: 15px;
                                        border-radius: 5px;
                                        font-size: 14px;
                                        color: #555555;
                                    &lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;
                                &lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
                                    &amp;lt;%-text%&amp;gt;
                                &lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;/&lt;/span&gt;div&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
                                &lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;p&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;a&lt;/span&gt; &lt;span class=&#34;token special-attr&#34;&gt;&lt;span class=&#34;token attr-name&#34;&gt;style&lt;/span&gt;&lt;span class=&#34;token attr-value&#34;&gt;&lt;span class=&#34;token punctuation attr-equals&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&lt;span class=&#34;token value css language-css&#34;&gt;&lt;span class=&#34;token property&#34;&gt;text-decoration&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; none&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;token property&#34;&gt;color&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; #12addb&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt; &lt;span class=&#34;token attr-name&#34;&gt;href&lt;/span&gt;&lt;span class=&#34;token attr-value&#34;&gt;&lt;span class=&#34;token punctuation attr-equals&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&amp;lt;%=url%&amp;gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&lt;/span&gt; &lt;span class=&#34;token attr-name&#34;&gt;target&lt;/span&gt;&lt;span class=&#34;token attr-value&#34;&gt;&lt;span class=&#34;token punctuation attr-equals&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;_blank&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;[查看评论]&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;/&lt;/span&gt;a&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;/&lt;/span&gt;p&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
                                &lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;style&lt;/span&gt; &lt;span class=&#34;token attr-name&#34;&gt;type&lt;/span&gt;&lt;span class=&#34;token attr-value&#34;&gt;&lt;span class=&#34;token punctuation attr-equals&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;text/css&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token style&#34;&gt;&lt;span class=&#34;token language-css&#34;&gt;
                                    &lt;span class=&#34;token selector&#34;&gt;a:link&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt;
                                        &lt;span class=&#34;token property&#34;&gt;text-decoration&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; none&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;
                                    &lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt;
                                    &lt;span class=&#34;token selector&#34;&gt;a:visited&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt;
                                        &lt;span class=&#34;token property&#34;&gt;text-decoration&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; none&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;
                                    &lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt;
                                    &lt;span class=&#34;token selector&#34;&gt;a:hover&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt;
                                        &lt;span class=&#34;token property&#34;&gt;text-decoration&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; none&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;
                                    &lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt;
                                    &lt;span class=&#34;token selector&#34;&gt;a:active&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt;
                                        &lt;span class=&#34;token property&#34;&gt;text-decoration&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; none&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;
                                    &lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt;
                                &lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;/&lt;/span&gt;style&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
                            &lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;/&lt;/span&gt;div&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
                        &lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;/&lt;/span&gt;div&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
&lt;p&gt;使用 &lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://github.com/DesertsP/Valine-Admin&#34;&gt;DesertsP/Valine-Admin&lt;/a&gt; 时使用下面配置&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;邮件通知模板在云引擎环境变量中设定，可自定义通知邮件标题及内容模板。&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:left&#34;&gt;环境变量&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;示例&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;说明&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;code&gt;MAIL_SUBJECT&lt;/code&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;code&gt;${PARENT_NICK}，您在${SITE_NAME}上的评论收到了回复&lt;/code&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;[可选]@通知邮件主题（标题）模板&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;code&gt;MAIL_TEMPLATE&lt;/code&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;见下文&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;[可选]@通知邮件内容模板&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;code&gt;MAIL_SUBJECT_ADMIN&lt;/code&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;code&gt;${SITE_NAME}上有新评论了&lt;/code&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;[可选]博主邮件通知主题模板&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;code&gt;MAIL_TEMPLATE_ADMIN&lt;/code&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;见下文&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;[可选]博主邮件通知内容模板&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;邮件通知包含两种，分别是被@通知和博主通知，这两种模板都可以完全自定义。默认使用经典的蓝色风格模板（样式来源未知）。&lt;/p&gt;
&lt;p&gt;默认被@通知邮件内容模板如下：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-html&#34; data-language=&#34;html&#34;&gt;&lt;code class=&#34;language-html&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;div&lt;/span&gt; &lt;span class=&#34;token special-attr&#34;&gt;&lt;span class=&#34;token attr-name&#34;&gt;style&lt;/span&gt;&lt;span class=&#34;token attr-value&#34;&gt;&lt;span class=&#34;token punctuation attr-equals&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&lt;span class=&#34;token value css language-css&#34;&gt;&lt;span class=&#34;token property&#34;&gt;border-top&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;2px solid #12ADDB&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;token property&#34;&gt;box-shadow&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;0 1px 3px #AAAAAA&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;token property&#34;&gt;line-height&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;180%&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;token property&#34;&gt;padding&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;0 15px 12px&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;token property&#34;&gt;margin&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;50px auto&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;token property&#34;&gt;font-size&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;12px&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;h2&lt;/span&gt; &lt;span class=&#34;token special-attr&#34;&gt;&lt;span class=&#34;token attr-name&#34;&gt;style&lt;/span&gt;&lt;span class=&#34;token attr-value&#34;&gt;&lt;span class=&#34;token punctuation attr-equals&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&lt;span class=&#34;token value css language-css&#34;&gt;&lt;span class=&#34;token property&#34;&gt;border-bottom&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;1px solid #DDD&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;token property&#34;&gt;font-size&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;14px&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;token property&#34;&gt;font-weight&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;normal&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;token property&#34;&gt;padding&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;13px 0 10px 8px&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;您在&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;a&lt;/span&gt; &lt;span class=&#34;token special-attr&#34;&gt;&lt;span class=&#34;token attr-name&#34;&gt;style&lt;/span&gt;&lt;span class=&#34;token attr-value&#34;&gt;&lt;span class=&#34;token punctuation attr-equals&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&lt;span class=&#34;token value css language-css&#34;&gt;&lt;span class=&#34;token property&#34;&gt;text-decoration&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;none&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;token property&#34;&gt;color&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; #12ADDB&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt; &lt;span class=&#34;token attr-name&#34;&gt;href&lt;/span&gt;&lt;span class=&#34;token attr-value&#34;&gt;&lt;span class=&#34;token punctuation attr-equals&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;${SITE_URL}&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&lt;/span&gt; &lt;span class=&#34;token attr-name&#34;&gt;target&lt;/span&gt;&lt;span class=&#34;token attr-value&#34;&gt;&lt;span class=&#34;token punctuation attr-equals&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;_blank&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;            ${SITE_NAME}&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;/&lt;/span&gt;a&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;上的评论有了新的回复&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;/&lt;/span&gt;h2&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt; ${PARENT_NICK} 同学，您曾发表评论：&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;div&lt;/span&gt; &lt;span class=&#34;token special-attr&#34;&gt;&lt;span class=&#34;token attr-name&#34;&gt;style&lt;/span&gt;&lt;span class=&#34;token attr-value&#34;&gt;&lt;span class=&#34;token punctuation attr-equals&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&lt;span class=&#34;token value css language-css&#34;&gt;&lt;span class=&#34;token property&#34;&gt;padding&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;0 12px 0 12px&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;token property&#34;&gt;margin-top&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;18px&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;div&lt;/span&gt; &lt;span class=&#34;token special-attr&#34;&gt;&lt;span class=&#34;token attr-name&#34;&gt;style&lt;/span&gt;&lt;span class=&#34;token attr-value&#34;&gt;&lt;span class=&#34;token punctuation attr-equals&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&lt;span class=&#34;token value css language-css&#34;&gt;&lt;span class=&#34;token property&#34;&gt;background-color&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; #f5f5f5&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;token property&#34;&gt;padding&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; 10px 15px&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;token property&#34;&gt;margin&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;18px 0&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;token property&#34;&gt;word-wrap&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;break-word&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;            ${PARENT_COMMENT}&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;/&lt;/span&gt;div&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;p&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;strong&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;${NICK}&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;/&lt;/span&gt;strong&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;回复说：&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;/&lt;/span&gt;p&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;div&lt;/span&gt; &lt;span class=&#34;token special-attr&#34;&gt;&lt;span class=&#34;token attr-name&#34;&gt;style&lt;/span&gt;&lt;span class=&#34;token attr-value&#34;&gt;&lt;span class=&#34;token punctuation attr-equals&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&lt;span class=&#34;token value css language-css&#34;&gt;&lt;span class=&#34;token property&#34;&gt;background-color&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; #f5f5f5&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;token property&#34;&gt;padding&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; 10px 15px&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;token property&#34;&gt;margin&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;18px 0&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;token property&#34;&gt;word-wrap&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;break-word&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt; ${COMMENT}&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;/&lt;/span&gt;div&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;p&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;您可以点击&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;a&lt;/span&gt; &lt;span class=&#34;token special-attr&#34;&gt;&lt;span class=&#34;token attr-name&#34;&gt;style&lt;/span&gt;&lt;span class=&#34;token attr-value&#34;&gt;&lt;span class=&#34;token punctuation attr-equals&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&lt;span class=&#34;token value css language-css&#34;&gt;&lt;span class=&#34;token property&#34;&gt;text-decoration&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;none&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;token property&#34;&gt;color&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;#12addb&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt; &lt;span class=&#34;token attr-name&#34;&gt;href&lt;/span&gt;&lt;span class=&#34;token attr-value&#34;&gt;&lt;span class=&#34;token punctuation attr-equals&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;${POST_URL}&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&lt;/span&gt; &lt;span class=&#34;token attr-name&#34;&gt;target&lt;/span&gt;&lt;span class=&#34;token attr-value&#34;&gt;&lt;span class=&#34;token punctuation attr-equals&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;_blank&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;查看回复的完整內容&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;/&lt;/span&gt;a&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;，欢迎再次光临&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;a&lt;/span&gt; &lt;span class=&#34;token special-attr&#34;&gt;&lt;span class=&#34;token attr-name&#34;&gt;style&lt;/span&gt;&lt;span class=&#34;token attr-value&#34;&gt;&lt;span class=&#34;token punctuation attr-equals&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&lt;span class=&#34;token value css language-css&#34;&gt;&lt;span class=&#34;token property&#34;&gt;text-decoration&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;none&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;token property&#34;&gt;color&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;#12addb&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt; &lt;span class=&#34;token attr-name&#34;&gt;href&lt;/span&gt;&lt;span class=&#34;token attr-value&#34;&gt;&lt;span class=&#34;token punctuation attr-equals&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;${SITE_URL}&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&lt;/span&gt; &lt;span class=&#34;token attr-name&#34;&gt;target&lt;/span&gt;&lt;span class=&#34;token attr-value&#34;&gt;&lt;span class=&#34;token punctuation attr-equals&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;_blank&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;${SITE_NAME}&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;/&lt;/span&gt;a&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;。&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;br&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;/&lt;/span&gt;p&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;/&lt;/span&gt;div&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;/&lt;/span&gt;div&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;效果如下图：&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2021/10/1920211019005650.png&#34; alt=&#34;mail-blue-template&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;mail-blue-template&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;@通知模板中的可用变量如下（注，这是邮件模板变量，是指嵌入到HTML邮件模板中的变量，请勿与云引擎环境变量混淆）：&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:left&#34;&gt;模板变量&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;说明&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;SITE_NAME&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;博客名称&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;SITE_URL&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;博客首页地址&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;POST_URL&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;文章地址（完整路径）&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;PARENT_NICK&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;收件人昵称（被@者，父级评论人）&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;PARENT_COMMENT&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;父级评论内容&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;NICK&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;新评论者昵称&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;COMMENT&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;新评论内容&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;默认博主通知邮件内容模板如下：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-html&#34; data-language=&#34;html&#34;&gt;&lt;code class=&#34;language-html&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;div&lt;/span&gt; &lt;span class=&#34;token special-attr&#34;&gt;&lt;span class=&#34;token attr-name&#34;&gt;style&lt;/span&gt;&lt;span class=&#34;token attr-value&#34;&gt;&lt;span class=&#34;token punctuation attr-equals&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&lt;span class=&#34;token value css language-css&#34;&gt;&lt;span class=&#34;token property&#34;&gt;border-top&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;2px solid #12ADDB&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;token property&#34;&gt;box-shadow&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;0 1px 3px #AAAAAA&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;token property&#34;&gt;line-height&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;180%&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;token property&#34;&gt;padding&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;0 15px 12px&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;token property&#34;&gt;margin&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;50px auto&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;token property&#34;&gt;font-size&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;12px&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;h2&lt;/span&gt; &lt;span class=&#34;token special-attr&#34;&gt;&lt;span class=&#34;token attr-name&#34;&gt;style&lt;/span&gt;&lt;span class=&#34;token attr-value&#34;&gt;&lt;span class=&#34;token punctuation attr-equals&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&lt;span class=&#34;token value css language-css&#34;&gt;&lt;span class=&#34;token property&#34;&gt;border-bottom&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;1px solid #DDD&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;token property&#34;&gt;font-size&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;14px&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;token property&#34;&gt;font-weight&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;normal&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;token property&#34;&gt;padding&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;13px 0 10px 8px&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;您在&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;a&lt;/span&gt; &lt;span class=&#34;token special-attr&#34;&gt;&lt;span class=&#34;token attr-name&#34;&gt;style&lt;/span&gt;&lt;span class=&#34;token attr-value&#34;&gt;&lt;span class=&#34;token punctuation attr-equals&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&lt;span class=&#34;token value css language-css&#34;&gt;&lt;span class=&#34;token property&#34;&gt;text-decoration&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;none&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;token property&#34;&gt;color&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; #12ADDB&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt; &lt;span class=&#34;token attr-name&#34;&gt;href&lt;/span&gt;&lt;span class=&#34;token attr-value&#34;&gt;&lt;span class=&#34;token punctuation attr-equals&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;${SITE_URL}&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&lt;/span&gt; &lt;span class=&#34;token attr-name&#34;&gt;target&lt;/span&gt;&lt;span class=&#34;token attr-value&#34;&gt;&lt;span class=&#34;token punctuation attr-equals&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;_blank&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;${SITE_NAME}&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;/&lt;/span&gt;a&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;上的文章有了新的评论&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;/&lt;/span&gt;h2&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;p&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;strong&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;${NICK}&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;/&lt;/span&gt;strong&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;回复说：&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;/&lt;/span&gt;p&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;div&lt;/span&gt; &lt;span class=&#34;token special-attr&#34;&gt;&lt;span class=&#34;token attr-name&#34;&gt;style&lt;/span&gt;&lt;span class=&#34;token attr-value&#34;&gt;&lt;span class=&#34;token punctuation attr-equals&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&lt;span class=&#34;token value css language-css&#34;&gt;&lt;span class=&#34;token property&#34;&gt;background-color&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; #f5f5f5&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;token property&#34;&gt;padding&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; 10px 15px&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;token property&#34;&gt;margin&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;18px 0&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;token property&#34;&gt;word-wrap&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;break-word&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt; ${COMMENT}&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;/&lt;/span&gt;div&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;p&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;您可以点击&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;a&lt;/span&gt; &lt;span class=&#34;token special-attr&#34;&gt;&lt;span class=&#34;token attr-name&#34;&gt;style&lt;/span&gt;&lt;span class=&#34;token attr-value&#34;&gt;&lt;span class=&#34;token punctuation attr-equals&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&lt;span class=&#34;token value css language-css&#34;&gt;&lt;span class=&#34;token property&#34;&gt;text-decoration&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;none&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;token property&#34;&gt;color&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;#12addb&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt; &lt;span class=&#34;token attr-name&#34;&gt;href&lt;/span&gt;&lt;span class=&#34;token attr-value&#34;&gt;&lt;span class=&#34;token punctuation attr-equals&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;${POST_URL}&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&lt;/span&gt; &lt;span class=&#34;token attr-name&#34;&gt;target&lt;/span&gt;&lt;span class=&#34;token attr-value&#34;&gt;&lt;span class=&#34;token punctuation attr-equals&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;_blank&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;查看回复的完整內容&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;/&lt;/span&gt;a&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;br&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;/&lt;/span&gt;p&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;/&lt;/span&gt;div&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;/&lt;/span&gt;div&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;博主通知邮件模板中的可用变量与@通知中的基本一致，&lt;strong&gt;&lt;code&gt;PARENT_NICK&lt;/code&gt; 和 &lt;code&gt;PARENT_COMMENT&lt;/code&gt; 变量不再可用。&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;这里还提供一个彩虹风格的@通知邮件模板代码：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-html&#34; data-language=&#34;html&#34;&gt;&lt;code class=&#34;language-html&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;div&lt;/span&gt; &lt;span class=&#34;token special-attr&#34;&gt;&lt;span class=&#34;token attr-name&#34;&gt;style&lt;/span&gt;&lt;span class=&#34;token attr-value&#34;&gt;&lt;span class=&#34;token punctuation attr-equals&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&lt;span class=&#34;token value css language-css&#34;&gt;&lt;span class=&#34;token property&#34;&gt;border-radius&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; 10px 10px 10px 10px&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;token property&#34;&gt;font-size&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;13px&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;    &lt;span class=&#34;token property&#34;&gt;color&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; #555555&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;token property&#34;&gt;width&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; 666px&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;token property&#34;&gt;font-family&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;Century Gothic&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;Trebuchet MS&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;Hiragino Sans GB&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;微软雅黑&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;Microsoft Yahei&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;Tahoma&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;Helvetica&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;Arial&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;SimSun&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;sans-serif&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;token property&#34;&gt;margin&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;50px auto&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;token property&#34;&gt;border&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;1px solid #eee&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;token property&#34;&gt;max-width&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;100%&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;token property&#34;&gt;background&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; #ffffff &lt;span class=&#34;token function&#34;&gt;repeating-linear-gradient&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;-45deg&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;#fff&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;#fff 1.125rem&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;transparent 1.125rem&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;transparent 2.25rem&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;token property&#34;&gt;box-shadow&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; 0 1px 5px &lt;span class=&#34;token function&#34;&gt;rgba&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;0&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; 0&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; 0&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; 0.15&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;div&lt;/span&gt; &lt;span class=&#34;token special-attr&#34;&gt;&lt;span class=&#34;token attr-name&#34;&gt;style&lt;/span&gt;&lt;span class=&#34;token attr-value&#34;&gt;&lt;span class=&#34;token punctuation attr-equals&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&lt;span class=&#34;token value css language-css&#34;&gt;&lt;span class=&#34;token property&#34;&gt;width&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;100%&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;token property&#34;&gt;background&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;#49BDAD&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;token property&#34;&gt;color&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;#ffffff&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;token property&#34;&gt;border-radius&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; 10px 10px 0 0&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;token property&#34;&gt;background-image&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;-moz-linear-gradient&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;0deg&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;rgb&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;67&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; 198&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; 184&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;rgb&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;255&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; 209&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; 244&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;token property&#34;&gt;background-image&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;-webkit-linear-gradient&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;0deg&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;rgb&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;67&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; 198&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; 184&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;rgb&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;255&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; 209&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; 244&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;token property&#34;&gt;height&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; 66px&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;p&lt;/span&gt; &lt;span class=&#34;token special-attr&#34;&gt;&lt;span class=&#34;token attr-name&#34;&gt;style&lt;/span&gt;&lt;span class=&#34;token attr-value&#34;&gt;&lt;span class=&#34;token punctuation attr-equals&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&lt;span class=&#34;token value css language-css&#34;&gt;&lt;span class=&#34;token property&#34;&gt;font-size&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;15px&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;token property&#34;&gt;word-break&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;break-all&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;token property&#34;&gt;padding&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; 23px 32px&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;token property&#34;&gt;margin&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;0&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;token property&#34;&gt;background-color&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;hsla&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;0&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;0%&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;100%&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;.4&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;token property&#34;&gt;border-radius&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; 10px 10px 0 0&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;您在&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;a&lt;/span&gt; &lt;span class=&#34;token special-attr&#34;&gt;&lt;span class=&#34;token attr-name&#34;&gt;style&lt;/span&gt;&lt;span class=&#34;token attr-value&#34;&gt;&lt;span class=&#34;token punctuation attr-equals&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&lt;span class=&#34;token value css language-css&#34;&gt;&lt;span class=&#34;token property&#34;&gt;text-decoration&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;none&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;token property&#34;&gt;color&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; #ffffff&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt; &lt;span class=&#34;token attr-name&#34;&gt;href&lt;/span&gt;&lt;span class=&#34;token attr-value&#34;&gt;&lt;span class=&#34;token punctuation attr-equals&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;${SITE_URL}&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt; ${SITE_NAME}&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;/&lt;/span&gt;a&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;上的留言有新回复啦！&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;/&lt;/span&gt;p&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;/&lt;/span&gt;div&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;div&lt;/span&gt; &lt;span class=&#34;token special-attr&#34;&gt;&lt;span class=&#34;token attr-name&#34;&gt;style&lt;/span&gt;&lt;span class=&#34;token attr-value&#34;&gt;&lt;span class=&#34;token punctuation attr-equals&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&lt;span class=&#34;token value css language-css&#34;&gt;&lt;span class=&#34;token property&#34;&gt;margin&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;40px auto&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;token property&#34;&gt;width&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;90%&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;p&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;${PARENT_NICK} 同学，您曾在文章上发表评论：&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;/&lt;/span&gt;p&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;div&lt;/span&gt; &lt;span class=&#34;token special-attr&#34;&gt;&lt;span class=&#34;token attr-name&#34;&gt;style&lt;/span&gt;&lt;span class=&#34;token attr-value&#34;&gt;&lt;span class=&#34;token punctuation attr-equals&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&lt;span class=&#34;token value css language-css&#34;&gt;&lt;span class=&#34;token property&#34;&gt;background&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; #fafafa &lt;span class=&#34;token function&#34;&gt;repeating-linear-gradient&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;-45deg&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;#fff&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;#fff 1.125rem&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;transparent 1.125rem&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;transparent 2.25rem&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;token property&#34;&gt;box-shadow&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; 0 2px 5px &lt;span class=&#34;token function&#34;&gt;rgba&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;0&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; 0&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; 0&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; 0.15&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;token property&#34;&gt;margin&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;20px 0px&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;token property&#34;&gt;padding&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;15px&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;token property&#34;&gt;border-radius&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;5px&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;token property&#34;&gt;font-size&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;14px&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;token property&#34;&gt;color&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;#555555&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;${PARENT_COMMENT}&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;/&lt;/span&gt;div&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;p&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;${NICK} 给您的回复如下：&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;/&lt;/span&gt;p&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;div&lt;/span&gt; &lt;span class=&#34;token special-attr&#34;&gt;&lt;span class=&#34;token attr-name&#34;&gt;style&lt;/span&gt;&lt;span class=&#34;token attr-value&#34;&gt;&lt;span class=&#34;token punctuation attr-equals&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&lt;span class=&#34;token value css language-css&#34;&gt;&lt;span class=&#34;token property&#34;&gt;background&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; #fafafa &lt;span class=&#34;token function&#34;&gt;repeating-linear-gradient&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;-45deg&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;#fff&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;#fff 1.125rem&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;transparent 1.125rem&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;transparent 2.25rem&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;token property&#34;&gt;box-shadow&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; 0 2px 5px &lt;span class=&#34;token function&#34;&gt;rgba&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;0&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; 0&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; 0&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; 0.15&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;token property&#34;&gt;margin&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;20px 0px&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;token property&#34;&gt;padding&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;15px&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;token property&#34;&gt;border-radius&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;5px&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;token property&#34;&gt;font-size&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;14px&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;token property&#34;&gt;color&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;#555555&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;${COMMENT}&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;/&lt;/span&gt;div&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;p&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;您可以点击&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;a&lt;/span&gt; &lt;span class=&#34;token special-attr&#34;&gt;&lt;span class=&#34;token attr-name&#34;&gt;style&lt;/span&gt;&lt;span class=&#34;token attr-value&#34;&gt;&lt;span class=&#34;token punctuation attr-equals&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&lt;span class=&#34;token value css language-css&#34;&gt;&lt;span class=&#34;token property&#34;&gt;text-decoration&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;none&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;token property&#34;&gt;color&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;#12addb&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt; &lt;span class=&#34;token attr-name&#34;&gt;href&lt;/span&gt;&lt;span class=&#34;token attr-value&#34;&gt;&lt;span class=&#34;token punctuation attr-equals&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;${POST_URL}#comments&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;查看回复的完整內容&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;/&lt;/span&gt;a&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;，欢迎再次光临&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;a&lt;/span&gt; &lt;span class=&#34;token special-attr&#34;&gt;&lt;span class=&#34;token attr-name&#34;&gt;style&lt;/span&gt;&lt;span class=&#34;token attr-value&#34;&gt;&lt;span class=&#34;token punctuation attr-equals&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&lt;span class=&#34;token value css language-css&#34;&gt;&lt;span class=&#34;token property&#34;&gt;text-decoration&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;none&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;token property&#34;&gt;color&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;#12addb&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;                &lt;span class=&#34;token attr-name&#34;&gt;href&lt;/span&gt;&lt;span class=&#34;token attr-value&#34;&gt;&lt;span class=&#34;token punctuation attr-equals&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;${SITE_URL}&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt; ${SITE_NAME}&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;/&lt;/span&gt;a&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;。&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;/&lt;/span&gt;p&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;style&lt;/span&gt; &lt;span class=&#34;token attr-name&#34;&gt;type&lt;/span&gt;&lt;span class=&#34;token attr-value&#34;&gt;&lt;span class=&#34;token punctuation attr-equals&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;text/css&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token style&#34;&gt;&lt;span class=&#34;token language-css&#34;&gt;&lt;span class=&#34;token selector&#34;&gt;a:link&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;token property&#34;&gt;text-decoration&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;none&lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;token selector&#34;&gt;a:visited&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;token property&#34;&gt;text-decoration&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;none&lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;token selector&#34;&gt;a:hover&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;token property&#34;&gt;text-decoration&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;none&lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;token selector&#34;&gt;a:active&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;token property&#34;&gt;text-decoration&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;none&lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;/&lt;/span&gt;style&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;/&lt;/span&gt;div&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;/&lt;/span&gt;div&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;效果如图：&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2021/10/1920211019005726.png&#34; alt=&#34;彩虹模板&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;彩虹模板&lt;/strong&gt;&lt;/p&gt;
&lt;h3 id=&#34;垃圾评论检测&#34;&gt;垃圾评论检测&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;Akismet (Automattic Kismet)是应用广泛的一个垃圾留言过滤系统，其作者是大名鼎鼎的WordPress 创始人 Matt Mullenweg，Akismet也是WordPress默认安装的插件，其使用非常广泛，设计目标便是帮助博客网站来过滤留言Spam。有了Akismet之后，基本上不用担心垃圾留言的烦恼了。 启用Akismet后，当博客再收到留言会自动将其提交到Akismet并与Akismet上的黑名单进行比对，如果名列该黑名单中，则该条留言会被标记为垃圾评论且不会发布。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;如果还没有Akismet Key，你可以去 &lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://akismet.com/development/&#34;&gt;&lt;code&gt;AKISMET FOR DEVELOPERS&lt;/code&gt; 免费申请一个&lt;/a&gt;； &lt;strong&gt;当&lt;code&gt;AKISMET_KEY&lt;/code&gt;设为&lt;code&gt;MANUAL_REVIEW&lt;/code&gt;时，开启人工审核模式；&lt;/strong&gt; 如果你不需要反垃圾评论，&lt;code&gt;Akismet Key&lt;/code&gt; 环境变量可以忽略。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;为了实现较为精准的垃圾评论识别，采集的判据除了评论内容、邮件地址和网站地址外，还包括评论者的IP地址、浏览器信息等，但仅在云引擎后台使用这些数据，确保隐私和安全。&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;如果使用了本站最新的&lt;code&gt;Valine&lt;/code&gt;和&lt;code&gt;Valine Admin&lt;/code&gt;，并设置了&lt;code&gt;Akismet Key&lt;/code&gt;，可以有效地拦截垃圾评论。被标为垃圾的评论可以在管理页面取消标注。&lt;/strong&gt;&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:left&#34;&gt;环境变量&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;示例&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;说明&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;code&gt;AKISMET_KEY&lt;/code&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;xxxxxxxxxxxx&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;[可选]&lt;code&gt;Akismet Key&lt;/code&gt; 用于垃圾评论检测&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h3 id=&#34;手动配置邮件服务器&#34;&gt;手动配置邮件服务器&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;自定义邮件服务器地址和端口信息，删除SMTP_SERVICE环境变量，新增以下变量：&lt;/li&gt;
&lt;/ul&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:left&#34;&gt;变量&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;示例&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;说明&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;code&gt;SMTP_HOST&lt;/code&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;code&gt;smtp.qq.com&lt;/code&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;[可选]&lt;code&gt;SMTP_SERVICE&lt;/code&gt;留空时，自定义&lt;code&gt;SMTP&lt;/code&gt;服务器地址&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;code&gt;SMTP_PORT&lt;/code&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;465&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;[可选]&lt;code&gt;SMTP_SERVICE&lt;/code&gt;留空时，自定义&lt;code&gt;SMTP&lt;/code&gt;端口&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;code&gt;SMTP_SECURE&lt;/code&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;code&gt;true&lt;/code&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;[可选]使用TLS&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h3 id=&#34;Troubleshooting&#34;&gt;Troubleshooting&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;部署失败，请在评论中附图，或去Github发起Issue&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;邮件发送失败，确保环境变量都没问题后，重启云引擎&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2021/10/1920211019005749.png&#34; alt=&#34;重启云引擎&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;重启云引擎&lt;/strong&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;博主通知模板中不要出现&lt;code&gt;PARENT*&lt;/code&gt;相关参数（请勿混用模板）&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;点击邮件中的链接跳转至相应评论，这一细节实现需要在Web前端添加一点额外的代码：&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;pre class=&#34;line-numbers language-html&#34; data-language=&#34;html&#34;&gt;&lt;code class=&#34;language-html&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;script&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token script&#34;&gt;&lt;span class=&#34;token language-javascript&#34;&gt;
    &lt;span class=&#34;token keyword&#34;&gt;if&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;window&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;location&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;hash&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;token keyword&#34;&gt;var&lt;/span&gt; checkExist &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;setInterval&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token keyword&#34;&gt;function&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt;
           &lt;span class=&#34;token keyword&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;$&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;window&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;location&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;hash&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;length&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt;
              &lt;span class=&#34;token function&#34;&gt;$&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;html, body&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;animate&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;token literal-property property&#34;&gt;scrollTop&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;$&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;window&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;location&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;hash&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;offset&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;top&lt;span class=&#34;token operator&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;90&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;1000&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;
              &lt;span class=&#34;token function&#34;&gt;clearInterval&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;checkExist&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;
           &lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt;
        &lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;100&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;/&lt;/span&gt;script&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;@邮件通知效果：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-ejs&#34; data-language=&#34;ejs&#34;&gt;&lt;code class=&#34;language-ejs&#34;&gt;您在[ ${SITE_NAME}](https://blog.17lai.site/posts/40300608/${SITE_URL})上的留言有新回复啦！

${PARENT_NICK} 同学，您曾在文章上发表评论：

${PARENT_COMMENT}

${NICK} 给您的回复如下：

${COMMENT}

您可以点击查看回复的完整內容${POST_URL}#comments，欢迎再次光临 ${SITE_NAME}${SITE_URL}。&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;@邮件通知模板代码：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-html&#34; data-language=&#34;html&#34;&gt;&lt;code class=&#34;language-html&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;div&lt;/span&gt; &lt;span class=&#34;token special-attr&#34;&gt;&lt;span class=&#34;token attr-name&#34;&gt;style&lt;/span&gt;&lt;span class=&#34;token attr-value&#34;&gt;&lt;span class=&#34;token punctuation attr-equals&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&lt;span class=&#34;token value css language-css&#34;&gt;&lt;span class=&#34;token property&#34;&gt;border-radius&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; 10px 10px 10px 10px&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;token property&#34;&gt;font-size&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;13px&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;token property&#34;&gt;color&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; #555555&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;token property&#34;&gt;width&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; 666px&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;token property&#34;&gt;font-family&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;Century Gothic&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;Trebuchet MS&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;Hiragino Sans GB&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;微软雅黑&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;Microsoft Yahei&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;Tahoma&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;Helvetica&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;Arial&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;SimSun&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;sans-serif&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;token property&#34;&gt;margin&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;50px auto&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;token property&#34;&gt;border&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;1px solid #eee&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;token property&#34;&gt;max-width&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;100%&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;token property&#34;&gt;background&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; #ffffff &lt;span class=&#34;token function&#34;&gt;repeating-linear-gradient&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;-45deg&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;#fff&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;#fff 1.125rem&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;transparent 1.125rem&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;transparent 2.25rem&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;token property&#34;&gt;box-shadow&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; 0 1px 5px &lt;span class=&#34;token function&#34;&gt;rgba&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;0&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; 0&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; 0&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; 0.15&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;div&lt;/span&gt; &lt;span class=&#34;token special-attr&#34;&gt;&lt;span class=&#34;token attr-name&#34;&gt;style&lt;/span&gt;&lt;span class=&#34;token attr-value&#34;&gt;&lt;span class=&#34;token punctuation attr-equals&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&lt;span class=&#34;token value css language-css&#34;&gt;&lt;span class=&#34;token property&#34;&gt;width&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;100%&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;token property&#34;&gt;background&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;#49BDAD&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;token property&#34;&gt;color&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;#ffffff&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;token property&#34;&gt;border-radius&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; 10px 10px 0 0&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;token property&#34;&gt;background-image&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;-moz-linear-gradient&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;0deg&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;rgb&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;67&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; 198&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; 184&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;rgb&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;255&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; 209&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; 244&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;token property&#34;&gt;background-image&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;-webkit-linear-gradient&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;0deg&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;rgb&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;67&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; 198&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; 184&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;rgb&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;255&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; 209&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; 244&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;token property&#34;&gt;height&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; 66px&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;p&lt;/span&gt; &lt;span class=&#34;token special-attr&#34;&gt;&lt;span class=&#34;token attr-name&#34;&gt;style&lt;/span&gt;&lt;span class=&#34;token attr-value&#34;&gt;&lt;span class=&#34;token punctuation attr-equals&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&lt;span class=&#34;token value css language-css&#34;&gt;&lt;span class=&#34;token property&#34;&gt;font-size&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;15px&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;token property&#34;&gt;word-break&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;break-all&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;token property&#34;&gt;padding&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; 23px 32px&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;token property&#34;&gt;margin&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;0&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;token property&#34;&gt;background-color&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;hsla&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;0&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;0%&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;100%&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;.4&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;token property&#34;&gt;border-radius&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; 10px 10px 0 0&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;您在&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;a&lt;/span&gt; &lt;span class=&#34;token special-attr&#34;&gt;&lt;span class=&#34;token attr-name&#34;&gt;style&lt;/span&gt;&lt;span class=&#34;token attr-value&#34;&gt;&lt;span class=&#34;token punctuation attr-equals&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&lt;span class=&#34;token value css language-css&#34;&gt;&lt;span class=&#34;token property&#34;&gt;text-decoration&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;none&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;token property&#34;&gt;color&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; #ffffff&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt; &lt;span class=&#34;token attr-name&#34;&gt;href&lt;/span&gt;&lt;span class=&#34;token attr-value&#34;&gt;&lt;span class=&#34;token punctuation attr-equals&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;${SITE_URL}&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt; ${SITE_NAME}&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;/&lt;/span&gt;a&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;上的留言有新回复啦！&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;/&lt;/span&gt;p&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;/&lt;/span&gt;div&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;div&lt;/span&gt; &lt;span class=&#34;token special-attr&#34;&gt;&lt;span class=&#34;token attr-name&#34;&gt;style&lt;/span&gt;&lt;span class=&#34;token attr-value&#34;&gt;&lt;span class=&#34;token punctuation attr-equals&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&lt;span class=&#34;token value css language-css&#34;&gt;&lt;span class=&#34;token property&#34;&gt;margin&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;40px auto&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;token property&#34;&gt;width&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;90%&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;p&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;${PARENT_NICK} 同学，您曾在文章上发表评论：&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;/&lt;/span&gt;p&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;div&lt;/span&gt; &lt;span class=&#34;token special-attr&#34;&gt;&lt;span class=&#34;token attr-name&#34;&gt;style&lt;/span&gt;&lt;span class=&#34;token attr-value&#34;&gt;&lt;span class=&#34;token punctuation attr-equals&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&lt;span class=&#34;token value css language-css&#34;&gt;&lt;span class=&#34;token property&#34;&gt;background&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; #fafafa &lt;span class=&#34;token function&#34;&gt;repeating-linear-gradient&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;-45deg&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;#fff&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;#fff 1.125rem&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;transparent 1.125rem&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;transparent 2.25rem&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;token property&#34;&gt;box-shadow&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; 0 2px 5px &lt;span class=&#34;token function&#34;&gt;rgba&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;0&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; 0&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; 0&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; 0.15&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;token property&#34;&gt;margin&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;20px 0px&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;token property&#34;&gt;padding&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;15px&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;token property&#34;&gt;border-radius&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;5px&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;token property&#34;&gt;font-size&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;14px&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;token property&#34;&gt;color&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;#555555&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;${PARENT_COMMENT}&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;/&lt;/span&gt;div&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;p&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;${NICK} 给您的回复如下：&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;/&lt;/span&gt;p&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;div&lt;/span&gt; &lt;span class=&#34;token special-attr&#34;&gt;&lt;span class=&#34;token attr-name&#34;&gt;style&lt;/span&gt;&lt;span class=&#34;token attr-value&#34;&gt;&lt;span class=&#34;token punctuation attr-equals&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&lt;span class=&#34;token value css language-css&#34;&gt;&lt;span class=&#34;token property&#34;&gt;background&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; #fafafa &lt;span class=&#34;token function&#34;&gt;repeating-linear-gradient&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;-45deg&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;#fff&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;#fff 1.125rem&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;transparent 1.125rem&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;transparent 2.25rem&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;token property&#34;&gt;box-shadow&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; 0 2px 5px &lt;span class=&#34;token function&#34;&gt;rgba&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;0&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; 0&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; 0&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; 0.15&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;token property&#34;&gt;margin&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;20px 0px&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;token property&#34;&gt;padding&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;15px&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;token property&#34;&gt;border-radius&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;5px&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;token property&#34;&gt;font-size&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;14px&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;token property&#34;&gt;color&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;#555555&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;${COMMENT}&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;/&lt;/span&gt;div&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;p&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;您可以点击&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;a&lt;/span&gt; &lt;span class=&#34;token special-attr&#34;&gt;&lt;span class=&#34;token attr-name&#34;&gt;style&lt;/span&gt;&lt;span class=&#34;token attr-value&#34;&gt;&lt;span class=&#34;token punctuation attr-equals&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&lt;span class=&#34;token value css language-css&#34;&gt;&lt;span class=&#34;token property&#34;&gt;text-decoration&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;none&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;token property&#34;&gt;color&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;#12addb&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt; &lt;span class=&#34;token attr-name&#34;&gt;href&lt;/span&gt;&lt;span class=&#34;token attr-value&#34;&gt;&lt;span class=&#34;token punctuation attr-equals&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;${POST_URL}#comments&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;查看回复的完整內容&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;/&lt;/span&gt;a&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;，欢迎再次光临&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;a&lt;/span&gt; &lt;span class=&#34;token special-attr&#34;&gt;&lt;span class=&#34;token attr-name&#34;&gt;style&lt;/span&gt;&lt;span class=&#34;token attr-value&#34;&gt;&lt;span class=&#34;token punctuation attr-equals&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&lt;span class=&#34;token value css language-css&#34;&gt;&lt;span class=&#34;token property&#34;&gt;text-decoration&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;none&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;token property&#34;&gt;color&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;#12addb&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt; &lt;span class=&#34;token attr-name&#34;&gt;href&lt;/span&gt;&lt;span class=&#34;token attr-value&#34;&gt;&lt;span class=&#34;token punctuation attr-equals&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;${SITE_URL}&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt; ${SITE_NAME}&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;/&lt;/span&gt;a&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;。&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;/&lt;/span&gt;p&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;style&lt;/span&gt; &lt;span class=&#34;token attr-name&#34;&gt;type&lt;/span&gt;&lt;span class=&#34;token attr-value&#34;&gt;&lt;span class=&#34;token punctuation attr-equals&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;text/css&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token style&#34;&gt;&lt;span class=&#34;token language-css&#34;&gt;&lt;span class=&#34;token selector&#34;&gt;a:link&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;token property&#34;&gt;text-decoration&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;none&lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;token selector&#34;&gt;a:visited&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;token property&#34;&gt;text-decoration&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;none&lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;token selector&#34;&gt;a:hover&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;token property&#34;&gt;text-decoration&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;none&lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;token selector&#34;&gt;a:active&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;token property&#34;&gt;text-decoration&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;none&lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;/&lt;/span&gt;style&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;/&lt;/span&gt;div&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;div&lt;/span&gt; &lt;span class=&#34;token special-attr&#34;&gt;&lt;span class=&#34;token attr-name&#34;&gt;style&lt;/span&gt;&lt;span class=&#34;token attr-value&#34;&gt;&lt;span class=&#34;token punctuation attr-equals&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&lt;span class=&#34;token value css language-css&#34;&gt;&lt;span class=&#34;token property&#34;&gt;width&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;100%&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;token property&#34;&gt;background&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;#49BDAD&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;token property&#34;&gt;color&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;#ffffff&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;token property&#34;&gt;border-radius&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; 0 0 10px 10px&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;token property&#34;&gt;background-image&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;-moz-linear-gradient&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;0deg&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;rgb&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;67&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; 198&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; 184&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;rgb&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;255&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; 209&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; 244&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;token property&#34;&gt;background-image&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;-webkit-linear-gradient&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;0deg&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;rgb&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;67&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; 198&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; 184&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;rgb&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;255&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; 209&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; 244&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;token property&#34;&gt;height&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; 66px&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;/&lt;/span&gt;div&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;/&lt;/span&gt;div&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;博主通知效果：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-none&#34;&gt;&lt;code class=&#34;language-none&#34;&gt;您在[${SITE_NAME}${SITE_URL}上的文章有了新的评论！
**${NICK}** 同学，发表评论说：
${COMMENT}
您可以点击查看回复的完整內容${POST_URL}#comments)。&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;line-numbers language-html&#34; data-language=&#34;html&#34;&gt;&lt;code class=&#34;language-html&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;div&lt;/span&gt; &lt;span class=&#34;token special-attr&#34;&gt;&lt;span class=&#34;token attr-name&#34;&gt;style&lt;/span&gt;&lt;span class=&#34;token attr-value&#34;&gt;&lt;span class=&#34;token punctuation attr-equals&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&lt;span class=&#34;token value css language-css&#34;&gt;&lt;span class=&#34;token property&#34;&gt;border-radius&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; 10px 10px 10px 10px&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;token property&#34;&gt;font-size&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;13px&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;token property&#34;&gt;color&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; #555555&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;token property&#34;&gt;width&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; 666px&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;token property&#34;&gt;font-family&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;Century Gothic&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;Trebuchet MS&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;Hiragino Sans GB&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;微软雅黑&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;Microsoft Yahei&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;Tahoma&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;Helvetica&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;Arial&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;SimSun&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;sans-serif&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;token property&#34;&gt;margin&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;50px auto&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;token property&#34;&gt;border&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;1px solid #eee&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;token property&#34;&gt;max-width&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;100%&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;token property&#34;&gt;background&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; #ffffff &lt;span class=&#34;token function&#34;&gt;repeating-linear-gradient&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;-45deg&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;#fff&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;#fff 1.125rem&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;transparent 1.125rem&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;transparent 2.25rem&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;token property&#34;&gt;box-shadow&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; 0 1px 5px &lt;span class=&#34;token function&#34;&gt;rgba&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;0&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; 0&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; 0&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; 0.15&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;div&lt;/span&gt; &lt;span class=&#34;token special-attr&#34;&gt;&lt;span class=&#34;token attr-name&#34;&gt;style&lt;/span&gt;&lt;span class=&#34;token attr-value&#34;&gt;&lt;span class=&#34;token punctuation attr-equals&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&lt;span class=&#34;token value css language-css&#34;&gt;&lt;span class=&#34;token property&#34;&gt;width&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;100%&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;token property&#34;&gt;background&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;#49BDAD&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;token property&#34;&gt;color&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;#ffffff&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;token property&#34;&gt;border-radius&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; 10px 10px 0 0&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;token property&#34;&gt;background-image&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;-moz-linear-gradient&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;0deg&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;rgb&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;67&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; 198&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; 184&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;rgb&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;255&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; 209&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; 244&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;token property&#34;&gt;background-image&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;-webkit-linear-gradient&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;0deg&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;rgb&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;67&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; 198&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; 184&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;rgb&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;255&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; 209&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; 244&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;token property&#34;&gt;height&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; 66px&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;p&lt;/span&gt; &lt;span class=&#34;token special-attr&#34;&gt;&lt;span class=&#34;token attr-name&#34;&gt;style&lt;/span&gt;&lt;span class=&#34;token attr-value&#34;&gt;&lt;span class=&#34;token punctuation attr-equals&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&lt;span class=&#34;token value css language-css&#34;&gt;&lt;span class=&#34;token property&#34;&gt;font-size&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;15px&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;token property&#34;&gt;word-break&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;break-all&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;token property&#34;&gt;padding&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; 23px 32px&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;token property&#34;&gt;margin&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;0&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;token property&#34;&gt;background-color&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;hsla&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;0&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;0%&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;100%&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;.4&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;token property&#34;&gt;border-radius&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; 10px 10px 0 0&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;您在&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;a&lt;/span&gt; &lt;span class=&#34;token special-attr&#34;&gt;&lt;span class=&#34;token attr-name&#34;&gt;style&lt;/span&gt;&lt;span class=&#34;token attr-value&#34;&gt;&lt;span class=&#34;token punctuation attr-equals&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&lt;span class=&#34;token value css language-css&#34;&gt;&lt;span class=&#34;token property&#34;&gt;text-decoration&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;none&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;token property&#34;&gt;color&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; #ffffff&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt; &lt;span class=&#34;token attr-name&#34;&gt;href&lt;/span&gt;&lt;span class=&#34;token attr-value&#34;&gt;&lt;span class=&#34;token punctuation attr-equals&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;${SITE_URL}&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt; ${SITE_NAME}&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;/&lt;/span&gt;a&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;上的文章有了新的评论！&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;/&lt;/span&gt;p&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;/&lt;/span&gt;div&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;div&lt;/span&gt; &lt;span class=&#34;token special-attr&#34;&gt;&lt;span class=&#34;token attr-name&#34;&gt;style&lt;/span&gt;&lt;span class=&#34;token attr-value&#34;&gt;&lt;span class=&#34;token punctuation attr-equals&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&lt;span class=&#34;token value css language-css&#34;&gt;&lt;span class=&#34;token property&#34;&gt;margin&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;40px auto&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;token property&#34;&gt;width&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;90%&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;p&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;strong&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;${NICK}&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;/&lt;/span&gt;strong&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt; 同学，发表评论说：&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;/&lt;/span&gt;p&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;div&lt;/span&gt; &lt;span class=&#34;token special-attr&#34;&gt;&lt;span class=&#34;token attr-name&#34;&gt;style&lt;/span&gt;&lt;span class=&#34;token attr-value&#34;&gt;&lt;span class=&#34;token punctuation attr-equals&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&lt;span class=&#34;token value css language-css&#34;&gt;&lt;span class=&#34;token property&#34;&gt;background&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; #fafafa &lt;span class=&#34;token function&#34;&gt;repeating-linear-gradient&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;-45deg&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;#fff&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;#fff 1.125rem&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;transparent 1.125rem&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;transparent 2.25rem&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;token property&#34;&gt;box-shadow&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; 0 2px 5px &lt;span class=&#34;token function&#34;&gt;rgba&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;0&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; 0&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; 0&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; 0.15&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;token property&#34;&gt;margin&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;20px 0px&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;token property&#34;&gt;padding&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;15px&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;token property&#34;&gt;border-radius&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;5px&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;token property&#34;&gt;font-size&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;14px&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;token property&#34;&gt;color&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;#555555&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;${COMMENT}&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;/&lt;/span&gt;div&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;p&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;您可以点击&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;a&lt;/span&gt; &lt;span class=&#34;token special-attr&#34;&gt;&lt;span class=&#34;token attr-name&#34;&gt;style&lt;/span&gt;&lt;span class=&#34;token attr-value&#34;&gt;&lt;span class=&#34;token punctuation attr-equals&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&lt;span class=&#34;token value css language-css&#34;&gt;&lt;span class=&#34;token property&#34;&gt;text-decoration&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;none&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;token property&#34;&gt;color&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;#12addb&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt; &lt;span class=&#34;token attr-name&#34;&gt;href&lt;/span&gt;&lt;span class=&#34;token attr-value&#34;&gt;&lt;span class=&#34;token punctuation attr-equals&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;${POST_URL}#comments&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;查看回复的完整內容&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;/&lt;/span&gt;a&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;。&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;/&lt;/span&gt;p&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;style&lt;/span&gt; &lt;span class=&#34;token attr-name&#34;&gt;type&lt;/span&gt;&lt;span class=&#34;token attr-value&#34;&gt;&lt;span class=&#34;token punctuation attr-equals&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;text/css&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token style&#34;&gt;&lt;span class=&#34;token language-css&#34;&gt;&lt;span class=&#34;token selector&#34;&gt;a:link&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;token property&#34;&gt;text-decoration&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;none&lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;token selector&#34;&gt;a:visited&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;token property&#34;&gt;text-decoration&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;none&lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;token selector&#34;&gt;a:hover&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;token property&#34;&gt;text-decoration&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;none&lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;token selector&#34;&gt;a:active&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;token property&#34;&gt;text-decoration&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;none&lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;/&lt;/span&gt;style&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;/&lt;/span&gt;div&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;div&lt;/span&gt; &lt;span class=&#34;token special-attr&#34;&gt;&lt;span class=&#34;token attr-name&#34;&gt;style&lt;/span&gt;&lt;span class=&#34;token attr-value&#34;&gt;&lt;span class=&#34;token punctuation attr-equals&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&lt;span class=&#34;token value css language-css&#34;&gt;&lt;span class=&#34;token property&#34;&gt;width&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;100%&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;token property&#34;&gt;background&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;#49BDAD&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;token property&#34;&gt;color&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;#ffffff&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;token property&#34;&gt;border-radius&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; 0 0 10px 10px &lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;token property&#34;&gt;background-image&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;-moz-linear-gradient&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;0deg&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;rgb&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;67&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; 198&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; 184&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;rgb&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;255&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; 209&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; 244&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;token property&#34;&gt;background-image&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;-webkit-linear-gradient&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;0deg&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;rgb&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;67&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; 198&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; 184&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;rgb&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;255&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; 209&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; 244&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;token property&#34;&gt;height&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; 66px&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;/&lt;/span&gt;div&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;/&lt;/span&gt;div&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;解决休眠&#34;&gt;解决休眠&lt;/h3&gt;
&lt;p&gt;免费版的 LeanCloud 容器，是有强制性休眠策略的，不能 24 小时运行：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;每天必须休眠 6 个小时&lt;/li&gt;
&lt;li&gt;30 分钟内没有外部请求，则休眠。&lt;/li&gt;
&lt;li&gt;休眠后如果有新的外部请求实例则马上启动（但激活时此次发送邮件会失败）。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;也就是如果服务器休眠了的话用户第一次评论是提醒不了的。&lt;/p&gt;
&lt;p&gt;参考了Valine-Admin官网找到了解决办法。&lt;/p&gt;
&lt;p&gt;首先在环境变量增加服务器地址，就是你的后台服务器地址&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2021/10/1920211019005144.png&#34; alt=&#34;img&#34;&gt;&lt;/p&gt;
&lt;p&gt;下面是你的服务器地址，可以自定义&lt;/p&gt;
&lt;p&gt;同样登录后台&lt;/p&gt;
&lt;p&gt;找到定时任务&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2021/10/1920211019005147.png&#34; alt=&#34;img&#34;&gt;&lt;/p&gt;
&lt;p&gt;然后点击创建任务，上面是我创建好的&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2021/10/1920211019005153.png&#34; alt=&#34;img&#34;&gt;&lt;/p&gt;
&lt;p&gt;选择self_wake函数，然后运行时间使用cron表达式&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;0 0/30 7-23 ? 表示每天6点到11点 每30分钟叫醒服务器一次&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;这样就完美的解决了服务器休眠的问题&lt;/p&gt;
&lt;p&gt;那如果用户不在时间范围内发留言了怎么办？我们也可以创建一个捡漏的定时任务&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2021/10/1920211019005159.png&#34; alt=&#34;img&#34;&gt;&lt;/p&gt;
&lt;p&gt;创建捡漏定时任务&lt;/p&gt;
&lt;p&gt;然后运行函数选择resend_mails,同样使用cron表达式&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;0 0 8 ?&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;表示每八个小时进行捡漏一次，这样如果有留言遗漏的话就能即使的提醒。&lt;/p&gt;
&lt;h3 id=&#34;WakeLeanCloud&#34;&gt;&lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://github.com/Ysnsn/WakeLeanCloud&#34;&gt;WakeLeanCloud&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;这个项目主要是用来解决LeanCloud通过定时任务唤醒机器时被流控的问题。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;如何使用&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Fork此项目&lt;/li&gt;
&lt;li&gt;添加一个名为&lt;code&gt;GITHUB_TOKEN&lt;/code&gt;的Token，并为赋予&lt;code&gt;repo&lt;/code&gt;，&lt;code&gt;admin:repo_hook&lt;/code&gt; ， &lt;code&gt;workflow&lt;/code&gt;的权限&lt;/li&gt;
&lt;li&gt;添加名为&lt;code&gt;SITE&lt;/code&gt;的Secrets，内容为自己管理后台地址。多个请用英文逗号分隔&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;详细教程请参考&lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://www.antmoe.com/posts/ff6aef7b/index.html#%E5%BC%80%E5%A7%8B%E5%B0%9D%E8%AF%95&#34;&gt;优雅解决LeanCloud流控问题&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&#34;让hexo支持pwa&#34;&gt;让hexo支持pwa&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;pwa中文叫渐进式网页应用，pwa网站可以直接添加网址站到桌面，就相当于在系统中直接安装了一个app，打开的效果也和app差不多，加载速度也很快，部分功能可以直接离线使用。Google的Workbox标准，目前来看需要Chrome支持&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;hexo-pwa 很久没更新，看到资料都是支持4.x版本hexo。&lt;/li&gt;
&lt;li&gt;hexo-offline 亲自验证，支持最新5.x的hexo。&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;安装hexo-offline&#34;&gt;安装hexo-offline&lt;/h3&gt;
&lt;pre class=&#34;line-numbers language-none&#34;&gt;&lt;code class=&#34;language-none&#34;&gt;npm install hexo-offline --save&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;关于这个插件的详细使用方法可以看下面这里&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-none&#34;&gt;&lt;code class=&#34;language-none&#34;&gt;https://github.com/JLHwung/hexo-offline&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;配置hexo-offline&#34;&gt;配置hexo-offline&lt;/h3&gt;
&lt;p&gt;之后我们在站点根目录_config.yml如下配置&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-yaml&#34; data-language=&#34;yaml&#34;&gt;&lt;code class=&#34;language-yaml&#34;&gt;&lt;span class=&#34;token comment&#34;&gt;# offline config passed to sw-precache.&lt;/span&gt;
&lt;span class=&#34;token key atrule&#34;&gt;service_worker&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;
  &lt;span class=&#34;token key atrule&#34;&gt;maximumFileSizeToCacheInBytes&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;5242880&lt;/span&gt;
  &lt;span class=&#34;token key atrule&#34;&gt;staticFileGlobs&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;
  &lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt; /&lt;span class=&#34;token important&#34;&gt;**/*.&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt;js&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;html&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;css&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;png&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;jpg&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;gif&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;svg&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;eot&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;ttf&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;woff&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;woff2&lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt;
  &lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt; /lib/&lt;span class=&#34;token important&#34;&gt;**/*.js&lt;/span&gt;
  &lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt; /lib/&lt;span class=&#34;token important&#34;&gt;**/*.css&lt;/span&gt;
  &lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt; /images/*
  &lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt; /js/src/&lt;span class=&#34;token important&#34;&gt;**/*.js&lt;/span&gt;
  &lt;span class=&#34;token key atrule&#34;&gt;stripPrefix&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; public
  &lt;span class=&#34;token key atrule&#34;&gt;verbose&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token boolean important&#34;&gt;true&lt;/span&gt;
  &lt;span class=&#34;token key atrule&#34;&gt;runtimeCaching&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;
    &lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt; &lt;span class=&#34;token key atrule&#34;&gt;urlPattern&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; /*
      &lt;span class=&#34;token key atrule&#34;&gt;handler&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; cacheFirst
      &lt;span class=&#34;token key atrule&#34;&gt;options&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;
        &lt;span class=&#34;token key atrule&#34;&gt;origin&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; cdn.bootcss.com&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;注意哦不是主题的_config.yml文件&lt;/p&gt;
&lt;p&gt;之后生成manifest.json文件，可以在&lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://app-manifest.firebaseapp.com/&#34;&gt;&lt;strong&gt;这个网站&lt;/strong&gt;&lt;/a&gt;在线生成。&lt;/p&gt;
&lt;p&gt;填入相关的参数，如下&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2021/09/1820210918204544.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Tips: 一定需要一个512x512的icon！&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;之后点击generate.zip 把配置都下载过来&lt;/p&gt;
&lt;p&gt;把manifest.json和images文件夹直接复制到hexo下source文件夹中，最后我们编辑主题，在head里添加&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-html&#34; data-language=&#34;html&#34;&gt;&lt;code class=&#34;language-html&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;link&lt;/span&gt; &lt;span class=&#34;token attr-name&#34;&gt;rel&lt;/span&gt;&lt;span class=&#34;token attr-value&#34;&gt;&lt;span class=&#34;token punctuation attr-equals&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;manifest&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&lt;/span&gt; &lt;span class=&#34;token attr-name&#34;&gt;href&lt;/span&gt;&lt;span class=&#34;token attr-value&#34;&gt;&lt;span class=&#34;token punctuation attr-equals&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;/manifest.json&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;如果使用的是hexo next主题，在&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-bash&#34; data-language=&#34;bash&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;themes/next/layout/_partials/head/head.swig&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;如果使用的是hexo matery主题，在&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-js&#34; data-language=&#34;js&#34;&gt;&lt;code class=&#34;language-js&#34;&gt;themes&lt;span class=&#34;token operator&#34;&gt;/&lt;/span&gt;matery&lt;span class=&#34;token operator&#34;&gt;/&lt;/span&gt;layout&lt;span class=&#34;token operator&#34;&gt;/&lt;/span&gt;_partial&lt;span class=&#34;token operator&#34;&gt;/&lt;/span&gt;head&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;ejs&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2021/09/1820210918220357.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;这个文件中添加上面这句话即可，最后直接重新生成站点，部署即可&lt;/p&gt;
&lt;h3 id=&#34;验证和使用&#34;&gt;验证和使用&lt;/h3&gt;
&lt;p&gt;需要https访问，看到这个齿轮&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2021/09/1820210918222354.png&#34; alt=&#34;F12 sources&#34;&gt;&lt;/p&gt;
&lt;p&gt;然后在浏览器地址栏可以看到应用标志&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Tips: offline 需要https才能正常使用&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2021/09/1820210918231523.png&#34; alt=&#34;地址栏&#34;&gt;&lt;/p&gt;
&lt;p&gt;点击打开，会看到如下结果，试一下？&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2021/09/1820210918231644.png&#34; alt=&#34;离线博客&#34;&gt;&lt;/p&gt;
&lt;h2 id=&#34;valine-的使用与升级到1-4&#34;&gt;valine 的使用与升级到1.4&lt;/h2&gt;
&lt;h3 id=&#34;一、valine启用&#34;&gt;一、valine启用&lt;/h3&gt;
&lt;h4 id=&#34;1、主要流程&#34;&gt;1、主要流程&lt;/h4&gt;
&lt;p&gt;valine和miniValine使用基本类似。&lt;/p&gt;
&lt;p&gt;（1）去 &lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://leancloud.cn/dashboard/login.html#/signup&#34;&gt;Leancloud&lt;/a&gt;注册。&lt;/p&gt;
&lt;p&gt;注意事项：&lt;/p&gt;
&lt;p&gt;节点选择：华东节点、华北节点、国际版。&lt;/p&gt;
&lt;p&gt;如果你的域名没有备案，建议选择国际版。 因为华东或华北节点在安装评论系统之后访问要求域名备案。&lt;/p&gt;
&lt;p&gt;（2）在“设置“，”应用 Keys”，找到你的&lt;code&gt;appid&lt;/code&gt;和&lt;code&gt;appkey&lt;/code&gt;，配置到主题中&lt;code&gt;valine&lt;/code&gt;配置的地方，启用&lt;code&gt;valine&lt;/code&gt;。&lt;/p&gt;
&lt;p&gt;（3）在“设置“，”安全中心”，”Web 安全域名”，添加自己的域名。&lt;/p&gt;
&lt;p&gt;（4）在“设置“，”安全中心”，”服务开关”，数据存储要打开。&lt;/p&gt;
&lt;p&gt;（5）在“存储“，”用量统计”，”HTTP状态码”，启用，方便后续报错查错误码。&lt;/p&gt;
&lt;p&gt;（6）重新编译部署&lt;code&gt;hexo clean &amp;amp; hexo g &amp;amp; hexo d&lt;/code&gt;&lt;/p&gt;
&lt;h4 id=&#34;2、遇到问题&#34;&gt;2、遇到问题&lt;/h4&gt;
&lt;p&gt;搞这个东西采坑不少，有些坑都是自己不小心造成的。我在网上查了，交流群里也咨询请教了，没有人能解决这个问题，毕竟这个坑是自己造成的。&lt;/p&gt;
&lt;p&gt;常见Code 403问题：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-txt&#34; data-language=&#34;txt&#34;&gt;&lt;code class=&#34;language-txt&#34;&gt;Code 403: 访问被api域名白名单拒绝，请检查你的安全域名设置.&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;网上多数的说法是在web安全域名中添加自己的域名。可是如果添加之后还是这个问题呢？&lt;/p&gt;
&lt;p&gt;其实一般不会有这个问题，我有这个问题是我改了权限造成了。&lt;/p&gt;
&lt;p&gt;官方给的解释：&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;应用在控制台中的相关服务选项未打开，如 Class 关闭了权限，或是 User 缺失了 session 信息等情况下，云端会统一地返回 403 错误码及不同的错误信息，代表当前请求因权限不够而被拒。例如：&lt;/p&gt;
&lt;p&gt;信息 - Forbidden to read/write by class permissions&lt;br&gt;
含义 - 操作被禁止，因为 Class 表没有打开「读」或者「写」的权限。进入 控制台 &amp;gt; 存储，点击相应的 Class，从右侧选择 其他 下拉菜单，进入 权限管理 来调整。&lt;/p&gt;
&lt;p&gt;信息 - The user cannot be altered by a client without the session.&lt;br&gt;
含义 - 用户没有登录，无法修改用户信息。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;解决：&lt;/p&gt;
&lt;p&gt;（1）首次使用，添加一条评论，一般添加之后就会好了。&lt;/p&gt;
&lt;p&gt;（2）后续使用，403，请检查&lt;code&gt;comment&lt;/code&gt;表的add_fields/create/find权限开放。&lt;/p&gt;
&lt;p&gt;（3）如果还是不行将&lt;code&gt;_use&lt;/code&gt;表的add_fields/create/find权限开放。&lt;/p&gt;
&lt;p&gt;（4）如果还是不行，到“存储“，”用量统计”，”HTTP状态码”处，检查你的错误码，然后去&lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://leancloud.cn/docs/error_code.html#hash1392104&#34;&gt;LeanCloud的错误&lt;/a&gt;找应用的错误码，排查原因吧。&lt;/p&gt;
&lt;h3 id=&#34;二、valine升级&#34;&gt;二、valine升级&lt;/h3&gt;
&lt;h4 id=&#34;1、引入1-4版的js文件&#34;&gt;1、引入1.4版的js文件&lt;/h4&gt;
&lt;p&gt;（1）修改主题配置文件&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-yaml&#34; data-language=&#34;yaml&#34;&gt;&lt;code class=&#34;language-yaml&#34;&gt;&lt;span class=&#34;token key atrule&#34;&gt;js&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;
  &lt;span class=&#34;token key atrule&#34;&gt;valine&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; https&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;//unpkg.com/valine/dist/Valine.min.js &lt;span class=&#34;token comment&#34;&gt;#/libs/valine/Valine.min.js &lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;（2）将文件放你自己的仓库&lt;/p&gt;
&lt;p&gt;下载我的 &lt;code&gt;Valine.min.js&lt;/code&gt; 文件，直接替换你主题目录 &lt;code&gt;/source/libs/valine/&lt;/code&gt; 下的 &lt;code&gt;Valine.min.js&lt;/code&gt; 文件。&lt;/p&gt;
&lt;p&gt;注意，如果你担心替换有问题，可以先备份一下你自己的 &lt;code&gt;Valine.min.js&lt;/code&gt; 文件。&lt;/p&gt;
&lt;h4 id=&#34;2、增加valine的配置：&#34;&gt;2、增加valine的配置：&lt;/h4&gt;
&lt;p&gt;1.4的版本有些属性调整了，主题下的&lt;code&gt;_config.yml&lt;/code&gt;valine属性如下：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-yaml&#34; data-language=&#34;yaml&#34;&gt;&lt;code class=&#34;language-yaml&#34;&gt;&lt;span class=&#34;token key atrule&#34;&gt;valine&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;
  &lt;span class=&#34;token key atrule&#34;&gt;enable&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token boolean important&#34;&gt;true&lt;/span&gt;
  &lt;span class=&#34;token key atrule&#34;&gt;appId&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; iTxfqh5e9IaRfiiVOTbIWoKa&lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt;XXXXXX
  &lt;span class=&#34;token key atrule&#34;&gt;appKey&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; C5s5xGFErD1EtXXXXXXXX
  &lt;span class=&#34;token key atrule&#34;&gt;verify&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token boolean important&#34;&gt;true&lt;/span&gt;  &lt;span class=&#34;token comment&#34;&gt;# 是否启用防垃圾验证&lt;/span&gt;
  &lt;span class=&#34;token key atrule&#34;&gt;notify&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token boolean important&#34;&gt;true&lt;/span&gt;  &lt;span class=&#34;token comment&#34;&gt;# 是否开启邮件提醒(https://valine.js.org/notify.html)&lt;/span&gt;
  &lt;span class=&#34;token key atrule&#34;&gt;visitor&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token boolean important&#34;&gt;true&lt;/span&gt;
  &lt;span class=&#34;token key atrule&#34;&gt;avatar&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; monsterid  &lt;span class=&#34;token comment&#34;&gt;# 头像样式(https://valine.js.org/avatar.html) &lt;/span&gt;
  &lt;span class=&#34;token key atrule&#34;&gt;pageSize&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;10&lt;/span&gt;
  &lt;span class=&#34;token key atrule&#34;&gt;placeholder&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;ヾﾉ≧∀≦)o来啊，快活啊!&#39;&lt;/span&gt; &lt;span class=&#34;token comment&#34;&gt;# Comment Box placeholder&lt;/span&gt;
  &lt;span class=&#34;token key atrule&#34;&gt;background&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; /medias/comment_bg.png &lt;span class=&#34;token comment&#34;&gt;#背景图&lt;/span&gt;
  &lt;span class=&#34;token key atrule&#34;&gt;count&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token boolean important&#34;&gt;true&lt;/span&gt;
  &lt;span class=&#34;token key atrule&#34;&gt;enableQQ&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;970175021&lt;/span&gt;
  &lt;span class=&#34;token key atrule&#34;&gt;recordIP&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token boolean important&#34;&gt;true&lt;/span&gt;
  &lt;span class=&#34;token key atrule&#34;&gt;requiredFields&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; 
    &lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt; nick
    &lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt; mail
  &lt;span class=&#34;token key atrule&#34;&gt;guest_info&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; 
    &lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt; nick
    &lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt; mail
    &lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt; link
  &lt;span class=&#34;token key atrule&#34;&gt;master&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; 
    &lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt; 123abc508165c8eba9a77f872xxxx046  &lt;span class=&#34;token comment&#34;&gt;# md5加密后的博主邮箱&lt;/span&gt;
  &lt;span class=&#34;token key atrule&#34;&gt;metaPlaceholder&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;  &lt;span class=&#34;token comment&#34;&gt;# 输入框的背景文字&lt;/span&gt;
    &lt;span class=&#34;token key atrule&#34;&gt;nick&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; 昵称/QQ号(必填)
    &lt;span class=&#34;token key atrule&#34;&gt;mail&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; 邮箱(必填)
    &lt;span class=&#34;token key atrule&#34;&gt;link&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; 网址(https&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;//)
  &lt;span class=&#34;token key atrule&#34;&gt;lang&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; zh&lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt;CN
  &lt;span class=&#34;token key atrule&#34;&gt;tagMeta&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token comment&#34;&gt;# The String Array of Words to show Flag.[Just Only xCss Style mode]&lt;/span&gt;
    &lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt; 博主
    &lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt; 小伙伴
    &lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt; 访客
  &lt;span class=&#34;token key atrule&#34;&gt;friends&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token comment&#34;&gt;# The MD5 String Array of friends Email to show friends Flag.[Just Only xCss Style mode]&lt;/span&gt;
    &lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt; c08508165c8eba9a77f8c2853xxxx09e
    &lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt; 901345d4c91ddfd8db0f175bbcfff0c8
    &lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt; 1512958e18378c98b498d5effe3e76ff&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;复制代码注意缩进对齐，不对齐可能会报错，请自行检查对齐。&lt;/p&gt;
&lt;h4 id=&#34;3、修改valine-ejs：&#34;&gt;3、修改&lt;code&gt;valine.ejs&lt;/code&gt;：&lt;/h4&gt;
&lt;p&gt;Matery 主题使用的&lt;code&gt;ejs&lt;/code&gt;模板预编译，如果你使用了&lt;code&gt;pug&lt;/code&gt;或者&lt;code&gt;swig&lt;/code&gt;等其他的模板语言，请修改成对应语言语法即可。&lt;/p&gt;
&lt;p&gt;原始的&lt;code&gt;valine.ejs&lt;/code&gt;&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-ejs&#34; data-language=&#34;ejs&#34;&gt;&lt;code class=&#34;language-ejs&#34;&gt;new Valine({
        el: &#39;#vcomments&#39;,
        appId: &#39;&lt;span class=&#34;token ejs language-ejs&#34;&gt;&lt;span class=&#34;token delimiter punctuation&#34;&gt;&amp;lt;%-&lt;/span&gt;&lt;span class=&#34;token language-javascript&#34;&gt; theme&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;valine&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;appId &lt;/span&gt;&lt;span class=&#34;token delimiter punctuation&#34;&gt;%&amp;gt;&lt;/span&gt;&lt;/span&gt;&#39;,
        appKey: &#39;&lt;span class=&#34;token ejs language-ejs&#34;&gt;&lt;span class=&#34;token delimiter punctuation&#34;&gt;&amp;lt;%-&lt;/span&gt;&lt;span class=&#34;token language-javascript&#34;&gt; theme&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;valine&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;appKey &lt;/span&gt;&lt;span class=&#34;token delimiter punctuation&#34;&gt;%&amp;gt;&lt;/span&gt;&lt;/span&gt;&#39;,
        notify: &#39;&lt;span class=&#34;token ejs language-ejs&#34;&gt;&lt;span class=&#34;token delimiter punctuation&#34;&gt;&amp;lt;%-&lt;/span&gt;&lt;span class=&#34;token language-javascript&#34;&gt; theme&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;valine&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;notify &lt;/span&gt;&lt;span class=&#34;token delimiter punctuation&#34;&gt;%&amp;gt;&lt;/span&gt;&lt;/span&gt;&#39; === &#39;true&#39;,
        verify: &#39;&lt;span class=&#34;token ejs language-ejs&#34;&gt;&lt;span class=&#34;token delimiter punctuation&#34;&gt;&amp;lt;%-&lt;/span&gt;&lt;span class=&#34;token language-javascript&#34;&gt; theme&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;valine&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;verify &lt;/span&gt;&lt;span class=&#34;token delimiter punctuation&#34;&gt;%&amp;gt;&lt;/span&gt;&lt;/span&gt;&#39; === &#39;true&#39;,
        visitor: &#39;&lt;span class=&#34;token ejs language-ejs&#34;&gt;&lt;span class=&#34;token delimiter punctuation&#34;&gt;&amp;lt;%-&lt;/span&gt;&lt;span class=&#34;token language-javascript&#34;&gt; theme&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;valine&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;visitor &lt;/span&gt;&lt;span class=&#34;token delimiter punctuation&#34;&gt;%&amp;gt;&lt;/span&gt;&lt;/span&gt;&#39; === &#39;true&#39;,
        avatar: &#39;&lt;span class=&#34;token ejs language-ejs&#34;&gt;&lt;span class=&#34;token delimiter punctuation&#34;&gt;&amp;lt;%-&lt;/span&gt;&lt;span class=&#34;token language-javascript&#34;&gt; theme&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;valine&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;avatar &lt;/span&gt;&lt;span class=&#34;token delimiter punctuation&#34;&gt;%&amp;gt;&lt;/span&gt;&lt;/span&gt;&#39;,
        pageSize: &#39;&lt;span class=&#34;token ejs language-ejs&#34;&gt;&lt;span class=&#34;token delimiter punctuation&#34;&gt;&amp;lt;%-&lt;/span&gt;&lt;span class=&#34;token language-javascript&#34;&gt; theme&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;valine&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;pageSize &lt;/span&gt;&lt;span class=&#34;token delimiter punctuation&#34;&gt;%&amp;gt;&lt;/span&gt;&lt;/span&gt;&#39;,
        lang: &#39;&lt;span class=&#34;token ejs language-ejs&#34;&gt;&lt;span class=&#34;token delimiter punctuation&#34;&gt;&amp;lt;%&lt;/span&gt;&lt;span class=&#34;token language-javascript&#34;&gt; &lt;span class=&#34;token keyword&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;config&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;language &lt;span class=&#34;token operator&#34;&gt;==&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;zh-CN&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt;  &lt;/span&gt;&lt;span class=&#34;token delimiter punctuation&#34;&gt;%&amp;gt;&lt;/span&gt;&lt;/span&gt;zh-cn&lt;span class=&#34;token ejs language-ejs&#34;&gt;&lt;span class=&#34;token delimiter punctuation&#34;&gt;&amp;lt;%&lt;/span&gt;&lt;span class=&#34;token language-javascript&#34;&gt; &lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;else&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt; &lt;/span&gt;&lt;span class=&#34;token delimiter punctuation&#34;&gt;%&amp;gt;&lt;/span&gt;&lt;/span&gt;en&lt;span class=&#34;token ejs language-ejs&#34;&gt;&lt;span class=&#34;token delimiter punctuation&#34;&gt;&amp;lt;%&lt;/span&gt;&lt;span class=&#34;token language-javascript&#34;&gt; &lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt; &lt;/span&gt;&lt;span class=&#34;token delimiter punctuation&#34;&gt;%&amp;gt;&lt;/span&gt;&lt;/span&gt;&#39;,
        placeholder: &#39;&lt;span class=&#34;token ejs language-ejs&#34;&gt;&lt;span class=&#34;token delimiter punctuation&#34;&gt;&amp;lt;%=&lt;/span&gt;&lt;span class=&#34;token language-javascript&#34;&gt; theme&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;valine&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;placeholder &lt;/span&gt;&lt;span class=&#34;token delimiter punctuation&#34;&gt;%&amp;gt;&lt;/span&gt;&lt;/span&gt;&#39;
    });&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;升级后的&lt;code&gt;valine.ejs&lt;/code&gt;&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-ejs&#34; data-language=&#34;ejs&#34;&gt;&lt;code class=&#34;language-ejs&#34;&gt;let metaPlaceholder = &lt;span class=&#34;token ejs language-ejs&#34;&gt;&lt;span class=&#34;token delimiter punctuation&#34;&gt;&amp;lt;%-&lt;/span&gt;&lt;span class=&#34;token language-javascript&#34;&gt;  &lt;span class=&#34;token constant&#34;&gt;JSON&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;stringify&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;theme&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;valine&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;metaPlaceholder&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;/span&gt;&lt;span class=&#34;token delimiter punctuation&#34;&gt;%&amp;gt;&lt;/span&gt;&lt;/span&gt; ;
//这里要换行
new Valine({
        el: &#39;#vcomments&#39;,
        appId: &#39;&lt;span class=&#34;token ejs language-ejs&#34;&gt;&lt;span class=&#34;token delimiter punctuation&#34;&gt;&amp;lt;%-&lt;/span&gt;&lt;span class=&#34;token language-javascript&#34;&gt; theme&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;valine&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;appId &lt;/span&gt;&lt;span class=&#34;token delimiter punctuation&#34;&gt;%&amp;gt;&lt;/span&gt;&lt;/span&gt;&#39;,
        appKey: &#39;&lt;span class=&#34;token ejs language-ejs&#34;&gt;&lt;span class=&#34;token delimiter punctuation&#34;&gt;&amp;lt;%-&lt;/span&gt;&lt;span class=&#34;token language-javascript&#34;&gt; theme&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;valine&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;appKey &lt;/span&gt;&lt;span class=&#34;token delimiter punctuation&#34;&gt;%&amp;gt;&lt;/span&gt;&lt;/span&gt;&#39;,
        notify: &#39;&lt;span class=&#34;token ejs language-ejs&#34;&gt;&lt;span class=&#34;token delimiter punctuation&#34;&gt;&amp;lt;%-&lt;/span&gt;&lt;span class=&#34;token language-javascript&#34;&gt; theme&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;valine&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;notify &lt;/span&gt;&lt;span class=&#34;token delimiter punctuation&#34;&gt;%&amp;gt;&lt;/span&gt;&lt;/span&gt;&#39; === &#39;true&#39;,
        verify: &#39;&lt;span class=&#34;token ejs language-ejs&#34;&gt;&lt;span class=&#34;token delimiter punctuation&#34;&gt;&amp;lt;%-&lt;/span&gt;&lt;span class=&#34;token language-javascript&#34;&gt; theme&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;valine&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;verify &lt;/span&gt;&lt;span class=&#34;token delimiter punctuation&#34;&gt;%&amp;gt;&lt;/span&gt;&lt;/span&gt;&#39; === &#39;true&#39;,
        visitor: &#39;&lt;span class=&#34;token ejs language-ejs&#34;&gt;&lt;span class=&#34;token delimiter punctuation&#34;&gt;&amp;lt;%-&lt;/span&gt;&lt;span class=&#34;token language-javascript&#34;&gt; theme&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;valine&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;visitor &lt;/span&gt;&lt;span class=&#34;token delimiter punctuation&#34;&gt;%&amp;gt;&lt;/span&gt;&lt;/span&gt;&#39; === &#39;true&#39;,
        avatar: &#39;&lt;span class=&#34;token ejs language-ejs&#34;&gt;&lt;span class=&#34;token delimiter punctuation&#34;&gt;&amp;lt;%-&lt;/span&gt;&lt;span class=&#34;token language-javascript&#34;&gt; theme&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;valine&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;avatar &lt;/span&gt;&lt;span class=&#34;token delimiter punctuation&#34;&gt;%&amp;gt;&lt;/span&gt;&lt;/span&gt;&#39;,
        pageSize: &#39;&lt;span class=&#34;token ejs language-ejs&#34;&gt;&lt;span class=&#34;token delimiter punctuation&#34;&gt;&amp;lt;%-&lt;/span&gt;&lt;span class=&#34;token language-javascript&#34;&gt; theme&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;valine&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;pageSize &lt;/span&gt;&lt;span class=&#34;token delimiter punctuation&#34;&gt;%&amp;gt;&lt;/span&gt;&lt;/span&gt;&#39;,
        lang: &#39;&lt;span class=&#34;token ejs language-ejs&#34;&gt;&lt;span class=&#34;token delimiter punctuation&#34;&gt;&amp;lt;%-&lt;/span&gt;&lt;span class=&#34;token language-javascript&#34;&gt; theme&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;valine&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;lang &lt;/span&gt;&lt;span class=&#34;token delimiter punctuation&#34;&gt;%&amp;gt;&lt;/span&gt;&lt;/span&gt;&#39;,
        placeholder: &#39;&lt;span class=&#34;token ejs language-ejs&#34;&gt;&lt;span class=&#34;token delimiter punctuation&#34;&gt;&amp;lt;%=&lt;/span&gt;&lt;span class=&#34;token language-javascript&#34;&gt; theme&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;valine&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;placeholder &lt;/span&gt;&lt;span class=&#34;token delimiter punctuation&#34;&gt;%&amp;gt;&lt;/span&gt;&lt;/span&gt;&#39;,
        meta: &lt;span class=&#34;token ejs language-ejs&#34;&gt;&lt;span class=&#34;token delimiter punctuation&#34;&gt;&amp;lt;%-&lt;/span&gt;&lt;span class=&#34;token language-javascript&#34;&gt; &lt;span class=&#34;token string&#34;&gt;&#39;[&#34;&#39;&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;+&lt;/span&gt; theme&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;valine&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;guest_info&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;join&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;&#34;, &#34;&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;&#34;]&#39;&lt;/span&gt; &lt;/span&gt;&lt;span class=&#34;token delimiter punctuation&#34;&gt;%&amp;gt;&lt;/span&gt;&lt;/span&gt;,
        recordIP: &#39;&lt;span class=&#34;token ejs language-ejs&#34;&gt;&lt;span class=&#34;token delimiter punctuation&#34;&gt;&amp;lt;%-&lt;/span&gt;&lt;span class=&#34;token language-javascript&#34;&gt; theme&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;valine&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;recordIP &lt;/span&gt;&lt;span class=&#34;token delimiter punctuation&#34;&gt;%&amp;gt;&lt;/span&gt;&lt;/span&gt;&#39; === &#39;true&#39;,
        enableQQ: &#39;&lt;span class=&#34;token ejs language-ejs&#34;&gt;&lt;span class=&#34;token delimiter punctuation&#34;&gt;&amp;lt;%-&lt;/span&gt;&lt;span class=&#34;token language-javascript&#34;&gt; theme&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;valine&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;avatar &lt;/span&gt;&lt;span class=&#34;token delimiter punctuation&#34;&gt;%&amp;gt;&lt;/span&gt;&lt;/span&gt;&#39;,
        requiredFields: &lt;span class=&#34;token ejs language-ejs&#34;&gt;&lt;span class=&#34;token delimiter punctuation&#34;&gt;&amp;lt;%-&lt;/span&gt;&lt;span class=&#34;token language-javascript&#34;&gt; &lt;span class=&#34;token string&#34;&gt;&#39;[&#34;&#39;&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;+&lt;/span&gt; theme&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;valine&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;master&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;join&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;&#34;, &#34;&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;&#34;]&#39;&lt;/span&gt; &lt;/span&gt;&lt;span class=&#34;token delimiter punctuation&#34;&gt;%&amp;gt;&lt;/span&gt;&lt;/span&gt;,
        master: &lt;span class=&#34;token ejs language-ejs&#34;&gt;&lt;span class=&#34;token delimiter punctuation&#34;&gt;&amp;lt;%-&lt;/span&gt;&lt;span class=&#34;token language-javascript&#34;&gt; &lt;span class=&#34;token string&#34;&gt;&#39;[&#34;&#39;&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;+&lt;/span&gt; theme&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;valine&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;master&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;join&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;&#34;, &#34;&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;&#34;]&#39;&lt;/span&gt; &lt;/span&gt;&lt;span class=&#34;token delimiter punctuation&#34;&gt;%&amp;gt;&lt;/span&gt;&lt;/span&gt;,
        friends: &lt;span class=&#34;token ejs language-ejs&#34;&gt;&lt;span class=&#34;token delimiter punctuation&#34;&gt;&amp;lt;%-&lt;/span&gt;&lt;span class=&#34;token language-javascript&#34;&gt; &lt;span class=&#34;token string&#34;&gt;&#39;[&#34;&#39;&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;+&lt;/span&gt; theme&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;valine&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;friends&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;join&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;&#34;, &#34;&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;&#34;]&#39;&lt;/span&gt; &lt;/span&gt;&lt;span class=&#34;token delimiter punctuation&#34;&gt;%&amp;gt;&lt;/span&gt;&lt;/span&gt;,
        tagMeta: &lt;span class=&#34;token ejs language-ejs&#34;&gt;&lt;span class=&#34;token delimiter punctuation&#34;&gt;&amp;lt;%-&lt;/span&gt;&lt;span class=&#34;token language-javascript&#34;&gt; &lt;span class=&#34;token string&#34;&gt;&#39;[&#34;&#39;&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;+&lt;/span&gt; theme&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;valine&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;tagMeta&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;join&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;&#34;, &#34;&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;&#34;]&#39;&lt;/span&gt; &lt;/span&gt;&lt;span class=&#34;token delimiter punctuation&#34;&gt;%&amp;gt;&lt;/span&gt;&lt;/span&gt;,
        metaPlaceholder: metaPlaceholder,

    });&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;如果需要验证昵称和邮箱可以加上以下代码：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-html&#34; data-language=&#34;html&#34;&gt;&lt;code class=&#34;language-html&#34;&gt;document.body.addEventListener(&#39;click&#39;, function(e) {
    if (e.target.classList.contains(&#39;vsubmit&#39;)) {
        const email = document.querySelector(&#39;input[type=email]&#39;);
        const nick = document.querySelector(&#39;input[name=nick]&#39;);
        const reg = /^[A-Za-z0-9_-\u4e00-\u9fa5]+@[a-zA-Z0-9_-]+(\.[a-zA-Z0-9_-]+)+$/;
        if (!email.value || !nick.value || !reg.test(email.value)) {
            const str = `&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;div&lt;/span&gt; &lt;span class=&#34;token attr-name&#34;&gt;class&lt;/span&gt;&lt;span class=&#34;token attr-value&#34;&gt;&lt;span class=&#34;token punctuation attr-equals&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;valert txt-center&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;div&lt;/span&gt; &lt;span class=&#34;token attr-name&#34;&gt;class&lt;/span&gt;&lt;span class=&#34;token attr-value&#34;&gt;&lt;span class=&#34;token punctuation attr-equals&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;vtext&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;请填写正确的昵称和邮箱！&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;/&lt;/span&gt;div&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;/&lt;/span&gt;div&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;`;
            const vmark = document.querySelector(&#39;.vmark&#39;);
            vmark.innerHTML = str;
            vmark.style.display = &#39;block&#39;;

            e.stopPropagation();

            setTimeout(function() {
                vmark.style.display = &#39;none&#39;;
                vmark.innerHTML = &#39;&#39;;
            }, 2500);
        }
    }
    }, true);&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;说明：代码非原创，JS正则验证本身也不难。&lt;/p&gt;
&lt;p&gt;好了可以部署之后自己测试一下。&lt;/p&gt;
&lt;p&gt;顺便说一下，填写昵称邮箱和网址的地方如果折行了就按我的样式改一下就好：&lt;/p&gt;
&lt;p&gt;在 &lt;code&gt;valine.ejs&lt;/code&gt; 是上面对着改一下就好了：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-css&#34; data-language=&#34;css&#34;&gt;&lt;code class=&#34;language-css&#34;&gt;&lt;span class=&#34;token selector&#34;&gt;.v[data-class=&#34;v&#34;] .vwrap .vheader .vinput&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt;
  &lt;span class=&#34;token property&#34;&gt;width&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; 32%&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;
  &lt;span class=&#34;token property&#34;&gt;border-bottom&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; 1px dashed #dedede&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;新建文章自动打开本地Markdown编辑器&#34;&gt;新建文章自动打开本地Markdown编辑器&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;写新文章时，需要控制台执行hexo new “文章名字”生成一篇新文章，但需要手动打开，挺麻烦，我们可以设置在生成之后自动打开&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;在站点根目录下新建scripts目录，然后在新建&lt;code&gt;auto_open.js&lt;/code&gt;，在文件填入一下内容&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-js&#34; data-language=&#34;js&#34;&gt;&lt;code class=&#34;language-js&#34;&gt;&lt;span class=&#34;token keyword&#34;&gt;var&lt;/span&gt; spawn &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;require&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;child_process&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;exec&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;

&lt;span class=&#34;token comment&#34;&gt;// Hexo 2.x 用户复制这段&lt;/span&gt;
&lt;span class=&#34;token comment&#34;&gt;//hexo.on(&#39;new&#39;, function(path){&lt;/span&gt;
  &lt;span class=&#34;token comment&#34;&gt;//spawn(&#39;start  &#34;markdown编辑器绝对路径.exe&#34; &#39; + path);&lt;/span&gt;
&lt;span class=&#34;token comment&#34;&gt;//});&lt;/span&gt;

&lt;span class=&#34;token comment&#34;&gt;// Hexo 3 用户复制这段&lt;/span&gt;
hexo&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;on&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;new&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;function&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token parameter&#34;&gt;data&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt;
  &lt;span class=&#34;token function&#34;&gt;spawn&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;start  &#34;D:\Program Files\Typora\Typora.exe&#34; &#39;&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;+&lt;/span&gt; data&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;path&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
&lt;p&gt;其中”D:\Program Files\Typora\Typora.exe”是我本地编辑器的路径，只需要改为你本地编辑器的路径即可，然后在执行&lt;code&gt;hexo cl &amp;amp;&amp;amp; hexo g -d&lt;/code&gt;，部署到GitHub即可，以后在新建文章就会自动打开编辑器.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&#34;系列教程-29&#34;&gt;&lt;strong&gt;系列教程&lt;/strong&gt;&lt;/h2&gt;
&lt;p&gt;&lt;a href=&#34;https://blog.17lai.site/atom.xml&#34;&gt;全部文章RSS订阅&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Hexo系列&lt;/strong&gt;  &lt;a href=&#34;https://blog.17lai.site/categories/hexo/atom.xml&#34;&gt;&lt;strong&gt;HexoRSS分类订阅&lt;/strong&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;[三万字教程]基于Hexo的matery主题搭建博客并深度优化完全一站式教程&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;https://blog.17lai.site/posts/40300608/&#34;&gt;Hexo Docker环境与Hexo基础配置篇&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;https://blog.17lai.site/posts/4d8a0b22/&#34;&gt;hexo博客自定义修改篇&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;https://blog.17lai.site/posts/9b056c86/&#34;&gt;hexo博客网络优化篇&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;https://blog.17lai.site/posts/5311b619/&#34;&gt;hexo博客增强部署篇&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;https://blog.17lai.site/posts/4a2050e2/&#34;&gt;hexo博客个性定制篇&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;https://blog.17lai.site/posts/84b4059a/&#34;&gt;hexo博客常见问题篇&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;https://blog.17lai.site/posts/cf0f47fd/&#34;&gt;Hexo Markdown以及各种插件功能测试&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;markdown 各种其它语法插件&lt;/li&gt;
&lt;li&gt;latex公式支持&lt;/li&gt;
&lt;li&gt;mermaid图表&lt;/li&gt;
&lt;li&gt;plant uml图表&lt;/li&gt;
&lt;li&gt;URL卡片&lt;/li&gt;
&lt;li&gt;bilibili卡片&lt;/li&gt;
&lt;li&gt;github卡片&lt;/li&gt;
&lt;li&gt;豆瓣卡片&lt;/li&gt;
&lt;li&gt;插入音乐和视频&lt;/li&gt;
&lt;li&gt;插入脑图&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;strong&gt;笔记系列&lt;/strong&gt;  &lt;a href=&#34;https://blog.17lai.site/categories/note/atom.xml&#34;&gt;&lt;strong&gt;Note分类RSS订阅&lt;/strong&gt;&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://blog.17lai.site/posts/a8535f26/&#34;&gt;完美笔记进化论&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;经历了很长时间，使用了各种各样的方案，最终选择了一种相对完美的方式。docker私有部署运行的joplin，使用markdown语法，github作为图床，picgo作为图像自动上传后端，pypora作为MD编辑器，Snipaste作为截图工具。后备gitlab ee selfhost备份，自建图床VPS多线负载均衡。cloudflare partner cdn加速，jsdelivr加速。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;pigo图床搭建与配置&lt;/li&gt;
&lt;li&gt;Joplin教程&lt;/li&gt;
&lt;li&gt;Snipaste截图工具&lt;/li&gt;
&lt;li&gt;Typora 作为Markdown编辑器最强&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://blog.17lai.fun/posts/e6086437/&#34;&gt;Joplin入门指南&amp;amp;实践方案&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;Joplin和使用&lt;/li&gt;
&lt;li&gt;Joplin同步与备份&lt;/li&gt;
&lt;li&gt;Joplin导入与导出&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://blog.17lai.fun/posts/45f878cd/&#34;&gt;替代Evernote免费开源笔记Joplin-网盘同步笔记历史版本Markdown可视化&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;Joplin安装使用，调用外部编辑器，网盘同步等等&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://blog.17lai.site/posts/92d347d6/&#34;&gt;Joplin 插件以及其Markdown语法。All in One!&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;Joplin简明教程&lt;/li&gt;
&lt;li&gt;markdown语法简明教程&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://blog.17lai.site/posts/e3ee7f8b/&#34;&gt;Joplin 插件使用推荐&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;教你用各种插件打造一个强大的笔记工具。&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://blog.17lai.site/posts/1802a8a7/&#34;&gt;为知笔记私有化Docker部署&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;如何部署自己私有的为知笔记。&lt;/li&gt;
&lt;li&gt;其实博主更推荐私有部署joplin&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;strong&gt;Gitbook使用系列&lt;/strong&gt; &lt;a href=&#34;https://blog.17lai.site/categories/gitbook/atom.xml&#34;&gt;Gitbook分类RSS订阅&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;https://blog.17lai.site/posts/7fe86002/&#34;&gt;GitBook+GitLab撰写发布技术文档-Part1:GitBook篇&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;https://blog.17lai.site/posts/7790e989/&#34;&gt;GitBook+GitLab撰写发布技术文档-Part2:GitLab篇&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;https://blog.17lai.site/posts/d6bad1e5/&#34;&gt;自己动手制作电子书的最佳方式（支持PDF、ePub、mobi等格式）&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;Gitlab 使用系列&lt;/strong&gt;  &lt;a href=&#34;https://blog.17lai.site/categories/gitlab/atom.xml&#34;&gt;&lt;strong&gt;Gitlab RSS 分类订阅&lt;/strong&gt;&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://blog.17lai.site/posts/acc13b70/&#34;&gt;&lt;strong&gt;Gitlab的安装及使用教程完全版&lt;/strong&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://blog.17lai.site/posts/29a820b3/&#34;&gt;破解Gitlab EE&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://blog.17lai.site/posts/d08eb7b/&#34;&gt;Gitlab的安装及使用&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://blog.17lai.site/posts/1879721e/&#34;&gt;CI/CD与Git Flow与GitLab&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;link rel=&#34;stylesheet&#34; href=&#34;/css/bilicard.css&#34; type=&#34;text/css&#34;&gt;</content>
        <category term="github" />
        <category term="hexo" />
        <category term="matery" />
        <category term="cdn" />
        <category term="seo" />
        <updated>2022-03-27T07:28:17.000Z</updated>
    </entry>
    <entry>
        <id>https://blog.17lai.site/posts/5311b619/</id>
        <title>基于Hexo的matery主题搭建博客增强部署篇4</title>
        <link rel="alternate" href="https://blog.17lai.site/posts/5311b619/"/>
        <content type="html">&lt;h2 id=&#34;Hexo-Docker-本地部署&#34;&gt;Hexo Docker 本地部署&lt;/h2&gt;
&lt;p&gt;在最前面的篇章介绍了Hexo Docker 环境的使用方法。具体使用方法见本文系列[&lt;strong&gt;Hexo Docker 环境篇&lt;/strong&gt;]。&lt;/p&gt;
&lt;p&gt;优点：本地使用可定制化成都更高&lt;/p&gt;
&lt;p&gt;缺点：必须要有Docker 环境。异地使用麻烦，除非ssh,vpn等远程链接方法。&lt;/p&gt;
&lt;h2 id=&#34;将Hexo部署到vps，实现自动发布&#34;&gt;[将Hexo部署到vps，实现自动发布][]&lt;/h2&gt;
&lt;h3 id=&#34;搭建流程&#34;&gt;搭建流程&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;服务器环境配置，安装Git、Nginx配置、创建git用户&lt;/li&gt;
&lt;li&gt;本地hexo初始化&lt;/li&gt;
&lt;li&gt;使用Git自动部署并发布博客&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;服务器环境搭建&#34;&gt;服务器环境搭建&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;安装Git和NodeJS(Centos环境)&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;pre class=&#34;line-numbers language-bash&#34; data-language=&#34;bash&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;yum &lt;span class=&#34;token function&#34;&gt;install&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;git&lt;/span&gt;
&lt;span class=&#34;token comment&#34;&gt;# 安装NodeJS &lt;/span&gt;
&lt;span class=&#34;token function&#34;&gt;curl&lt;/span&gt; --silent --location https://rpm.nodesource.com/setup_5.x &lt;span class=&#34;token operator&#34;&gt;|&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;bash&lt;/span&gt; -&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;创建git账号&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;pre class=&#34;line-numbers language-bash&#34; data-language=&#34;bash&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;adduser &lt;span class=&#34;token function&#34;&gt;git&lt;/span&gt;
&lt;span class=&#34;token function&#34;&gt;chmod&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;740&lt;/span&gt; /etc/sudoers
&lt;span class=&#34;token function&#34;&gt;vim&lt;/span&gt; /etc/sudoers&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
&lt;li&gt;添加内容&lt;br&gt;
找到&lt;/li&gt;
&lt;/ul&gt;
&lt;pre class=&#34;line-numbers language-bash&#34; data-language=&#34;bash&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;&lt;span class=&#34;token comment&#34;&gt;## Allow root to run any commands anywhere&lt;/span&gt;
root    &lt;span class=&#34;token assign-left variable&#34;&gt;ALL&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;ALL&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;     ALL&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
&lt;li&gt;添加以下内容&lt;/li&gt;
&lt;/ul&gt;
&lt;pre class=&#34;line-numbers language-bash&#34; data-language=&#34;bash&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;&lt;span class=&#34;token function&#34;&gt;git&lt;/span&gt;     &lt;span class=&#34;token assign-left variable&#34;&gt;ALL&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;ALL&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;     ALL&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
&lt;li&gt;保存退出并改回权限&lt;/li&gt;
&lt;/ul&gt;
&lt;pre class=&#34;line-numbers language-bash&#34; data-language=&#34;bash&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;&lt;span class=&#34;token function&#34;&gt;chmod&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;400&lt;/span&gt; /etc/sudoers&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
&lt;li&gt;设置git账号密码&lt;/li&gt;
&lt;/ul&gt;
&lt;pre class=&#34;line-numbers language-bash&#34; data-language=&#34;bash&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;&lt;span class=&#34;token function&#34;&gt;sudo&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;passwd&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;git&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
&lt;li&gt;使用&lt;code&gt;su git&lt;/code&gt;切换到git用户，再执行下列操作：&lt;/li&gt;
&lt;/ul&gt;
&lt;pre class=&#34;line-numbers language-bash&#34; data-language=&#34;bash&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;&lt;span class=&#34;token comment&#34;&gt;# 切换到git用户目录&lt;/span&gt;
&lt;span class=&#34;token builtin class-name&#34;&gt;cd&lt;/span&gt; /home/git
&lt;span class=&#34;token comment&#34;&gt;# 创建.ssh文件夹&lt;/span&gt;
&lt;span class=&#34;token function&#34;&gt;mkdir&lt;/span&gt; ~/.ssh
&lt;span class=&#34;token comment&#34;&gt;# 创建authorized_keys文件并编辑&lt;/span&gt;
&lt;span class=&#34;token function&#34;&gt;vim&lt;/span&gt; ~/.ssh/authorized_keys
&lt;span class=&#34;token comment&#34;&gt;# 如果你还没有生成公钥，那么首先在本地电脑中执行 cat ~/.ssh/id_rsa.pub | pbcopy生成公钥&lt;/span&gt;
&lt;span class=&#34;token comment&#34;&gt;# 再将公钥复制粘贴到authorized_keys&lt;/span&gt;
&lt;span class=&#34;token comment&#34;&gt;# 保存关闭authorized_keys后，修改相应权限&lt;/span&gt;
&lt;span class=&#34;token function&#34;&gt;chmod&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;600&lt;/span&gt; ~/.ssh/authorized_keys
&lt;span class=&#34;token function&#34;&gt;chmod&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;700&lt;/span&gt; ~/.ssh&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
&lt;li&gt;然后可以通过本地Git Bash执行ssh命令测试是否可以免密登录&lt;/li&gt;
&lt;/ul&gt;
&lt;pre class=&#34;line-numbers language-bash&#34; data-language=&#34;bash&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;&lt;span class=&#34;token function&#34;&gt;ssh&lt;/span&gt; -v git@服务器ip地址&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;这样git用户就添加好了。&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Tips: 将公钥拷贝到服务器的~/.ssh/authorized_keys文件中方法有如下几种：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;将公钥通过scp拷贝到服务器上，然后追加到~/.ssh/authorized_keys文件中，这种方式比较麻烦。scp -P 22 ~/.ssh/id_rsa.pub user@host:~/。&lt;/li&gt;
&lt;li&gt;通过ssh-copy-id程序，就是我演示的方法，ssh-copyid user@host即可&lt;/li&gt;
&lt;li&gt;可以通过cat ~/.ssh/id_rsa.pub | ssh -p 22 user@host ‘cat &amp;gt;&amp;gt; ~/.ssh/authorized_keys’，这个也是比较常用的方法，因为可以更改端口号。&lt;/li&gt;
&lt;/ol&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;安装Nginx&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;准备工作&lt;br&gt;
首先由于nginx的一些模块依赖一些lib库，所以在安装nginx之前，必须先安装这些lib库，这些依赖库主要有g++、gcc、openssl-devel、pcre-devel和zlib-devel 所以执行如下命令安装&lt;/li&gt;
&lt;/ul&gt;
&lt;pre class=&#34;line-numbers language-bash&#34; data-language=&#34;bash&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;yum &lt;span class=&#34;token function&#34;&gt;install&lt;/span&gt; gcc-c++
yum &lt;span class=&#34;token function&#34;&gt;install&lt;/span&gt; pcre pcre-devel
yum &lt;span class=&#34;token function&#34;&gt;install&lt;/span&gt; zlib zlib-devel
yum &lt;span class=&#34;token function&#34;&gt;install&lt;/span&gt; openssl openssl--devel&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Ubuntu系统安装命令如下：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-bash&#34; data-language=&#34;bash&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;&lt;span class=&#34;token function&#34;&gt;sudo&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;apt-get&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;install&lt;/span&gt; libpcre3 libpcre3-dev
&lt;span class=&#34;token function&#34;&gt;sudo&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;apt-get&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;install&lt;/span&gt; zlib1g-dev
&lt;span class=&#34;token function&#34;&gt;sudo&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;apt-get&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;install&lt;/span&gt; openssl libssl-dev&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
&lt;li&gt;安装Nginx&lt;br&gt;
安装之前，最好检查一下是否已经安装有nginx&lt;/li&gt;
&lt;/ul&gt;
&lt;pre class=&#34;line-numbers language-bash&#34; data-language=&#34;bash&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;&lt;span class=&#34;token function&#34;&gt;find&lt;/span&gt; -name nginx&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;如果系统已经安装了nginx，那么就先卸载&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-bash&#34; data-language=&#34;bash&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;yum remove nginx&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;然后开始安装&lt;br&gt;
首先进入&lt;code&gt;/usr/local&lt;/code&gt;目录&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-bash&#34; data-language=&#34;bash&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;&lt;span class=&#34;token builtin class-name&#34;&gt;cd&lt;/span&gt; /usr/local&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;从官网下载最新版的nginx&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-bash&#34; data-language=&#34;bash&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;&lt;span class=&#34;token function&#34;&gt;wget&lt;/span&gt; -c https://nginx.org/download/nginx-1.14.2.tar.gz &lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;（注：版本号可更改，去官网查看最新版本号修改即可）&lt;/p&gt;
&lt;p&gt;解压nginx压缩包&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-bash&#34; data-language=&#34;bash&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;&lt;span class=&#34;token function&#34;&gt;tar&lt;/span&gt; -zxvf nginx-1.14.2.tar.gz&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;会产生一个nginx-1.14.2 目录，这时进入nginx-1.14.2 目录&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-bash&#34; data-language=&#34;bash&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;&lt;span class=&#34;token builtin class-name&#34;&gt;cd&lt;/span&gt;  nginx-1.14.2&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;接下来安装，使用–prefix参数指定nginx安装的目录,make、make install安装&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-bash&#34; data-language=&#34;bash&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;./configure&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;（默认安装在/usr/local/nginx，推荐使用默认设置）&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2021/09/1220210912163925.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-none&#34;&gt;&lt;code class=&#34;language-none&#34;&gt;make&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2021/09/1220210912163918.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-bash&#34; data-language=&#34;bash&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;&lt;span class=&#34;token function&#34;&gt;make&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;install&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2021/09/1220210912163522.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;如果没有报错，顺利完成后，最好看一下nginx的安装目录&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-bash&#34; data-language=&#34;bash&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;&lt;span class=&#34;token function&#34;&gt;whereis&lt;/span&gt; nginx&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;（where和is要连这些，中间没有空格）&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2021/09/1220210912163515.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;启动和停止nginx&lt;/li&gt;
&lt;/ul&gt;
&lt;pre class=&#34;line-numbers language-bash&#34; data-language=&#34;bash&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;&lt;span class=&#34;token builtin class-name&#34;&gt;cd&lt;/span&gt; /usr/local/nginx/sbin/
./nginx 
./nginx -s stop
./nginx -s quit
./nginx -s reload
./nginx -s quit: 此方式停止步骤是待nginx进程处理任务完毕进行停止。
./nginx -s stop: 此方式相当于先查出nginx进程id再使用kill命令强制杀掉进程。&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;查询nginx进程：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-bash&#34; data-language=&#34;bash&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;&lt;span class=&#34;token function&#34;&gt;ps&lt;/span&gt; aux &lt;span class=&#34;token operator&#34;&gt;|&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;grep&lt;/span&gt; nginx&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2021/09/1220210912163454.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;重启 nginx&lt;/li&gt;
&lt;/ul&gt;
&lt;ol&gt;
&lt;li&gt;先停止再启动（推荐）：&lt;br&gt;
对 nginx 进行重启相当于先停止再启动，即先执行停止命令再执行启动命令。如下：&lt;/li&gt;
&lt;/ol&gt;
&lt;pre class=&#34;line-numbers language-bash&#34; data-language=&#34;bash&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;./nginx -s quit
./nginx&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;重新加载配置文件：&lt;br&gt;
当 nginx 的配置文件 nginx.conf 修改后，要想让配置生效需要重启 nginx，使用 -s reload 不用先停止 nginx 再启动 nginx 即可将配置信息在 nginx 中生效，如下：&lt;/li&gt;
&lt;/ol&gt;
&lt;pre class=&#34;line-numbers language-bash&#34; data-language=&#34;bash&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;./nginx -s reload&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;启动成功后，在浏览器可以看到如下页面：&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2021/09/1220210912163437.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;开机自启动&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;即在rc.local增加启动代码就可以了。&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-bash&#34; data-language=&#34;bash&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;&lt;span class=&#34;token function&#34;&gt;vim&lt;/span&gt; /etc/rc.local&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;增加一行&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-bash&#34; data-language=&#34;bash&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;/usr/local/nginx/sbin/nginx&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;到这里，nginx安装完毕，启动、停止、重启操作也都完成。&lt;/p&gt;
&lt;h3 id=&#34;建立git裸库&#34;&gt;建立git裸库&lt;/h3&gt;
&lt;pre class=&#34;line-numbers language-bash&#34; data-language=&#34;bash&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;&lt;span class=&#34;token comment&#34;&gt;# 回到git目录&lt;/span&gt;
&lt;span class=&#34;token builtin class-name&#34;&gt;cd&lt;/span&gt; /home/git
&lt;span class=&#34;token comment&#34;&gt;# 使用git用户创建git裸仓库，以blog.git为例&lt;/span&gt;
&lt;span class=&#34;token function&#34;&gt;git&lt;/span&gt; init --bare blog.git&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;检查用户组权限&#34;&gt;检查用户组权限&lt;/h3&gt;
&lt;p&gt;我们的git裸仓库已经建立好了，离成功又近了一步。为了以防万一，我们要检查一下之前的blog.git、.ssh、blog目录的用户组权限是否都为&lt;code&gt;git:git&lt;/code&gt;&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-bash&#34; data-language=&#34;bash&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;&lt;span class=&#34;token comment&#34;&gt;# 还记得/var/www/吗？这是之前配置nginx时，我们自己选定的网站根目录，请依据你自己的设置更改，如果没有的话自己&lt;/span&gt;
ll -a /www/wwwroot/hexo
ll -a /home/git/&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;如果有哪个不是，执行下面相应的命令后再查看&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-bash&#34; data-language=&#34;bash&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;&lt;span class=&#34;token function&#34;&gt;sudo&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;chown&lt;/span&gt; -R git:git /www/wwwroot/hexo
&lt;span class=&#34;token function&#34;&gt;sudo&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;chmod&lt;/span&gt; -R &lt;span class=&#34;token number&#34;&gt;755&lt;/span&gt; /www/wwwroot/hexo
&lt;span class=&#34;token function&#34;&gt;sudo&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;chown&lt;/span&gt; git:git -R /home/git/blog.git&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;使用git-hooks同步网站根目录&#34;&gt;使用git-hooks同步网站根目录&lt;/h3&gt;
&lt;p&gt;简单来说，我们使用一个钩子文件：post-receive，每当git仓库接收到内容的时候，就会自动调用这个钩子，把内容同步到网站根目录。&lt;br&gt;
在git用户下执行：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-bash&#34; data-language=&#34;bash&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;&lt;span class=&#34;token comment&#34;&gt;# 新建一个post-receive文件并编辑&lt;/span&gt;
&lt;span class=&#34;token function&#34;&gt;vim&lt;/span&gt; ~/blog.git/hooks/post-receive&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;在里面输入以下内容，注意修改为自己的设置：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-bash&#34; data-language=&#34;bash&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;&lt;span class=&#34;token shebang important&#34;&gt;#!/bin/bash&lt;/span&gt;
&lt;span class=&#34;token builtin class-name&#34;&gt;set&lt;/span&gt; -e
&lt;span class=&#34;token assign-left variable&#34;&gt;GIT_REPO&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;/home/git/blog.git
&lt;span class=&#34;token assign-left variable&#34;&gt;TMP_GIT_CLONE&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;/tmp/blog
&lt;span class=&#34;token assign-left variable&#34;&gt;PUBLIC_WWW&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;/www/wwwroot/hexo
&lt;span class=&#34;token function&#34;&gt;rm&lt;/span&gt; -rf &lt;span class=&#34;token variable&#34;&gt;${TMP_GIT_CLONE}&lt;/span&gt;
&lt;span class=&#34;token function&#34;&gt;git&lt;/span&gt; clone -b main &lt;span class=&#34;token variable&#34;&gt;$GIT_REPO&lt;/span&gt; &lt;span class=&#34;token variable&#34;&gt;$TMP_GIT_CLONE&lt;/span&gt;
&lt;span class=&#34;token builtin class-name&#34;&gt;cd&lt;/span&gt; &lt;span class=&#34;token variable&#34;&gt;$TMP_GIT_CLONE&lt;/span&gt;
&lt;span class=&#34;token comment&#34;&gt;#for b in `git branch -r | grep -v -- &#39;-&amp;gt;&#39;`; do git branch --track ${b##origin/} $b; done&lt;/span&gt;
&lt;span class=&#34;token comment&#34;&gt;#git checkout main&lt;/span&gt;
&lt;span class=&#34;token function&#34;&gt;rm&lt;/span&gt; -rf &lt;span class=&#34;token variable&#34;&gt;${PUBLIC_WWW}&lt;/span&gt;/*
&lt;span class=&#34;token function&#34;&gt;cp&lt;/span&gt; -rf &lt;span class=&#34;token variable&#34;&gt;${TMP_GIT_CLONE}&lt;/span&gt;/* &lt;span class=&#34;token variable&#34;&gt;${PUBLIC_WWW}&lt;/span&gt;
&lt;span class=&#34;token builtin class-name&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;update web done!&#34;&lt;/span&gt;
&lt;span class=&#34;token comment&#34;&gt;#ls -al ${PUBLIC_WWW}&lt;/span&gt;
&lt;span class=&#34;token function&#34;&gt;rm&lt;/span&gt; -rf &lt;span class=&#34;token variable&#34;&gt;${TMP_GIT_CLONE}&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;保存退出后，执行以下赋予这个文件可执行权限。&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-bash&#34; data-language=&#34;bash&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;&lt;span class=&#34;token function&#34;&gt;chown&lt;/span&gt; -R git:git ~/blog.git/hooks/post-receive
&lt;span class=&#34;token function&#34;&gt;chmod&lt;/span&gt; +x ~/blog.git/hooks/post-receive&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;好了，以上就是服务器端需要配置的内容。我们还差最后一步就可以完成整个部署了！&lt;/p&gt;
&lt;h3 id=&#34;修改配置文件nginx-conf&#34;&gt;修改配置文件nginx.conf&lt;/h3&gt;
&lt;p&gt;修改上面的配置文件：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-bash&#34; data-language=&#34;bash&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;&lt;span class=&#34;token function&#34;&gt;vim&lt;/span&gt; /usr/local/nginx/conf/nginx_config&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;然后修改其中两个部分，如下所示：&#34;&gt;然后修改其中两个部分，如下所示：&lt;/h3&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2021/09/1220210912163900.jpeg&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;然后&lt;code&gt;重启nginx&lt;/code&gt;，方法见&lt;code&gt;nginx安装&lt;/code&gt;部分。&lt;/p&gt;
&lt;h3 id=&#34;配置本地Hexo的-config-yml&#34;&gt;配置本地Hexo的&lt;code&gt;_config.yml&lt;/code&gt;&lt;/h3&gt;
&lt;p&gt;非常简单，只需要找到本地Hexo博客的站点配置文件&lt;code&gt;_config.yml&lt;/code&gt;，找到以下内容并修改：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-yaml&#34; data-language=&#34;yaml&#34;&gt;&lt;code class=&#34;language-yaml&#34;&gt;&lt;span class=&#34;token key atrule&#34;&gt;deploy&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; 
  &lt;span class=&#34;token key atrule&#34;&gt;type&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; git
  &lt;span class=&#34;token key atrule&#34;&gt;repo&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; git@你的服务器IP&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;/home/git/blog.git
  &lt;span class=&#34;token key atrule&#34;&gt;branch&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; master&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;保存后，剩下的就是Hexo的日常操作了，这里就不赘述了，写完文章后，在你的本地博客根目录执行以下命令：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-bash&#34; data-language=&#34;bash&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;hexo c &lt;span class=&#34;token operator&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; hexo g -d&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;就可以实现线上博客的自动更新了！一切搞定！&lt;/p&gt;
&lt;h2 id=&#34;Rsync同步部署静态文件方法&#34;&gt;Rsync同步部署静态文件方法&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;使用rsync同步&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;本地生成静态文件后rsync同步到vps网页目录，lnap使用宝塔配置，这里只需要一个nginx。&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-bash&#34; data-language=&#34;bash&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;&lt;span class=&#34;token comment&#34;&gt;# rsync [options] from_dir to_dir&lt;/span&gt;
&lt;span class=&#34;token comment&#34;&gt;# 替换这里的ip为你的服务器ip&lt;/span&gt;
&lt;span class=&#34;token function&#34;&gt;rsync&lt;/span&gt; -avzP  /home/17lai.blog  root@8.8.8.8:/www/wwwroot/hexo&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;Hexo-Github-Action-自动部署&#34;&gt;Hexo Github Action 自动部署&lt;/h2&gt;
&lt;h3 id=&#34;准备&#34;&gt;准备&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;&lt;code&gt;Hexo&lt;/code&gt; 博客源码的仓库，在 &lt;code&gt;GitHub&lt;/code&gt; 上。&lt;/li&gt;
&lt;li&gt;&lt;code&gt;ssh&lt;/code&gt; 密钥，参考文章：&lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://sitoi.cn/posts/43508.html&#34;&gt;Windows 下利用 Git 生成 SSH KEY 并配置到 GitHub&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;步骤&#34;&gt;步骤&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;为需要部署的平台添加密钥&lt;/li&gt;
&lt;li&gt;修改 &lt;code&gt;_config.yml&lt;/code&gt; 中的 &lt;code&gt;deploy&lt;/code&gt; 配置&lt;/li&gt;
&lt;li&gt;在 GitHub 上设置 &lt;code&gt;Secrets&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;创建 GitHub Action&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;为需要部署的平台添加密钥&#34;&gt;为需要部署的平台添加密钥&lt;/h3&gt;
&lt;p&gt;按照之前的教程，只要你之前成功将 Hexo 的博客部署到 GitHub 上，那你电脑在 &lt;code&gt;~/.ssh&lt;/code&gt; 目录下一定有以下三个文件：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;id_rsa&lt;/code&gt;：私钥&lt;/li&gt;
&lt;li&gt;&lt;code&gt;id_rsa.pub&lt;/code&gt;：公钥&lt;/li&gt;
&lt;li&gt;&lt;code&gt;known_hosts&lt;/code&gt;：记录对所有用户都可信赖的远程主机的公钥&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;将 &lt;code&gt;id_rsa.pub&lt;/code&gt;（公钥）添加到不同平台中即可，参考文章：&lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://sitoi.cn/posts/43508.html#%E6%9F%A5%E7%9C%8B-SSH-KEY&#34;&gt;Windows 下利用 Git 生成 SSH KEY 并配置到 GitHub&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;下面是不同平台添加的地址：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://github.com/settings/ssh/new&#34;&gt;GitHub&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://gitlab.com/profile/keys&#34;&gt;GitLab&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://e.coding.net/&#34;&gt;Coding&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://gitee.com/profile/sshkeys&#34;&gt;Gitee&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;修改-config-yml-中的-deploy-配置&#34;&gt;修改 &lt;code&gt;_config.yml&lt;/code&gt; 中的 &lt;code&gt;deploy&lt;/code&gt; 配置&lt;/h3&gt;
&lt;p&gt;请使用 &lt;code&gt;ssh&lt;/code&gt; (即以 &lt;code&gt;git@&lt;/code&gt; 开头的 &lt;code&gt;clone&lt;/code&gt; 链接) 的连接方式，根据直接的实际地址填写。&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-yaml&#34; data-language=&#34;yaml&#34;&gt;&lt;code class=&#34;language-yaml&#34;&gt;&lt;span class=&#34;token key atrule&#34;&gt;deploy&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;
  &lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt; &lt;span class=&#34;token key atrule&#34;&gt;type&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; git
    &lt;span class=&#34;token key atrule&#34;&gt;repo&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;
      &lt;span class=&#34;token key atrule&#34;&gt;github&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; git@github.com&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;Sitoi/Sitoi.github.io.git
      &lt;span class=&#34;token key atrule&#34;&gt;coding&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; git@e.coding.net&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;Sitoi/Sitoi.git
      &lt;span class=&#34;token key atrule&#34;&gt;gitee&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; git@gitee.com&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;sitoi/sitoi.git
      &lt;span class=&#34;token key atrule&#34;&gt;gitlab&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; git@gitlab.com&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;Sitoi/sitoi.gitlab.io.git
    &lt;span class=&#34;token key atrule&#34;&gt;branch&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; master&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;在-GitHub-上设置-Secrets&#34;&gt;在 GitHub 上设置 &lt;code&gt;Secrets&lt;/code&gt;&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;进入到你在 &lt;code&gt;GitHub&lt;/code&gt; 上面的源码仓库&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;点击右上角的 &lt;code&gt;Settings&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2021/10/1220211012133009.png&#34; alt=&#34;Settings&#34;&gt;&lt;/p&gt;
&lt;p&gt;Settings&lt;/p&gt;
&lt;ol start=&#34;3&#34;&gt;
&lt;li&gt;
&lt;p&gt;点击左侧的 &lt;code&gt;Secrets&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;点击右上角的 &lt;code&gt;New secret&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2021/10/1220211012133002.png&#34; alt=&#34;New secret&#34;&gt;&lt;/p&gt;
&lt;p&gt;New secret&lt;/p&gt;
&lt;ol start=&#34;5&#34;&gt;
&lt;li&gt;在 &lt;code&gt;Name&lt;/code&gt; 中输入 &lt;code&gt;HEXO_DEPLOY_PRI&lt;/code&gt;，在 &lt;code&gt;Value&lt;/code&gt; 中填入 &lt;code&gt;id_rsa&lt;/code&gt;（私钥）的全部内容&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2021/10/1220211012132955.png&#34; alt=&#34;Add secret&#34;&gt;&lt;/p&gt;
&lt;p&gt;Add secret&lt;/p&gt;
&lt;h3 id=&#34;创建-GitHub-Action&#34;&gt;创建 GitHub Action&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;点击项目上方的 &lt;code&gt;Action&lt;/code&gt; 按钮&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2021/10/1220211012132954.png&#34; alt=&#34;Action&#34;&gt;&lt;/p&gt;
&lt;p&gt;Action&lt;/p&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;点击 &lt;code&gt;set up a workflow yourself&lt;/code&gt; 创建 &lt;code&gt;Workflow&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2021/10/1220211012132947.png&#34; alt=&#34;Workflow&#34;&gt;&lt;/p&gt;
&lt;p&gt;Workflow&lt;/p&gt;
&lt;ol start=&#34;3&#34;&gt;
&lt;li&gt;修改 &lt;code&gt;main.yaml&lt;/code&gt; 的内容&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2021/10/1220211012132940.png&#34; alt=&#34;Create Workflow&#34;&gt;&lt;/p&gt;
&lt;p&gt;Create Workflow&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;根据实际情况修改成你自己的内容&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;Git 推送使用的用户名：git config –global user.name ‘sitoi’：&lt;/li&gt;
&lt;li&gt;Git 推送使用的邮箱：git config –global user.email ‘&lt;a href=&#34;mailto:133397418@qq.com&#34;&gt;133397418@qq.com&lt;/a&gt;‘&lt;/li&gt;
&lt;li&gt;Hexo 的版本：npm i &lt;a href=&#34;mailto:hexo@4.1.1&#34;&gt;hexo@4.1.1&lt;/a&gt; -g&lt;/li&gt;
&lt;/ul&gt;
&lt;pre class=&#34;line-numbers language-yaml&#34; data-language=&#34;yaml&#34;&gt;&lt;code class=&#34;language-yaml&#34;&gt;&lt;span class=&#34;token key atrule&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; Hexo CI

&lt;span class=&#34;token key atrule&#34;&gt;on&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;
  &lt;span class=&#34;token key atrule&#34;&gt;push&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;
    &lt;span class=&#34;token key atrule&#34;&gt;branches&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;
      &lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt; butterfly

&lt;span class=&#34;token key atrule&#34;&gt;jobs&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;
  &lt;span class=&#34;token key atrule&#34;&gt;butterfly-build&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;

    &lt;span class=&#34;token key atrule&#34;&gt;runs-on&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; ubuntu&lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt;latest

    &lt;span class=&#34;token key atrule&#34;&gt;strategy&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;
      &lt;span class=&#34;token key atrule&#34;&gt;matrix&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;
        &lt;span class=&#34;token key atrule&#34;&gt;node-version&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;10.x&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;

    &lt;span class=&#34;token key atrule&#34;&gt;steps&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;
      &lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt; &lt;span class=&#34;token key atrule&#34;&gt;uses&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; actions/checkout@v1
      &lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt; &lt;span class=&#34;token key atrule&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; Use Node.js 10.x
        &lt;span class=&#34;token key atrule&#34;&gt;uses&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; actions/setup&lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt;node@v1
        &lt;span class=&#34;token key atrule&#34;&gt;with&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;
          &lt;span class=&#34;token key atrule&#34;&gt;node-version&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;10.x&#39;&lt;/span&gt;
      &lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt; &lt;span class=&#34;token key atrule&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; env prepare
        &lt;span class=&#34;token key atrule&#34;&gt;env&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;
          &lt;span class=&#34;token key atrule&#34;&gt;HEXO_DEPLOY_PRI&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; $&lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt; secrets.HEXO_DEPLOY_PRI &lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt;
        &lt;span class=&#34;token key atrule&#34;&gt;run&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;|&lt;/span&gt;&lt;span class=&#34;token scalar string&#34;&gt;
          mkdir -p ~/.ssh/
          echo &#34;$HEXO_DEPLOY_PRI&#34; &amp;gt; ~/.ssh/id_rsa
          chmod 600 ~/.ssh/id_rsa
          ssh-keyscan github.com &amp;gt;&amp;gt; ~/.ssh/known_hosts
          ssh-keyscan gitlab.com &amp;gt;&amp;gt; ~/.ssh/known_hosts
          ssh-keyscan e.coding.net &amp;gt;&amp;gt; ~/.ssh/known_hosts
          ssh-keyscan gitee.com &amp;gt;&amp;gt; ~/.ssh/known_hosts
          git config --global user.name &#39;sito&#39;
          git config --global user.email &#39;133397418@qq.com&#39;
          npm i
          npm i hexo@4.1.1 -g&lt;/span&gt;
      &lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt; &lt;span class=&#34;token key atrule&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; gen
        &lt;span class=&#34;token key atrule&#34;&gt;run&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;|&lt;/span&gt;&lt;span class=&#34;token scalar string&#34;&gt;
          hexo clean
          hexo generate
          hexo deploy&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;4&#34;&gt;
&lt;li&gt;将你的源码推送到 &lt;code&gt;GitHub&lt;/code&gt; 上，你的博客一会就会自动更新了。&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;以-token-方式部署到-Github&#34;&gt;以 token 方式部署到 Github&lt;/h2&gt;
&lt;pre class=&#34;line-numbers language-yaml&#34; data-language=&#34;yaml&#34;&gt;&lt;code class=&#34;language-yaml&#34;&gt;&lt;span class=&#34;token key atrule&#34;&gt;deploy&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;
  &lt;span class=&#34;token key atrule&#34;&gt;type&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; git
  &lt;span class=&#34;token key atrule&#34;&gt;repo&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;
    &lt;span class=&#34;token key atrule&#34;&gt;github&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;
      &lt;span class=&#34;token key atrule&#34;&gt;url&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &amp;lt;repository url&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;
      &lt;span class=&#34;token key atrule&#34;&gt;branch&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;branch&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;
      &lt;span class=&#34;token key atrule&#34;&gt;token&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;&#39;&lt;/span&gt;
  &lt;span class=&#34;token key atrule&#34;&gt;message&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;message&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;
  &lt;span class=&#34;token key atrule&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;git user&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;
  &lt;span class=&#34;token key atrule&#34;&gt;email&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;git email&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;
  &lt;span class=&#34;token key atrule&#34;&gt;extend_dirs&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;extend directory&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;
  &lt;span class=&#34;token key atrule&#34;&gt;ignore_hidden&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token boolean important&#34;&gt;false&lt;/span&gt; &lt;span class=&#34;token comment&#34;&gt;# default is true&lt;/span&gt;
  &lt;span class=&#34;token key atrule&#34;&gt;ignore_pattern&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; regexp  &lt;span class=&#34;token comment&#34;&gt;# whatever file that matches the &lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;travis-自动部署配置&#34;&gt;travis 自动部署配置&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;travis是第三方CICD服务，比action更加强大，下面只是参考，请查阅travis 文档，并结合自己的环境修改！&lt;/p&gt;
&lt;/blockquote&gt;
&lt;pre class=&#34;line-numbers language-yaml&#34; data-language=&#34;yaml&#34;&gt;&lt;code class=&#34;language-yaml&#34;&gt;&lt;span class=&#34;token key atrule&#34;&gt;sudo&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token boolean important&#34;&gt;false&lt;/span&gt;
&lt;span class=&#34;token key atrule&#34;&gt;language&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; node_js
&lt;span class=&#34;token key atrule&#34;&gt;node_js&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;
&lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt; 10.16.3
&lt;span class=&#34;token key atrule&#34;&gt;cache&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; npm
&lt;span class=&#34;token key atrule&#34;&gt;branches&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;
  &lt;span class=&#34;token key atrule&#34;&gt;only&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;
  &lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt; master &lt;span class=&#34;token comment&#34;&gt;# build master branch only&lt;/span&gt;

&lt;span class=&#34;token key atrule&#34;&gt;env&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;
  &lt;span class=&#34;token key atrule&#34;&gt;global&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;
  &lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt; &lt;span class=&#34;token key atrule&#34;&gt;GIT_USER&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; appotry
  &lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt; &lt;span class=&#34;token key atrule&#34;&gt;HEXO_BACKUP_REPO&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; github.com/appotry/hexo&lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt;backup.git
  &lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt; &lt;span class=&#34;token key atrule&#34;&gt;HEXO_THEME_REPO&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; github.com/appotry/hexo&lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt;theme&lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt;matery.git
  &lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt; &lt;span class=&#34;token key atrule&#34;&gt;GITHUB_PAGES_REPO&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; github.com/appotry/hexo.github.io.git
  &lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt; &lt;span class=&#34;token key atrule&#34;&gt;APPOTRY_REPO&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; github.com/appotry/hexo.git

&lt;span class=&#34;token key atrule&#34;&gt;before_install&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;
&lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt; export TZ=&#39;Asia/Shanghai&#39;
&lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt; npm install hexo &lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt;g
&lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt; npm install gulp&lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt;cli &lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt;g

&lt;span class=&#34;token key atrule&#34;&gt;install&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;
&lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt; npm install

&lt;span class=&#34;token key atrule&#34;&gt;script&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;
&lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt; git clone https&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;//$&lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt;HEXO_THEME_REPO&lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt; themes/next
&lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt; git clone https&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;//$&lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt;GIT_USER&lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;$&lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt;GITHUB_TOKEN&lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt;@$&lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt;HEXO_BACKUP_REPO&lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt; hexo&lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt;backup
&lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt; mv hexo&lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt;backup/source .
&lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt; rm &lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt;rf source/private
&lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt; npm run build

&lt;span class=&#34;token key atrule&#34;&gt;after_success&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;
&lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt; git config &lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt;global user.name &#34;appotry&#34;
&lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt; git config &lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt;global user.email &#34;email@qq.com&#34;
&lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt; git clone https&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;//$&lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt;GIT_USER&lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;$&lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt;GITHUB_TOKEN&lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt;@$&lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt;GITHUB_PAGES_REPO&lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt; voidking
&lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt; unalias cp
&lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt; cp &lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt;rf public/. 17lai.blog
&lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt; cd 17lai.blog
&lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt; git add .
&lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt; git commit &lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt;m &#34;Travis CI Auto Builder&#34;
&lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt; git push &lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt;force &lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt;quiet &#34;https&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;//$&lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt;GIT_USER&lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;$&lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt;GITHUB_TOKEN&lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt;@$&lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt;GITHUB_PAGES_REPO&lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt;&#34; master&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;master&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;利用-GitLab-实现-Hexo-博客的-CI-CD&#34;&gt;利用 GitLab 实现 Hexo 博客的 CI/CD&lt;/h2&gt;
&lt;p&gt;Portainer 提供了对服务在线更新的 WebHook，所以基于 GitLab 自带的 CI/CD 功能实现 Hexo 博客的持续部署，就非常轻松了。&lt;/p&gt;
&lt;p&gt;CI/CD 其实本质上是一套流程，流程规则可以自行定义。在本文研究的主题下，流程分为三步：第一步是编译 Hexo 博客并生成静态文件；第二步是将静态文件打包成可提供 Web 服务的镜像；第三步则是通过 Portainer 的钩子触发服务更新。&lt;/p&gt;
&lt;p&gt;&lt;code&gt;.gitlab-ci.yml&lt;/code&gt;&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-yaml&#34; data-language=&#34;yaml&#34;&gt;&lt;code class=&#34;language-yaml&#34;&gt;&lt;span class=&#34;token key atrule&#34;&gt;stages&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;
  &lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt; compile
  &lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt; build
  &lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt; deploy

&lt;span class=&#34;token comment&#34;&gt;# CONTAINER_RELEASE_IMAGE 根据自己的仓库名修改&lt;/span&gt;
&lt;span class=&#34;token key atrule&#34;&gt;variables&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;
  &lt;span class=&#34;token key atrule&#34;&gt;DOCKER_HOST&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; tcp&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;//docker&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;2375&lt;/span&gt;
  &lt;span class=&#34;token key atrule&#34;&gt;DOCKER_DRIVER&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; overlay2
  &lt;span class=&#34;token key atrule&#34;&gt;CONTAINER_RELEASE_IMAGE&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; registry.gitlab.com/xxx/xxx&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;latest

&lt;span class=&#34;token key atrule&#34;&gt;compile&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;
  &lt;span class=&#34;token key atrule&#34;&gt;stage&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; compile
  &lt;span class=&#34;token key atrule&#34;&gt;image&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; node&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;lts&lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt;alpine
  &lt;span class=&#34;token key atrule&#34;&gt;script&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;
    &lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt; npm install
    &lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt; ./node_modules/hexo/bin/hexo generate
  &lt;span class=&#34;token key atrule&#34;&gt;artifacts&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;
    &lt;span class=&#34;token key atrule&#34;&gt;paths&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;
      &lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt; public/
    &lt;span class=&#34;token key atrule&#34;&gt;expire_in&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; 20 minutes

&lt;span class=&#34;token key atrule&#34;&gt;build&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;
  &lt;span class=&#34;token key atrule&#34;&gt;stage&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; build
  &lt;span class=&#34;token key atrule&#34;&gt;image&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; docker&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;stable
  &lt;span class=&#34;token key atrule&#34;&gt;services&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;
    &lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt; docker&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;dind
  &lt;span class=&#34;token key atrule&#34;&gt;script&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;
    &lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt; docker login &lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt;u gitlab&lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt;ci&lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt;token &lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt;p $CI_JOB_TOKEN registry.gitlab.com
    &lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt; docker info
    &lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt; docker build &lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt;f ./Dockerfile &lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt;t $CONTAINER_RELEASE_IMAGE public
    &lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt; docker push $CONTAINER_RELEASE_IMAGE

&lt;span class=&#34;token comment&#34;&gt;# 根据自己的钩子修改下方的 URL&lt;/span&gt;
&lt;span class=&#34;token key atrule&#34;&gt;deploy&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;
  &lt;span class=&#34;token key atrule&#34;&gt;stage&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; deploy
  &lt;span class=&#34;token key atrule&#34;&gt;script&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;
    &lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt; curl https&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;//xxx.xxx.xxx/api/webhooks/xxx &lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt;X POST
&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;为了保证服务更新的成功率，可以在 &lt;code&gt;deploy&lt;/code&gt; 环节加个错误判断和重试次数，具体的看 GitLab 官方文档即可。&lt;/p&gt;
&lt;p&gt;下面给出我的 Dockerfile 文件，供参考。&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-dockerfile&#34; data-language=&#34;dockerfile&#34;&gt;&lt;code class=&#34;language-dockerfile&#34;&gt;FROM nginx:alpine

COPY . /usr/share/nginx/html

RUN chmod 777 /usr/share/nginx/html -R \
    &amp;amp;&amp;amp; sed -i &#39;s/#error_page  404/error_page  404/&#39; /etc/nginx/conf.d/default.conf&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;系列教程-28&#34;&gt;&lt;strong&gt;系列教程&lt;/strong&gt;&lt;/h2&gt;
&lt;p&gt;&lt;a href=&#34;https://blog.17lai.site/atom.xml&#34;&gt;全部文章RSS订阅&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Hexo系列&lt;/strong&gt;  &lt;a href=&#34;https://blog.17lai.site/categories/hexo/atom.xml&#34;&gt;&lt;strong&gt;HexoRSS分类订阅&lt;/strong&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;[三万字教程]基于Hexo的matery主题搭建博客并深度优化完全一站式教程&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;https://blog.17lai.site/posts/40300608/&#34;&gt;Hexo Docker环境与Hexo基础配置篇&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;https://blog.17lai.site/posts/4d8a0b22/&#34;&gt;hexo博客自定义修改篇&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;https://blog.17lai.site/posts/9b056c86/&#34;&gt;hexo博客网络优化篇&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;https://blog.17lai.site/posts/5311b619/&#34;&gt;hexo博客增强部署篇&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;https://blog.17lai.site/posts/4a2050e2/&#34;&gt;hexo博客个性定制篇&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;https://blog.17lai.site/posts/84b4059a/&#34;&gt;hexo博客常见问题篇&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;https://blog.17lai.site/posts/cf0f47fd/&#34;&gt;Hexo Markdown以及各种插件功能测试&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;markdown 各种其它语法插件&lt;/li&gt;
&lt;li&gt;latex公式支持&lt;/li&gt;
&lt;li&gt;mermaid图表&lt;/li&gt;
&lt;li&gt;plant uml图表&lt;/li&gt;
&lt;li&gt;URL卡片&lt;/li&gt;
&lt;li&gt;bilibili卡片&lt;/li&gt;
&lt;li&gt;github卡片&lt;/li&gt;
&lt;li&gt;豆瓣卡片&lt;/li&gt;
&lt;li&gt;插入音乐和视频&lt;/li&gt;
&lt;li&gt;插入脑图&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;strong&gt;笔记系列&lt;/strong&gt;  &lt;a href=&#34;https://blog.17lai.site/categories/note/atom.xml&#34;&gt;&lt;strong&gt;Note分类RSS订阅&lt;/strong&gt;&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://blog.17lai.site/posts/a8535f26/&#34;&gt;完美笔记进化论&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;经历了很长时间，使用了各种各样的方案，最终选择了一种相对完美的方式。docker私有部署运行的joplin，使用markdown语法，github作为图床，picgo作为图像自动上传后端，pypora作为MD编辑器，Snipaste作为截图工具。后备gitlab ee selfhost备份，自建图床VPS多线负载均衡。cloudflare partner cdn加速，jsdelivr加速。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;pigo图床搭建与配置&lt;/li&gt;
&lt;li&gt;Joplin教程&lt;/li&gt;
&lt;li&gt;Snipaste截图工具&lt;/li&gt;
&lt;li&gt;Typora 作为Markdown编辑器最强&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://blog.17lai.fun/posts/e6086437/&#34;&gt;Joplin入门指南&amp;amp;实践方案&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;Joplin和使用&lt;/li&gt;
&lt;li&gt;Joplin同步与备份&lt;/li&gt;
&lt;li&gt;Joplin导入与导出&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://blog.17lai.fun/posts/45f878cd/&#34;&gt;替代Evernote免费开源笔记Joplin-网盘同步笔记历史版本Markdown可视化&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;Joplin安装使用，调用外部编辑器，网盘同步等等&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://blog.17lai.site/posts/92d347d6/&#34;&gt;Joplin 插件以及其Markdown语法。All in One!&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;Joplin简明教程&lt;/li&gt;
&lt;li&gt;markdown语法简明教程&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://blog.17lai.site/posts/e3ee7f8b/&#34;&gt;Joplin 插件使用推荐&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;教你用各种插件打造一个强大的笔记工具。&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://blog.17lai.site/posts/1802a8a7/&#34;&gt;为知笔记私有化Docker部署&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;如何部署自己私有的为知笔记。&lt;/li&gt;
&lt;li&gt;其实博主更推荐私有部署joplin&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;strong&gt;Gitbook使用系列&lt;/strong&gt; &lt;a href=&#34;https://blog.17lai.site/categories/gitbook/atom.xml&#34;&gt;Gitbook分类RSS订阅&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;https://blog.17lai.site/posts/7fe86002/&#34;&gt;GitBook+GitLab撰写发布技术文档-Part1:GitBook篇&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;https://blog.17lai.site/posts/7790e989/&#34;&gt;GitBook+GitLab撰写发布技术文档-Part2:GitLab篇&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;https://blog.17lai.site/posts/d6bad1e5/&#34;&gt;自己动手制作电子书的最佳方式（支持PDF、ePub、mobi等格式）&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;Gitlab 使用系列&lt;/strong&gt;  &lt;a href=&#34;https://blog.17lai.site/categories/gitlab/atom.xml&#34;&gt;&lt;strong&gt;Gitlab RSS 分类订阅&lt;/strong&gt;&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://blog.17lai.site/posts/acc13b70/&#34;&gt;&lt;strong&gt;Gitlab的安装及使用教程完全版&lt;/strong&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://blog.17lai.site/posts/29a820b3/&#34;&gt;破解Gitlab EE&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://blog.17lai.site/posts/d08eb7b/&#34;&gt;Gitlab的安装及使用&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://blog.17lai.site/posts/1879721e/&#34;&gt;CI/CD与Git Flow与GitLab&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;link rel=&#34;stylesheet&#34; href=&#34;/css/bilicard.css&#34; type=&#34;text/css&#34;&gt;</content>
        <category term="github" />
        <category term="hexo" />
        <category term="matery" />
        <category term="cdn" />
        <category term="seo" />
        <updated>2022-03-27T07:27:48.000Z</updated>
    </entry>
    <entry>
        <id>https://blog.17lai.site/posts/9b056c86/</id>
        <title>基于Hexo的matery主题搭建博客网络优化篇3</title>
        <link rel="alternate" href="https://blog.17lai.site/posts/9b056c86/"/>
        <content type="html">&lt;p&gt;&lt;strong&gt;Hexo系列&lt;/strong&gt;  &lt;a href=&#34;https://blog.17lai.site/categories/hexo/atom.xml&#34;&gt;&lt;strong&gt;HexoRSS分类订阅&lt;/strong&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;[三万字教程]基于Hexo的matery主题搭建博客并深度优化完全一站式教程&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;https://blog.17lai.site/posts/40300608/&#34;&gt;Hexo Docker环境与Hexo基础配置篇&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;https://blog.17lai.site/posts/4d8a0b22/&#34;&gt;hexo博客自定义修改篇&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;https://blog.17lai.site/posts/9b056c86/&#34;&gt;hexo博客网络优化篇&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;https://blog.17lai.site/posts/5311b619/&#34;&gt;hexo博客增强部署篇&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;https://blog.17lai.site/posts/4a2050e2/&#34;&gt;hexo博客个性定制篇&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;https://blog.17lai.site/posts/84b4059a/&#34;&gt;hexo博客常见问题篇&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;https://blog.17lai.site/posts/cf0f47fd/&#34;&gt;Hexo Markdown以及各种插件功能测试&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;markdown 各种其它语法插件&lt;/li&gt;
&lt;li&gt;latex公式支持&lt;/li&gt;
&lt;li&gt;mermaid图表&lt;/li&gt;
&lt;li&gt;plant uml图表&lt;/li&gt;
&lt;li&gt;URL卡片&lt;/li&gt;
&lt;li&gt;bilibili卡片&lt;/li&gt;
&lt;li&gt;github卡片&lt;/li&gt;
&lt;li&gt;豆瓣卡片&lt;/li&gt;
&lt;li&gt;插入音乐和视频&lt;/li&gt;
&lt;li&gt;插入脑图&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;经过一系列优化修改后，评分终于可以看了，对于一个web开发外行来说，可以满足了。😄&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;各种CDN&lt;/li&gt;
&lt;li&gt;webp&lt;/li&gt;
&lt;li&gt;gulp 压缩&lt;/li&gt;
&lt;li&gt;cloudflare parter&lt;/li&gt;
&lt;li&gt;service worker&lt;/li&gt;
&lt;li&gt;部分资源异步加载&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2022/03/2820220328123137.png&#34; alt=&#34;page test&#34;&gt;&lt;/p&gt;
&lt;h2 id=&#34;加速NPM安装下载&#34;&gt;加速NPM安装下载&lt;/h2&gt;
&lt;p&gt;&lt;strong&gt;安装淘宝镜像&lt;/strong&gt;&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-bash&#34; data-language=&#34;bash&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;&lt;span class=&#34;token function&#34;&gt;npm&lt;/span&gt; config &lt;span class=&#34;token builtin class-name&#34;&gt;set&lt;/span&gt; registry https://registry.npm.taobao.org&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;strong&gt;安装CNPM&lt;/strong&gt;&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-bash&#34; data-language=&#34;bash&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;&lt;span class=&#34;token function&#34;&gt;npm&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;install&lt;/span&gt; -g cnpm --registry&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;https://registry.npm.taobao.org&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;CDN-加速&#34;&gt;CDN 加速&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;为什么强烈建议启用CDN？&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;研究表明，用户最满意的打开网页时间，是在 2 秒以下。用户能够忍受的最长等待时间在 6～8 秒之间。就是说，8 秒是一个临界值，如果你的网站打开速度在 8 秒以上，那么你将失去大部分用户。研究显示，如果等待 12 秒以后，网页还是没有载入，那么 99% 以上的用户会选择关闭网页。&lt;/p&gt;
&lt;p&gt;Google 做过一个试验，10 条搜索结果的页面载入时间需要 0.4 秒，显示 30 条搜索结果的页面载入时间需要 0.9 秒，结果后者使得 Google 总的流量和收入减少了 20%。Google 地图上线的时候，首页大小有 100KB，后来下降到 70~80KB。结果，流量在第一个星期上升了 10%，接下来的 3 个星期又再上升了 25%。Amazon 的统计也显示了相近的结果，首页打开时间每增加 100 毫秒，网站销售量会减少 1%。&lt;/p&gt;
&lt;p&gt;以上数据说明了一个非常重要的问题，如果你的网站速度如果超过 2s 以上，那么你的客户可能在流失和离你而去了。这一点对于电商网站尤其重要，打开速度慢，那么将造成转化率降低，损失将会大量增加。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;放在 Github 的资源在国内加载速度比较慢，因此需要使用 CDN 加速来优化网站打开速度，&lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://www.jsdelivr.com/&#34;&gt;jsDelivr&lt;/a&gt; + Github 便是免费且好用的 CDN，非常适合博客网站使用。也可以选择主流云服务商提供的对象存储+CDN 来获得更快速及稳定的访问效果，费用低到几乎可忽略。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;用法：&lt;/strong&gt;&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-http&#34; data-language=&#34;http&#34;&gt;&lt;code class=&#34;language-http&#34;&gt;&lt;span class=&#34;token header&#34;&gt;&lt;span class=&#34;token header-name keyword&#34;&gt;https&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;token header-value&#34;&gt;//cdn.jsdelivr.net/gh/你的用户名/你的仓库名@发布的版本号/文件路径&lt;/span&gt;&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;strong&gt;例如：&lt;/strong&gt;&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-html&#34; data-language=&#34;html&#34;&gt;&lt;code class=&#34;language-html&#34;&gt;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2022/03/1120220311110247.webp&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;注意：版本号不是必需的，是为了区分新旧资源，如果不使用版本号，将会直接引用最新资源。&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;还可以配合 &lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://github.com/Molunerfinn/PicGo&#34;&gt;PicGo&lt;/a&gt;图床上传工具的&lt;strong&gt;自定义域名前缀&lt;/strong&gt;来上传图片，使用极其方便。具体使用方法可参见我的另一篇文章: &lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://www.lixl.cn/2019/120114500.html&#34;&gt;使用 Typora+iPic/PicGo 图床+CDN 实现高效 Markdown 创作&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;jsdelivr&#34;&gt;jsdelivr&lt;/h3&gt;
&lt;p&gt;jsdelivr 是还在目前还在国内运营的可以通过特殊方法免费使用的CDN。&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Github&lt;mark&gt;开源&lt;/mark&gt;仓库发&lt;mark&gt;布版&lt;/mark&gt;本才能使用jsdelivr，懂了怎么做了吧。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;pre class=&#34;line-numbers language-none&#34;&gt;&lt;code class=&#34;language-none&#34;&gt;https://cdn.jsdelivr.net/gh/[name]/[repo]@latest/data/2022/03/1120220311110247.webp&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;Cloudflare-CDN&#34;&gt;Cloudflare CDN&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;配置最简单的CDN方式了。在github  raw链接地址前面加&lt;code&gt;https://images.weserv.nl/?url=&lt;/code&gt;, 就会自动使用cloudflare cdn来加速图片访问。使用发现无法加速gif。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;本blog主要使用这个方法，如下所示。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;未加速图片地址&lt;/li&gt;
&lt;/ul&gt;
&lt;pre class=&#34;line-numbers language-html&#34; data-language=&#34;html&#34;&gt;&lt;code class=&#34;language-html&#34;&gt;https://raw.githubusercontent.com/appotry/cloudimg/main/data/2021/09/1020210910231815.png&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
&lt;li&gt;Cloudflare加速图片地址&lt;/li&gt;
&lt;/ul&gt;
&lt;pre class=&#34;line-numbers language-html&#34; data-language=&#34;html&#34;&gt;&lt;code class=&#34;language-html&#34;&gt;# 使用了cloudflare partner 加速
https://cimg1.17lai.site/data/2021/09/1020210910231815.png&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;配置Service-worker&#34;&gt;配置Service worker&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;后篇文章&lt;a href=&#34;https://blog.17lai.site/posts/4a2050e2/&#34;&gt;基于Hexo的matery主题搭建博客个性定制篇5&lt;/a&gt;中提到的 &lt;strong&gt;让hexo支持pwa&lt;/strong&gt; 就是使用的&lt;code&gt;Service worker&lt;/code&gt; ，参考个性定制篇，把常用的大体积文件加入&lt;code&gt;Service worker&lt;/code&gt; 缓存列表，可以极大的提高访问速度！&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;原理&lt;/strong&gt;：在访问时，后台异步加载 SW 缓存文件列表，后面渲染网页，直接使用缓存中的文件，不再从网络中获取。你可以提前把所有常用的大体积资源放到缓存列表中，后面访问其它页面时，很多资源已经提前加载好了，可以极大的提高访问速度！&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&#34;SEO-优化&#34;&gt;SEO 优化&lt;/h2&gt;
&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;搜索引擎优化，又称为 SEO，即 Search Engine Optimization，它是一种通过分析搜索引擎的排名规律，了解各种搜索引擎怎样进行搜索、怎样抓取互联网页面、怎样确定特定关键词的搜索结果排名的技术。Google 自动收录效果还不错，百度就差得远了（&lt;code&gt;GitHub&lt;/code&gt;不允许百度的&lt;code&gt;Spider&lt;/code&gt;爬取&lt;code&gt;GitHub&lt;/code&gt;上的内容）。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;如果&lt;mark&gt;没有备案，百度seo是不会收录的&lt;/mark&gt;！所以如果你有国内vps，并且备案了，可以做百度seo，如果没有，百度seo内容都不需要看了。&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;网域提交方式&#34;&gt;网域提交方式&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;自动提交&lt;/p&gt;
&lt;p&gt;（分三种）&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;主动推送&lt;/li&gt;
&lt;li&gt;自动推送&lt;/li&gt;
&lt;li&gt;sitemap（站点地图）&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;手动提交&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;即手动地将链接一次性提交给百度&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;一般自动提交比手动提交效果好一点，自动提交又从效率上来说：&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;主动推送&amp;gt;自动推送&amp;gt;sitemap&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;自动提交的三种方式&lt;/strong&gt;：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;code&gt;主动推送&lt;/code&gt;：最为快速的提交方式。将站点当天新产出链接通过此方式推送给百度，以保证新链接可以及时被百度收录。&lt;/li&gt;
&lt;li&gt;&lt;code&gt;自动推送&lt;/code&gt;：最为便捷的提交方式。将自动推送的JS代码部署在站点的每一个页面源代码中，当部署代码的页面在每次被浏览时，链接就会被自动推送给百度。可以与主动推送配合使用。&lt;/li&gt;
&lt;li&gt;&lt;code&gt;sitemap&lt;/code&gt;：您可以定期将网站链接放到&lt;code&gt;sitemap文件&lt;/code&gt;中，然后将&lt;code&gt;sitemap文件&lt;/code&gt;提交给百度。百度会周期性的抓取检查您提交的&lt;code&gt;sitemap&lt;/code&gt;，对其中的链接进行处理，但收录速度慢于主动推送。&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;使用sitemap方式推送&#34;&gt;使用sitemap方式推送&lt;/h3&gt;
&lt;p&gt;安装 sitemap 插件生成站点地图文件:&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-bash&#34; data-language=&#34;bash&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;&lt;span class=&#34;token function&#34;&gt;npm&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;install&lt;/span&gt; hexo-generator-sitemap --save
&lt;span class=&#34;token function&#34;&gt;npm&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;install&lt;/span&gt; hexo-generator-baidu-sitemap --save  &lt;span class=&#34;token comment&#34;&gt;#百度专用&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;安装后直接执行 &lt;code&gt;hexo cl&amp;amp;&amp;amp;hexo g -d&lt;/code&gt; 命令，就会在网站根目录生成 &lt;code&gt;sitemap.xml&lt;/code&gt; 及 &lt;code&gt;baidusitemap.xml&lt;/code&gt; 文件。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;在博客目录的_config.yml中添加如下代码&lt;/li&gt;
&lt;/ul&gt;
&lt;pre class=&#34;line-numbers language-yaml&#34; data-language=&#34;yaml&#34;&gt;&lt;code class=&#34;language-yaml&#34;&gt;&lt;span class=&#34;token comment&#34;&gt;# 通用站点地图&lt;/span&gt;
&lt;span class=&#34;token key atrule&#34;&gt;sitemap&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;
  &lt;span class=&#34;token key atrule&#34;&gt;path&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; sitemap.xml

&lt;span class=&#34;token comment&#34;&gt;# 百度站点地图&lt;/span&gt;
&lt;span class=&#34;token key atrule&#34;&gt;baidusitemap&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;
  &lt;span class=&#34;token key atrule&#34;&gt;path&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; baidusitemap.xml&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;百度优化&#34;&gt;百度优化&lt;/h3&gt;
&lt;p&gt;登录&lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://ziyuan.baidu.com/&#34;&gt;百度搜索资源平台&lt;/a&gt;， 登录成功之后在 用户中心 –&amp;gt; 站点管理 页面中点击&lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://ziyuan.baidu.com/site/siteadd&#34;&gt;添加网站&lt;/a&gt;，按提示操作。&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2021/09/1020210910231752.png&#34; alt=&#34;添加网站&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;添加网站&lt;/strong&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;提示：由于百度的 spider 是爬取不到 GitHub 的内容的，所以在第三步验证网站的时候，建议选择&lt;code&gt;CNAME验证&lt;/code&gt;的方式。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;经过以上步骤，百度已经知道有我们网站的存在了，但是百度还不知道我们的网站上有什么内容，所以要向百度推送我们的内容。点击 网站支持 –&amp;gt; 数据引入 –&amp;gt; 链接提交菜单，提交站点地图：&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2021/09/1020210910231758.png&#34; alt=&#34;提交站点地图&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;提交站点地图&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;另外，&lt;code&gt;hexo-theme-matery&lt;/code&gt;主题已经内置了 &lt;code&gt;自动推送&lt;/code&gt; 的功能， 检查 &lt;code&gt;themes/hexo-theme-matery/_config.yml&lt;/code&gt; 文件中如下配置:&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-yaml&#34; data-language=&#34;yaml&#34;&gt;&lt;code class=&#34;language-yaml&#34;&gt;&lt;span class=&#34;token comment&#34;&gt;# 百度搜索资源平台提交链接&lt;/span&gt;
&lt;span class=&#34;token key atrule&#34;&gt;baiduPush&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token boolean important&#34;&gt;true&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;自动推送的 JS 代码部署在站点的每一个页面源代码中，当页面在每次被浏览时，链接就会被自动推送给百度。&lt;/p&gt;
&lt;h3 id=&#34;谷歌优化&#34;&gt;谷歌优化&lt;/h3&gt;
&lt;p&gt;登录 &lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://search.google.com/search-console?hl=zh-CN&#34;&gt;Google Search Console&lt;/a&gt;，点击添加资源，输入自己的域名，按提示操作。&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2021/09/1020210910231807.png&#34; alt=&#34;添加资源&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;添加资源&lt;/strong&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;提示：需要进行 DNS 验证，进入 DNS 域名解析设置页面，按提示增加 TXT 记录，如下图:&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2021/09/1020210910231808.png&#34; alt=&#34;DNS验证内容填写示例&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;DNS验证内容填写示例&lt;/strong&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;验证成功后，需要提交站点地图。参照下图提交，然后等待收录。&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2021/09/1020210910231815.png&#34; alt=&#34;提交站点地图&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;提交站点地图&lt;/strong&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;注意：hexo 配置文件中的 url 一定要输入正确的域名，插件是根据 url 生成站点地图的。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;其它搜索引擎&#34;&gt;其它搜索引擎&lt;/h3&gt;
&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://www.bing.com/webmasters/home&#34;&gt;Bing提交&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://zhanzhang.sm.cn/open/detialPage&#34;&gt;神马站长&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;百度自动推送方式&#34;&gt;百度自动推送方式&lt;/h3&gt;
&lt;p&gt;只要每个需要被百度爬取的HTML页面中加入一段JS代码即可：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-js&#34; data-language=&#34;js&#34;&gt;&lt;code class=&#34;language-js&#34;&gt;&lt;span class=&#34;token operator&#34;&gt;&amp;lt;&lt;/span&gt;script&lt;span class=&#34;token operator&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token keyword&#34;&gt;function&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;token keyword&#34;&gt;var&lt;/span&gt; bp &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; document&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;createElement&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;script&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;token keyword&#34;&gt;var&lt;/span&gt; curProtocol &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; window&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;location&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;protocol&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;split&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;:&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;token keyword&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;curProtocol &lt;span class=&#34;token operator&#34;&gt;===&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;https&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt;
        bp&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;src &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;https://zz.bdstatic.com/linksubmit/push.js&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt;
    &lt;span class=&#34;token keyword&#34;&gt;else&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt;
        bp&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;src &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;http://push.zhanzhang.baidu.com/push.js&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt;
    &lt;span class=&#34;token keyword&#34;&gt;var&lt;/span&gt; s &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; document&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;getElementsByTagName&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#34;script&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;
    s&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;parentNode&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;insertBefore&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;bp&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; s&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;token operator&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;/&lt;/span&gt;script&lt;span class=&#34;token operator&#34;&gt;&amp;gt;&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;我所使用的matery主题可以自动给每个页面加上这段代码，只需在主题配置文件中配置：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-yml&#34; data-language=&#34;yml&#34;&gt;&lt;code class=&#34;language-yml&#34;&gt;&lt;span class=&#34;token comment&#34;&gt;# 百度搜索资源平台提交链接&lt;/span&gt;
&lt;span class=&#34;token key atrule&#34;&gt;baiduPush&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token boolean important&#34;&gt;true&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;即可！&lt;/p&gt;
&lt;p&gt;其他主题一般都有这个功能的实现，如果没有的话，想办法在每个页面加入以上JS代码即可，原理是一样。&lt;/p&gt;
&lt;h3 id=&#34;百度主动推送SEO方式&#34;&gt;百度主动推送SEO方式&lt;/h3&gt;
&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;配置文章自动推送到百度蜘蛛&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;h4 id=&#34;获取百度推送密钥&#34;&gt;获取百度推送密钥&lt;/h4&gt;
&lt;p&gt;在 &lt;a href=&#34;ziyuan.baidu.com/site&#34;&gt;百度资源&lt;/a&gt; 注册你的网址，验证完后可在&lt;code&gt;站点管理-&amp;gt;资源提交-&amp;gt;链接提交-&amp;gt;主动推送(实时)&lt;/code&gt; 中找到你的推送密钥，下面说明中的 token= 后的内容即为推送密钥。&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-bash&#34; data-language=&#34;bash&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;推送接口
接口调用地址：http://data.zz.baidu.com/urls?site&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;https://ifibe.com&lt;span class=&#34;token operator&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&#34;token assign-left variable&#34;&gt;token&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;xxxxxxxxxx&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;安装主动推送插件：hexo-baidu-url-submit&#34;&gt;安装主动推送插件：&lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://github.com/huiwang/hexo-baidu-url-submit&#34;&gt;hexo-baidu-url-submit&lt;/a&gt;&lt;/h4&gt;
&lt;pre class=&#34;line-numbers language-bash&#34; data-language=&#34;bash&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;$ &lt;span class=&#34;token function&#34;&gt;npm&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;install&lt;/span&gt; hexo-baidu-url-submit --save&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;然后打开hexo配置文件，在末尾加入以下配置：&#34;&gt;然后打开&lt;code&gt;hexo配置文件&lt;/code&gt;，在末尾加入以下配置：&lt;/h4&gt;
&lt;pre class=&#34;line-numbers language-yml&#34; data-language=&#34;yml&#34;&gt;&lt;code class=&#34;language-yml&#34;&gt;&lt;span class=&#34;token comment&#34;&gt;# hexo-baidu-url-submit  百度主动推送&lt;/span&gt;
&lt;span class=&#34;token key atrule&#34;&gt;baidu_url_submit&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;
  &lt;span class=&#34;token key atrule&#34;&gt;count&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;80&lt;/span&gt; &lt;span class=&#34;token comment&#34;&gt;# 提交最新的一个链接&lt;/span&gt;
  &lt;span class=&#34;token key atrule&#34;&gt;host&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; https&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;//blog.17lai.site &lt;span class=&#34;token comment&#34;&gt;# 在百度站长平台中注册的域名&lt;/span&gt;
  &lt;span class=&#34;token key atrule&#34;&gt;token&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; xxxxxxx &lt;span class=&#34;token comment&#34;&gt;# 请注意这是您的秘钥， 所以请不要把博客源代码发布在公众仓库里!&lt;/span&gt;
  &lt;span class=&#34;token key atrule&#34;&gt;path&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; baidu_urls.txt &lt;span class=&#34;token comment&#34;&gt;# 文本文档的地址， 新链接会保存在此文本文档里&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;密匙的获取是在百度的自动提交的主动推送那里。&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2021/09/1120210911153349.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;h4 id=&#34;再加入新的deploy：&#34;&gt;再加入新的&lt;code&gt;deploy&lt;/code&gt;：&lt;/h4&gt;
&lt;pre class=&#34;line-numbers language-yml&#34; data-language=&#34;yml&#34;&gt;&lt;code class=&#34;language-yml&#34;&gt;&lt;span class=&#34;token key atrule&#34;&gt;deploy&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;
&lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt; &lt;span class=&#34;token key atrule&#34;&gt;type&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; baidu_url_submitter&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;如图：&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2021/09/1120210911153357.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;这样每次执行 &lt;code&gt;hexo d&lt;/code&gt; 的时候，新的链接就会被推送了。&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-bash&#34; data-language=&#34;bash&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;$ hexo clean
$ hexo g
$ hexo d&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;推送成功时,会有如下终端提示!&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2021/09/1820210918203209.png&#34; alt=&#34;baidu_url_submitter&#34;&gt;&lt;/p&gt;
&lt;p&gt;各种不同的推送反馈字段说明&lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://ziyuan.baidu.com/college/courseinfo?id=267&amp;amp;page=2#h2_article_title12&#34;&gt;点我&lt;/a&gt;查看，一般来说，推送失败基本都是地址不相符造成的，我们只需对比&lt;code&gt;baidu_url_submit&lt;/code&gt;在&lt;code&gt;public&lt;/code&gt;中生成的&lt;code&gt;baidu_urls.txt&lt;/code&gt;的地址,与自己填写在&lt;code&gt;host&lt;/code&gt;字段中的地址对比看是否一样即可。&lt;/p&gt;
&lt;h3 id=&#34;Github-Action-自动提交SEO方式&#34;&gt;Github Action 自动提交SEO方式&lt;/h3&gt;
&lt;h4 id=&#34;安装插件-4&#34;&gt;安装插件&lt;/h4&gt;
&lt;pre class=&#34;line-numbers language-bash&#34; data-language=&#34;bash&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;&lt;span class=&#34;token function&#34;&gt;npm&lt;/span&gt; i hexo-seo-autopush --save&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;配置-2&#34;&gt;配置&lt;/h4&gt;
&lt;p&gt;在hexo 的config.yml里添加&lt;/p&gt;
&lt;p&gt;hexo-seo-autopush配置&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-yaml&#34; data-language=&#34;yaml&#34;&gt;&lt;code class=&#34;language-yaml&#34;&gt;&lt;span class=&#34;token comment&#34;&gt;# enable: 开启/关闭 推送&lt;/span&gt;
&lt;span class=&#34;token comment&#34;&gt;# count: 每次提交最新的10篇文章&lt;/span&gt;
&lt;span class=&#34;token comment&#34;&gt;# https://github.com/lete114/hexo-seo-autopush&lt;/span&gt;
&lt;span class=&#34;token key atrule&#34;&gt;hexo_seo_autopush&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;
  &lt;span class=&#34;token key atrule&#34;&gt;baidu&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;
    &lt;span class=&#34;token key atrule&#34;&gt;enable&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token boolean important&#34;&gt;true&lt;/span&gt;
    &lt;span class=&#34;token key atrule&#34;&gt;count&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;100&lt;/span&gt;
  &lt;span class=&#34;token key atrule&#34;&gt;bing&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;
    &lt;span class=&#34;token key atrule&#34;&gt;enable&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token boolean important&#34;&gt;true&lt;/span&gt;
    &lt;span class=&#34;token key atrule&#34;&gt;count&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;10&lt;/span&gt;
  &lt;span class=&#34;token key atrule&#34;&gt;google&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;
    &lt;span class=&#34;token key atrule&#34;&gt;enable&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token boolean important&#34;&gt;true&lt;/span&gt;
    &lt;span class=&#34;token key atrule&#34;&gt;count&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;10&lt;/span&gt;
    &lt;span class=&#34;token key atrule&#34;&gt;google_file&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; google_service_account.json &lt;span class=&#34;token comment&#34;&gt;# 谷歌服务账户&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;添加&lt;code&gt;Google Push&lt;/code&gt;配置和解决push后没有GitHub Actions &lt;code&gt;.github\workflows\AutoPush.yml&lt;/code&gt;文件的问题&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-yaml&#34; data-language=&#34;yaml&#34;&gt;&lt;code class=&#34;language-yaml&#34;&gt;&lt;span class=&#34;token comment&#34;&gt;# Deployment&lt;/span&gt;
&lt;span class=&#34;token comment&#34;&gt;## Docs: https://hexo.io/docs/one-command-deployment&lt;/span&gt;
&lt;span class=&#34;token key atrule&#34;&gt;deploy&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;
   &lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt; &lt;span class=&#34;token key atrule&#34;&gt;type&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; git
     &lt;span class=&#34;token key atrule&#34;&gt;repo&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; https&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;//github.com/lete114/Test.git
     &lt;span class=&#34;token key atrule&#34;&gt;branch&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; main
     &lt;span class=&#34;token key atrule&#34;&gt;ignore_hidden&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token boolean important&#34;&gt;false&lt;/span&gt;  &lt;span class=&#34;token comment&#34;&gt;# 忽略隐藏文件及文件夹(目录)&lt;/span&gt;
   &lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt; &lt;span class=&#34;token key atrule&#34;&gt;type&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; GooglePush &lt;span class=&#34;token comment&#34;&gt;# 谷歌提交&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;获取站长平台密钥&#34;&gt;获取站长平台密钥&lt;/h3&gt;
&lt;h4 id=&#34;Baidu-Key&#34;&gt;Baidu Key&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;打开百度站长平台，点击左侧的普通收录https://ziyuan.baidu.com/&lt;br&gt;
&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2021/09/2120210921065417.png&#34; alt=&#34;&#34;&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&#34;Bing-Key&#34;&gt;Bing Key&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;打开Bing站长平台，https://www.bing.com/webmasters/home&lt;/li&gt;
&lt;li&gt;点击右上角头像 旁边的齿轮，跟着下图操作&lt;br&gt;
&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2021/09/2120210921065427.png&#34; alt=&#34;&#34;&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&#34;Google-Key&#34;&gt;Google Key&lt;/h4&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://cloud.google.com/docs/authentication/production?hl=zh-cn&#34;&gt;Google Wiki&lt;/a&gt;， 使用参考。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;打开Google indexing API&lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://console.developers.google.com/flows/enableapi?apiid=indexing.googleapis.com&amp;amp;credential=client_key&#34;&gt;官网&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;选择创建项目，点击继续&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;点击转到凭据页面&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;跟着如下图片步骤&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2021/09/2120210921065438.png&#34; alt=&#34;GoogleProof&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2021/09/2120210921065446.png&#34; alt=&#34;GoogleAddProof&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2021/09/2120210921065512.png&#34; alt=&#34;GoogleNone&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2021/09/2120210921065454.png&#34; alt=&#34;GoogleKey&#34;&gt;&lt;/p&gt;
&lt;p&gt;json文件内的内容&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-js&#34; data-language=&#34;js&#34;&gt;&lt;code class=&#34;language-js&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt;
  &lt;span class=&#34;token string-property property&#34;&gt;&#34;type&#34;&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;service_account&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;
  &lt;span class=&#34;token string-property property&#34;&gt;&#34;project_id&#34;&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;elated-guild-298003&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;
  &lt;span class=&#34;token string-property property&#34;&gt;&#34;private_key_id&#34;&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;cf58d669c0e8c8e082b2c403ade5e2548078e384&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;
  &lt;span class=&#34;token string-property property&#34;&gt;&#34;private_key&#34;&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;-----BEGIN PRIVATE KEY-----\nMIIEvgIBADANBgkqhkiG9w0BAQEFAASCBKgwggSkAgEAAoIBAQDEAJw89yeylRrA\nB+bzOAfQQNgOCABIwEKCy5mMxWSaiXy2RktyCJWjMR2Pgz770NJgClQHPJjsFn0c\nukHufpnuiX3VPlimLANPCRFdU/qp+yiaw4quIhYF1UZJkhmhL30anghUcvi+r9hQ\nw+RwcKrgA4EUzqUJaPdvjtzSoo315PPGfR91ASD5S8gE02yVI8igtYMX7v2x1JYR\n7PwHJwOVemiM9lot8ilvoUbV4BU0vSlwFoxKMJAbEXTmJjEKQi9992rcMW0GzXO8\ncHldUUtURXkt3VFjYTH27KhHiTkTXw+uZRBu1rkubDJkS8lGIWN7Fc/r4HMMCVTu\nXPS6HbJ/AgMBAAECggEANSS7OBaFd3jRL3cVCiZLjA5A5pEJzq/+eKtOn2oYDISx\nwVRO+YTVWdGj47kg1zM4D11NikbGaeDxHFxuKwW9o/04lpyYebneTcw2Hpl6EiOs\nz0WssOlCEmPQ8nrAI0GWiKSHuqoPwtg37TIoGsqZsjKRCby759DDokZYnm3/0sc+\niEllT0ZyBZhGDzyguVLEdCIR2P02q/hQzLyd6ejWGGwZebImbGoILhmuOjVrco0p\nV0JbrrNskjM5Epe7w+CpGftEASJ7Dxa8oj0qIT6cyAipra2AZAGnG9jrLcWpJuhu\nvNeDIFnTfpNEac+khXZZE2++MIQfTX9wGJc8tox2vQKBgQD6yiNvAL7sxExiy6ER\ntLtFQ3bvmMpKRFGvFOyPOtMbmjZ3D1GEtNNKGH4v1TI+tncEy7Q5Dm7nWwpi8yvL\nbh8xKghelAc/CU1nw0xDEDCkMbAwpFg5A5ZDImy3LZsQh0kNXniIMy1vMSt5yLKS\n80gXQKGCxG8t3rP8Qd/2a55g1QKBgQDIExP1nG9sHJaigmitEUwr0Ow6Shqr56Me\nd7995gaV1oLWWCQzrXt/viWkb1W5ZGIxzcWNWz99m4CbvqfewRr598Eenald0csN\nVcIEk+0C+6KqA+jU9Tfs2zow/C7JuKULP2N++o0EoSz/ngokP7f1yLOYbr507v/R\n0cLElQBQAwKBgAbxDWYHKUG4dTzO0hiBXiWepm4fVooTtgcYlyunvywmapeFDwaT\nUr3cS7HbPtbJiiXR1Z02rw8sT+9JN88brzVXKoAjrMer5D6ZA0Vf71i8H1pZUi/R\nz5jwHP48/uvIMtdx4/gxInLPc5qdWYQDw90Q5ueNtF4aqfSzhhV2CR45AoGBAJN9\nPOF6iMjx6jmyWOf8MGK8iOgPaMoA4Ea9j/SHdaNPlvPb1hQid0AcNDObv14Dmj+M\nqW0jLxKxZ4VobufPAsvyz/J51zjKRx11cqldQwNH7QnYB/O1MZzxn1wtC3C5JTG9\ncONSYFJhXoKxRliigEI3ye089jnNVdifAS1ZiflxAoGBANTX1fEMEeNuYU0v3rtd\n5CkPZg4TNZ+y2MGl5xR1LdIgrJ8c9xKoW4rpp7SsOIvHpWX494f90D7o9uFEGSQ4\nyQK53jVzJ0ekGV5BdPF3n3/2j2VEqFLHi7LL4CJSxr6ci7OfBoHOGE8odhevQCCK\njnFzEin0QsBEgIC73fBh6XcH\n-----END PRIVATE KEY-----\n&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;
  &lt;span class=&#34;token string-property property&#34;&gt;&#34;client_email&#34;&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;googleindexing@elated-guild-298003.iam.gserviceaccount.com&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;
  &lt;span class=&#34;token string-property property&#34;&gt;&#34;client_id&#34;&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;103034240916368863393&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;
  &lt;span class=&#34;token string-property property&#34;&gt;&#34;auth_uri&#34;&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;https://accounts.google.com/o/oauth2/auth&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;
  &lt;span class=&#34;token string-property property&#34;&gt;&#34;token_uri&#34;&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;https://oauth2.googleapis.com/token&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;
  &lt;span class=&#34;token string-property property&#34;&gt;&#34;auth_provider_x509_cert_url&#34;&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;https://www.googleapis.com/oauth2/v1/certs&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;
  &lt;span class=&#34;token string-property property&#34;&gt;&#34;client_x509_cert_url&#34;&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;https://www.googleapis.com/robot/v1/metadata/x509/googleindexing%40elated-guild-298003.iam.gserviceaccount.com&#34;&lt;/span&gt;
&lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;打开&lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://search.google.com/search-console&#34;&gt;谷歌站长平台&lt;/a&gt;&lt;br&gt;
&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2021/09/2120210921065520.png&#34; alt=&#34;GoogleAddUser&#34;&gt;&lt;br&gt;
&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2021/09/2120210921065527.png&#34; alt=&#34;GoogleAddEmail&#34;&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&#34;配置博客仓库&#34;&gt;配置博客仓库&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Name必须是&lt;code&gt;baidu_token&lt;/code&gt;和&lt;code&gt;bing_apikey&lt;/code&gt;(不区分大小写)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;添加完成后&lt;br&gt;
&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2021/09/2120210921065607.png&#34; alt=&#34;Secrets-token&#34;&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&#34;谷歌的一些问题&#34;&gt;谷歌的一些问题&lt;/h4&gt;
&lt;p&gt;触发谷歌提交的命令是&lt;code&gt;hexo d&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;由于谷歌需要配合Google indexing API平台提供的json进行提交，而这个json格式不能泄露&lt;br&gt;
为防止json泄露只能本地提交，将json放到hexo根目录可自定义重命名(必须对应插件的配置)&lt;br&gt;
&lt;code&gt;如果你的使用Github Actions自动部署的话请把仓库设置为私有&lt;/code&gt;&lt;br&gt;
&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2021/09/2120210921065535.png&#34; alt=&#34;GoogleConfig&#34;&gt;&lt;/p&gt;
&lt;h4 id=&#34;提交成功返回状态码&#34;&gt;提交成功返回状态码&lt;/h4&gt;
&lt;p&gt;以上步骤完成后即可&lt;code&gt;hexo d&lt;/code&gt;部署了&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;看看Github仓库是否上传成功&lt;br&gt;
&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2021/09/2120210921065614.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;点击&lt;code&gt;Actions&lt;/code&gt;查看是否执行&lt;br&gt;
&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2021/09/2120210921065616.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;点击 Auto Push—-&amp;gt;build—–&amp;gt;点击第2步 自动提交&lt;/p&gt;
&lt;p&gt;如图43行&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2021/09/2120210921065543.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-json&#34; data-language=&#34;json&#34;&gt;&lt;code class=&#34;language-json&#34;&gt;&lt;span class=&#34;token comment&#34;&gt;// baidu返回的结果&lt;/span&gt;
&lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt;
	&lt;span class=&#34;token property&#34;&gt;&#34;remain&#34;&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;2060&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;  &lt;span class=&#34;token comment&#34;&gt;// 表示当天剩余的可推送url条数&lt;/span&gt;
	&lt;span class=&#34;token property&#34;&gt;&#34;success&#34;&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;47&lt;/span&gt;    &lt;span class=&#34;token comment&#34;&gt;// 成功推送的url条数&lt;/span&gt;
&lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt; 
&lt;span class=&#34;token comment&#34;&gt;// bing返回结果(错误)&lt;/span&gt;
&lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt;
	&lt;span class=&#34;token property&#34;&gt;&#34;ErrorCode&#34;&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;  &lt;span class=&#34;token comment&#34;&gt;// 错误 &lt;/span&gt;
	&lt;span class=&#34;token property&#34;&gt;&#34;Message&#34;&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;ERROR!!! Quota remaining for today: 2, Submitted: 47&#34;&lt;/span&gt;
    &lt;span class=&#34;token comment&#34;&gt;// Message：表示 你目前只剩2个url推送，而你现在推送的是47条url&lt;/span&gt;
    &lt;span class=&#34;token comment&#34;&gt;// bing新用户开始每日只有10个推送额，据我了解连续推送10天(这我也不确定)&lt;/span&gt;
    &lt;span class=&#34;token comment&#34;&gt;// 如果出现这个错误的话，你就只能先手动添加等系统给你分配额了(分配9999)&lt;/span&gt;
&lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;token comment&#34;&gt;// bing返回结果(成功)&lt;/span&gt;
&lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;token property&#34;&gt;&#34;d&#34;&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;token null keyword&#34;&gt;null&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Google 返回状态码&lt;/p&gt;
&lt;p&gt;成功返回&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-json&#34; data-language=&#34;json&#34;&gt;&lt;code class=&#34;language-json&#34;&gt;Google response&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt;  &lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt;
  urlNotificationMetadata&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt;
    url&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt; &#39;https&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;token comment&#34;&gt;//blog.lete114.top/article/hexo-seo-autopush.html&#39;,&lt;/span&gt;
    latestUpdate&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt;
      url&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt; &#39;https&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;token comment&#34;&gt;//blog.lete114.top/article/hexo-seo-autopush.html&#39;,&lt;/span&gt;
      type&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt; &#39;URL_UPDATED&#39;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;
      notifyTime&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt; &#39;&lt;span class=&#34;token number&#34;&gt;2020&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;-12&lt;/span&gt;-08T02&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;31&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;32&lt;/span&gt;.871417693Z&#39;
    &lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt;
  &lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;出现此错误需要: 翻墙&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-bash&#34; data-language=&#34;bash&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;FetchError: request to https://www.googleapis.com/oauth2/v4/token failed, reason: connect ETIMEDOUT &lt;span class=&#34;token number&#34;&gt;172.217&lt;/span&gt;.27.138:443
    at ClientRequest.&lt;span class=&#34;token operator&#34;&gt;&amp;lt;&lt;/span&gt;anonymous&lt;span class=&#34;token operator&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;D:&lt;span class=&#34;token punctuation&#34;&gt;\&lt;/span&gt;Lete&lt;span class=&#34;token punctuation&#34;&gt;\&lt;/span&gt;GitHub&lt;span class=&#34;token punctuation&#34;&gt;\&lt;/span&gt;Hexo-Butterfly&lt;span class=&#34;token punctuation&#34;&gt;\&lt;/span&gt;node_modules&lt;span class=&#34;token punctuation&#34;&gt;\&lt;/span&gt;node-fetch&lt;span class=&#34;token punctuation&#34;&gt;\&lt;/span&gt;lib&lt;span class=&#34;token punctuation&#34;&gt;\&lt;/span&gt;index.js:1461:11&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;
    at ClientRequest.emit &lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;events.js:321:20&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;
    at TLSSocket.socketErrorListener &lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;_http_client.js:426:9&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;
    at TLSSocket.emit &lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;events.js:321:20&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;
    at emitErrorNT &lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;internal/streams/destroy.js:92:8&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;
    at emitErrorAndCloseNT &lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;internal/streams/destroy.js:60:3&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;
    at processTicksAndRejections &lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;internal/process/task_queues.js:84:21&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt;
  message: &lt;span class=&#34;token string&#34;&gt;&#39;request to https://www.googleapis.com/oauth2/v4/token failed, reason: connect ETIMEDOUT 172.217.27.138:443&#39;&lt;/span&gt;,
  type: &lt;span class=&#34;token string&#34;&gt;&#39;system&#39;&lt;/span&gt;,
  errno: &lt;span class=&#34;token string&#34;&gt;&#39;ETIMEDOUT&#39;&lt;/span&gt;,
  code: &lt;span class=&#34;token string&#34;&gt;&#39;ETIMEDOUT&#39;&lt;/span&gt;,
  config: &lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt;
    method: &lt;span class=&#34;token string&#34;&gt;&#39;POST&#39;&lt;/span&gt;,
    url: &lt;span class=&#34;token string&#34;&gt;&#39;https://www.googleapis.com/oauth2/v4/token&#39;&lt;/span&gt;,
    data: &lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt;
      grant_type: &lt;span class=&#34;token string&#34;&gt;&#39;urn:ietf:params:oauth:grant-type:jwt-bearer&#39;&lt;/span&gt;,
      assertion: &#39;eyJhbGciOiJSUzI1NiJ9.eyJpc3MiOiJnb29nbGVpbmRleGluZ0BzdGF0ZWx5LXRyYW5zaXQtMjk3NzE1LmlhbS5nc2VydmljZWFjY291bnQuY29tIiwic2NvcGUiOiJodHRwczovL3d3d&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;本地主动提交SEO&#34;&gt;本地主动提交SEO&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://github.com/abnerwei/hexo-url-submission&#34;&gt;hexo-url-submission&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://abnerwei.com/wiki/hexo/url-submission&#34;&gt;Wiki&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h4 id=&#34;安装方法&#34;&gt;&lt;strong&gt;安装方法&lt;/strong&gt;&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;在终端中输入：&lt;/li&gt;
&lt;/ol&gt;
&lt;pre class=&#34;line-numbers language-bash&#34; data-language=&#34;bash&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;&lt;span class=&#34;token function&#34;&gt;npm&lt;/span&gt; i hexo-url-submission&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;在 &lt;code&gt;blog/_config.yml&lt;/code&gt; 文件中添加配置：&lt;/li&gt;
&lt;/ol&gt;
&lt;pre class=&#34;line-numbers language-yaml&#34; data-language=&#34;yaml&#34;&gt;&lt;code class=&#34;language-yaml&#34;&gt;&lt;span class=&#34;token key atrule&#34;&gt;url_submission&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;
   &lt;span class=&#34;token key atrule&#34;&gt;enable&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token boolean important&#34;&gt;true&lt;/span&gt;
   &lt;span class=&#34;token key atrule&#34;&gt;type&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;latest&#39;&lt;/span&gt; &lt;span class=&#34;token comment&#34;&gt;# latest or all( latest: modified pages; all: posts &amp;amp; pages)&lt;/span&gt;
   &lt;span class=&#34;token key atrule&#34;&gt;channel&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;baidu&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;bing&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;google&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;shenma&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;token comment&#34;&gt;# Included channels are `baidu`, `google`, `bing`, `shenma`&lt;/span&gt;
   &lt;span class=&#34;token key atrule&#34;&gt;prefix&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;/post&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;/wiki&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;token comment&#34;&gt;# URL prefix&lt;/span&gt;
   &lt;span class=&#34;token key atrule&#34;&gt;count&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;10&lt;/span&gt; &lt;span class=&#34;token comment&#34;&gt;# Submit limit&lt;/span&gt;
   &lt;span class=&#34;token key atrule&#34;&gt;proxy&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;&#39;&lt;/span&gt; &lt;span class=&#34;token comment&#34;&gt;# Set the proxy used to submit urls to Google&lt;/span&gt;
   &lt;span class=&#34;token key atrule&#34;&gt;urls_path&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;submit_url.txt&#39;&lt;/span&gt; &lt;span class=&#34;token comment&#34;&gt;# URL list file path&lt;/span&gt;
   &lt;span class=&#34;token key atrule&#34;&gt;baidu_token&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;&#39;&lt;/span&gt; &lt;span class=&#34;token comment&#34;&gt;# Baidu private key&lt;/span&gt;
   &lt;span class=&#34;token key atrule&#34;&gt;bing_token&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;&#39;&lt;/span&gt; &lt;span class=&#34;token comment&#34;&gt;# Bing private key&lt;/span&gt;
   &lt;span class=&#34;token key atrule&#34;&gt;google_key&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;&#39;&lt;/span&gt; &lt;span class=&#34;token comment&#34;&gt;# Google key path (e.g. `google_key.json` or `data/google_key.json`)&lt;/span&gt;
   &lt;span class=&#34;token key atrule&#34;&gt;shenma_token&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;&#39;&lt;/span&gt; &lt;span class=&#34;token comment&#34;&gt;# ShenMa private key&lt;/span&gt;
   &lt;span class=&#34;token key atrule&#34;&gt;shenma_user&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;&#39;&lt;/span&gt; &lt;span class=&#34;token comment&#34;&gt;# Username used when registering&lt;/span&gt;
   &lt;span class=&#34;token key atrule&#34;&gt;sitemap&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;&#39;&lt;/span&gt; &lt;span class=&#34;token comment&#34;&gt;# Sitemap path(e.g. the url is like this https://abnerwei.com/baidusitemap.xml, you can fill in `baidusitemap.xml`)&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;更新方法&#34;&gt;&lt;strong&gt;更新方法&lt;/strong&gt;&lt;/h4&gt;
&lt;p&gt;在站点根目录执行：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-bash&#34; data-language=&#34;bash&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;&lt;span class=&#34;token function&#34;&gt;npm&lt;/span&gt; update hexo-url-submission&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;deploy&#34;&gt;deploy&lt;/h4&gt;
&lt;pre class=&#34;line-numbers language-yaml&#34; data-language=&#34;yaml&#34;&gt;&lt;code class=&#34;language-yaml&#34;&gt;&lt;span class=&#34;token key atrule&#34;&gt;deploy&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;
  &lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt; &lt;span class=&#34;token key atrule&#34;&gt;type&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; us_baidu_deployer
  &lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt; &lt;span class=&#34;token key atrule&#34;&gt;type&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; us_bing_deployer
  &lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt; &lt;span class=&#34;token key atrule&#34;&gt;type&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; us_google_deployer
  &lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt; &lt;span class=&#34;token key atrule&#34;&gt;type&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; us_shenma_deployer&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;good-job&#34;&gt;good job&lt;/h4&gt;
&lt;p&gt;Run:&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-bash&#34; data-language=&#34;bash&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;hexo clean &lt;span class=&#34;token operator&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; hexo g &lt;span class=&#34;token operator&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; hexo d&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;enjoy it!&lt;/p&gt;
&lt;h2 id=&#34;提交-robots-txt&#34;&gt;提交 robots.txt&lt;/h2&gt;
&lt;h2 id=&#34;robots-txt是干嘛的？&#34;&gt;robots.txt是干嘛的？&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;code&gt;robots.txt&lt;/code&gt; 是一种存放于网站根目录下的 &lt;code&gt;ASCII&lt;/code&gt; 编码的文本文件，它的作用是告诉搜索引擎此网站中哪些内容是可以被爬取的，哪些是禁止爬取的。&lt;br&gt;
&lt;code&gt;robots.txt&lt;/code&gt; 要放在 &lt;code&gt;Hexo根目录&lt;/code&gt; 下的 &lt;code&gt;source&lt;/code&gt; 文件夹中。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;每个人站点目录可能不太一样，可以参考下我的 &lt;code&gt;robots.txt&lt;/code&gt; 文件，内容如下：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-yaml&#34; data-language=&#34;yaml&#34;&gt;&lt;code class=&#34;language-yaml&#34;&gt;&lt;span class=&#34;token key atrule&#34;&gt;User-agent&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; *
&lt;span class=&#34;token key atrule&#34;&gt;Allow&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; /
&lt;span class=&#34;token key atrule&#34;&gt;Allow&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; /posts/
&lt;span class=&#34;token key atrule&#34;&gt;Disallow&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; /about/
&lt;span class=&#34;token key atrule&#34;&gt;Disallow&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; /archives/
&lt;span class=&#34;token key atrule&#34;&gt;Disallow&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; /js/
&lt;span class=&#34;token key atrule&#34;&gt;Disallow&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; /css/
&lt;span class=&#34;token key atrule&#34;&gt;Disallow&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; /contact/
&lt;span class=&#34;token key atrule&#34;&gt;Disallow&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; /fonts/
&lt;span class=&#34;token key atrule&#34;&gt;Disallow&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; /friends/
&lt;span class=&#34;token key atrule&#34;&gt;Disallow&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; /libs/
&lt;span class=&#34;token key atrule&#34;&gt;Disallow&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; /medias/
&lt;span class=&#34;token key atrule&#34;&gt;Disallow&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; /page/
&lt;span class=&#34;token key atrule&#34;&gt;Disallow&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; /tags/
&lt;span class=&#34;token key atrule&#34;&gt;Disallow&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; /categories/&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;更多关于 &lt;code&gt;robots.txt&lt;/code&gt; 的写法参见 https://blog.csdn.net/fanghua_vip/article/details/79535639&lt;/p&gt;
&lt;p&gt;编写完以上内容再重新部署一下，然后到百度资源平台的&lt;code&gt;数据监控&lt;/code&gt;-&amp;gt;&lt;code&gt;Robots&lt;/code&gt;点击&lt;code&gt;检测并更新&lt;/code&gt; 看能不能检测到。&lt;/p&gt;
&lt;h2 id=&#34;配置-Nofollow&#34;&gt;配置 Nofollow&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;nofollow 是HTML页面中 &lt;code&gt;a标签&lt;/code&gt; 的 属性值。&lt;/li&gt;
&lt;li&gt;这个属性的作用是：告诉搜索引擎的爬虫不要追踪该链接，为了对抗博客垃圾留言信息&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;URL优化&#34;&gt;URL优化&lt;/h2&gt;
&lt;p&gt;一般来说，SEO搜索引擎优化认为，网站的最佳结构是 &lt;strong&gt;用户从首页点击三次就可以到达任何一个页面&lt;/strong&gt;，但是我们使用&lt;code&gt;Hexo&lt;/code&gt;编译的站点结构的&lt;code&gt;URL&lt;/code&gt;是：&lt;code&gt;域名/年/月/日/文章标题&lt;/code&gt;四层的结构，这样的&lt;code&gt;URL&lt;/code&gt;结构很不利于&lt;code&gt;SEO&lt;/code&gt;，爬虫就会经常爬不到我们的文章，于是，我们需要优化一下网站文章的&lt;code&gt;URL&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;方案一&lt;/strong&gt;：&lt;/p&gt;
&lt;p&gt;直接改成&lt;code&gt;域名/文章标题&lt;/code&gt;的形式，在&lt;code&gt;Hexo配置文件&lt;/code&gt;中修改&lt;code&gt;permalink&lt;/code&gt;如下：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-yml&#34; data-language=&#34;yml&#34;&gt;&lt;code class=&#34;language-yml&#34;&gt;&lt;span class=&#34;token comment&#34;&gt;# URL&lt;/span&gt;
&lt;span class=&#34;token comment&#34;&gt;## If your site is put in a subdirectory, set url as &#39;http://yoursite.com/child&#39; and root as &#39;/child/&#39;&lt;/span&gt;
&lt;span class=&#34;token key atrule&#34;&gt;url&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; https&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;//blog.sky03.cn
&lt;span class=&#34;token key atrule&#34;&gt;root&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; /
&lt;span class=&#34;token key atrule&#34;&gt;permalink&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;title.html
permalink_defaults&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;strong&gt;这个方式有个不好的地方：&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;直接以&lt;code&gt;文章的标题&lt;/code&gt;作为URL，而我们所写的文章的标题一般都是中文，但是URL只能用字母数字和标点符号表示，所以中文的URL只能被转义成一堆符号，而且还特别长。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;方案二&lt;/strong&gt;：&lt;/p&gt;
&lt;p&gt;安装固定链接插件：&lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://github.com/rozbo/hexo-abbrlink&#34;&gt;hexo-abbrlink&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;插件作用：自动为每篇文章生成一串数字作每篇文章的URI地址。每篇文章的&lt;code&gt;Front-matter&lt;/code&gt;中会自动增加一个配置项：&lt;code&gt;abbrlink: xxxxx&lt;/code&gt;，该项的值就是当前文章的URI地址。&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Hexo根目录执行：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-bash&#34; data-language=&#34;bash&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;&lt;span class=&#34;token function&#34;&gt;npm&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;install&lt;/span&gt; hexo-abbrlink --save&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;Hexo配置文件&lt;/code&gt;末尾加入以下配置：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-yml&#34; data-language=&#34;yml&#34;&gt;&lt;code class=&#34;language-yml&#34;&gt;&lt;span class=&#34;token comment&#34;&gt;# hexo-abbrlink config 、固定文章地址插件&lt;/span&gt;
&lt;span class=&#34;token key atrule&#34;&gt;abbrlink&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;
  &lt;span class=&#34;token key atrule&#34;&gt;alg&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; crc16  &lt;span class=&#34;token comment&#34;&gt;#算法选项：crc16、crc32，区别见之前的文章，这里默认为crc16丨crc32比crc16复杂一点，长一点&lt;/span&gt;
  &lt;span class=&#34;token key atrule&#34;&gt;rep&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; dec    &lt;span class=&#34;token comment&#34;&gt;#输出进制：十进制和十六进制，默认为10进制。丨dec为十进制，hex为十六进制&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;Hexo配置文件&lt;/code&gt;中修改&lt;code&gt;permalink&lt;/code&gt;如下：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-yml&#34; data-language=&#34;yml&#34;&gt;&lt;code class=&#34;language-yml&#34;&gt;&lt;span class=&#34;token comment&#34;&gt;# URL&lt;/span&gt;
&lt;span class=&#34;token comment&#34;&gt;## If your site is put in a subdirectory, set url as &#39;http://yoursite.com/child&#39; and root as &#39;/child/&#39;&lt;/span&gt;
&lt;span class=&#34;token key atrule&#34;&gt;url&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; https&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;//blog.17lai.site
&lt;span class=&#34;token key atrule&#34;&gt;root&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; /
&lt;span class=&#34;token key atrule&#34;&gt;permalink&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; posts/&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;abbrlink.html
permalink_defaults&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;这样站点结构就变成了：&lt;code&gt;域名/posts/xxx.html&lt;/code&gt;&lt;/p&gt;
&lt;h2 id=&#34;异步加载JS&#34;&gt;异步加载JS&lt;/h2&gt;
&lt;p&gt;&lt;strong&gt;方法&lt;/strong&gt;：将JS文件的引入，放到HTML的body结束标签的上方&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;例&lt;/strong&gt;：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-html&#34; data-language=&#34;html&#34;&gt;&lt;code class=&#34;language-html&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;html&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;head&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
        &lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;title&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;Hello World!&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;/&lt;/span&gt;title&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;/&lt;/span&gt;head&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;body&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
        xxxxx....
        &lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;script&lt;/span&gt; &lt;span class=&#34;token attr-name&#34;&gt;src&lt;/span&gt;&lt;span class=&#34;token attr-value&#34;&gt;&lt;span class=&#34;token punctuation attr-equals&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;xx/xx.js&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token script&#34;&gt;&lt;/span&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;/&lt;/span&gt;script&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;/&lt;/span&gt;body&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;/&lt;/span&gt;html&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;strong&gt;原理&lt;/strong&gt;：首先要明白，HTML的加载是从上往下一行一行解释执行的，把js文件的引入放到下面，这样就会先把HTML页面展示出来，然后再加载js。这样看起来的效果就是，大体的页面先出来，而js让它慢慢加载执行，如果你把js放到网页的上方，效果就是必须要加载完js才能继续展示网页，体验极差。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;注意&lt;/strong&gt;：原主题的js文件尽量不要动，我们只需将自己增加的一些js按照异步加载的方式做即可，比如一些音乐js插件、实时在线聊天js插件等放到最后即可！因为这些文件要加载的东西很多。&lt;/p&gt;
&lt;h2 id=&#34;字蛛压缩字体&#34;&gt;字蛛压缩字体&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;在上面我们介绍了如何在网站上引用自己喜欢的字体，但是这样会出现一个问题：字体文件太大！（尤其是中文，有时候为了几个字引入一个数十兆的字体文件，得不偿失），所有需要字体压缩！&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;http://font-spider.org/&#34;&gt;官网&lt;/a&gt; &lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://github.com/aui/font-spider&#34;&gt;GitHub&lt;/a&gt;&lt;/p&gt;
&lt;h3 id=&#34;使用场景&#34;&gt;使用场景&lt;/h3&gt;
&lt;p&gt;你的网站中需要自定义字体（额外添加一些普通电脑中没有的字体），但是一般字体是包含很多字符的，这就导致字体文件的体积很大&lt;/p&gt;
&lt;h3 id=&#34;字蛛作用&#34;&gt;字蛛作用&lt;/h3&gt;
&lt;p&gt;字蛛就是自动检测网站的 CSS 与 HTML 文件中的自定义字体（额外加的字体），并将网站中&lt;strong&gt;用到的文字&lt;/strong&gt;重新打包成一个新的字体文件，并自动引入；&lt;/p&gt;
&lt;p&gt;而&lt;strong&gt;没用到的文字&lt;/strong&gt;就会删除，从而达到压缩字体文件体积的作用。&lt;/p&gt;
&lt;h4 id=&#34;安装-3&#34;&gt;安装&lt;/h4&gt;
&lt;pre class=&#34;line-numbers language-sh&#34; data-language=&#34;sh&#34;&gt;&lt;code class=&#34;language-sh&#34;&gt;npm install font-spider -g&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;在-CSS-中使用-WebFont：&#34;&gt;在 CSS 中使用 WebFont：&lt;/h3&gt;
&lt;pre class=&#34;line-numbers language-css&#34; data-language=&#34;css&#34;&gt;&lt;code class=&#34;language-css&#34;&gt;&lt;span class=&#34;token comment&#34;&gt;/*声明 WebFont*/&lt;/span&gt;
&lt;span class=&#34;token atrule&#34;&gt;&lt;span class=&#34;token rule&#34;&gt;@font-face&lt;/span&gt;&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt;
  &lt;span class=&#34;token property&#34;&gt;font-family&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;pinghei&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;
  &lt;span class=&#34;token property&#34;&gt;src&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token url&#34;&gt;&lt;span class=&#34;token function&#34;&gt;url&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token string url&#34;&gt;&#39;../font/pinghei.eot&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;
  &lt;span class=&#34;token property&#34;&gt;src&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;
    &lt;span class=&#34;token url&#34;&gt;&lt;span class=&#34;token function&#34;&gt;url&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token string url&#34;&gt;&#39;../font/pinghei.eot?#font-spider&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;format&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;embedded-opentype&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;
    &lt;span class=&#34;token url&#34;&gt;&lt;span class=&#34;token function&#34;&gt;url&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token string url&#34;&gt;&#39;../font/pinghei.woff&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;format&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;woff&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;
    &lt;span class=&#34;token url&#34;&gt;&lt;span class=&#34;token function&#34;&gt;url&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token string url&#34;&gt;&#39;../font/pinghei.ttf&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;format&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;truetype&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;
    &lt;span class=&#34;token url&#34;&gt;&lt;span class=&#34;token function&#34;&gt;url&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token string url&#34;&gt;&#39;../font/pinghei.svg&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;format&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;svg&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;
  &lt;span class=&#34;token property&#34;&gt;font-weight&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; normal&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;
  &lt;span class=&#34;token property&#34;&gt;font-style&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; normal&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt;

&lt;span class=&#34;token comment&#34;&gt;/*使用选择器指定字体*/&lt;/span&gt;
&lt;span class=&#34;token selector&#34;&gt;.home h1, .demo &amp;gt; .test&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;token property&#34;&gt;font-family&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;pinghei&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
&lt;ol&gt;
&lt;li&gt;@font-face 中的 src 定义的 .ttf 文件必须存在，其余的格式将由工具自动生成&lt;/li&gt;
&lt;li&gt;开发阶段请使用相对路径的 CSS 与 WebFont&lt;/li&gt;
&lt;/ol&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;运行-font-spider-命令：&#34;&gt;运行 font-spider 命令：&lt;/h3&gt;
&lt;pre class=&#34;line-numbers language-bash&#34; data-language=&#34;bash&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;font-spider ./demo/*.html&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
&lt;p&gt;页面依赖的字体将会自动压缩好，原 .ttf 字体会备份&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&#34;webp图像大小优化&#34;&gt;webp图像大小优化&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;把所有图像都转换为webp格式，可以极大减小图片体积，加快加载速度。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&#34;gulp-体积压缩&#34;&gt;gulp 体积压缩&lt;/h2&gt;
&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;减小体积，加快加载速度&lt;/li&gt;
&lt;li&gt;因为 hexo 生成的 html、css、js 等都有很多的空格或者换行，而空格和换行也是占用字节的，所以需要将空格换行去掉也就是我要进行的 “压缩”。&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;pre class=&#34;line-numbers language-bash&#34; data-language=&#34;bash&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;&lt;span class=&#34;token function&#34;&gt;npm&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;install&lt;/span&gt; gulp -g
&lt;span class=&#34;token comment&#34;&gt;# 安装各种小功能模块  执行这步的时候，可能会提示权限的问题，最好以管理员模式执行&lt;/span&gt;
&lt;span class=&#34;token function&#34;&gt;npm&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;install&lt;/span&gt; gulp gulp-htmlclean gulp-htmlmin gulp-minify-css gulp-uglify gulp-imagemin --save
&lt;span class=&#34;token comment&#34;&gt;# 额外的功能模块&lt;/span&gt;
&lt;span class=&#34;token function&#34;&gt;npm&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;install&lt;/span&gt; gulp-debug gulp-clean-css gulp-changed gulp-if gulp-plumber gulp-babel babel-preset-es2015 del @babel/core --save
 
或者使用yarn 
 
&lt;span class=&#34;token function&#34;&gt;yarn&lt;/span&gt; global &lt;span class=&#34;token function&#34;&gt;add&lt;/span&gt; gulp
&lt;span class=&#34;token function&#34;&gt;yarn&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;add&lt;/span&gt; gulp gulp-htmlclean gulp-htmlmin gulp-minify-css gulp-uglify gulp-imagemin
&lt;span class=&#34;token function&#34;&gt;yarn&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;add&lt;/span&gt; gulp-debug gulp-clean-css gulp-changed gulp-if gulp-plumber gulp-babel babel-preset-es2015 del @babel/core&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;npm下载太慢怎么办？ 修改国内淘宝源加速，&lt;a href=&#34;https://blog.17lai.site/posts/40300608/#npm%E4%B8%8B%E8%BD%BD%E5%8A%A0%E9%80%9F&#34;&gt;戳&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;p&gt;然后，在根目录新增 &lt;code&gt;gulpfile.js&lt;/code&gt; :&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-yaml&#34; data-language=&#34;yaml&#34;&gt;&lt;code class=&#34;language-yaml&#34;&gt;var gulp = require(&#34;gulp&#34;);
var debug = require(&#34;gulp&lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt;debug&#34;);
var cleancss = require(&#34;gulp&lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt;clean&lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt;css&#34;); //css压缩组件
var uglify = require(&#34;gulp&lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt;uglify&#34;); //js压缩组件
var htmlmin = require(&#34;gulp&lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt;htmlmin&#34;); //html压缩组件
var htmlclean = require(&#34;gulp&lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt;htmlclean&#34;); //html清理组件
var imagemin = require(&#34;gulp&lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt;imagemin&#34;); //图片压缩组件
var changed = require(&#34;gulp&lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt;changed&#34;); //文件更改校验组件
var gulpif = require(&#34;gulp&lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt;if&#34;); //任务 帮助调用组件
var plumber = require(&#34;gulp&lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt;plumber&#34;); //容错组件（发生错误不跳出任务，并报出错误内容）
var isScriptAll = true; //是否处理所有文件，(true&lt;span class=&#34;token punctuation&#34;&gt;|&lt;/span&gt;处理所有文件)(false&lt;span class=&#34;token punctuation&#34;&gt;|&lt;/span&gt;只处理有更改的文件)
var isDebug = true; //是否调试显示 编译通过的文件
var gulpBabel = require(&#34;gulp&lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt;babel&#34;);
var es2015Preset = require(&#34;babel&lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt;preset&lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt;es2015&#34;);
var del = require(&#34;del&#34;);
var Hexo = require(&#34;hexo&#34;);
var hexo = new Hexo(process.cwd()&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt;); // 初始化一个hexo对象

// 清除public文件夹
gulp.task(&#34;clean&#34;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; function () &lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt;
    return del(&lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#34;public/**/*&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;);
&lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt;);

// 下面几个跟hexo有关的操作，主要通过hexo.call()去执行，注意return
// 创建静态页面 （等同 hexo generate）
gulp.task(&#34;generate&#34;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; function () &lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt;
    return hexo.init().then(function () &lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt;
        return hexo
            .call(&#34;generate&#34;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt;
                &lt;span class=&#34;token key atrule&#34;&gt;watch&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token boolean important&#34;&gt;false&lt;/span&gt;
            &lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt;)
            .then(function () &lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt;
                return hexo.exit();
            &lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt;)
            .catch(function (err) &lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt;
                return hexo.exit(err);
            &lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt;);
    &lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt;);
&lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt;);

// 启动Hexo服务器
gulp.task(&#34;server&#34;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; function () &lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt;
    return hexo
        .init()
        .then(function () &lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt;
            return hexo.call(&#34;server&#34;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt;);
        &lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt;)
        .catch(function (err) &lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt;
            console.log(err);
        &lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt;);
&lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt;);

// 部署到服务器
gulp.task(&#34;deploy&#34;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; function () &lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt;
    return hexo.init().then(function () &lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt;
        return hexo
            .call(&#34;deploy&#34;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt;
                &lt;span class=&#34;token key atrule&#34;&gt;watch&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token boolean important&#34;&gt;false&lt;/span&gt;
            &lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt;)
            .then(function () &lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt;
                return hexo.exit();
            &lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt;)
            .catch(function (err) &lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt;
                return hexo.exit(err);
            &lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt;);
    &lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt;);
&lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt;);

// 压缩public目录下的js文件
gulp.task(&#34;compressJs&#34;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; function () &lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt;
    return gulp
        .src(&lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#34;./public/**/*.js&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;!./public/libs/**&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;) //排除的js
        .pipe(gulpif(&lt;span class=&#34;token tag&#34;&gt;!isScriptAll&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; changed(&#34;./public&#34;)))
        .pipe(gulpif(isDebug&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; debug(&lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt; &lt;span class=&#34;token key atrule&#34;&gt;title&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;Compress JS:&#34;&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt;)))
        .pipe(plumber())
        .pipe(
            gulpBabel(&lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt;
                &lt;span class=&#34;token key atrule&#34;&gt;presets&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;es2015Preset&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt; // es5检查机制
            &lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt;)
        )
        .pipe(uglify()) //调用压缩组件方法uglify()&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;对合并的文件进行压缩
        .pipe(gulp.dest(&#34;./public&#34;)); //输出到目标目录
&lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt;);

// 压缩public目录下的css文件
gulp.task(&#34;compressCss&#34;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; function () &lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt;
    var option = &lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;token key atrule&#34;&gt;rebase&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token boolean important&#34;&gt;false&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;
        &lt;span class=&#34;token key atrule&#34;&gt;//advanced&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token boolean important&#34;&gt;true&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; //类型：Boolean 默认：true &lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;是否开启高级优化（合并选择器等）&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;
        &lt;span class=&#34;token key atrule&#34;&gt;compatibility&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &#34;ie7&#34; //保留ie7及以下兼容写法 类型：String 默认：&#39;&#39;or&#39;&lt;span class=&#34;token important&#34;&gt;*&#39;&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;启用兼容模式； &#39;ie7&#39;：IE7兼容模式，&#39;ie8&#39;：IE8兼容模式，&#39;&lt;span class=&#34;token important&#34;&gt;*&#39;：IE9+兼容模式&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;
        &lt;span class=&#34;token key atrule&#34;&gt;//keepBreaks&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token boolean important&#34;&gt;true&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; //类型：Boolean 默认：false &lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;是否保留换行&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;
        &lt;span class=&#34;token key atrule&#34;&gt;//keepSpecialComments&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &#39;&lt;span class=&#34;token important&#34;&gt;*&#39;&lt;/span&gt; //保留所有特殊前缀 当你用autoprefixer生成的浏览器前缀，如果不加这个参数，有可能将会删除你的部分前缀
    &lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt;;
    return gulp
        .src(&lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#34;./public/**/*.css&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;!./public/**/*.min.css&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;) //排除的css
        .pipe(gulpif(&lt;span class=&#34;token tag&#34;&gt;!isScriptAll&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; changed(&#34;./public&#34;)))
        .pipe(gulpif(isDebug&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; debug(&lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt; &lt;span class=&#34;token key atrule&#34;&gt;title&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;Compress CSS:&#34;&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt;)))
        .pipe(plumber())
        .pipe(cleancss(option))
        .pipe(gulp.dest(&#34;./public&#34;));
&lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt;);

// 压缩public目录下的html文件
gulp.task(&#34;compressHtml&#34;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; function () &lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt;
    var cleanOptions = &lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;token key atrule&#34;&gt;protect&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; /&amp;lt;\&lt;span class=&#34;token tag&#34;&gt;!--%fooTemplate&lt;/span&gt;\b.&lt;span class=&#34;token important&#34;&gt;*?%--&amp;gt;/g&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; //忽略处理
        &lt;span class=&#34;token key atrule&#34;&gt;unprotect&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; /&amp;lt;script &lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;^&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;token important&#34;&gt;*\btype=&#34;text\/x-handlebars-template&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;\s\S&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;+&lt;span class=&#34;token punctuation&#34;&gt;?&lt;/span&gt;&amp;lt;\/script&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;/gi //特殊处理
    &lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt;;
    var minOption = &lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;token key atrule&#34;&gt;collapseWhitespace&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token boolean important&#34;&gt;true&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; //压缩HTML
        &lt;span class=&#34;token key atrule&#34;&gt;collapseBooleanAttributes&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token boolean important&#34;&gt;true&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; //省略布尔属性的值 &amp;lt;input checked=&#34;true&#34;/&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt; ==&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt; &amp;lt;input /&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;
        &lt;span class=&#34;token key atrule&#34;&gt;removeEmptyAttributes&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token boolean important&#34;&gt;true&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; //删除所有空格作属性值 &amp;lt;input id=&#34;&#34; /&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt; ==&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt; &amp;lt;input /&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;
        &lt;span class=&#34;token key atrule&#34;&gt;removeScriptTypeAttributes&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token boolean important&#34;&gt;true&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; //删除&amp;lt;script&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;的type=&#34;text/javascript&#34;
        &lt;span class=&#34;token key atrule&#34;&gt;removeStyleLinkTypeAttributes&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token boolean important&#34;&gt;true&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; //删除&amp;lt;style&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;和&amp;lt;link&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;的type=&#34;text/css&#34;
        &lt;span class=&#34;token key atrule&#34;&gt;removeComments&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token boolean important&#34;&gt;true&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; //清除HTML注释
        &lt;span class=&#34;token key atrule&#34;&gt;minifyJS&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token boolean important&#34;&gt;true&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; //压缩页面JS
        &lt;span class=&#34;token key atrule&#34;&gt;minifyCSS&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token boolean important&#34;&gt;true&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; //压缩页面CSS
        &lt;span class=&#34;token key atrule&#34;&gt;minifyURLs&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; true //替换页面URL
    &lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt;;
    return gulp
        .src(&#34;./public/&lt;span class=&#34;token important&#34;&gt;**/*.html&#34;)&lt;/span&gt;
        .pipe(gulpif(isDebug&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; debug(&lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt; &lt;span class=&#34;token key atrule&#34;&gt;title&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;Compress HTML:&#34;&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt;)))
        .pipe(plumber())
        .pipe(htmlclean(cleanOptions))
        .pipe(htmlmin(minOption))
        .pipe(gulp.dest(&#34;./public&#34;));
&lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt;);

// 压缩 public/medias 目录内图片
gulp.task(&#34;compressImage&#34;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; function () &lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt;
    var option = &lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;token key atrule&#34;&gt;optimizationLevel&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;5&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; //类型：Number 默认：3 取值范围：0&lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt;7（优化等级）
        &lt;span class=&#34;token key atrule&#34;&gt;progressive&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token boolean important&#34;&gt;true&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; //类型：Boolean 默认：false 无损压缩jpg图片
        &lt;span class=&#34;token key atrule&#34;&gt;interlaced&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token boolean important&#34;&gt;false&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; //类型：Boolean 默认：false 隔行扫描gif进行渲染
        &lt;span class=&#34;token key atrule&#34;&gt;multipass&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; false //类型：Boolean 默认：false 多次优化svg直到完全优化
    &lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt;;
    return gulp
        .src(&#34;./public/medias/&lt;span class=&#34;token important&#34;&gt;**/*.*&#34;)&lt;/span&gt;
        .pipe(gulpif(&lt;span class=&#34;token tag&#34;&gt;!isScriptAll&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; changed(&#34;./public/medias&#34;)))
        .pipe(gulpif(isDebug&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; debug(&lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt; &lt;span class=&#34;token key atrule&#34;&gt;title&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;Compress Images:&#34;&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt;)))
        .pipe(plumber())
        .pipe(imagemin(option))
        .pipe(gulp.dest(&#34;./public&#34;));
&lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt;);
// 执行顺序： 清除public目录 &lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt; 产生原始博客内容 &lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt; 执行压缩混淆 &lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt; 部署到服务器
gulp.task(
    &#34;cicd&#34;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;
    gulp.series(
        &#34;clean&#34;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;
        &lt;span class=&#34;token string&#34;&gt;&#34;generate&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;
        &lt;span class=&#34;token string&#34;&gt;&#34;compressHtml&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;
        &lt;span class=&#34;token string&#34;&gt;&#34;compressCss&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;
        &lt;span class=&#34;token string&#34;&gt;&#34;compressJs&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;
        &lt;span class=&#34;token string&#34;&gt;&#34;compressImage&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;
        gulp.parallel(&#34;deploy&#34;)
    )
);
gulp.task(
    &#34;ci&#34;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;
    gulp.series(
        &#34;clean&#34;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;
        &lt;span class=&#34;token string&#34;&gt;&#34;generate&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;
        gulp.parallel(&#34;compressHtml&#34;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;compressCss&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;compressJs&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&#34;compressImage&#34;)
    )
);
// 默认任务
gulp.task(
    &#34;default&#34;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;
    gulp.series(
        gulp.parallel(&#34;compressHtml&#34;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;compressCss&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;compressJs&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&#34;compressImage&#34;)
    )
);
//Gulp4最大的一个改变就是gulp.task函数现在只支持两个参数，分别是任务名和运行任务的函数&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;运行：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-bash&#34; data-language=&#34;bash&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;hexo clean &lt;span class=&#34;token operator&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; hexo g &lt;span class=&#34;token operator&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; gulp &lt;span class=&#34;token operator&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt;  hexo g&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;直接在 Hexo 根目录执行 &lt;code&gt;gulp ci&lt;/code&gt;，这个命令相当于 hexo cl&amp;amp;&amp;amp;hexo g 并且再把代码和图片压缩。 在 Hexo 根目录执行 gulp cicd ，这个命令与 &lt;code&gt;gulp ci&lt;/code&gt;相比是：在最后又加了个 hexo d ，等于说生成、压缩文件后又帮你自动部署了&lt;/p&gt;
&lt;p&gt;如果不想用图片压缩可以把&#34;compressImage&#34; 去掉即可&lt;/p&gt;
&lt;h2 id=&#34;本地搜索优化&#34;&gt;本地搜索优化&lt;/h2&gt;
&lt;p&gt;html、css和js都压缩了，很开心。但是，还有一个大文件没有压缩，就是本地搜索的DB文件search.xml。这个search.xml文件的大小为7.5M，很大。&lt;br&gt;
打开search.xml文件，发现里面不止包含文章内容，还包含html标签。参考hexo-generator-searchdb，发现可以设置不生成标签。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;修改hexo/_config.yml的localsearch配置为：&lt;/li&gt;
&lt;/ul&gt;
&lt;pre class=&#34;line-numbers language-yaml&#34; data-language=&#34;yaml&#34;&gt;&lt;code class=&#34;language-yaml&#34;&gt;&lt;span class=&#34;token comment&#34;&gt;# local search&lt;/span&gt;
&lt;span class=&#34;token key atrule&#34;&gt;search&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;
  &lt;span class=&#34;token key atrule&#34;&gt;path&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; search.xml
  &lt;span class=&#34;token key atrule&#34;&gt;field&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; post
  &lt;span class=&#34;token key atrule&#34;&gt;format&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; striptags
  &lt;span class=&#34;token key atrule&#34;&gt;limit&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;10000&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
&lt;li&gt;重新生成search.xml文件&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;还可以给search.xml添加上jsdelivr cdn 加速！&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;h2 id=&#34;系列教程-31&#34;&gt;&lt;strong&gt;系列教程&lt;/strong&gt;&lt;/h2&gt;
&lt;p&gt;&lt;a href=&#34;https://blog.17lai.site/atom.xml&#34;&gt;全部文章RSS订阅&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Hexo系列&lt;/strong&gt;  &lt;a href=&#34;https://blog.17lai.site/categories/hexo/atom.xml&#34;&gt;&lt;strong&gt;HexoRSS分类订阅&lt;/strong&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;[三万字教程]基于Hexo的matery主题搭建博客并深度优化完全一站式教程&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;https://blog.17lai.site/posts/40300608/&#34;&gt;Hexo Docker环境与Hexo基础配置篇&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;https://blog.17lai.site/posts/4d8a0b22/&#34;&gt;hexo博客自定义修改篇&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;https://blog.17lai.site/posts/9b056c86/&#34;&gt;hexo博客网络优化篇&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;https://blog.17lai.site/posts/5311b619/&#34;&gt;hexo博客增强部署篇&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;https://blog.17lai.site/posts/4a2050e2/&#34;&gt;hexo博客个性定制篇&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;https://blog.17lai.site/posts/84b4059a/&#34;&gt;hexo博客常见问题篇&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;https://blog.17lai.site/posts/cf0f47fd/&#34;&gt;Hexo Markdown以及各种插件功能测试&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;markdown 各种其它语法插件&lt;/li&gt;
&lt;li&gt;latex公式支持&lt;/li&gt;
&lt;li&gt;mermaid图表&lt;/li&gt;
&lt;li&gt;plant uml图表&lt;/li&gt;
&lt;li&gt;URL卡片&lt;/li&gt;
&lt;li&gt;bilibili卡片&lt;/li&gt;
&lt;li&gt;github卡片&lt;/li&gt;
&lt;li&gt;豆瓣卡片&lt;/li&gt;
&lt;li&gt;插入音乐和视频&lt;/li&gt;
&lt;li&gt;插入脑图&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;strong&gt;笔记系列&lt;/strong&gt;  &lt;a href=&#34;https://blog.17lai.site/categories/note/atom.xml&#34;&gt;&lt;strong&gt;Note分类RSS订阅&lt;/strong&gt;&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://blog.17lai.site/posts/a8535f26/&#34;&gt;完美笔记进化论&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;经历了很长时间，使用了各种各样的方案，最终选择了一种相对完美的方式。docker私有部署运行的joplin，使用markdown语法，github作为图床，picgo作为图像自动上传后端，pypora作为MD编辑器，Snipaste作为截图工具。后备gitlab ee selfhost备份，自建图床VPS多线负载均衡。cloudflare partner cdn加速，jsdelivr加速。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;pigo图床搭建与配置&lt;/li&gt;
&lt;li&gt;Joplin教程&lt;/li&gt;
&lt;li&gt;Snipaste截图工具&lt;/li&gt;
&lt;li&gt;Typora 作为Markdown编辑器最强&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://blog.17lai.fun/posts/e6086437/&#34;&gt;Joplin入门指南&amp;amp;实践方案&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;Joplin和使用&lt;/li&gt;
&lt;li&gt;Joplin同步与备份&lt;/li&gt;
&lt;li&gt;Joplin导入与导出&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://blog.17lai.fun/posts/45f878cd/&#34;&gt;替代Evernote免费开源笔记Joplin-网盘同步笔记历史版本Markdown可视化&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;Joplin安装使用，调用外部编辑器，网盘同步等等&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://blog.17lai.site/posts/92d347d6/&#34;&gt;Joplin 插件以及其Markdown语法。All in One!&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;Joplin简明教程&lt;/li&gt;
&lt;li&gt;markdown语法简明教程&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://blog.17lai.site/posts/e3ee7f8b/&#34;&gt;Joplin 插件使用推荐&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;教你用各种插件打造一个强大的笔记工具。&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://blog.17lai.site/posts/1802a8a7/&#34;&gt;为知笔记私有化Docker部署&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;如何部署自己私有的为知笔记。&lt;/li&gt;
&lt;li&gt;其实博主更推荐私有部署joplin&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;strong&gt;Gitbook使用系列&lt;/strong&gt; &lt;a href=&#34;https://blog.17lai.site/categories/gitbook/atom.xml&#34;&gt;Gitbook分类RSS订阅&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;https://blog.17lai.site/posts/7fe86002/&#34;&gt;GitBook+GitLab撰写发布技术文档-Part1:GitBook篇&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;https://blog.17lai.site/posts/7790e989/&#34;&gt;GitBook+GitLab撰写发布技术文档-Part2:GitLab篇&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;https://blog.17lai.site/posts/d6bad1e5/&#34;&gt;自己动手制作电子书的最佳方式（支持PDF、ePub、mobi等格式）&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;Gitlab 使用系列&lt;/strong&gt;  &lt;a href=&#34;https://blog.17lai.site/categories/gitlab/atom.xml&#34;&gt;&lt;strong&gt;Gitlab RSS 分类订阅&lt;/strong&gt;&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://blog.17lai.site/posts/acc13b70/&#34;&gt;&lt;strong&gt;Gitlab的安装及使用教程完全版&lt;/strong&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://blog.17lai.site/posts/29a820b3/&#34;&gt;破解Gitlab EE&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://blog.17lai.site/posts/d08eb7b/&#34;&gt;Gitlab的安装及使用&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://blog.17lai.site/posts/1879721e/&#34;&gt;CI/CD与Git Flow与GitLab&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;link rel=&#34;stylesheet&#34; href=&#34;/css/bilicard.css&#34; type=&#34;text/css&#34;&gt;</content>
        <category term="github" />
        <category term="hexo" />
        <category term="matery" />
        <category term="cdn" />
        <category term="seo" />
        <updated>2022-03-27T07:27:16.000Z</updated>
    </entry>
    <entry>
        <id>https://blog.17lai.site/posts/4d8a0b22/</id>
        <title>基于Hexo的matery主题搭建博客自定义修改篇2</title>
        <link rel="alternate" href="https://blog.17lai.site/posts/4d8a0b22/"/>
        <content type="html">&lt;p&gt;&lt;strong&gt;Hexo系列&lt;/strong&gt;  &lt;a href=&#34;https://blog.17lai.site/categories/hexo/atom.xml&#34;&gt;&lt;strong&gt;HexoRSS分类订阅&lt;/strong&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;[三万字教程]基于Hexo的matery主题搭建博客并深度优化完全一站式教程&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;https://blog.17lai.site/posts/40300608/&#34;&gt;Hexo Docker环境与Hexo基础配置篇&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;https://blog.17lai.site/posts/4d8a0b22/&#34;&gt;hexo博客自定义修改篇&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;https://blog.17lai.site/posts/9b056c86/&#34;&gt;hexo博客网络优化篇&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;https://blog.17lai.site/posts/5311b619/&#34;&gt;hexo博客增强部署篇&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;https://blog.17lai.site/posts/4a2050e2/&#34;&gt;hexo博客个性定制篇&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;https://blog.17lai.site/posts/84b4059a/&#34;&gt;hexo博客常见问题篇&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;https://blog.17lai.site/posts/cf0f47fd/&#34;&gt;Hexo Markdown以及各种插件功能测试&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;markdown 各种其它语法插件&lt;/li&gt;
&lt;li&gt;latex公式支持&lt;/li&gt;
&lt;li&gt;mermaid图表&lt;/li&gt;
&lt;li&gt;plant uml图表&lt;/li&gt;
&lt;li&gt;URL卡片&lt;/li&gt;
&lt;li&gt;bilibili卡片&lt;/li&gt;
&lt;li&gt;github卡片&lt;/li&gt;
&lt;li&gt;豆瓣卡片&lt;/li&gt;
&lt;li&gt;插入音乐和视频&lt;/li&gt;
&lt;li&gt;插入脑图&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;p&gt;如果本主题中的诸多功能和主题色彩你不满意，可以在主题中自定义修改，很多更自由的功能和细节点的修改难以在主题的 &lt;code&gt;_config.yml&lt;/code&gt; 中完成，需要修改源代码才来完成。以下列出了可能有用的地方：&lt;/p&gt;
&lt;h2 id=&#34;更换字体&#34;&gt;更换字体&lt;/h2&gt;
&lt;p&gt;一般网站的web字体都可以直接从&lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://fonts.google.com/&#34;&gt;Google-Font&lt;/a&gt;获取资源，这样不用担心字体商业带来的法律问题。&lt;/p&gt;
&lt;p&gt;常见的开源字体有：&lt;/p&gt;
&lt;p&gt;思源黑体 、 文泉驿 、 文鼎开放字体 、 柳体 、 cwTeX中文字体 、 濑户字体、江西拙楷体等。&lt;/p&gt;
&lt;p&gt;1）创建web字体引用&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-css&#34; data-language=&#34;css&#34;&gt;&lt;code class=&#34;language-css&#34;&gt;&lt;span class=&#34;token atrule&#34;&gt;&lt;span class=&#34;token rule&#34;&gt;@font-face&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;token property&#34;&gt;font-family&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;引用的字体名称&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;token property&#34;&gt;src&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token url&#34;&gt;&lt;span class=&#34;token function&#34;&gt;url&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token string url&#34;&gt;&#39;谷歌字体路径（或者其他什么字体引用）&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;   
&lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;2）在网页合适的位置进行字体引用&lt;/p&gt;
&lt;p&gt;①利用浏览器检查元素，获取需要定义字体的部分&lt;/p&gt;
&lt;p&gt;②在主体的配置文件中(hexo-theme-matery/layout/…)找到对应的渲染(.ejs)文件，查找需要修改的部分&lt;/p&gt;
&lt;p&gt;①演示一下利用浏览器获取定义字体的部分&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2021/10/1720211017105637.jpeg&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;对获取到的&lt;code&gt;id选择器：#artDetail&lt;/code&gt;进行css渲染&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-css&#34; data-language=&#34;css&#34;&gt;&lt;code class=&#34;language-css&#34;&gt;&lt;span class=&#34;token selector&#34;&gt;#artDetail&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;token property&#34;&gt;font-family&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;引用的web字体&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;②利用主体的ejs渲染文件找出需要修饰的部分（加入自定义类）&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2021/10/1720211017105631.jpeg&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-css&#34; data-language=&#34;css&#34;&gt;&lt;code class=&#34;language-css&#34;&gt;&lt;span class=&#34;token comment&#34;&gt;/*使用我在文章内容详情定义的diyFnot类**/&lt;/span&gt;
&lt;span class=&#34;token selector&#34;&gt;.diyfont&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt;
   &lt;span class=&#34;token property&#34;&gt;font-family&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;引用的web字体&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt; 
&lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt;

&lt;span class=&#34;token comment&#34;&gt;/*也可以使用自带的id*/&lt;/span&gt;
&lt;span class=&#34;token selector&#34;&gt;#artDetail&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;token property&#34;&gt;font-family&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;引用的web字体&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt; 
&lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;网站全局化字体定义&#34;&gt;网站全局化字体定义&lt;/h3&gt;
&lt;pre class=&#34;line-numbers language-css&#34; data-language=&#34;css&#34;&gt;&lt;code class=&#34;language-css&#34;&gt;&lt;span class=&#34;token atrule&#34;&gt;&lt;span class=&#34;token rule&#34;&gt;@font-face&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;token property&#34;&gt;font-family&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;引用的字体名称&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;token property&#34;&gt;src&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token url&#34;&gt;&lt;span class=&#34;token function&#34;&gt;url&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token string url&#34;&gt;&#39;谷歌字体路径（或者其他什么字体引用）&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;   
&lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt;

&lt;span class=&#34;token selector&#34;&gt;body&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;token property&#34;&gt;font-family&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;引用的web字体名称&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt; 
&lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;引用本地的字体文件&#34;&gt;引用本地的字体文件&lt;/h3&gt;
&lt;p&gt;当然有时候那个谷歌字体的网站可能登录不上去，需要科学上网，很烦人！我们也可以直接下载下字体文件，将他放在本地，进行直接引用！看下面操作👇&lt;/p&gt;
&lt;p&gt;①在本地的hexo根目录的source文件下创立diy-font文件夹:&lt;code&gt;/source/diy-font&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;在该文件下存放你的字体文件，比如：&lt;code&gt;/source/diy-font/IBMPlexMono-Italic.ttf&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;②引用本地字体（仍然是在my.css文件中书写代码）&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-css&#34; data-language=&#34;css&#34;&gt;&lt;code class=&#34;language-css&#34;&gt;&lt;span class=&#34;token atrule&#34;&gt;&lt;span class=&#34;token rule&#34;&gt;@font-face&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;token property&#34;&gt;font-family&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;hl&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;token property&#34;&gt;src&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token url&#34;&gt;&lt;span class=&#34;token function&#34;&gt;url&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token string url&#34;&gt;&#39;../diy-font/IBMPlexMono-Italic.ttf&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt;

&lt;span class=&#34;token comment&#34;&gt;/** 表示全局使用，如果不想全局使用不要添加该段 */&lt;/span&gt;
&lt;span class=&#34;token selector&#34;&gt;body&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;token property&#34;&gt;font-family&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;hl&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt;


&lt;span class=&#34;token comment&#34;&gt;/* 可以局部使用，建议添加 */&lt;/span&gt;
&lt;span class=&#34;token selector&#34;&gt;.diyFont&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;token property&#34;&gt;font-family&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;hl&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;这样我们就可以实现引用本地的字体了，并且在web有效！&lt;/p&gt;
&lt;p&gt;在你想要使用的元素的 &lt;code&gt;class&lt;/code&gt; 里面加上 &lt;code&gt;diyFont&lt;/code&gt; 即可。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;直接使用&lt;/p&gt;
&lt;p&gt;F12，找到对应的代码片段即可：&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;pre class=&#34;line-numbers language-html&#34; data-language=&#34;html&#34;&gt;&lt;code class=&#34;language-html&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;span&lt;/span&gt; &lt;span class=&#34;token attr-name&#34;&gt;class&lt;/span&gt;&lt;span class=&#34;token attr-value&#34;&gt;&lt;span class=&#34;token punctuation attr-equals&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;logo-span diyFont&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;测试字体&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;/&lt;/span&gt;span&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;模板使用&lt;/p&gt;
&lt;p&gt;找到对应的模板 &lt;code&gt;header.ejs&lt;/code&gt;中的代码片段使用即可：&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;pre class=&#34;line-numbers language-html&#34; data-language=&#34;html&#34;&gt;&lt;code class=&#34;language-html&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;span&lt;/span&gt; &lt;span class=&#34;token attr-name&#34;&gt;class&lt;/span&gt;&lt;span class=&#34;token attr-value&#34;&gt;&lt;span class=&#34;token punctuation attr-equals&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;logo-span diyFont&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&amp;lt;%= config.title %&amp;gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;/&lt;/span&gt;span&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;修改主题颜色-2&#34;&gt;修改主题颜色&lt;/h2&gt;
&lt;p&gt;在主题文件的 &lt;code&gt;/source/css/matery.css&lt;/code&gt; 文件中，搜索 &lt;code&gt;.bg-color&lt;/code&gt; 来修改背景颜色：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-css&#34; data-language=&#34;css&#34;&gt;&lt;code class=&#34;language-css&#34;&gt;&lt;span class=&#34;token comment&#34;&gt;/* 整体背景颜色，包括导航、移动端的导航、页尾、标签页等的背景颜色. */&lt;/span&gt;
&lt;span class=&#34;token selector&#34;&gt;.bg-color&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt;
  &lt;span class=&#34;token property&#34;&gt;background-image&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;linear-gradient&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;to right&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; #4cbf30 0%&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; #0f9d58 100%&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt;

&lt;span class=&#34;token atrule&#34;&gt;&lt;span class=&#34;token rule&#34;&gt;@-webkit-keyframes&lt;/span&gt; rainbow&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt;
  &lt;span class=&#34;token comment&#34;&gt;/* 动态切换背景颜色. */&lt;/span&gt;
&lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt;

&lt;span class=&#34;token atrule&#34;&gt;&lt;span class=&#34;token rule&#34;&gt;@keyframes&lt;/span&gt; rainbow&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt;
  &lt;span class=&#34;token comment&#34;&gt;/* 动态切换背景颜色. */&lt;/span&gt;
&lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;修改-banner-图和文章特色图&#34;&gt;修改 banner 图和文章特色图&lt;/h2&gt;
&lt;p&gt;可以直接在 &lt;code&gt;/source/medias/banner&lt;/code&gt; 文件夹中更换喜欢的 &lt;code&gt;banner&lt;/code&gt; 图片，主题代码中是每天动态切换一张，只需 &lt;code&gt;7&lt;/code&gt; 张即可。如果会 &lt;code&gt;JavaScript&lt;/code&gt; 代码，可以修改成自己喜欢切换逻辑，如：随机切换等，&lt;code&gt;banner&lt;/code&gt; 切换的代码位置在 &lt;code&gt;/layout/_partial/bg-cover-content.ejs&lt;/code&gt; 文件的 &lt;code&gt;&amp;lt;script&amp;gt;&amp;lt;/script&amp;gt;&lt;/code&gt; 代码中：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-javascript&#34; data-language=&#34;javascript&#34;&gt;&lt;code class=&#34;language-javascript&#34;&gt;&lt;span class=&#34;token function&#34;&gt;$&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#34;.bg-cover&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;css&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#34;background-image&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;url(/medias/banner/&#34;&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;token class-name&#34;&gt;Date&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;getDay&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;.jpg)&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;在 &lt;code&gt;/source/medias/featureimages&lt;/code&gt; 文件夹中默认有 24 张特色图片，你可以再增加或者减少，并需要在 &lt;code&gt;_config.yml&lt;/code&gt; 做同步修改。&lt;/p&gt;
&lt;h2 id=&#34;Hexo-跳过渲染&#34;&gt;Hexo 跳过渲染&lt;/h2&gt;
&lt;p&gt;在Hexo部署时会默认渲染source下的所有html页面，但有时候想在Hexo博客上单独自定义html页面或README.md时，却不希望被Hexo渲染。因此对某个文件或者目录进行排除渲染是非常必要的。&lt;/p&gt;
&lt;h3 id=&#34;方法一：font-matter&#34;&gt;方法一：font matter&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;Hexo&lt;/code&gt;新建网站页面，然后将你的代码直接写入 &lt;code&gt;index.md&lt;/code&gt; 中&lt;/p&gt;
&lt;p&gt;在 &lt;code&gt;Front matter&lt;/code&gt; 中添加 &lt;code&gt;layout: false&lt;/code&gt;，此方法适用于单一的纯&lt;code&gt;HTML&lt;/code&gt;&lt;br&gt;
&lt;code&gt;CSS&lt;/code&gt; 页面。&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-bash&#34; data-language=&#34;bash&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;---
title: tools
date: &lt;span class=&#34;token number&#34;&gt;2020&lt;/span&gt;-04-28 00:00:00
type: &lt;span class=&#34;token string&#34;&gt;&#34;tools&#34;&lt;/span&gt;
layout: &lt;span class=&#34;token boolean&#34;&gt;false&lt;/span&gt;
---&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;方法二：skip-rende&#34;&gt;方法二：skip rende&lt;/h3&gt;
&lt;p&gt;在博客根目录下的 &lt;code&gt;_config.yml&lt;/code&gt;，找到 &lt;code&gt;skip_render&lt;/code&gt;，大概在32行左右，写入你想要的跳过渲染的路径，注意缩进和空格。&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-bash&#34; data-language=&#34;bash&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;&lt;span class=&#34;token comment&#34;&gt;# 指定目录跳过hexo渲染&lt;/span&gt;
skip_render:
  - &lt;span class=&#34;token string&#34;&gt;&#39;tools/*&#39;&lt;/span&gt;
  - &lt;span class=&#34;token string&#34;&gt;&#39;tools/**&#39;&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
&lt;p&gt;注释：&lt;code&gt;tools/*&lt;/code&gt; 表示在目录 &lt;code&gt;source/fireworks&lt;/code&gt; 下的文件全部跳过渲染，&lt;code&gt;tools/**&lt;/code&gt; 表示在博客根目录 &lt;code&gt;source/tools/&lt;/code&gt; 文件夹下的文件全部跳过渲染（例如页面的 js、css 在另一个文件夹中）。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&#34;hexo体积压缩&#34;&gt;hexo体积压缩&lt;/h2&gt;
&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;因为 hexo 生成的 html、css、js 等都有很多的空格或者换行，而空格和换行也是占用字节的，所以需要将空格换行去掉也就是我要进行的 “压缩”。减小体积，加快加载速度。&lt;/li&gt;
&lt;li&gt;npm下载太慢怎么办？ 修改国内淘宝源加速，&lt;a href=&#34;https://blog.17lai.site/posts/40300608/#npm%E4%B8%8B%E8%BD%BD%E5%8A%A0%E9%80%9F&#34;&gt;戳&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;pre class=&#34;line-numbers language-bash&#34; data-language=&#34;bash&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;&lt;span class=&#34;token comment&#34;&gt;# 全局安装gulp模块&lt;/span&gt;
&lt;span class=&#34;token function&#34;&gt;npm&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;install&lt;/span&gt; gulp -g
&lt;span class=&#34;token comment&#34;&gt;# 安装各种小功能模块  执行这步的时候，可能会提示权限的问题，最好以管理员模式执行&lt;/span&gt;
&lt;span class=&#34;token function&#34;&gt;npm&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;install&lt;/span&gt; gulp gulp-htmlclean gulp-htmlmin gulp-minify-css gulp-uglify gulp-imagemin --save
&lt;span class=&#34;token comment&#34;&gt;# 额外的功能模块&lt;/span&gt;
&lt;span class=&#34;token function&#34;&gt;npm&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;install&lt;/span&gt; gulp-debug gulp-clean-css gulp-changed gulp-if gulp-plumber gulp-babel babel-preset-es2015 del @babel/core --save
 
或者使用yarn 
 
&lt;span class=&#34;token function&#34;&gt;yarn&lt;/span&gt; global &lt;span class=&#34;token function&#34;&gt;add&lt;/span&gt; gulp
&lt;span class=&#34;token function&#34;&gt;yarn&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;add&lt;/span&gt;  gulp gulp-htmlclean gulp-htmlmin gulp-minify-css gulp-uglify gulp-imagemin
&lt;span class=&#34;token function&#34;&gt;yarn&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;add&lt;/span&gt;  gulp-debug gulp-clean-css gulp-changed gulp-if gulp-plumber gulp-babel babel-preset-es2015 del @babel/core&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;然后，在根目录(有_config.yml文件，theme目录的目录)新增 &lt;code&gt;gulpfile.js&lt;/code&gt;文件，文件名必须是这个 :&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-yaml&#34; data-language=&#34;yaml&#34;&gt;&lt;code class=&#34;language-yaml&#34;&gt;var gulp = require(&#34;gulp&#34;);
var debug = require(&#34;gulp&lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt;debug&#34;);
var cleancss = require(&#34;gulp&lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt;clean&lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt;css&#34;); //css压缩组件
var uglify = require(&#34;gulp&lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt;uglify&#34;); //js压缩组件
var htmlmin = require(&#34;gulp&lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt;htmlmin&#34;); //html压缩组件
var htmlclean = require(&#34;gulp&lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt;htmlclean&#34;); //html清理组件
var imagemin = require(&#34;gulp&lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt;imagemin&#34;); //图片压缩组件
var changed = require(&#34;gulp&lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt;changed&#34;); //文件更改校验组件
var gulpif = require(&#34;gulp&lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt;if&#34;); //任务 帮助调用组件
var plumber = require(&#34;gulp&lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt;plumber&#34;); //容错组件（发生错误不跳出任务，并报出错误内容）
var isScriptAll = true; //是否处理所有文件，(true&lt;span class=&#34;token punctuation&#34;&gt;|&lt;/span&gt;处理所有文件)(false&lt;span class=&#34;token punctuation&#34;&gt;|&lt;/span&gt;只处理有更改的文件)
var isDebug = true; //是否调试显示 编译通过的文件
var gulpBabel = require(&#34;gulp&lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt;babel&#34;);
var es2015Preset = require(&#34;babel&lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt;preset&lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt;es2015&#34;);
var del = require(&#34;del&#34;);
var Hexo = require(&#34;hexo&#34;);
var hexo = new Hexo(process.cwd()&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt;); // 初始化一个hexo对象

// 清除public文件夹
gulp.task(&#34;clean&#34;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; function () &lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt;
    return del(&lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#34;public/**/*&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;);
&lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt;);

// 下面几个跟hexo有关的操作，主要通过hexo.call()去执行，注意return
// 创建静态页面 （等同 hexo generate）
gulp.task(&#34;generate&#34;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; function () &lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt;
    return hexo.init().then(function () &lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt;
        return hexo
            .call(&#34;generate&#34;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt;
                &lt;span class=&#34;token key atrule&#34;&gt;watch&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token boolean important&#34;&gt;false&lt;/span&gt;
            &lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt;)
            .then(function () &lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt;
                return hexo.exit();
            &lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt;)
            .catch(function (err) &lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt;
                return hexo.exit(err);
            &lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt;);
    &lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt;);
&lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt;);

// 启动Hexo服务器
gulp.task(&#34;server&#34;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; function () &lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt;
    return hexo
        .init()
        .then(function () &lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt;
            return hexo.call(&#34;server&#34;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt;);
        &lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt;)
        .catch(function (err) &lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt;
            console.log(err);
        &lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt;);
&lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt;);

// 部署到服务器
gulp.task(&#34;deploy&#34;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; function () &lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt;
    return hexo.init().then(function () &lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt;
        return hexo
            .call(&#34;deploy&#34;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt;
                &lt;span class=&#34;token key atrule&#34;&gt;watch&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token boolean important&#34;&gt;false&lt;/span&gt;
            &lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt;)
            .then(function () &lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt;
                return hexo.exit();
            &lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt;)
            .catch(function (err) &lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt;
                return hexo.exit(err);
            &lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt;);
    &lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt;);
&lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt;);

// 压缩public目录下的js文件
gulp.task(&#34;compressJs&#34;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; function () &lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt;
    return gulp
        .src(&lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#34;./public/**/*.js&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;!./public/libs/**&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;) //排除的js
        .pipe(gulpif(&lt;span class=&#34;token tag&#34;&gt;!isScriptAll&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; changed(&#34;./public&#34;)))
        .pipe(gulpif(isDebug&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; debug(&lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt; &lt;span class=&#34;token key atrule&#34;&gt;title&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;Compress JS:&#34;&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt;)))
        .pipe(plumber())
        .pipe(
            gulpBabel(&lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt;
                &lt;span class=&#34;token key atrule&#34;&gt;presets&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;es2015Preset&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt; // es5检查机制
            &lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt;)
        )
        .pipe(uglify()) //调用压缩组件方法uglify()&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;对合并的文件进行压缩
        .pipe(gulp.dest(&#34;./public&#34;)); //输出到目标目录
&lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt;);

// 压缩public目录下的css文件
gulp.task(&#34;compressCss&#34;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; function () &lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt;
    var option = &lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;token key atrule&#34;&gt;rebase&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token boolean important&#34;&gt;false&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;
        &lt;span class=&#34;token key atrule&#34;&gt;//advanced&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token boolean important&#34;&gt;true&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; //类型：Boolean 默认：true &lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;是否开启高级优化（合并选择器等）&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;
        &lt;span class=&#34;token key atrule&#34;&gt;compatibility&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &#34;ie7&#34; //保留ie7及以下兼容写法 类型：String 默认：&#39;&#39;or&#39;&lt;span class=&#34;token important&#34;&gt;*&#39;&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;启用兼容模式； &#39;ie7&#39;：IE7兼容模式，&#39;ie8&#39;：IE8兼容模式，&#39;&lt;span class=&#34;token important&#34;&gt;*&#39;：IE9+兼容模式&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;
        &lt;span class=&#34;token key atrule&#34;&gt;//keepBreaks&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token boolean important&#34;&gt;true&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; //类型：Boolean 默认：false &lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;是否保留换行&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;
        &lt;span class=&#34;token key atrule&#34;&gt;//keepSpecialComments&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &#39;&lt;span class=&#34;token important&#34;&gt;*&#39;&lt;/span&gt; //保留所有特殊前缀 当你用autoprefixer生成的浏览器前缀，如果不加这个参数，有可能将会删除你的部分前缀
    &lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt;;
    return gulp
        .src(&lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#34;./public/**/*.css&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;!./public/**/*.min.css&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;) //排除的css
        .pipe(gulpif(&lt;span class=&#34;token tag&#34;&gt;!isScriptAll&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; changed(&#34;./public&#34;)))
        .pipe(gulpif(isDebug&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; debug(&lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt; &lt;span class=&#34;token key atrule&#34;&gt;title&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;Compress CSS:&#34;&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt;)))
        .pipe(plumber())
        .pipe(cleancss(option))
        .pipe(gulp.dest(&#34;./public&#34;));
&lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt;);

// 压缩public目录下的html文件
gulp.task(&#34;compressHtml&#34;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; function () &lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt;
    var cleanOptions = &lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;token key atrule&#34;&gt;protect&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; /&amp;lt;\&lt;span class=&#34;token tag&#34;&gt;!--%fooTemplate&lt;/span&gt;\b.&lt;span class=&#34;token important&#34;&gt;*?%--&amp;gt;/g&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; //忽略处理
        &lt;span class=&#34;token key atrule&#34;&gt;unprotect&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; /&amp;lt;script &lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;^&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;token important&#34;&gt;*\btype=&#34;text\/x-handlebars-template&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;\s\S&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;+&lt;span class=&#34;token punctuation&#34;&gt;?&lt;/span&gt;&amp;lt;\/script&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;/gi //特殊处理
    &lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt;;
    var minOption = &lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;token key atrule&#34;&gt;collapseWhitespace&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token boolean important&#34;&gt;true&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; //压缩HTML
        &lt;span class=&#34;token key atrule&#34;&gt;collapseBooleanAttributes&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token boolean important&#34;&gt;true&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; //省略布尔属性的值 &amp;lt;input checked=&#34;true&#34;/&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt; ==&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt; &amp;lt;input /&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;
        &lt;span class=&#34;token key atrule&#34;&gt;removeEmptyAttributes&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token boolean important&#34;&gt;true&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; //删除所有空格作属性值 &amp;lt;input id=&#34;&#34; /&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt; ==&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt; &amp;lt;input /&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;
        &lt;span class=&#34;token key atrule&#34;&gt;removeScriptTypeAttributes&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token boolean important&#34;&gt;true&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; //删除&amp;lt;script&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;的type=&#34;text/javascript&#34;
        &lt;span class=&#34;token key atrule&#34;&gt;removeStyleLinkTypeAttributes&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token boolean important&#34;&gt;true&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; //删除&amp;lt;style&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;和&amp;lt;link&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;的type=&#34;text/css&#34;
        &lt;span class=&#34;token key atrule&#34;&gt;removeComments&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token boolean important&#34;&gt;true&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; //清除HTML注释
        &lt;span class=&#34;token key atrule&#34;&gt;minifyJS&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token boolean important&#34;&gt;true&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; //压缩页面JS
        &lt;span class=&#34;token key atrule&#34;&gt;minifyCSS&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token boolean important&#34;&gt;true&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; //压缩页面CSS
        &lt;span class=&#34;token key atrule&#34;&gt;minifyURLs&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; true //替换页面URL
    &lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt;;
    return gulp
        .src(&#34;./public/&lt;span class=&#34;token important&#34;&gt;**/*.html&#34;)&lt;/span&gt;
        .pipe(gulpif(isDebug&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; debug(&lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt; &lt;span class=&#34;token key atrule&#34;&gt;title&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;Compress HTML:&#34;&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt;)))
        .pipe(plumber())
        .pipe(htmlclean(cleanOptions))
        .pipe(htmlmin(minOption))
        .pipe(gulp.dest(&#34;./public&#34;));
&lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt;);

// 压缩 public/medias 目录内图片
gulp.task(&#34;compressImage&#34;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; function () &lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt;
    var option = &lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;token key atrule&#34;&gt;optimizationLevel&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;5&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; //类型：Number 默认：3 取值范围：0&lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt;7（优化等级）
        &lt;span class=&#34;token key atrule&#34;&gt;progressive&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token boolean important&#34;&gt;true&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; //类型：Boolean 默认：false 无损压缩jpg图片
        &lt;span class=&#34;token key atrule&#34;&gt;interlaced&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token boolean important&#34;&gt;false&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; //类型：Boolean 默认：false 隔行扫描gif进行渲染
        &lt;span class=&#34;token key atrule&#34;&gt;multipass&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; false //类型：Boolean 默认：false 多次优化svg直到完全优化
    &lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt;;
    return gulp
        .src(&#34;./public/medias/&lt;span class=&#34;token important&#34;&gt;**/*.*&#34;)&lt;/span&gt;
        .pipe(gulpif(&lt;span class=&#34;token tag&#34;&gt;!isScriptAll&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; changed(&#34;./public/medias&#34;)))
        .pipe(gulpif(isDebug&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; debug(&lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt; &lt;span class=&#34;token key atrule&#34;&gt;title&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;Compress Images:&#34;&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt;)))
        .pipe(plumber())
        .pipe(imagemin(option))
        .pipe(gulp.dest(&#34;./public&#34;));
&lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt;);
// 执行顺序： 清除public目录 &lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt; 产生原始博客内容 &lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt; 执行压缩混淆 &lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt; 部署到服务器
gulp.task(
    &#34;cicd&#34;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;
    gulp.series(
        &#34;clean&#34;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;
        &lt;span class=&#34;token string&#34;&gt;&#34;generate&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;
        &lt;span class=&#34;token string&#34;&gt;&#34;compressHtml&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;
        &lt;span class=&#34;token string&#34;&gt;&#34;compressCss&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;
        &lt;span class=&#34;token string&#34;&gt;&#34;compressJs&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;
        &lt;span class=&#34;token string&#34;&gt;&#34;compressImage&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;
        gulp.parallel(&#34;deploy&#34;)
    )
);

// 默认任务
gulp.task(
    &#34;ci&#34;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;
    gulp.series(
        &#34;clean&#34;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;
        &lt;span class=&#34;token string&#34;&gt;&#34;generate&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;
        gulp.parallel(&#34;compressHtml&#34;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;compressCss&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;compressJs&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&#34;compressImage&#34;)
    )
);

// 默认任务
gulp.task(
    &#34;default&#34;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;
    gulp.series(
        gulp.parallel(&#34;compressHtml&#34;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;compressCss&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;compressJs&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&#34;compressImage&#34;)
    )
);
//Gulp4最大的一个改变就是gulp.task函数现在只支持两个参数，分别是任务名和运行任务的函数&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;运行：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-bash&#34; data-language=&#34;bash&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;hexo clean &lt;span class=&#34;token operator&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; hexo g &lt;span class=&#34;token operator&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; gulp &lt;span class=&#34;token operator&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt;  hexo g&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;gulp只执行压缩功能。直接在 Hexo 根目录执行  &lt;code&gt;gulp ci&lt;/code&gt; ，这个命令相当于 hexo cl&amp;amp;&amp;amp;hexo g 并且再把代码和图片压缩。 在 Hexo 根目录执行 &lt;code&gt;gulp cicd&lt;/code&gt; ，这个命令与前一个相比是：在最后又加了个 hexo d ，等于说生成、压缩文件后又帮你自动部署了&lt;/p&gt;
&lt;p&gt;如果不想用图片压缩可以把文件中的&#34;compressImage&#34; 去掉即可&lt;/p&gt;
&lt;h2 id=&#34;博客中插入音乐&#34;&gt;博客中插入音乐&lt;/h2&gt;
&lt;h3 id=&#34;hexo-tag-aplayer&#34;&gt;hexo-tag-aplayer&lt;/h3&gt;
&lt;p&gt;&lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://github.com/MoePlayer/hexo-tag-aplayer&#34;&gt;hexo-tag-aplayer&lt;/a&gt;&lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://github.com/MoePlayer/APlayer&#34;&gt;APlayer&lt;/a&gt; 播放器的 Hexo 标签插件（现已支持 &lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://github.com/metowolf/MetingJS&#34;&gt;MetingJS&lt;/a&gt;）。&lt;/p&gt;
&lt;h3 id=&#34;安装-4&#34;&gt;安装&lt;/h3&gt;
&lt;pre class=&#34;line-numbers language-bash&#34; data-language=&#34;bash&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;&lt;span class=&#34;token function&#34;&gt;npm&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;install&lt;/span&gt; --save hexo-tag-aplayer&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;使用方法——aplayer&#34;&gt;使用方法——aplayer&lt;/h3&gt;
&lt;pre class=&#34;line-numbers language-markdown&#34; data-language=&#34;markdown&#34;&gt;&lt;code class=&#34;language-markdown&#34;&gt;{% aplayer title author url [picture_url, narrow, autoplay, width:xxx, lrc:xxx] %}&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;title&lt;/code&gt; : 曲目标题&lt;/li&gt;
&lt;li&gt;&lt;code&gt;author&lt;/code&gt;: 曲目作者&lt;/li&gt;
&lt;li&gt;&lt;code&gt;url&lt;/code&gt;: 音乐文件 URL 地址&lt;/li&gt;
&lt;li&gt;&lt;code&gt;picture_url&lt;/code&gt;: (可选) 音乐对应的图片地址&lt;/li&gt;
&lt;li&gt;&lt;code&gt;narrow&lt;/code&gt;: （可选）播放器袖珍风格&lt;/li&gt;
&lt;li&gt;&lt;code&gt;autoplay&lt;/code&gt;: (可选) 自动播放，移动端浏览器暂时不支持此功能&lt;/li&gt;
&lt;li&gt;&lt;code&gt;width:xxx&lt;/code&gt;: (可选) 播放器宽度 (默认: 100%)&lt;/li&gt;
&lt;li&gt;&lt;code&gt;lrc:xxx&lt;/code&gt;: （可选）歌词文件 URL 地址&lt;br&gt;
&lt;em&gt;&lt;strong&gt;例如：&lt;/strong&gt;&lt;/em&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;pre class=&#34;line-numbers language-markdown&#34; data-language=&#34;markdown&#34;&gt;&lt;code class=&#34;language-markdown&#34;&gt;{% aplayer &#34;她的睫毛&#34; &#34;周杰伦&#34; &#34;http://home.ustc.edu.cn/&lt;span class=&#34;token strike&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;~&lt;/span&gt;&lt;span class=&#34;token content&#34;&gt;mmmwhy/%d6%dc%bd%dc%c2%d7%20-%20%cb%fd%b5%c4%bd%de%c3%ab.mp3&#34;  &#34;http://home.ustc.edu.cn/&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;~&lt;/span&gt;&lt;/span&gt;mmmwhy/jay.jpg&#34; %}&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;如果你觉得前面的方法不太好用，可以用下面的方法，使用MetingJS。&lt;/p&gt;
&lt;h3 id=&#34;使用方法——MetingJS&#34;&gt;使用方法——MetingJS&lt;/h3&gt;
&lt;p&gt;MetingJS 是基于Meting API 的 APlayer 衍生播放器，支持对于 QQ音乐、网易云音乐、虾米、酷狗、百度等平台的音乐播放。&lt;br&gt;
&lt;strong&gt;第一步：修改_config.yml配置&lt;/strong&gt;&lt;br&gt;
在hexo的配置文件_config.yml中添加：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-yaml&#34; data-language=&#34;yaml&#34;&gt;&lt;code class=&#34;language-yaml&#34;&gt;&lt;span class=&#34;token key atrule&#34;&gt;aplayer&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;
	&lt;span class=&#34;token key atrule&#34;&gt;meting&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token boolean important&#34;&gt;true&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;strong&gt;第二步：使用MetingJS 播放器&lt;/strong&gt;&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-markdown&#34; data-language=&#34;markdown&#34;&gt;&lt;code class=&#34;language-markdown&#34;&gt;&lt;span class=&#34;token comment&#34;&gt;&amp;lt;!-- 简单示例 (id, server, type)  --&amp;gt;&lt;/span&gt;
{% meting &#34;571184509&#34; &#34;xiami&#34; &#34;playlist&#34; %}&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;有关的选项列表如下:&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:left&#34;&gt;选项&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;默认值&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;描述&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;id&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;strong&gt;必须值&lt;/strong&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;歌曲 id / 播放列表 id / 相册 id / 搜索关键字&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;server&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;strong&gt;必须值&lt;/strong&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;音乐平台: &lt;code&gt;netease&lt;/code&gt;, &lt;code&gt;tencent&lt;/code&gt;, &lt;code&gt;kugou&lt;/code&gt;, &lt;code&gt;xiami&lt;/code&gt;, &lt;code&gt;baidu&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;type&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;strong&gt;必须值&lt;/strong&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;code&gt;song&lt;/code&gt;, &lt;code&gt;playlist&lt;/code&gt;, &lt;code&gt;album&lt;/code&gt;, &lt;code&gt;search&lt;/code&gt;, &lt;code&gt;artist&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;fixed&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;code&gt;false&lt;/code&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;开启固定模式&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;mini&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;code&gt;false&lt;/code&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;开启迷你模式&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;loop&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;code&gt;all&lt;/code&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;列表循环模式：&lt;code&gt;all&lt;/code&gt;, &lt;code&gt;one&lt;/code&gt;,&lt;code&gt;none&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;order&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;code&gt;list&lt;/code&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;列表播放模式： &lt;code&gt;list&lt;/code&gt;, &lt;code&gt;random&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;volume&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;0.7&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;播放器音量&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;lrctype&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;0&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;歌词格式类型&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;listfolded&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;code&gt;false&lt;/code&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;指定音乐播放列表是否折叠&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;storagename&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;code&gt;metingjs&lt;/code&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;LocalStorage 中存储播放器设定的键名&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;autoplay&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;code&gt;true&lt;/code&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;自动播放，移动端浏览器暂时不支持此功能&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;mutex&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;code&gt;true&lt;/code&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;该选项开启时，如果同页面有其他 aplayer 播放，该播放器会暂停&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;listmaxheight&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;code&gt;340px&lt;/code&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;播放列表的最大长度&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;preload&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;code&gt;auto&lt;/code&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;音乐文件预载入模式，可选项： &lt;code&gt;none&lt;/code&gt;, &lt;code&gt;metadata&lt;/code&gt;, &lt;code&gt;auto&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;theme&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;code&gt;#ad7a86&lt;/code&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;播放器风格色彩设置&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h2 id=&#34;博客中插入视频&#34;&gt;博客中插入视频&lt;/h2&gt;
&lt;h3 id=&#34;hexo-tag-dplayer&#34;&gt;hexo-tag-dplayer&lt;/h3&gt;
&lt;p&gt;&lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://github.com/MoePlayer/hexo-tag-dplayer&#34;&gt;hexo-tag-dplayer&lt;/a&gt; 是 &lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://github.com/MoePlayer/DPlayer&#34;&gt;DPlayer&lt;/a&gt; 播放器的 Hexo 标签插件&lt;/p&gt;
&lt;h3 id=&#34;安装-5&#34;&gt;安装&lt;/h3&gt;
&lt;pre class=&#34;line-numbers language-bash&#34; data-language=&#34;bash&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;&lt;span class=&#34;token function&#34;&gt;npm&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;install&lt;/span&gt; --save hexo-tag-dplayer&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;使用-2&#34;&gt;使用&lt;/h3&gt;
&lt;pre class=&#34;line-numbers language-markdown&#34; data-language=&#34;markdown&#34;&gt;&lt;code class=&#34;language-markdown&#34;&gt;{% dplayer key=value ... %}
例：
{% dplayer &#34;url=http://www.nenu.edu.cn/_upload/article/videos/03/5f/7c999eed42e3aadc413d7f851f0e/0f50b3eb-9285-41d2-ac4d-6cc363651aad_B.mp4&#34;  &#34;autoplay=true&#34; &#34;preload=metadata&#34; &#34;hotkey=true&#34; %} &lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;有关的选项列表如下:&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:left&#34;&gt;选项&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;默认值&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;描述&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;url&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;strong&gt;必须值&lt;/strong&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;视频地址&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;loop&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;code&gt;false&lt;/code&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;视频循环播放&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;volume&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;code&gt;0.7&lt;/code&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;播放器音量&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;hotkey&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;code&gt;true&lt;/code&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;开启热键&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;autoplay&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;code&gt;true&lt;/code&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;自动播放，移动端浏览器暂时不支持此功能&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;logo&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;code&gt;-&lt;/code&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;在左上角展示一个 logo，你可以通过 CSS 调整它的大小和位置&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;mutex&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;code&gt;true&lt;/code&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;该选项开启时，如果同页面有其他播放，该播放器会暂停&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;highlight&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;code&gt;[]&lt;/code&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;自定义进度条提示点&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;preload&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;code&gt;auto&lt;/code&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;视频文件预载入模式，可选项： &lt;code&gt;none&lt;/code&gt;, &lt;code&gt;metadata&lt;/code&gt;, &lt;code&gt;auto&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;theme&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;code&gt;#ad7a86&lt;/code&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;播放器风格色彩设置&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;注：如果使用腾讯视频、优酷视频等在线视频网站的资源，需要先进行视频地址解析，如&lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;http://old.flvurl.cn/&#34;&gt;点量视频解析&lt;/a&gt;，获取到实际的视频地址。&lt;/p&gt;
&lt;h3 id=&#34;其他使用方法&#34;&gt;其他使用方法&lt;/h3&gt;
&lt;p&gt;在使用优酷或者腾讯视频时可以直接复制分享代码到文章中，如：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-none&#34;&gt;&lt;code class=&#34;language-none&#34;&gt;&amp;lt;iframe height=498 width=510 src=&#39;https://player.youku.com/embed/XMjk4ODAyMzIyOA==&#39; frameborder=0 &#39;allowfullscreen&#39;&amp;gt;&amp;lt;/iframe&amp;gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;参考文献&#34;&gt;参考文献&lt;/h3&gt;
&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://github.com/MoePlayer/hexo-tag-aplayer/blob/master/docs/README-zh_cn.md#%E8%87%AA%E5%AE%9A%E4%B9%89%E9%85%8D%E7%BD%AE30-%E6%96%B0%E5%8A%9F%E8%83%BD&#34;&gt;hexo-tag-aplayer&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://github.com/MoePlayer/hexo-tag-dplayer&#34;&gt;hexo-tag-dplayer&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;h2 id=&#34;系列教程-33&#34;&gt;&lt;strong&gt;系列教程&lt;/strong&gt;&lt;/h2&gt;
&lt;p&gt;&lt;a href=&#34;https://blog.17lai.site/atom.xml&#34;&gt;全部文章RSS订阅&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Hexo系列&lt;/strong&gt;  &lt;a href=&#34;https://blog.17lai.site/categories/hexo/atom.xml&#34;&gt;&lt;strong&gt;HexoRSS分类订阅&lt;/strong&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;[三万字教程]基于Hexo的matery主题搭建博客并深度优化完全一站式教程&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;https://blog.17lai.site/posts/40300608/&#34;&gt;Hexo Docker环境与Hexo基础配置篇&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;https://blog.17lai.site/posts/4d8a0b22/&#34;&gt;hexo博客自定义修改篇&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;https://blog.17lai.site/posts/9b056c86/&#34;&gt;hexo博客网络优化篇&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;https://blog.17lai.site/posts/5311b619/&#34;&gt;hexo博客增强部署篇&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;https://blog.17lai.site/posts/4a2050e2/&#34;&gt;hexo博客个性定制篇&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;https://blog.17lai.site/posts/84b4059a/&#34;&gt;hexo博客常见问题篇&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;https://blog.17lai.site/posts/cf0f47fd/&#34;&gt;Hexo Markdown以及各种插件功能测试&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;markdown 各种其它语法插件&lt;/li&gt;
&lt;li&gt;latex公式支持&lt;/li&gt;
&lt;li&gt;mermaid图表&lt;/li&gt;
&lt;li&gt;plant uml图表&lt;/li&gt;
&lt;li&gt;URL卡片&lt;/li&gt;
&lt;li&gt;bilibili卡片&lt;/li&gt;
&lt;li&gt;github卡片&lt;/li&gt;
&lt;li&gt;豆瓣卡片&lt;/li&gt;
&lt;li&gt;插入音乐和视频&lt;/li&gt;
&lt;li&gt;插入脑图&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;strong&gt;笔记系列&lt;/strong&gt;  &lt;a href=&#34;https://blog.17lai.site/categories/note/atom.xml&#34;&gt;&lt;strong&gt;Note分类RSS订阅&lt;/strong&gt;&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://blog.17lai.site/posts/a8535f26/&#34;&gt;完美笔记进化论&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;经历了很长时间，使用了各种各样的方案，最终选择了一种相对完美的方式。docker私有部署运行的joplin，使用markdown语法，github作为图床，picgo作为图像自动上传后端，pypora作为MD编辑器，Snipaste作为截图工具。后备gitlab ee selfhost备份，自建图床VPS多线负载均衡。cloudflare partner cdn加速，jsdelivr加速。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;pigo图床搭建与配置&lt;/li&gt;
&lt;li&gt;Joplin教程&lt;/li&gt;
&lt;li&gt;Snipaste截图工具&lt;/li&gt;
&lt;li&gt;Typora 作为Markdown编辑器最强&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://blog.17lai.fun/posts/e6086437/&#34;&gt;Joplin入门指南&amp;amp;实践方案&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;Joplin和使用&lt;/li&gt;
&lt;li&gt;Joplin同步与备份&lt;/li&gt;
&lt;li&gt;Joplin导入与导出&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://blog.17lai.fun/posts/45f878cd/&#34;&gt;替代Evernote免费开源笔记Joplin-网盘同步笔记历史版本Markdown可视化&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;Joplin安装使用，调用外部编辑器，网盘同步等等&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://blog.17lai.site/posts/92d347d6/&#34;&gt;Joplin 插件以及其Markdown语法。All in One!&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;Joplin简明教程&lt;/li&gt;
&lt;li&gt;markdown语法简明教程&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://blog.17lai.site/posts/e3ee7f8b/&#34;&gt;Joplin 插件使用推荐&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;教你用各种插件打造一个强大的笔记工具。&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://blog.17lai.site/posts/1802a8a7/&#34;&gt;为知笔记私有化Docker部署&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;如何部署自己私有的为知笔记。&lt;/li&gt;
&lt;li&gt;其实博主更推荐私有部署joplin&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;strong&gt;Gitbook使用系列&lt;/strong&gt; &lt;a href=&#34;https://blog.17lai.site/categories/gitbook/atom.xml&#34;&gt;Gitbook分类RSS订阅&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;https://blog.17lai.site/posts/7fe86002/&#34;&gt;GitBook+GitLab撰写发布技术文档-Part1:GitBook篇&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;https://blog.17lai.site/posts/7790e989/&#34;&gt;GitBook+GitLab撰写发布技术文档-Part2:GitLab篇&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;https://blog.17lai.site/posts/d6bad1e5/&#34;&gt;自己动手制作电子书的最佳方式（支持PDF、ePub、mobi等格式）&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;Gitlab 使用系列&lt;/strong&gt;  &lt;a href=&#34;https://blog.17lai.site/categories/gitlab/atom.xml&#34;&gt;&lt;strong&gt;Gitlab RSS 分类订阅&lt;/strong&gt;&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://blog.17lai.site/posts/acc13b70/&#34;&gt;&lt;strong&gt;Gitlab的安装及使用教程完全版&lt;/strong&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://blog.17lai.site/posts/29a820b3/&#34;&gt;破解Gitlab EE&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://blog.17lai.site/posts/d08eb7b/&#34;&gt;Gitlab的安装及使用&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://blog.17lai.site/posts/1879721e/&#34;&gt;CI/CD与Git Flow与GitLab&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;link rel=&#34;stylesheet&#34; href=&#34;/css/bilicard.css&#34; type=&#34;text/css&#34;&gt;</content>
        <category term="github" />
        <category term="hexo" />
        <category term="matery" />
        <category term="cdn" />
        <category term="seo" />
        <updated>2022-03-27T07:25:33.000Z</updated>
    </entry>
    <entry>
        <id>https://blog.17lai.site/posts/798e6e62/</id>
        <title>ISP 数字图像处理 算法概述、工作原理、架构、处理流程</title>
        <link rel="alternate" href="https://blog.17lai.site/posts/798e6e62/"/>
        <content type="html">&lt;div class=&#34;hbe hbe-container&#34; id=&#34;hexo-blog-encrypt&#34; data-wpm=&#34;抱歉, 这个密码看着不太对, 请再试试.&#34; data-whm=&#34;抱歉, 这个文章不能被校验, 不过您还是能看看解密后的内容.&#34;&gt;
  &lt;script id=&#34;hbeData&#34; type=&#34;hbeData&#34; data-hmacdigest=&#34;fa8c14af8219db7e267ee7bb2d203dec7ca85f69668eaf60a28537a7c8d2dbc9&#34;&gt;9e6b07150603c85d3bb35cb0d64d79617e68d964baae8aadccd5ce24944ece16751226c0ae8a15932a2477b9b09b6049d435ed170c206f013270e66dfc478fc0effe73af1a6bebd4395b6b542fb87d18b3f5665babb73c45ed2071cf204d0204f6617b3607a70b43fc1258e562d0907c6ea9741b7e71c5f088a552f13a33033facd7b6f8e0dadd9f2546615901372164eebeb16428879ea0ae68e3afd8096d4668fc38ab582d3611fbe641ddd8b8a9f79c61d7e3ef101472af842ada00b88722147155ef7e6db37f92dcf03447555e540fd85487e9cc16df1cb778faf55b6caea8030dd0ef6197e2a727b528225e26913c8013ff491665f9c90b278fbcd5f1b8f8eade03d1c2a592195c71ef8de1b5422389be05d065ac8f1f991044858b67e759cce87938276b311bd3faf2f9e46f71e48fcab76676d0bd90302de30a729e6b409b2cdc93b29f9af5c4d3451240b080f0b69756f7260e247043f57f95fa31f2f78de50066e80790a87e2268df21599d8bb1471c0e97929e3c4528753055ad4cef5350069f211d520cbbe07e0223ca589d6cd0bc3ac115004a2d55725c277afec9892bdd6030b3686434c1aa6af7e6451fb7e6723d8c58e1a099c7038ef32787054d127925d605601fa6f980e1fd1042713d1ffeb97b35e098a076de6db2c5a0dde9406c23939d880344b72b4c4d1126846153800e37207011b6e17b2bf3c06021a5feb9d7c8c208401747fbdb25cdabae7191ed019903a62c4b76fd203d153293fd355ce4f0d2f6981b64253d92e91c1cd18266074bd3eadc6127b4a50f590677ed1ee689d57366dbd4741c5735f912186729b3583ff93aa2c4382047e4a9424a62fa0a2ccbadc26dd4e7cee35feaf66530bf9b2a8ed010ef680f0be670c9d6d5c7c8c60621fb15d8bafb9be6b691db2ffc05c73bf84652df197e044e9920eee47e4a116486a31f906e6331d809fe24f19c8a426c0b141eb5e1e2c575c2da83c5b429f33eb0966991a66aadacaf2b4edda8d079e59a66cd3173d0f7b1de0de2728e5b3dd6af9e2266d63b465b86e387b034f465885ab78deba8aeab19089fe7aed539321f983044fcb2a265b613f3343835437c66d339a369452002e9bb1401654d72d85b41f2dc0f227291d40d4dc4bb3c7386d6634acf3513ae02fb125438d6bbce0951b2397e3e877a28c6ee5d9284b7206bc40d391dd36505b9fcde995ddaf3dc999cca2930d7f6bf5b6f15875386bcb9a9ec9562206a0db9a1c6857c270e79d0300d0f66965af01a6ccf56656c91ad297a187bbf2ede8acf3a6df5d97ea9faf928849ea08426f576b7a1c48b6ef57dff074084dddf2a2329f27b470cdcd4f0ff3d97f383b23e46f46e31ca3b38b760eb4f60ecef4f55fc2ffd919c465c50014160cfc8eae31983ae3aec2f7d6f2a90b106882faf95b5949540bdf098a57cedeb9e30de5099b676720610ee148c72a69648936881b1230a2454bf7330cea7446a264e6ddad59392ca3e55955e423526b978e01f519794f760a924ae7f79288c565113257f442946bfd29b3b0534a0a6f920f07e81fda57680046444217b1d17279f1c8afbaf410aaa4a5965176901e93076aeaab142cd613aba526b0211e5c120002f5a5cee0bcd3d05361c3ce17c9424a7b8885e06743b5e95f30422cc0fe8ba52897480c7de1cc12a8bce2959bd43b40b17c76f060ae84ce8cad3f1c25c026dd7fb9579cdf0827f2113eb0d654f185a59f7aba1dcce30b283b2dc1a96a448ac062048eed5b70bd0669c20140e6f4fad8980978d666c83747384eb712a07f554514652041fce813fca836720aab6c8cb09a1906a5e41334f1b06b62233ad552250fd3b593b369e184167b88911ffbddd0beadee8eaeeb088f5318d2a67f0f221f84b46375231211862969c4ece058e3c008023f791528d0e0ccfcd508656f763f2e4eca074f51a5d06813a78d57e4c76d1ba14b50a5131f4c44fd53923c1483780af94c71e7660b443aa40b74ac34e2adaa887a4294d053bf7eadd6cdaf14a8457b8cb1b49834cdbdaaf9d33fb1c9a764b3f0f0a617a11e6f2e033bbcb9011c62ff73fe35ef16e365fa5241ccc04958f12f49486f0cff09bd9651ecf0a51e73075f10b2001a55371e4d6fe6559ea71732c3cd6e64127511c5725f83e3c4fbb01d646faeffadbe537415e01f44443c98040659ece759f94f9052fe3120e5a9fc7448bf70834bc91168fa6584299f3d88e88a58233e62f2cbd307efb126da4278a382503099dfd59f5ced70f8c3f4a36b1e2fc6cd03d5910468bb5eb0692251139cf6b871068e18e92ea0de714da905df27611dd723bd7f29bd35cfa26596f546e09596b381df79d6ef9978f73ab43d3a3ce122729caf8dd0e20a07f1e295c93929c7d38281389daea84cf02ea33bf51d9c59f5f5ddd82604a2363e55cd27355081f29a175e43db32812974b4ae18cdc020f9dc3aa50981a7729beb88803a04c9b9b5233ca2f79494bcf690a033accd0ae4cd43556ae67348b1b18dd5462917c6307e801664deb88f516f7b371bdd760816cf9003953c4b94abf4c091908b9815c7226195cc20330b714ff509b9496216e8e589a99d72153a06f07ac8d8e3697a47761dae2e5999dbae813f6ff205814bbccc028f5ecffc959389d24e780da8f91e28f31165c670eb029b7a9bbb6cf36cb04c362e97d75b75f90d7e8d7228dc3300b58fdf2b8bfea966146c895197b7b2dc0133369e8850e7bcd496c6adba9105e3206ebf8404214e7a51d715f9a623c7328a6cd2ac1763f019670934756c65751e00b925d0809ee49c347f7e150cfea050b3d0bbeb5808562f7a86908275a9d3df53074f9fe83a4d307e836056cdfed4bf5720c27d75df8aa820fc746c2ef4ec6e1f497780837339b90ce27756193f200b506a35372b997ea5daa0158f0ad4b0daaa56de7015c9175c2e1782dd1e58a17f65ccc6af60e0654067cad5b2522fe76a95641eb365fc864de3de1d50c3dab0c59d8c22c28ee9f472d73e22dda7c8cc22c49ea846387e47d67bc2f93b115bfe2c639e98329b3bb74c74981be63022930cae81526f16d51ec708532abf1cd6d7fd22c4debdf0c7ef0a6a4cac30ef60660755a7388359f936392592a9216adf7e75733322590eccee6085626f0bc7b0efa12df49ab914875687c5627f75f28632dd7c1912baeb41f7480b6069ef20f1bc9343ab03fe278e0da8078fddf4e1939df2714e84e312e0e5c3107b2097cd0609f628734b88fa2579f291b78091b27b00027c273567fa409bd29e86dc0317c11a586705795c053a1495b3ab94b34649ef12b307c8ab97e0601739987d9875e19c16f76021a544242d2273c633b4358b8d84d149cce249799d4278c8b6838fff38cba1e0359711681aa113acc60899adea910740b607f20cf118169930e98359276d106dbbc07f4bc5e78b268e981c3eb660b5d1117c6ce62a7ac0cad58246b4d2cf6d1b4060e73e82920483fc46ef56641d2931391df2e79f658b80ec6544c685508b1c753f21750530c32769e416714a9cb11c18018a5467d13408101db06b2df097590e74fe128176dde68535d5acf840597316e06e85842b17d250c9aae97e8b508f18ac7ededa9c6a33027e2509605ae2a58631cf1488b9ad4797e8e57686c97db7efb57e840f23b47d5efaa498c53d51d9e6ee4bdc0d165e000994370f1174a0ef79c60ab81861f5f5ece6c9f290318f4beb8ec37a3343e9c8b1997420516c19d54b77af8f18a50522549169607289895b8957191789c239965761de10cf6d4f3ca4fc2ce112aa3449c19136311b31d8fe3f71875508992cca60993b3f572af0a5565876ac3bdb3722834eab8b3ac9edc8e949fa1eccf218966be5e0fc42da1b436c6e27b10db064d98439e791865391ae55a6ef0e7b1a69e07e479712728222eaf47b99ca8c7baf81a60a4a92b0c2fbd04258e28552d1b35b237a9ce9376a6fe0d8769300a648303e6c3bd2ab1832c11d1f8341ec3bd27b234aa3e1d940acbc8fa6fecd4100deb8428ec0583f7f59d33ae6f8bf0106293e60950761a375e4a3e64822279fcca30c639dd815719b0b00f3b5df606e47c9ea7a470044f04871c1dab78b08b0b5b412f3fa894a3040e1e9c8d519b62fe955ffebf28c8eccfce32dc35a1beb735bd62dae5fb5ac46e5c611cd15d34c6248a3586383647ad37d2bffaf639acfd6dc1a65fc877b8101d56cb60eb567235bd344786f5e61d3dcd8b712d486ef2db73a5533a23538781d2dcde0f9b886232171f92fc208db87daa15ee498d7b6673cc3bc3d23f1ffbdabf27ddff8026e01267a2412c5b382638f984b6ad586d11b830f868196e6e43513d14da63bc50ee06f0e7f8f42586747daef5fe12b571638ce90a021f864743f77153e97b3bbbcf69b5d0a4afd3bc6c6ada2d0ee5b25945a0d71f805987982f28c3f44e3236526e8d6f44d9e3062db67962c5bdb92cd9272310194b25800afb398e4003ea3f2765c428f391cf0217134779c60f19e5951444898080abfab671df998d9bd2356a0076b5cb9de3b5b48ca69780737a1ba1e8a946ed7f067764b3875e0eabdfc5da6cdcdca1772b54508d2755f0f5c9a1151426631ce77fde261f87a6059dc86f9642adf0b4bb3f48993ecac423fe6fe7d7920af802ba0ba2960d080b300a2c598a32783f47d5efd7ec2dbf6576a09b013b55cfd8731d68d2008f5e647d56f5ec51ab6b2eee0b4c548b353bf4846fc4997d1d87f79a54f572ced6cd472400edda6ec08be9a0c0a134590dd75253f1be9a448efd8901f97fdab41b6fb8d7baf35be7cc4855e5e20dd70cffbcc0de7ab71e9198fa1f5d3076ccb58f279f29fd7524c826f61d9b47af17ac94e8b1cfe26e5dac356d8796248cd4c88bc0b25573394a7af65c16934776d4725562c498cc9388af95e4e28e07dd7ae467fd845b1eaf926c12d20f7c38a55f269ec87005113d524a94360fa1021f7485a70f87b0106c8c82f554f911dafd168058c84ab2e6e26c765823f99a348c1a9320a2ef658579b37209165b3cf330fe3321ab3080ec0f4ded48cff32c1715b70c7e293a0bf13a6148f743b67f18ef4559d3ca3a59706080132f5a38367b43e8f143271abfb1342553cacb62a4a7141fdb54171e1611a42af2cfe9039fb63ff366010a85304040f3ed901d12443ec50542a46ea490a0c3d3657b978be4375b09d72fc34d9c85eb2b12ac158159351b1db24c809114ddec1d768b9a91e46c79a48342a67c7cd80cddd286bae449f6443bc969c404e7e97d1dea0bf7f1d759674e99b498c243b761eb1937a68e0b1dd31245c795bc6f1ba4ed57324f022c230239f5fae8b6c29276926a2bd19d37c90b26d85519582b2e4f6f8f6a025808181d5483f941085436a401aa0696e6d97de5f056fb910971a852a0f6eb28b10847e20909d8d2b6a1a2661f7ca4d0994a497855b52084299019748f9a6b2a1a37aaa042d7018af18482e6d6fcf436a647b2f7509eb6dcbf8c00079c4b694bb5f12394eddd50e5fee7e43561b2a0e3d615589177ee89c10bfa1873c83bdf5b2eac80365eb5fb779fa78e44fa659403dcc13d8dc418c33b83c6fdee44c4aeddd3fa246ca3549b20412a6826156e855ff55da66efcd157d12be7329f0126403b103c32339cd45e6c45006ed40726f14956f90c3f75a58471575c054d81019a7c25c16cf56378daa554dcc51fee040b420a4512e9f679dfe47dfd6a5c12fb61677f0da6c2ce0607edd754e04b5bcc7b5058e8837d156e8a9afb42c44dc47d16e70553d5f40923db9114920ce2bb3ed389858fdb6bda5e6463fb0e3189a372c7b91ff979ddc510f773d655505225b0c469044ad41e25da080d1a110dfe48816faf9208d20808b1543b1ef1881e5267323adfae6ab821ffdd3414247f62f64e6c0935afc3d5229bd1a4e1bef9ff6ed313fc5e6a10759faf1649b040212da688eaf3947574b16602ed9df9df2a1ab7a0291ae3c2719dc541c8183aa7bf5faf852b8e00d29875c91462162045d5ebd4baa5981f31a187bd2ee0061a7553e9cde20acd3c9db81eaa8019532b45a2b600060689dda22edfb179db49fcb7a5db8ff6ec2423068b88b4c7ae7a3c85e8d3e9b6e5148624fee6e433ba67a4d628f3bf4b2f6cd75654301e088f78e81561c2da716db1c04fce7dd6d6ed413d49a4f510336cfb3403ff425215ade58f9a16d84544d883d2e7757853e0fcd1d8f465f8e77e7fb040fab64657529f35397c66163d7cc26ebbb204f2697177e5bc8f910e8e542e8d70642d4ede018a8f4552b3a0707e3395c2ef34a425c06673ef65f093012837514b464bdad9cea72582f63969c888957fbf4954285bea753ac65fd99f8ea26a83078095e326719bf8213165c765990a98fbbce70c111eb616658b91d2992b623e369e32edc5a13a7336283313bbce240d8f448c4fef389b315c451be86278ccf1bef9d518e05d3a679cef99cdd29f9f53d0730f488dd1030b7946c1ade32967ca8f0f5ea9ac9b005d28121028288c753cc32cf9932cd29732661b5c20a3394d36f99418579cb11fc88d55b1f7289b16d579d56df656dbd93707cb6062311f405ad31e46e940cc768eadf7c45247d160597137741fe4e5a83067796474ac5b6f2ab620c569c705093d62d67e47fdb2f39ad3ed766a6a78f2a51b2e0b96a9dd2eb5cdebdf5157dd8b6442cb6dda10d9251fbee4bf88dde2fb150d6a99363d4a4d1265a68012b9b591cbd1cbe3d3a066e4bb33962794bbadeadebab0946db0946687a65515de494fe4e6ce68cb8179f2b199bf5c7724397be561b029891b2b741a13017964daed846d9a9709e4f39832a56eddf7d19d999f6a4b4e2ee8eae8f173f2097c5fc8650ecabd5806ef344bbf0d56db913030619bf3a21402aa4fde77b842a15ffdddb00f29c905f31ffbf4137ba245c8b2427d1b51026443edc01c7e8eacc29b751f9aa7cd4a6be087b6d9186ab1d83831c87328e30a5c7020792e025100295a6d16f328978d45fc48583ec8e8b59edf6845950ec41bf69f903f0f8b82c88cc87a2b4203d23f553a47d8b417a68b3081c8fe3ce2795bf59392204b769972b675514cbbcad5abb2fc7bbfdce119113bf43e16071c464f20bc24056e173de341df0b63b3ff47013ad3d07315c61c4109eb378dcc68f0ee69f74d114036da10a14eeb0cd245ea19e25fc23429456944b01cb5e5e5572e2d3535f7792671f343656bfa23dafbd222eeccd646eaa6495b53f6c98a49b774a5c1e7af3401097d0068cc47da99d04a2dd78231264f70cd46c113ede75b8e07bbdbdfa3f0ad5978028d68328cdad6139c654149290ae3978062952531b00c2e3f78fccfec3d5edb9d7eb8e6e96657b4bee991ec3ebf24d5302142a01d9b984bdc45a92ff0541fcd187c0539c63930c94b36562dd62ec217d2331e60976764f113409f91c18b483c3dced2212fcf2623e9db383bfc519e6d49fc64bda62dedf047bd4dd147f154540db2c4fb519997ed86c6b2a201e8a1c425338bcf25db63c608ba667d27c973a711260c369cbfde9edf08be4a07a0b099e079471c0699d5ec8957d6c3896944e4294c934d059b6f419a6c7f636345fccb3d97e9027eabf6bf9eb29d24144baa16328becb8bdf271d7392259296f13c10ba4ea5227772bf256731cbc0f77e958ae9d9e43ab83e2a834fc4ccda7350c37624342475adf8398fcec2b20ba027ec334081a8f7bd920332c1c3b38628e4ab266f1fa6864b9c40fa26d08c8af8c0937d86a46b0037040dd364158007eff78991f2f22b2772efafd5b6bac9b490f7298fadef64c243f58885769c3f1e997abee6f2c40ab97c7c22fa339eac3dbf302a0f151762e8b6f3684c8514387d5b1555723e82755205c267a910e1fc062f20b43da6e4bec0e219c71fb2259a93a8696c407dd3de84863f8a459406f7d59000ff21816e96c8df7a0cde1e48357f4a0ade5b14985222defa3ba35f6166a4cc92e9c75f14cb1ca2e75a7a845d5990a1f695c108f5b18f37d322941d7c719f3bb1dfb4ca625263df859dd2a970c239b3b556faf5f96e8ce9a0a25b1965286e7229d5ece4490cea312c544642d335e9d5e52e5eb506f6586ab43a557f0b8d2ef021c95b733e3ead0c9d59b0e79349d683f83681667b2a737dd4018e0d8078c5bc1b133030bb449e730ce78d4f5ef73efa712a4ab53157cea631ffbfef752c4e17a411c1c12bb0e81403dbe03de57d7f1d2e6845fcd18925f54d9b7aabf22f09e84569ad1fc02b076bf0b25a6499c6ccbc0d249de77795329e97bd6b02bbea2eab3b34256ffe272de7f1ba1969a9bc12c8d5e07c142e1072082ec48a3d79acac2379ebdc9046f5333a5f127a0f9eec601fe46fb5e8e7705f5ba798406b8d535f25f4f6db3c6c6d85de022a8eccd66055764b5a8a81c73987bd5cad26966ce1fec42bf413c9b6c42e1692d2bf9a65d5f083abe25b8aa124d868e96dbb9307d88207092947690f015a4a94de5c5703dddf452c7e0111a4df9a05bebfb2821cd19976d23334f952f6f2bfdeb05d5188d020d2cd3e3002c85f885c4b0172bbcbe5285626e0b22cbfbfa65b31b78a6b57cff09eb05a8a6687453a61ec0bf0f9959d90cc73ba345b4fcfd2c5318bc4a33c6c58538d4fd4af239451a5519818868b461ca0923bff32834b4a024db0f308093aa35e9f732e92f518ca32353abc68554876625d9d2c12e68fa2e1ee7a80e278ca53cf0e69e512799e0366743498c567a7052eb0b0a1e760ac3e916c429f50e9fe9607a4401ab75ca912c5320cf2d290e9faa7d4a76f45719c963801fc38088681ec652166b97d9a7ed9f83833e4a1be9bc19a0c0c1b188ace495e7982f0a5850fb063f42b2b03e992b269ce70dd90a2bf6d38d422470c762cdd7990cbd0212945c31fdfdd5b77eea294ae7678d0ca988f87fdf8239c8da089a8dbb2e591d57e97c768804588a0360ceff932a4a0e011424ae2dfd260f4271b3d5a4765213ab08351b399b04f8242e2af5e9a3b3586ea87ab16f5dba4a393a329ed5ca1be7f1f8039daaa2c8c27ddacad590c218b0b424acdc5c02e69c3b70704b7972275a5a204de2a07d3bb5445183a75620a30ce4cdfce812ac5eaebc8f579371d5406fd7c9b22be052e5a4ac25bc230de9b777611d38d2134ddc7cb37d965a6af990d95a5aa681624d26ee755da9d79e87f90359723fe667af48fb6f73fe33ef70cba5df295f864bde143d87289f8d42cf832e56efb95ae828a69ed23459ff79682c29cf014bc8f17a767b65c3ac0ebfb71b103b1f4c2a3a4dd86bce6b5b2d7eef03e2b4232ff4091d5d5d683e70f49ab46100271e39413f5e4dffcd439e089a191086b32b8fd128e70cf4fe3da25f1c0be2284b69e00dec523a47f6cb9ecfe64c5739272ce9c9b84591e22c9b158dc5e23b258f5798344295b5283f4fc90584b22ecc6b4d7641fac9e72e184be15fbd99164da307c63cc25a36e59a477bc2f04e2c1a254002ce5ecad4433743739ea4d89569637adf69e7a8fe7fc724eeb5c91c2a0c6c56a28e54b7b7572739884844fc6238cb1c78647b313faab42a9be2584bf9c746e87a219c3a0927652202b1a905fec0b02cfa78c62ee237a2405d35ca4272da2f7496f1aa034c04b5c7d39bb0decb50a412c73344bc117285c39743f1de17cd9b0162ad2b9435536b1a36538b5c41379090fa12c3d62156db3503b590f20338db1fbbeab07fec96a3ecf86ec4cb5d6794bbed32891d3000a85f03e1c756f6b85cb1f8e9350e04d504fe8ec669b1ce08175843d15edf0ebb3cd24a0cc0e47a88d2c2f52214911bad7021ae837ad29b0e910640731f31bcdba51aecf4727c7447f3155bb5e4675a3b54dfcd24cee20c02cb0abf785c3fb0489a893e6c21c5621c0f19b97155c936c3230be77ef1f161b78e2dcdce49a8a69bb52e26dc969b302a190b92b6a7c336d48b0ac146b56d8eb73a33c25baeb214c1cad9c6aff2e9f72397deab8c2bd5b6a58ff5492fb28a16eefd5ffb55ddb8c23446a569113d3fa28170db1f6f39f3ebd950db843c84d6556b7607dd15faac377dc25e57d55e40001db27d24d3e25661dd1fe83f0f946977645f8344eadff5370486ff8d640e93e26491fb29d0034dfee54ca92566353baf9492c974b3fa04a46af1daccc2dbf2baf00866d46265c4db5258434941e36462257374e10a294bdb1be56cf122599804785df9324eb3c605e7d03095c573c23cb530996c1783c0ff4c1b221019af9e86aa9c4b827df448d28d20353e852c92b3c63f4abf440c0a09c2ae5293f4d295d15df04f42e31951f5a124b2db60455d304dc0b960dee18ccc28e5d35800da73f84bef6428913bbe836954cb9f7065ab45591bb892fcb86fa95260b38f187c6d81bd79917eed80fb17406bd166a44c49e6cc99dfb64919359cd42f7fbdfd5886fc8fff7ff6628c7a8d577ab47f157024d9b651442fa68a39928261e2622d9e8d6650e5f76d56a780fac2fb1d8b4f231017f379789caf4525aaa87172c182b6e5253c61e0f4e8709f883e1b1ed0112fc8bfb33098ce8adcf2a91530f5233d1cb025f1168bd692cb4edb4ad73f8e4e075f00dae7f1e2bdf5d4ae4ff5d2e0f3b57cfd640216ac3503a43be5c5b125920d9a906f810a17a95bad93693d71b8fcbec62b680e30d1d771635275a14c9f07a19cee78dc72bc32d7f5d7cd46319c0e91940d136625b468acb68002d1ddfefafa8460e66fd35d3e7705d9b2dd9c48e5ae54c0b0444c8298a07ef5eebc663c442f5646ccc69c48a86c873ad927a77d5696babb810857339619530c020400eb57fff93ebd745c6ad52d5ec8357f00060a8cf66dc6de2d11f9a26c285d53170bc4c57b3c441629abb6e5f656bc234c19ab82494fbbdaced60b7cee7a7ab37aff005df03eff20b7ac49923acf6e217e471a197463c7ce5796429c32cbb9ca49f584f983ad714f3051eb713c5888df6f7dd4122ff8c36abb3aaae77e5c7cc1213d8286ab4092ff740a3402460e03c41c98df52b4dd8899a6257166215367ea0319ddeb1c4a5461cab27fc67400dfe0429691ddd1ef4485552a01dc7009a7648939d0a43c7ff509e5a782bac8d55967311fdc1a367617a78379de47f791dc44f3a7730481c75754d13ea7704115569848518509098c4f1e1dd4b8bd9c81b07ca159a8528956751a163ce6d10fcd265159941c03946bb3f6a10d74916e6ebdc387f06ee315bf26c62773dd02c6d10797b0d14fd9335acfb2efa74153e7d7374f98f7e1cbb6aa18ed0eeb0a1ddf233bf64a76cb1dbcfaaba2a5b37d994caaa344cc595a34e424a9bca0a7917459a83171a02bfba05939cf4ae98756c06e99f7981c2c9210aa2f72d5912c3b68063de9ec6a89dec21b0c90d8081af4ab5e3bfa7b15f074381bf2b866c3cd97660117b4b365cc1b387448ae884ab39f6c51c697226e2891f2d4f143024f0f0b51084338c9aa4675852a1b76b1c6e5cccafa87ff90240a4e2a3f27c178af7b198d085953e5232d4a28d0dcb5517ad4f3b56d4219f7c5f3ba7fabea5ceac238b0e43a097b2faf624b4ce3370214b3a66a6027b5eac902d2282b771ab51c71ff601b398066bfc81bbafbf467970c62c7ebf8b83ce27bfa923744e73565f0ae5792dd7b5b3ebece433e6cbfc8a9d6b44cd468765fedbc2dc93104f3b73b4e1de5fc763a0df9422eb1d0a7f3abb59e70e43ae589c897517e7209aa136cd86aedddd3111e19b4bce829bc8991f846782e32077d48b9ed54ae384a2205a92ab0bd5b68ae8a73170d55004c7ef23f8680274c0c539990c6068624274c278c1f1264c910635b3d952a9455e58f02142cf3981b08a27f7b96a43b7455c8e8870c4bf15012bf4dffc004d893e36a160c7ac1cc324d4386bb98a5f5072c27620e58db5358b407206188cfa27058a098ce8ed8581faa45e295eddb019d9e69a7debd37eb8a720e1f9db3c369b29d61e65001cf7a44d38810d7901f128ebfbd634958b6194b131f9259876fdd0b8b3a7f5008184f87f4f5b02fae18ca98e00db6b789e3f97bb7534489a110b5f46106dadc9e3e9bf72b9e7e1877c80ff8487323332fa12c29d72a29be2e23d21501c6414785f38f56cbc1eaaec71942536f8e69c3d1891524a067f2fbacc5f3a3f19e8fffd27f38c28ba50d62312e9761a471d8c6ee6d03522e1f46ed0f7b42ca956cf2d909ddced23e2c31fa0fd77638dbabea4c7f981b3762afe0923284558c0e31a56406115da3dcffe162b7b6f3f09fa3a1917e1d89926a24198463903a04377886312f2b0f00da5c657fe675bd0bfabbe39e4639c7e6901f5967681d89d157984004a36e5878968338ce52bf3d014ac9946d5160ea261b77158da514f7309ae15207bf677d81cb43d1534d2d531d273ee0cf96c62015230b51166f58917553368c1121b67ce70945fa02b8ba80519c86a31ab731dee32671ed68054d3c2f7ace77a3b8f7cde9833cb7db5133efb2ab91b385e88996675a7e6ea494f04b092650be619ea642db8c3c6c6eae96771555bf1234adbd6c611bbb9afa2d8013a532921258b9397252d67bef4d39aa8d47a3bfc1a5f4420a0a3e708c7e8e6e0747dcfc3921d4b7efc86937d1ae127b0b0a59a111a435cb9ef74b4b374664c9678f0e10eb5a62624ac6e44b75e3dbc1d46bcb74282ce158937d47d9a5c7584c66f25b7b7f48bab8bb3b98f9dff614bd8289a7202e6d46854270dcba48d8cd66e5af3b5f9ea054f441b03dc2a8a9924a4596796aa06f20f499cf4feda88f2d0094177af818a327d64f1ebe43c199e6554dad10147fef5b0bc39b3f35f30eed86ba76a28cd4303f3373274db43b19a2423bac523678f7aa5808c603ae3fa52bd60604887e7ce48f585dd235c6d0e123b6d95e3e265106fb06ef3a8cddb710e68dcb2c14bd36289d1739a3070c2d28db6819b088082a2531210cde42d63a6c7b28dda99f5a46d16c1312fbec9d3559813584969482d15ad2a0081b932e57c19fc08d5631ee8435501cbc31f7d4030daab561ea0c1bd585c397c205eb36e423eac9cb373390ea33590888bdaa7835f08cc3fc33a80fceb06969c84ed34558484097f4d26a0286bd12e131748eda0b95b21a04d2d81541f04ebd10849923604495bba517b188d2f534af6b5bad32470a8e6b055ec0d216ca9a2dc4fdc5eb4c5ddb33af60c7a8e8bec5935ab298e2008f4f752df6b1eff15bc5b4148640e5cf5d7b4cf7e18feba640222274a80051f1748d0df17c0ee326ffcf402c1b2b1510244a82a515eca3b6d7e5f3c26c7ae7615ad607cd46a8c8a281ce163b725d8f2e519e6b4b13ede98c6ca3e749098955638039cd847136335cbd1c0992efc6f27b424a91672901e2e7ab1750bd6ea631503234a40bcd52265ccf6924e54dd0b9cdd9a1e786fdd19b1cf755ddc609a468604cea5e0a38ab00fd8a6892ca496b3310de0ee1d5d59d3f7b6a4245d0e8a55f0cf30e454d8bbb657e802bd1ad593bd464552917004f3a8dac195fd6560b3a5bc7e679a9d3b1e40600f919162802562b13d08e37864f2d9ef3ebb6dad4013ec3e3244a4693a7c431e497cdc5499478dfe9e8af9d415608e004b6e44502983cde3c2a6af9ec991b51597550d614242c9ece3a6c985e0ba4e9875ef798b0c8dee47d2b14f4088de2446029f208d2906c7050bb160d465673f4aa67b32e8d83ab277bb4312a2b46d95f1e9ea07543e7538cc74a4f800380cb69b4cee970142afa3384c59ac01f7bbb2d739dc1c5311118d0619f926bb2c09a089331f8de0aad786cdd8560d96986449485bb199e968d34224719ac550423d524973dd8a81a885d9b9367cc4cece33e0b2772813dadbb9287ca784e506c0be0c7096c772757ceb1601c3afc381979b6d7fa2420637d90675143dc11e556949a1144dfcfbdc3dba51244f821af76d7d07bd2b922edcfab8909b57de602fe57aa9a9cb61a7a9015904d760c2a1f9767e306893d37404c1e7540f3c1649edafca6c4c024c063d3e4f851ca598dddd1402806dbd101e183c5a237c9444887554a36e2364e154788df91e44aa8ed02bc7fb21825bc7b2032654035fa1ae30ae5352d23ab693ba9e5e01aacad8220e9127da6d7291c36cec37df7a99bd0c034d9d73817a327d227b858ba54229a6e4aede1f17eb2a713f8ea11bb4bdaf1697960a2ec6841480509bffce44c33aafa1ee563e3b301d951bab24afcce404a207558e367139466a51c469763579175b090a1b490d3e0971d7910cc08de64456867e29d1ff9ac39262a388c2615a35d32138cb271be55e60c34773c4a78905b9e5068a040bfdd97496ad9b2c9066c5b7f2dc1ad39a59afb67a4c4e75d1a50f474d239d10620ba0e63154b91b33e4793e7d4fddeb241bcf84cffd62a8888bc9371554b99bb8150db63b078b2eec4239325da692a5c3e335f457b1aeb4ed9d7446021aae4eb189caa4a36fd894953208fda2e6b2de3a955dca5dd3399023fa22f2082185075f263b22f44d819bf408859ae75f9d5a7a2e49fa88cdbe4a4df1da1495bb522a332a89f4e3d6aeb6bae753e9121a819e7951faa5584e144798e3985eb0f63058dfbb993c4c05d191e2df2d71f39c8a4765aea4a06fb0c5286bad742ec45743b4362dc6c7f5a2b888382288e48511062486f50b432d04856a0048a8e554aa0104d9a77aec3549a97fb1f099f0299cfa499d8c848ff47690dbea10275e4448d43bbcd2dcf7ba12ee9b0ba016e0b19661b336569b8e031e1438b4d43db33a311d7cb7cc1c131ed3e31f7885f978d97c81ad32e1da9f63e4c2994350c49e04f91ce468481b5bf4770eb92abc282aa25146301f50469ea3506fe6f391e2a5b9ea33b11e286e9771170be2853be764c942208fd4355b635b9890b3e652b4bf6371330d2a31e96025c720783782a84e5b65cb5812184273e66b25128b6fddc1ee73e76617ded20cf50c3e771860d6cdc5c791f9f90194283972a1c96bc1146fbbfcfce93f5508f12a3c706a88f15fbb7c8b6f2975c597a0ccb9d937427577d4a6f63ed6bef8ab95cb5fcfe629a564c56f666f366c0701f7ae5b6c52e991ad5d78fee504e45bc8212d161d220d61e5b1148dd0a990294ef37d91f0d47c304acfaae11186b6007543ee14ed1e665d0bb757154f814a1fa739de62a64b4c8701cd5f8fd448c3c861dded05d9d2b8aa0e451794f89039275cbe710c1d40ad671d92bc5bae4f8645a11761a25d7246110a0c83e0a9ee6d99b191ed3b17c700ec7be020fa76bf307b024e2eee10c6f0dc5b6b0748d664cd40981c5dc84864b92991e486e907e12914715e32a9d11b760e8a7df83a38b343ec320e57531841d974e1f55c15046548456ced764ef4daf6b6e31fd1c20642a066979218ecf41f1dc0d4dc699c30b938bfec56e441c0983fff7165752f7d4986b582fe9405b4778faf0efbadc151ace2d8e211a8b01e4fb6cb11af2a912f9f298419563bf5baca953624d19f62890c46f0adffe217e709ee8c078269a7be3f70a5722da081d86c561e8a4880d23810683bdb00e5b2761e7cb56447ab196112b8b87d632302c397bce988675b8577053742e5d64eee1f9e1e492c32e2e571ce0993f381c37d671dc92893989584f17e3596a70537efae494285c8233d3ecdf1c35d9e34270d8fdc9c1b280b44b2ea0f518bf26fece1910bd052c58e3c0894f1f99ecb03d411713e97b2ea17dcd9bd2bda8e4d2940708e598debc30f63ca737efbc19c94f7036e09dc2dc2df31591c99510f4a7362eacf150e188c3246be589820648380eadefce95fd9ef813b24a2a2fb64c22ebde731924763c292ead456ec66281db75dbb178a0ab3ce432fa381a35986bd0ed5fb97c949d3331824878ecbd4d1bbb7bc9c00f340c8d6e0b3dc85bd1d5e4d0ef49d95c6a525ffc46d1af4dc1b12731638863fc854922a5c765e2ee7cbef846a51e914c4d526ccf7d52665026478b7fcdc19866af6de69c0df034dc1f751b8d40b69e3e9e175f3e076c7b8ce569c53a135d5f24e74ded3839a8e42d169a417c26291afb501c37a55510eb0baacce2a286138b53854403957f9c49263c0d631ddbe3a1c2b31f398711bed68686a489f59bf00b1140937e27a260086c0d7077e504fd934a400e3fc36be0acd7b1eeb0fae0ff94d069be18c32a4b59e35381da4f7a289d9b101638e95ca8a9252f25e4308a79942eb985a09a5467c1d9e5a6307a307b00df84e08404a0a12626ebdb72812868904baae5380e624b5f73e6a2275f0a702b96b036a0843da9fbc09012718bb87c00151e92565da36bcc9caa8fd7f867c96ea954b092d6a9983eff852aebdcf1253a9af118172d4f41efaec6b679f956a55e26354c62b6258aa709645f1b95bc80a0eb76f9f481898ce47cd4a81b94b0fa76ffef91416c8eea8c9b0e3820a6b2bcefc406f27bda9553fdc70b33db0acf5ab664ff3cc89a5e4ba11760f3ecd64843d08c794808ae29ccf3a1cfec44b4841123db54b50d1cd126b7a8c94a48b447d72928e7c3908396afff11c3b3ed23702a13a89102f2366d95ce51ce0cc8157b5a421bbcdb6731bbb77e727a3a06d7e845652dc08dbec39576a241bf750f6dee528afc3928cada78cf3f9f62631d268b39a9f211124cb56c0badb0192e721481babbf33cbaa57a5309127c97a4040012084349600e6c8b07a702415f066352e7049c2a9879c3cc75d9086328c45eac84af1cd05f36baff8bb0f77f518e06d0a4e813dd5e6f7f33e3e82e4cacc7a9b082460c3ece200829edbba100bfd5e6b4c8bb1dbbeaf3b484bf22715bd92111a8b442c317709f6bc053e83e4876cc44c920a9afcc1658c038f19e1c5b0cd133f3f2c3d5ba2fbc48f742b39e77a8076360af9b5688010d82600b12361875d5693a8b08fbfd46372a44ad57de1987804bc3d15d8bc2673e89c1134ed402b42fb0a7637a81acd2b423a4bc68d9c90b835341d4a00073a83b05fd937d426aa8e539264a22f96de018b13158088a70b31d6e22c6ca0aca51147e1fb5277cf48bd4cb2f7a3a2a229460d597632d78eb459f2f262b142cd62125f88ba624007d4a93f1332a081919e7a11ede381edbb963a327001bd32785191fa9dfee2dc46dd28b5af6a6d05e3359c6a9ec3522d9e0c9dd3998e5dfaae2ea2817dff80cdfc41e300d3e1312aa6731ab7fa20db163897b39dfe890ec58648c1cb9ac0bb34631d73eb69ca5b56ee59bc63b4282a0d763a5f3f8f1274bda1d2d6329a7921476fa1d5487a2b46489c8993febdcba950106e76a1969e2e658e25dbca277f6b5eb4dff5185cf703b1c2d946270bfd3699541b1c6b5df8d03fa35988c385d1302be60937ead3af788c5e92fedd9a9ed9c5369d947396dbe4b57ab1be8d6838a7fda4023e53c6994efd920b40d6a8d83cc952113564d47b8be7821d8979e603fef5f3fb764af8dc226b0c14dba79d9e7624ad446b3add23fe7e0ea027efe25c8c1d85f97835e1a33088f52bf48e4273def6f3c84b55fd56726451b17ccd95a29bad1abd15133b4e7a8f77956bf611b9fb60880faa76e2b6675a905e28c2d872a0cf41841338568a39394fa7aefb063d9cbf1ad59dc601386773ff5aa124f29191152b0d523afbac1aa78008d3bbf3ec53a8971dfc2d278ebfbf4f3d125c85a3d369384b79fdc09079ff2b099f8ec5a8cb984719d796c1be777ff96234dcac7bf2ed6a46376e32a9cabf5aae6de3d53f243cc3102fa8564bcf83763c0c668d2951497212d22f189b5fa03e9316bf6bb4f812f27eefe138e519657a4acee4bb8d4e0c689baf19437071dc271e4436e0dd066663144b2f69eb6daffb3153aa03ba9e888d74953025b1c22f2d7f1375d744bbe8b1327024d09d41f8caf5d71c6cee7718fb270da80a370b5dbddbdae865f544d5236cb14690320af2b09057ba103b5fd1930fbd44bad8afcf55054e84020bbd8e546af578dc9a60a44324560de8a27617ccb037a59c831bccbd4038887f2fa455150ddf7b3d6c7c9661a2355474aafe2758ca1fc5e0b235106fe9014267a75f27de9630ca5c7e503ee3c3ffc9d76aed67d4f4462101539f458f33d4aa6f126ba9df8d6ea7389c947ab33ac36a83c7a195fa6d57c5f55c3bc8c0f2d3b617000b4b55016881d2805e30feae0f2c9efc4c046e38fd88a2261ab7f5b308fd80921adb21b82352505220b913478c710fba85bcea6405c26827099d6f334156c8139bed6fa7054806a1c8bd82b9b517421db0752df666df0a7192c409141a62f2ecf3e20f75adbcfc5fbac9961749b72689fa979c246913a904cfe9a4d93818a9558370d7c6c2c66c37803814c166e0102c097ab44876225aa729d63316ff126de6ab8116bde7041250b68daea15d60f46b71ae50128c7fd8c95741038bf0e94b6e717d50615cf871272389cf9030b87b3a8c9325d87dc5430a4eee32ed4ad025f622292991ab1df871a6674fad18d2956c46665c4d7a2506b64e05e78f189f5620d2e86567c6be24e8768c6583ee2effa99e7a0c81540490a1e7a23fdfd55f343c909d223e0f51efefc9c55c3096bfad0d929c5794e499625c4424b06c4a0a1e6856aa0dc53e438e2a236d87a56f2211134217f890c8d7bcf016b23b60a36d6c09d5a5ed9360d9192a107ff1fa11e60a272dc36c22351e41d10032cd82db894781ec4ae99e99f2dfa8dd802e2b6554b53576894e9e92ec39b15a3d85a4bdd90cb66cdb6a8abf18501ab404cf9960cbfcd0c4beaa5efd35e7ff0d984ebb5fe8cf4e8078a8a06869a27df217320823dda6e31600be1a73ab35832a4a41097dc9a513a44c6e8ac5665ea5869fce328644388eb4ca1d698c9ac30901008def99b4c84a2a7c5e9792b4538743312bee0395aeb7399536fe966c42393caa5bc1fc3d4f3c7721bdeed7e0198e78391e3133c4d60b579e2f90074846400b33e4555233e9bad8049562098d89c62552f7bbdd4f9fc0a1965620b3db275976cf39c5e09f515cf40eb23a3480ec310569f6e0e7ac60339b96d58855a7a2e0541695a48340877f86999f84acfc3e73f71254c2d6d76387aa412a32c2f7dae406232baa3400f3e73c2e42f2dc86c93db0ab0323679fa2aa56d3465dcd6f8f55c09e85bf327e791c3c8dd3dcedb4de916d86d796cdac6b4c188f74d154b768b8e4d7196b523a909b53900961a5188a53fa22f46b4fc9b26d635487f2a71308159c2e3da4875691cb7ce5dcda8e268c3c19f1b83ab0c8a074dea1a0ddae9eee8307fae6b511b8292fa995d5b8b1fb6e7c3370a386ff6256d1bebae2da191d8c71af64aed87e66a9dc5faa096b718ce806595a084c01b3909fdc29f7d467498ab0966991139c38ac081b91589e58d22bf8ab79a161b40af6ea9fdf7e15c64899835873770663cff449bb5f204cc0dd6fcc86d752ce89959b2329d7eb31c1b48e93db67300c63abe8c2ee0f5f74890eb0fbb827501ce8c2e6e93a5f2737145a18eb4ed0cd1b8aa5fcadfc54c080a2da28297489cd4054859040cbc0c73880ea36bf98926c938093dd7bbe55440e498da7759253ea7f89c29228beb199f6c83f8d4126e0772ec15148fd115f7ba7e40962ba07ba66f486d3e71ee47d71994e71f594d76b4b5b79266372939c72f1cc6262358ba8dc190fde887b77b17c0eda8bb977c1bd0ddfd1e5f0f5ee815201c7f2249421ab159bbf9e85b83557afbedffa1b3b813b48e1cf2f3fc692cd1f682a1799a2135bdf7bf6d744b813dc480f1639a87c457ffe352fee8eeba557e6b223175e31661d4dcb960d82003f9d3dd8733cce31e7104469512307ffed29f21d08c99d51196f614eaa1be34dc14a67fcfc6d6d8241767e83895a24acd30cefcaf26e9b7b5ea88ade717ce20b4e983f54c3d8b0c68ff9b921a9b2c99ad1dd583206e64a7e86d43e13df88f950a9e2e460afad9170d59fc9e2e7643e0ea53d8110f3545bb12c63320de208b34f1361c1e9d5cd908846a52b97ab50c480abd78d3bcaab818c4ef1c3caf11dad1175b13205727553c5b59cbe443a4d4436f6dd9e18872f1bd05e85831cf45e4dcb5bc2473757ff4be2fc29457f4218782e85b0d116ce6e9cef3d849c2b6b35685a7b825e2577473749fe37e56ecda34d3c60fce26aa3ceaeee199dd1d745c228cc4b14397aed5e63bd551a8a86280a7e5512ed1a339f60cc7c25d4061cc2ec22d87b9a6056162ea8ab9b030973c3ae62269ab07f284e875aaf3aa71282d8847103e8eff8ae29f5279765679684b8db1714cb31af14f9845f245a0069d96bf3483edae74e54884eddb208ad7b771eeffbc893ab02d6ed19f14861697afe41e17da04947d8547019f06fe7a3ca72c4d6547457c8d518f94d68d4551e90ff1c24ae2815bf0b1d99a4e962489818414dc2433725d80886589cca623e889ee578035bd338b412b46ed9ffb63dca22f983a116935d4929ecc825b3b4dbd682cb672faa1ebf7571b7aa966b39461e0850a15dcde6daa9a494347856479dc695501cca3083f4759054f788dcf9b360b61be23054b5deaf492942f3c9a7a77e5dd711f9050fd4ab557c127b07ffcf5764547a88481bce106311cddf3f9c45bda268854920c5b7e6b6f73d9940831a9cf9bfad5cb9e8ff765a095a6652fe2b1e0ad23769f6909beac38b684c45c79475d31beea4cfab397417ee366c1046b40819ee98963acbc8a79a18d430f2203dee095103dfd7cab4441a88cf7d3845829f401bd39fe2d067d44c369750c9a8c8d544fd3d29663a5451dc14c64bc8c113693d516916e1a7e7a1f2b64fd6392d38c586b996293b6cb11a06c0ec1662c344269269827f37563a03d7c83af627a38b0815669ae6a9c00eeb2bfca32df6b157181399473b163caa21b25e1662cbff1569e361aadad21c52ec5f4b8be2ce29c20357e19cca4a129d0c1c9c699fbd52a6b0b66ce04c5f2fc57ca83bb5cfc6407d9c85198b77871fcb904588e4183c5b61621cb9a3b63f278983861bf571e4309ad61bef3ed0d8a4b562d36a851392f473c5345bcb44bd43ab5e3a446d85817abca06d1509a913479f9cae1677575491238feca7bab455d9e12043d4a6ecdc1877501837db1de76698e64250b042e663c60e7c46122fed9c7a97533b63b9878613214a38aee77f6bbf8c8d9ca582dd6fd3027ee0dd1693b0b190d3714464537ab8521b5711b271030e76338c4f1208fbb74f1068b9813a21f238c18116a0979a9b34074c7d4b53407f84ecd549825a379e212071e270a2301a3d5f547ed8cad417453f4ddaad2a6873d3091d257cdf47f8e72af07209f11645377be2cd599a25f0a8db4872b833fbc3820e8655e284604f76de18879bfa406a9d1cfc84e7dbdabbeeafcadf47581910ac89c3ae201df8bdce71ac035d36d1cbbfbe6fdd01538ae3f1459d2aabaa1c98ec53ed6db7196416e74a1a6554fa8ab26c0fcf2afdce8bec36598a3ac63eb3497e6acddc9ae26c0812be762090ecbcbf7c6f2bc089c6c107af8be93a1bd762f913a9fa1c36735b724bbc606723d945cb1348a272c42c942afebd5bee42b731620fa373094715d3d4cd5dc1dad6f8af8035b521bff1d11d06adb1faf6482e0faba39d6fc3e84f8c5ac04ee4346f980bb11e79ba4027e8a88c191f6d47147873fdabd5a586aa25d81d271a8ad5c7334d861a8e33f3c43856f30935d19a4a57c8129808dfdcb12e3c76d0b98ea7036fd9f8eec75ab5d037f8bf2f6d712e5f35e28e07190adfd7b6d0a7d8e0ee7ce5b1e961f5adb04f70572c746346038e459c384c868e3f4989b4564b98d3f03a6eec26439d7bef0fcddd7be63969060b324ccae0be7794443b9515c3067625645a69d27b82584a3e782a2a0b6462c6c44ef17beca656b47dbfae1cbf7fdf521ec375968c0d0b809befcdbf0630b378b32c6ef9172d0b30dfad785425675cc5ee5d8b768a4ddc8a57a1f7c09035c5f908890e50b8734b7ea80cc76c210fec04bbefe81ca8a1fd16cc12677d5bdd46dd305bfe6e528793b56cc69d99c2872ce124f3313a730def3248acae9fcccbc1fc879471252d2e043f4addf4bdb849582ab42e152313afcefa3bdec0487754b005ce14f8abfeee77a38c62795cce0da098c505c1fb697480471811ff029e604a34cb03b6c386773488eb9f59feef9878262016c92fd0e81f4466eca91389024226ed66881f9936f1ced18de225cfaf38dea66eb7ca0c1a4abe2a54bc62d41706a6daf75e44d663ec8d46ca1f0a314799402b1789113ac96e794b013a7e0d8b839a6feb1524cd2a71418c8bc19ec79330753c83ea1c16caeb99f0c5c648f43fb31f382c330f3ed79bf48f9124bc98c60f94b9988eb480b06aa0bf7d5b8e6bb4f730a3ed77ec05d59d056306222616141b2726f6374739555f4559b9f25ad32a02dc9f0ffe4c5f5f5bafadd76bb6846a6bf9b327362d1f7985bb958083a12f8e17e15862938bd86207b8eb5f113d1a1fd8536f07608c76d00baf7eae45066769c8703f21cb6e9bcab27bab7e456c25bb9ed4d05ed56aca067cf919046677eceb8542896ce7185b524f0c871fb656105c77821abfbd9ce7e5c5c6266db5993eb8d3c5a156954430104755ff78903321e81f3853030b4a9b9ce4d40af9646774a04b0ebafe26bf0fa24f4b28afd7fe78ffcda09d0437bd139bd83181bf74d404f003cdf0b3724ab01c91760d9435ff8b4c07516184ffa04bed01e4ea562fc0493c351c32fe3598869a24fcbf74ecc5f2e4149ae7a37294dd813f1e944bcc664e0701e477d40d5318af4438a4ebef2476b3af5d786a4f502ddd1b5ccdbe18352b12dd9550e0a26fc44abb8dbebd30ab9357414def5352fab10ac8467479fb02a81d4a9a04b699c47df3515ba96d6d74718ffe040a21f860b6ef2e3b99eb57c8bd84f08bb6c820db8d7d517a03063dc93befbdae7072fe084a287ef68b8b48346485651385478c5a387ea79af5389301d0e025e14fd8e496b9722ed5fa1d11ec4b868f857e8f3859e667a1219aee31a1214d937788e47cb9f2fe5c34d1ee3d873177ce839962f02219fbbd05ac02b0d48e9b841000d2c727a89c9f08eb8c417e31c12e5b54f1f0cf066e02c63491f52363b0cad9d265ec3ce217fb8c1b44f0718f1586e9bd5133cd88718ec02904eecb1f9bf36f0a44583075ffdf4f910db53bb7bad941c1c0729ed1877b9e819879d07342ff281e15131b166d65333546539f469f25ad3429c2fbc381d5e223cfdd8b580e7da0748f5d7064d6a250d604243f90e12d46c307a35257fd4d87e12f2df63cbe346b6becdb039d384d6888b5a7dfc9e1fd73733a10f1067b40e41210b78ffac05a6713eb605746117b2d892cc30cb448dc4b29d456c9556648dc7fc62c26918dfd41bd597e1b6824e0bd7931946d67dc64a162058980ab26de973d6780f89e2491bba31a88ddd207aff712b10a260a851efe27a5427e35542bf32b1d5d5d9285aa40928cbf18957fe8bd9d59b0546237d490a7ca820b401bd0762112c87348e69add231cf93b90e254cf109c9a40fc8f83c3e9721f294d209fedc974f8fc408188ab219f25382b01fcc32abc23d2404aec6e40c250c11ee1daaeea5edb429e2e80ca4b396f99c9cd14a40acc042849305ee51ce3a32bed8ea16de439f2911886130e41f6d3806413160bda70f0b56bd889c0c0c8067222bef30a8ef99572ab364a981041a293655bbddf184d49d00e61f9bfa52082288b9a3acf12d858e608ef60138aab7bf71c7655bfd650228c679a0fc012526ec403e71f551cbdd7c129acead679dd5a7930168fdca930b07fda5f6a0051e84385102bebf03caf3c251d982ff2502ce4763e3e4d892191553f40c9c1da8f19ab4b0b884e0d2edf1101eb7b55110d08d9e54f505d450bf5b0e4ba32d857ce9b8e0e7117737c4df6fa03957f7d56d97aa87cf68de474f50ecb751d96b6e21c35a7e2b49d47b21037048605e9de1849bda22426d62411e9092fafe935aac72b7cdeb41b4dafdf6c3de70dc22ca6a98631987c47b6d4c6c6843e5e67e6a0eaaf8be92f9e7e6aff7980e3b69b7f47d48dd4530932e90ecc3a162c0af4d31d454c4028bc58c7ffd0873d6188e5b0b2af822d1e8bd42b76d7b4eb213fbaee76a1a29ede06bb7885b5e8ddb59ee9a0c2aef2214ac0038ece43dde03641e9fc171aaeec3b203f2d5fcf4860c13e7dc5fdb3bd84d757f3b9ba031c9abb9392c143586022de4350a325c2c1d72f51092941f9abd6d54c659624d22265854d39a1662a884ab4f5cbf81cbb6d328474842a28daab8c0246e972a9fb834f379e15c922590b7e7d6fe949ceab83932a7d0844cf09a32d7d92c855623b46f3db6835deca9e0626848c1b64a95201927b69f04848441d7ccae65fdea16634db82562d471214c11f7b3e1da7f88dbae78340566b6e457102a6864d49db02b653276c675a513a163490284d6d3b72152370078a9a4c4e2ee4ab03cdf3b7698e6fc48b6e653d267a43ea67dc59d142518a5eba429acfb990a98814523742e390c675db30a5e525a0c77c65d459135729c3f336153e79eb210b1a512dbb8f3ad9d0b64a788d0e38a2b282989497274e8c1e12b2f25f9a66f8369e4a8ada41c9427d52e6f8116870a75439b5199d29861b3b8934e296ea6b580d96f3d1e0d3e1ccf94e37c616a453c974e4e4d9f05068c46961a8d6d90f539983acc7109d1f128cc1a5a6a119d234dc0714752b7f2f94bc93dbcc87bfbfeacc55e15f4df1492da1e2afb2bbf894d620cddf06d76642e10de2f9d5f4c0d6304e720ffee4598ebd1e35f344b46a435e594f1657ac31777d595de4ce0571ee74b1d70374bfd012d6a4c475cdde31b0cda628758496e5847c6972559d584d50e86585dc191f9aa3ccad5c6dadf8ae580ba39445a263102594bb46a740e21ec7cfe4e026b28beb8fcdce987db0857d0ba37309e15e71395e58ef588d6bf07a5af92c4c78a334905a8d96f83a6f8e27248975af931e26e1a4ba346a0990ee11812da895d2130dc589027393c56b703c049a04db73931e6b30882387495355a805af9e8a46c2029dae671b2d6fb1e2fa0c0097925d1c7ba752791b7b85698af981ec16c200cc4f952b90ccdbd8a715d9faffa5d6b986dd72f7463876a686fbde3d0a1ea6138304f653bde48eb2905ff893fa018889c06f4ce703cb7dd2f3d2f180265ef8faddbe84f1e8269815527466eaf67c9d922c5e28d31c3218d898d1d5494c449a7fe679dc3b7ee2997f6ec7c7b711c527d1032e7e04c8ffcbd12a0ec561e582ea54d33fb5e0cd4a46374dd18fab4f5fc51810c4d1c3b8915a5243cc22ffeaa8d296fedd3e518e2dbbe3522f75e63fcab74d2f939e8fb79616c49b76ab64f38a6802c71eaa69e5c378d469e66ac2b89e45cac360d2f6208a4cf0b4e95348a5758a5c1c160099bdb62b43f9b6c62d69e39aeb28d28ee1e37524f5d7f17c49756b3bb144a72a9331cddc881aee2e7ac58ef9fc3c3df9c97a7c7929ee39a26db93d9d17c4ef9bea6ce5d07a8c87807ca298a3712484e508be95f60e70644a3efd4c046bc5bf4d73c094436056d89b3c703fd4fdfc5ee42e31bf5c0860f26170c37693a3f780350d8ad829ea867af8bf9f56b8e73471319f6ce43fa44bb863f12f3a3e08ed21a6afde35ca511f5fef575195b5936d447197ac2d311652ef6d9482b73b4bb86d8b429ee17c04db93c06d6b7ac27d361ba3362bf4d3e36916958e2d71e3af7d44b7854f42311fa7e0856acbcfeaa506aed4f294ac95f66c383ac2ae2b5aa8ff4f8ad112cff962285e783c29266d1684db8dd8dc3f3fe79ab4bd4505cc58bdfdb0ab26c531ea825174a23d878d71850b23981b3da3900eb668691f0ecd35a24356cf6c7a1664c2d64add18e46bc62e3464dd630f9cbee5af9ce74b74e70ab318447ea159ffd91aeab78764c791acb9f8c4ec884e228516fa9f4798ca279c4aec1ddd78b4283254954b2bc634fc4a38c8bb7a72430194c9e99cbf659e4261e53f3c5810cbe68426483293d6212ef776e233150efa8c5113a1ba002cbcec7063db2476f4ac04231a6d3674190d221094008758516b692b786667470f44a1a94aaa705c3abac2f47c2e6527514f95e056ef6a0880739d8683f2ec66b33c6b2c643817c6a2c6955fb4a2c4a7d978dbaabfc71dcec3b0612c6bc37b499b12f082bdb1f1b2f4ebcb7ed0f9ffdebd2cb74fd6956a45a0b7fe050e03fb509f7ad1ceb4f50035ac33668ee47c37e63b22232cd8c82ae02dabdd79fa08bba9ceab67c90cc8edab4905641be6818bd60fb2ed99f79edfd5f234ce89db263fc2d544b9f9d952aeeeb033f97d1175617be27e694506dbdb551aff55be07eea991eae634b9f27be3b1f84c3112fedaaac775eaad308d6aae6694df5645bb3a141161e8cfb6dd69b2637284ba8d0095d7c52fb66f469ae650dcb898443169863100f26ff8839fca5c4563e509a1ec2de7b3093782c6f7183fd7f56e8ea43435abf90936799ac1699081d8c58511fc985002f2c434dc1e793f72ff80250eaa34d2980d75fdb2b7a6cec1db4b9275e50495efd07eb4a3c4ab2a7ccec8b014d7cc078a7b63bd83928f8319a3b1a80b067319505cc50b63b6835c37556af27aa21d6c8a5ccf6c25b0859859b5883d4d05d03ea239ae2c33a9fcd23f7261e3b2ae7e5bd39ffa31b2e59b9b5ab1b68aaf9693f896ea5844c90ec2c69c7f602b510ecc93f7c5eee6bf42b9524e01791f18952b0639f869e94c4353dc18ba9782291aa1875269e98ece8323dec09841dc6156cb8df13b5c8e1654ec0f64f453203ad87a7a6df7ca57df4d62ee6f63e99a7b1afde63dbe19d14de7c12a60ad0701f388816aad80a63d2daf9333d9546f79caaf8ad6cfc78cdb6235f8205a76fe9632352c216b739eb6889917323003940ca1fa3a6f7bbc31e3333f7bf0ae25715d3c33b5186012df8002d29fe40f4ba5e97ce137f3da5a72752ab2dd8f879f5d2bfe13f92aba138d2855abcc403dc26734603db49fb6775cabccde96b56fe74a38136b97027084884aa71eade3004027a39b709b1320ac1eeb7a301c04e7ed59551282c1c3f78d6a18bbce452e67ebc3a968d581538bb67118dc6ed4607ac15aba18aa20f95af9585edb4737df96e8f50e6f6bf213e27a01b9c061381657968ec2c169a2d6e0eab58b925c3bf3b334cf885cae1d8cf993a6bab45d49d0dcc624ede10af194aa8286d7c4f28841629743bbe0073ec711dbe8d0088e70eb6fb1d13662c1a2b721e2c37441618d91f752571faa8d9e829a2132446406504be85fbbc7759bdc83cf5ee20a73932a8281cbbbb90f7b0b4967ed1ccdc1f15d82d8946c433f5bdfee9bcf8987ccdbc2a03d22460000d15ff3ccf13a6c18b5518559f0f00b4dc4f83f2391f4f5a06955be7e74796bf06e3e9b09d9109be59c051b34318d090dc3fa061a6a92b519c8f030110f6aa5e3431f069a2eee841a8d435efba7c363ab6808bd1f36230ce717ec1130a563557c476d1ab77d2235b3462d677439aed8ff494bc96af3e9f30e486f1878f38e29c046d669d218d4d9b171b0c67ae6dd5641fe4ca3b94ff2ac54d46405c8454392c9031c0ea335a7846f4039b5227454f055e63341f6b1721fc48d72a25ce75892625cbae8260ff21715e39a896d733542ea833626afc5813802d5dbcea8d3e0f03ea9da4439380c8196b64c8ef3ee2562b44f2cb0745b0a2dd67005a93b879b2d305b328fc74af691bf7a9469c0bfb3bbb4a0df679b7811921fe63052a6a4062921f19f016a63c3c54e50874364e7425606f658eb4d0e070c5ea211fdf882f413155412b8230d6aacf34472727d09998723e696e0fa752f65b8bec49959f7b1ac02562ac951c0f2f57e693476712c5397424ce12e82f7903463a356792d393fa94a23f0a1614c814d8c86b0fb675590c9cc7d8d6b9c5d34ff2d03b8e1ebfba358265f7d5dc8c34c9663db8ed6469c8d9b146f146bacd58ed44172321ed6a65c84a51b5d174c6c07d59998b5ed8a223d60cfa3fd0877d446aa828241de9296c5c5c79ad70f43df7d6b89b90827d1deef22b8f8a33ee9619089e2b13db5911188305c409ec410ae49b7b41e99cce9d3cf2017d5bd190f9a10dc21028667521f8d2e1b4c5bd2ec25d67f38bcababec2eae4b4e0e5c7af0c8c87c91c52b9b999ec8605bfcd1481b3951eff7a9ef86574533760c4772cfb3297d7f853f462dc6bcc8566120a41bfada6990f09630cdf4f0c39d8516af6c422bf6922fa8f0426a30d17c3dadb6706fd4526047912216f509f953f5da8e15190664ea827e0b2277188286ebacf083c40a872739f19fd2302a8f5baa5102b4d905115c04f8f6f35b0e435b7ce1c07ee4c30bc3f996cb2a04bc784e54f61fe25bd5da6e073554285094162faca989d710c981b0f9c03151bb38ab5004e244a87bcf488d6c7693d6c8167b4204d0411f074c0b3f56bc4747f7247188036887d569cc66d2fc95e11d8d780c4e28ed11d0506cc3c23fea58049c82af3b1b0c3f7325430ea00b969eed9763aa2f3cc0629888afc2a71ff61520011a889cae8d2747c4996c2ca1ec0d48d7c5919d2151846f33f4a2551ae40790a2c33e4eff982e906ca6c51de8b6e1d1c0edc6439d68f0cda151650fb0671850bbf48d241c385c6eefc6b764614c3bd53dce5c3091723251171832c3523510f13433dcc59d8ab9734b7a2917185adba8fbe7c76a04d4030ccd916ec2f924a0a6e71c44bc871c04058708627de6b8a52464fb53fe1c6c95d350742f49f0c3e1b2e995d421829326b670faa28dbee613d1ab0e62c33f2f7f007c110e0e8e662719afeed49663d97026f6feae1e69da9a47b65244030fd790cda8e99a3d36fff92ee29fa74c5ac6c5853b816090670585bd72b3d1282407b4bd6f70197f1bfbad3112ce5c8a52e41ca2cd46d3a364f66f283ed4fe0ca23d10bb6bc254423dc65cfe534fbf5e3625969de8cf62a45252a79029c5062dd55dbc1224bf9f4bb97480d45255364cf4a884a5fe621f46312931ef5e9d122c0d7f61807c04f4b3dca8570eae96ec4c09ca6681b24a3445b9b09244b088636f8796728776e69b16754a642a134058c221b407abbb500f4999ae2cab59cc5587bf0c49f31456669c5d019011b0993bbf074686a616592782019100ed2e6184fae02f67224c38da07b26292007fad6138d4185dad0e71d5fbd511b3b0baa8d4b3d2f1b9226d61a3917e4c2ce7ea36605933f4b5f9d13a49fdc9fc5b6b7414041b5f2966041f38d3b4a36e9b7a78573ef3ddea2ef1ac19d16ae2ba6bf3f0e45113f987e98697ecadeaad3c3d1f4cb2221a4a644fcab98f76bb44676ca116a4b624bb22a3163912f46eb15c0407e0f3478b89937e98dfdad590d24cd24b58ccd4b0670d0952704c6e74c9c3415b9f3de9d8ffcd04a8fe55b0c226cd687a79f32d1ed753a3d915e94a1d34bb005022e10634c8817872f0eaa6867adb301acdd414a98cb02f93c2d8c373d9bf90ade2c76b9386ade9b0dce2216aa40163dd4a1aec040740ede1393848dfaed55c42c9cc7ccbe25366d411695565d60a85229ba0a5a581e31a22e9086b9b5aa98b51574e5d115baf559615d3bd9f97ff25be79b7e9222daac1c384b47c67b086f4778baeaa89cb963d7394e4d4c682985345f0368c513d652e0b4d9179bedeb262f65d8e177f1efc7e5c64fc85d7811fec91756b5d3536841666da39cc4e8f9ea6ebbb171d0b206c9b06b48bc08b8bc37fab7f4ec7f892607fb6a0f0d0700a5394eda1a3afc78fd5761535a7853119820bf4244e56a69f1222dd37fefcceb5c271744a2d42005185e7acd291c0b29ccd07818dc07b63f2989951588c3ee5de297266d98dbaea42c91671d5031bb26709300c2d83dcdc4aa949b9438d3fcf53dfa10f81206d42d57f2eeffcfafe604ce173a73c5f1008394a2a212d7e5e0fe0042f050d374f01c103b7c76fd1a9b895bef03b55da4cb424952cdf441955b2b3a0336304de5f5633df5dd5da24901e9cb440511712a1850602e6dfcc62b5cb35ab21b6718ba847460fad11461c131a1321f73eee4cf9f0152ec7a9e7166f8bd966241a43a3d8b25c89a27e2f74f996fbbad78efda269944781b08637be851c67c6b357d683ed78ffc96a202ee55c39fb35a0d4635e7dc22986c884f36467b9ec8d74f9a04c361e98784d55b08b7bba36cf861d0dee74346fdc94b073abd63a0ad76afcb40bb04707eb45804f90ab0537322f64eaf14e32f55b828a5cfbe42645db190ba6d84453b0a8f799c97e4ca3d18f96d2d27277d99b95941639c32be288c1e36f806a21c97b269cfa7cbc394fd1ff5c89f445dbac0f0a0e55570e1e70008da475cdc135228fc47c2e99cf8e2072f0841cf1e637df098d81630e762521090e6a9df0d6ef6242b3b6dfa8172f2463984b25884a56996243c7fccab4abe02bd421995cc5769052cd6bdedf9f88599a8ddc2599b1b58aaa726dbf4f13762eb775528174c9c6f923f461a376eee7be041840a0f7f006564eb342c082f43d7a0ec5e590671de9999c98fb3f461a214393304e8663d5f88a3a9ee08a1d294e59ae70736c2eb22a4bcfe1a7f95fb16351d2e7344d8eb1f011233b8fd4bf86230689924d7a801709c22145b902ab81b9ada62a329cb6e047cdedadbbf49fc068e828e18b1092c3167a9f72904b61a82ed04ce03c3adce3a49a53540c20202cad39a2cfa6a997a74a8c4bcf2070d5a264104013b640ce728bafb058caa6a3187508f095434bf2ae2ca19f235691d6e41b7759f52f35530a344a1dc78a2314aa1e2489d4bc7f1d3718daedcfc2a159026779914a2e3f18c788a4d912ed5938b8c09e480d8b786b52f834b953114530b45a8426ca0ee34f7b86b4d632e493075c77ad97e6bcbd4d2ecea1877f3efcc5eca07fbec99d5011146639a5df40fcabc644479f7ae007a9c7e4a28ad50994e20599ea41dac135f79ab1a3bef9eb72f89ae3510153add05b586ae6ba454a3ef4c49b3fed4b721ca95a03ecd97bb8a1aa9c06c5bb1dc611fe154b9b025fbb5e38c0ca15f7a60a239da453afb98c1c26664e0e213c67478ccacddb4e9f6b937a5c6741290a43f42a5e3eb8f29452718454bd5accf930e4eb667eedd8e4d8bd97a0f9cf16b3d3b60e2ce3c2f0f727e89c86ab4132268e4d299805d9b34fb6f4e2a3f8352c651bc0e756cd5fc1624bcbf1e86488883ea3c3f2324b967a5229f06904f38dbc82666e7ca873714122e83e2119678a88251fad85c5c80fb9c28b4cbfdf3ce38d810611790f8fa464d83339ba71f6fee8779ebb614d87c241dc08917660f98858e2a2416a5a3634ab208871c3a2870410a94fa84edf22bc1fc2abe2b3150c788cb054d68a9f95a9dc070cd42afe467417536b212f51a18f235c7aa0d7ccf8b74738deddf5c70ab86c952e9eb8eaa97ab3fa6503d458f55f5d3b288fad7f7338bdafc37a8bb0dc36a91fa876e82780c4ab88ef9a84b8da43a002836a692c05658062b2f478686a8472d8ac1e3e84bccdaac73cba284bb3ac8136b941e011c87dafb45bae4456d0984999f9326163778b39aae4395ad2981de85bea13654dddbf13c438c70557f8ad740a7849fe006607a95d318962a0ec20e1f920d273fff9fb08f2cf54f1728236396a9cbd004ea8dce921a2b845a8d38a9d6c745aef0caa6541d22f526876f7a2774cf7c4f9010ec90f7c1c3f20e9d7c13f779ca6f0570d41db0581f658695bf818f6115dfca137eac1410c7b0e6dc6a70cd3b152536605277eb5a747780d9b6faa2f9d779f2e41522a591c5b6936197689151c90c026ca71fe419a78198c9706ff460ca52e8e6154e4f2b13e4a87f48fdecc39df9e48afcedebe452d0c754caf44690337026d2543933496b80a863d3bf8933c6499a84660d00795edfd2f7733ee48feee517dfdf7b0e5f7ba04dc661388d83a4bf8988e425a8026709c9e0b393c40744fd5c013779213fcd1dc75f8127aecf1bf7a737d5f4ee1200f014181b1feeb279906a5b926d94bcf0185a012c30af359735be45adf2555554ca0fdd2ec3d7903be3c977f73c9654d6f981779150ac24e0efc3f3ac5e9336581db525dc103ebe5385c119c8c04068b03dc8c6aec421e2b86b4caac0034444d7e48f00079ca80c6aa3e7b39a96aa1beef4d5bf93ece7da0f3ed50627fd67c8f2afcab54e408e930d928dccdacacb26ea83948f11f9984a0b1847765c2bd91f9da6408a15bc184b330acdb6c659c99fef47842e8d0352babb017dda31b0e4e22b8849c0e2083e85fd10cb8165ccb4dfa7a98d08b4b347596f6e9c7226ce88a690b6ca2c75432dce8e6c6db06a460445df0ad51f6f09303f0cfd8cdcffe14343125d2321bd2cf5970f350d0b2bca6ac2956761e2de5bcaaeea3e54f68ed53ff200b7432c033ab512da5c47e929b8dca0cfeab0c657122450a36e215de2163bf14acb39c4287df86db6191131994259f187b50ed38be55a56d8db093b3310733b376d341f2f19e7186ff49fa805e04c3a5cac01e77883945a1ef98837431a7bc8f3e96438df6ba9ce90914600de04904be40675571402bcb5f7892b40316319f5ce1b79759b2c9e6d1ba2626548b4dd4ccbc519f6905afa063b594582c694a4591e24ce369583eb85d77ce88f171a91f3f58c5ff8c2e8fab60b870c4c739582d1fa5e8519644d2304556ee3b5c0a8730fef47bb8a5023a3054dc50139efec8b15ba4d4a2602ac30cecf15eaace1ccaa5f36c99814a027582af141a702678854dbf60d5e559c5c20caefd8ead7be81c6fef27143e486243cb766e62b200e1ac7188d9a6fe367770e451d8d8bd02443c641665b75626bdfb1db4614acf3f09fbd6d098f10e92299d8d17839082603f7aefc15ae08b1e816c746d77d198a953c253ca1a33d3b156b4e737a84fccb9596226297a7b7ca1746ad66ee07d7d0d693bf7c38471b29efb1a637c1184ceae6e370fad7ba7e0d5a1a570f4f8c5839ab962df487262332cece513df13a5f0644728197b2b7284307e3be50388fb9a78764066d655d999f7eccdf02359985435b80d325ef88bba6ba974ea87ed0109053b0d0161ef72a39b754b47bd3144990d13caad6714c4f5406757fb0925cfa2849f3412f2e76ce447566bda3e43607fef8ea205aa6c93e854d81519f53dd32fbc207acceeeab287129f8e3b7732deb7134f8f69cb1726c50004396ac2837f1d43176c8696b84bf1d1d2876e02428dac75091ee9352720d5934f63b484402f470468df97348ccbbd6a9088c3d2f67f8838a2f1e532d43b0f5c8e0b194a4116731b77ef2b127c7b7b3fcd20b0812442cbe5a63b6e738f99c571d19fec97f03cb5c68bbe3fdd04e204d2f027c3f6acf6b3091b8a080916c1a3a460c893ef6a9561fe62e558927ed07c1b1cacf87bd7abd91471c4d89b48e45928715db4577fbf83ad55624de2556674026b79f096ebdabcf85878981646b200fc6a9c4131e5cfbe2d3b55cc69bfb51aa32872a4b94c86f2bfedabd6f302e630cdc07d4f369b0692f1d650b105013e0715895a9d2418098248837f673575b98b35749dd57ef815512576987f743fdcb39674ae6ba2c4a8b6bbaa4a11a9c1028eb59a95659057929003989a28a51188ef1d9b5d8deab3d3572b28d4928807c356629901483e99d7b7603acaca9f153dfc81447c01e710daf352cf9cc4b00d0bb53cc2b284eabe8cd9bfd28c6c259527c31ad2dc7f38ad1636cb7d453f6c53bed3760691d2d37a73ff57a28cef5c6ee5db15d95fdaa9bd5a4b89d12dfdc045e1fe83b359f2b658a75d32a6033d245a085100678782bf4182fbbcc4bfe0ff65b0f0d51658a1864dce656b22de73a1a9c859ceb6b155e050b8a0807d4d34d19a1442d10e574622349e3e19f0ef9c28f26374459b127e27d3b4cffb843ece881c85da215dec877d4968b210f31e4225ce8bb156d2dfdf14ad92d821c3a0b813a57d052b8a682041a26f0875b300700a5e457c193f92db6a8b73c8bcd364456f8bb53529c954c99c31969ac369381c5b727dd9bd9a3ab5cee352a9b5ec02987d9492ab25848edcd18c4c78f93a45cd507a14f46de1f70b729e6de70532edc0a2fda3073c06602952d881f3cad2bf2f01d1cf42e5a84b53413d157be6c9e17c3feb6e408a3fac81985b5df97a0f0942801ff55fbbf1bfb10827bdaa78bd86eaa29ae87f31950938adb252351362d13e16616bf4b4464f9c3cf31d6ef37979106a1b9b03f50bee48101b392e77d108fdadd90a706db1e0a6441e5b54df975cef4d2607e87b4a830ad43621fb0cbcc1639ff744f32902f0a481a65b62ff67e2e35807864fc723604259048698fda9298312ccd0780786b2ff14de302120d13cb90b4ffde7fd8e56a0d934396d41a2fd3d83a52dda0eb000d7e2e67feda51f4e74f25476f274d7ff15eb3addedcb3901b2c8cb43fb2bbfcc5b6ce0819bb896c7a1eef67333717291472658f895e3a8cb3c2631df319b0abedb0aa17338fde1bf591dd4c0b84fefebc1622bc2c343da5954f67afe310c1ce6fe93905eb3d19d801828630d41eab23325840b23ddb999aeb624d56324d38293784690fe45d9ddf590e022e4657dc567b62977d1486fe18971835b622b166a3095779144ee1af88e2846c7bd97f755e868d9532165e0e9d6b274f8c74a5cdb72240e532fc253be90997937f670659d27b6f8a26b88db112af48a00839a850c3c8b05c786b9b8f2ac03921819a0fa3b484768ca9ca917c4a6b8464b23289b50d828fbe75ec09c50b2b3f0414202e3225ca8e2d2845f03e795dbdbd761af1d23c163c531e702bb82041089db2689685209df9f10e36f58eb686b576902046a4a5a9f768de402aecd64cd77b5076ce44be10562512a058151c8da9efecbbfebc8f0ac5432f17283923444bf185b84ae7236465a216c0d5a092c0f6eca044608aff2a777d0e9c3f6ef4591a0d951e5e9422d2bbec5610fa268a756fa7b927065173128cb9e3ebd6e9a2cf5492316e1f2c5186d33f56ecb590604c5a324af2112c56124fdce93a1b86c9d7c85c981fdf0c56d6adce87808dcf91118325165f43e1ef6a11d9649a7fcb5ac5f796e5fa0b0d31151cce42943270f920e5ca879f98f4945b225b104485561ea984210af086abdcd767d1206819c3ffeaf4e52f4cf931853d0b8fd331a07a448b10c53610d0e7e9fbc6f1b48d2d52c616d8a8354d4fc7f8e9b62461153003dc2735269efcfe7516d3f853eae0d1af022ade5c933be6c4dddc914058f2aba45a54854c8f7fbba4f37766a448eaa09878e85f95970141ab2201e9ecb89b45565eea116d49834f7dcc290473592fcd6400098752cb074c047ee2a0486e19dc24d8911df37503966afdf98d7c2d7fb9765315dd391d49e37364cc765d71e65770f9ad9ed8b1ea6b7c217859ba472e871190ec5aa96402dbd2dc7add6378d0a9fc99d4107e2ab881c824cc8bf86b3ee196bf3e8aee9f471b43711c79faae100b1c2d5818da3c459867a3ac97e4e8c6aaeec52cb20ec3857db8d308e1d7b903d1d01360aba200a9f19a7ab075558b07e5bb9ec7def6d861dd91b71f1b7d4f6955f3ae3c8e3ab67b5ddd0d25821972c6df2031d1871188f7bb4bbcaec720343f5d8c3a487aff096cfd6154504f146ca437445307819f2b995904e7c1883de27a98cef31e6dc1f24064bb539d698a1930223e9b5771c8b3a8f271b2a5f0150944d2ea44d32e0866eeb5099b3a46651a42a082b03bf98d554e1d40d9c857988ca7dc2c902ef101cfb93dc374c25e91dc3e5765e14384e36b943a22935e53d92121dd4004649c53fd2edcc0946e360aa32267137765849d38253cb8e4dce7fdb8cbaece08dcfcc27527be8b9eb1929dbab3dd1e1c6db5f21a245690e81bc20e4b30991b30ef268c4878e433466e5d7fb617b71c1774a994ec2f87210154cd2b521d21b0656d2b4c3842d58567ea3ee39556834ddbd4cf1c828447f6041d8fa7135cb619f77d499e7367e70e94ff08ed02c700fb766f0b030a4f57a18647b9f99074a8178914c2db202e647d9441a260e463e9bb39bd50b09e4bcb9c7ab9f23072a0d35e8d40d5112adea5747856beda9c88df4ed2321ee07973e1b23b3db1cbe88e0df91953099b8dd0b90f3421c533c2b79327a423cdd9333355b7d2996ab03c5255f8c9077c64c0f132be0e9f7bef0fb1ece497310f1f9640444e1d66f31827c344ab5e5e0a7d8af760b5d2067cd939b463e5b2ad877e08057742d7789ad67c730eb0b8c46cfdbbab231c79a023ebb98864ccdf549b91c906aaf2ac06c52d828d1785e752c7219830cfa24883a60701095da3309c681a2d3d8b0c56e9034bbff0979b57c9658f1091230a2b19a76a1c9a7c3343b72737dbe7dac500abbcb601d6ff859b9bc8ba2d2c139fe6da20a8b93eba86acd261026c7218f7ca4289760bdea5c0e4ee2f09c276bdd7e349f8178cdbd1b33a2f2f033f59e143548cfb247dca6ef5038fa692824e0dd61b020c7c8851f9e8a428c9b811cb3191e29347e0006047381255d09648a4b03812e0e1a9c0d023e316ce47fd699513de9b62ef894a243dfa8a2e7ffa03bae1a0cb2bdda742a2ed37455a10eeb2793abb4c85bd38d81097fb48bbd082f00c9a040997ce18bfad0e4e464326d72992ebe2d40fadea39599729d1d29fdee7bc89cb3ba1a66a93f1d8e137004c4aad1bc3f0d32bf961eb8f63563b34a165b461b1fe92ae81061c14336d394b09437c0c238320599b9d980cb7526f7c3d0b90fd598a99174757a8ef711f13f4a5d41bde176858bd4529c65bfa94209594bedb0ba91eef30e0b4c1b9374c3549c011d98c5cc8347e65d28dd0e37d1cb6d8d114aca966ac47d49e62995c5373b8dec52da89b7ff426b1e4c8129f7af3313daab11192a534845bd60d54e446a4316a930b3442d022a2a5394fd1ce14642187a8f010fb5983c49e8905ccc461713863e737d49dfccb5798ec41464491779291405bf5d880d388873f0f6df92a92662004e351efac73223a3aeabdbee1a1ad60d21724cda9e0061d3181307f91fc1deb69cf3f5af9a31116222c388dfd885c6f8c6a7bfc33e0a592bf2ee88336a412d3173d0eeda5ae685741715dcc2406b282f85c1b48c5c4d65d9f9ef87774a0eef000974f740601cdeb10268c372c32c6d2e6de12908c73e5901d310a46e627dcc2e275fd2028396852be7a20e1f3fa50b3ea73fd80cda8f037024bf42161923c35a3c0c23f5a96f8331d38f0a2597bd0fff0c098c28b874e2565772966c65fb2cc9abfb3a1a2bf2651cd845898b7eadb656f2ee5bb9474d1192bbfe14c6cef3633e1b1668df410d144823aac054c383ad2b9300be2fd902e3eccaa52d2d3f212b1624e3c3b66b4effcb985184d24dafd49fb6ddf8d98bdef53215cc395b0645f1dea6b5807182d585f2699ffa01fabd94de38b6e20730f1a1ce83a180651abe4af136075e471f1f15781769e7b8cda3975068e0f18cc0c9349e1603015c0524806f94ee62e3ab80ff9ec5938108aaeb610dc7659f0f37a88b538391b031603fbad44626e7057dc22939e6419c1a7dcdab85f1c356cd0d3d61a7a922038184fe9d4f24d154ad8d0b9b9f5bdce98e93c35739d9a87bb215b09ad957f0298c80c60209269ed021a0108a4d35dd67a1e3f70a99245b5ccf1097c1f6075fa58655486993981804be53a82a69790b98c78bebef5f09f86bf52c7abd22363ffac999c4b6df2e71489dbaab04b46b338e99fa2f0207530923a4302e5c30152818365bf49dc16aedb85ec29cf18c3950cc9511f99e7118807b6b7d6d41f65d4fbddc40a0e713da33dbc46b7e3f9fdaebb2b95b851d04701dcbb6a3e668758fc23ecbc8cf8153b253bdc072e1fe42f64ae0f016b34ba8d6845b890c79fbdec44f194672293bda9e718a564f41e2548438dc13ad9ba5ce7de49c1be2a9687da7c7cab830b4be2d449a640bf222c382643733c0a84b887ec17c0def20ab3e19d9aaf4ef6a36837eec466ebcc4c7d63fb1da757d221f24f899b347d3fa987827c5ad820d74218b6fe2a38150f7681c049d6da4a9aaf83898e6d73e0b339745f96c0cf8d98107a8b9958386b2ed80efe02d91b99c2e7f6eb85da2dae27392e90426b29c98693671ff6c026b8c01bc08b39fb85af0a607162db8992d2cd42718e36d3af86a54f8ebac915c88a4a9d893a90db2f72a7d927c7a186f19b15ca860631f916bb34de8126e5ea3df7883ec8d0d1c3c408e69f65ed30f5fe35bcd25353aa5adfbc0ee0303e61bc4ae9ed6e992bdbf034f508bbaf7ad05f4a68b14a190c02135858a0df0089fc149e8c3eb2f342d8738565de14a35831a1f0c850e5f08aa9726112ec9a3be4527d790b4042aa19c28d4a09b9695233a5d78f814c5228865c9c2df804c8833a67e4ef1f01396e2b13a3a3c79ce1753e6aef8c507406c41435a5eb4bcbb564495c1f3a7acda51401ac091e06bfbe198816acfeb08e9e3600a544b3d1d6343a9cae307de5777d028e1dcb8abfe849d3ecd979cdebcd35deaec8ea400894540a150cd08d2dae965c35a63340c785842b125eda3158347a88f81039d6673353b65e6403171f332d860a431d8269ab03442167f351b662815530cf6ceb7464cbd18e06937385641ea5da84cff67011a7aad0ddbb0a2b724e5c7410455c04743354140eee3b87a0b3b3ddd76d1be8dc8763157e474e17cc8ad36eb032bcc7552165c183a980a5f19310ef6a2361f187b9b357b7b1b85a9feea0850cd2fb078f203f477b302a6ed42b93c366f28c44b6be80957dc865e9402602ff8c3eeda8342b32159e908dc3a844e3b7b874f21bf3a8ccfc064a64155d555b35c7531234a53399e17fa2266a2d179367a2a7dd5505be44cfee98a6df7b666f9b3264c4ddab63cf4d99dd9809b474e3ec39e493489175df5e60721f8f975f112a2654bea472b52a3a8f58a6a096bc35aebd6466f4cfffd044003bc978f7a04921d513f15ab3a960be3c8814286cdf348feacd&lt;/script&gt;
  &lt;div class=&#34;hbe hbe-content&#34;&gt;
    &lt;div class=&#34;hbe hbe-input hbe-input-default&#34;&gt;
      &lt;input class=&#34;hbe hbe-input-field hbe-input-field-default&#34; type=&#34;password&#34; id=&#34;hbePass&#34;&gt;
      &lt;label class=&#34;hbe hbe-input-label hbe-input-label-default&#34; for=&#34;hbePass&#34;&gt;
        &lt;span class=&#34;hbe hbe-input-label-content hbe-input-label-content-default&#34;&gt;您好, 这里需要密码.&lt;/span&gt;
      &lt;/label&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/div&gt;
&lt;script data-pjax src=&#34;/lib/hbe.js&#34;&gt;&lt;/script&gt;&lt;link href=&#34;/css/hbe.style.css&#34; rel=&#34;stylesheet&#34; type=&#34;text/css&#34;&gt;</content>
        <category term="isp" />
        <category term="awb" />
        <category term="mywork" />
        <updated>2022-03-24T13:50:17.399Z</updated>
    </entry>
    <entry>
        <id>https://blog.17lai.site/posts/80938cfe/</id>
        <title>emoji表情符号</title>
        <link rel="alternate" href="https://blog.17lai.site/posts/80938cfe/"/>
        <content type="html">&lt;blockquote&gt;
&lt;p&gt;emoji表情符号是非常流行的表情符号，几乎没有地方都会支持。这里列举出常用的emoji表情不好，方便大家使用与查阅。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;span id=&#34;more&#34;&gt;&lt;/span&gt;
&lt;h2 id=&#34;常用符号&#34;&gt;常用符号&lt;/h2&gt;
&lt;pre class=&#34;line-numbers language-none&#34;&gt;&lt;code class=&#34;language-none&#34;&gt;❤❥웃유♋☮✌☏☢☠✔☑♚▲♪✈✞÷↑↓◆◇⊙■□△▽¿─│♥❣♂♀☿Ⓐ✍✉☣☤✘☒♛▼♫⌘☪≈←→◈◎☉★☆⊿※¡━┃♡ღ ツ

☼☁❅♒✎©®™Σ✪✯☭➳ 卐 √↖↗●◐Θ◤◥︻〖〗┄┆℃℉°✿ϟ☃☂✄¢€£∞✫★½✡×↙↘○◑⊕◣◢︼【】┅┇☽☾✚〓

▂▃▄▅▆▇█▉▊▋▌▍▎▏↔↕☽☾ の•▸◂▴▾┈┊①②③④⑤⑥⑦⑧⑨⑩ⅠⅡⅢⅣⅤⅥⅦⅧⅨⅩ ㍿ ▓♨♛❖♓☪✙

┉┋☹☺☻ت ヅツッシ Üϡﭢ™℠℗©®♥❤❥❣❦❧♡۵웃유ღ♋♂♀☿☼☀☁☂☄☾☽❄☃☈⊙☉℃℉❅✺ϟ☇♤♧♡♢♠♣

♥♦☜☞☝✍☚☛☟✌✽✾✿❁❃❋❀⚘☑✓✔√☐☒✗✘ ㄨ ✕✖✖⋆✢✣✤✥❋✦✧✩✰✪✫✬✭✮✯❂✡★✱✲✳✴✵✶✷✸✹✺✻✼❄❅❆❇❈❉❊†☨✞✝☥☦☓☩☯☧☬

☸✡♁✙♆。，、＇：∶；?‘’“”〝〞ˆˇ﹕︰﹔﹖﹑•¨….¸;！´？！～—ˉ ｜‖＂〃｀@﹫¡¿﹏﹋﹌︴々﹟#

﹩$﹠&amp;amp;﹪%*﹡﹢﹦﹤‐￣ ¯―﹨ˆ˜﹍﹎+=&amp;lt;＿*-\ˇ~﹉﹊（）〈〉‹›﹛﹜『』〖〗［］《》〔〕{}「」【】︵︷︿︹︽*﹁﹃︻︶︸﹀︺︾ˉ﹂﹄︼☩☨☦✞✛✜✝✙✠✚†‡◉○◌◍◎●◐◑◒◓◔◕◖◗❂☢⊗⊙◘◙◍⅟½⅓⅕⅙⅛⅔⅖⅚⅜¾⅗⅝⅞⅘≂≃≄≅≆≇≈≉≊≋≌

≍≎≏≐≑≒≓≔≕≖≗≘≙≚≛≜≝≞≟≠≡≢≣≤≥≦≧≨≩⊰⊱⋛⋚∫∬∭∮∯∰∱∲∳%℅‰‱㊣㊎㊍㊌㊋㊏㊐㊊㊚㊛㊤㊥

㊦㊧㊨㊒㊞㊑㊒㊓㊔㊕㊖㊗㊘㊜㊝㊟㊠㊡㊢㊩㊪㊫㊬㊭㊮㊯㊰㊙ ㉿ 囍 ♔♕♖♗♘♙♚♛♜♝♞♟ℂℍℕℙℚℝℤℬℰℯℱℊℋℎℐℒℓℳℴ℘ℛℭ℮ℌℑℜℨ♪♫♩♬♭♮♯°øⒶ☮✌☪✡☭✯ 卐 ✐✎✏

✑✒✍✉✁✂✃✄✆✉☎☏➟➡➢➣➤➥➦➧➨➚➘➙➛➜➝➞➸♐➲➳⏎➴➵➶➷➸➹➺➻➼➽←↑→↓↔↕↖↗↘↙↚↛↜↝

↞↟↠↡↢↣↤↥↦↧↨➫➬➩➪➭➮➯➱↩↪↫↬↭↮↯↰↱↲↳↴↵↶↷↸↹↺↻↼↽↾↿⇀⇁⇂⇃⇄⇅⇆⇇⇈⇉⇊⇋⇌⇍⇎⇏⇐⇑⇒⇓⇔⇕

⇖⇗⇘⇙⇚⇛⇜⇝⇞⇟⇠⇡⇢⇣⇤⇥⇦⇧⇨⇩⇪➀➁➂➃➄➅➆➇➈➉➊➋➌➍➎➏➐➑➒➓㊀㊁㊂㊃㊄㊅㊆㊇㊈㊉ⒶⒷⒸⒹⒺⒻⒼⒽⒾⒿⓀⓁⓂⓃⓄⓅⓆⓇⓈⓉⓊⓋⓌⓍⓎⓏⓐⓑⓒⓓⓔⓕⓖⓗⓘⓙⓚⓛⓜⓝⓞⓟⓠⓡ

ⓢⓣⓤⓥⓦⓧⓨⓩ⒜⒝⒞⒟⒠⒡⒢⒣⒤⒥⒦⒧⒨⒩⒪⒫⒬⒭⒮⒯⒰⒱⒲⒳⒴⒵ⅠⅡⅢⅣⅤ

ⅥⅦⅧⅨⅩⅪⅫⅬⅭⅮⅯⅰⅱⅲⅳⅴⅵⅶⅷⅸⅹⅺⅻⅼⅽⅾⅿ┌┍┎┏┐┑┒┓└┕┖┗┘┙┚┛├┝┞┟┠┡┢┣┤┥┦┧┨┩┪┫
┬┭┮┯┰┱┲┳┴┵┶┷┸┹┺┻┼┽
┾┿╀╁╂╃╄╅╆╇╈╉╊╋╌╍╎╏
═║╒╓╔╕╖╗╘╙╚╛╜╝╞╟╠╡╢╣╤╥╦╧╨╩╪╫╬◤◥◄►▶◀◣◢▲

▼◥▸◂▴▾△▽▷◁⊿▻◅▵▿▹◃❏❐❑❒▀▁▂▃▄▅▆▇▉▊▋█▌▍▎▏▐░▒▓▔▕■□▢▣▤▥▦▧

▨▩▪▫▬▭▮▯ ㋀㋁㋂㋃㋄㋅㋆㋇㋈㋉㋊㋋㏠㏡㏢㏣㏤㏥㏦㏧㏨㏩㏪㏫㏬㏭㏮㏯㏰㏱㏲

㏳㏴㏵㏶㏷㏸㏹㏺㏻㏼㏽㏾㍙㍚㍛㍜㍝㍞㍟㍠㍡㍢㍣㍤㍥㍦㍧㍨㍩㍪㍫㍬㍭㍮㍯㍰㍘

☰☲☱☴☵☶☳☷☯&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;特殊符号&#34;&gt;特殊符号&lt;/h2&gt;
&lt;pre class=&#34;line-numbers language-none&#34;&gt;&lt;code class=&#34;language-none&#34;&gt;♠♣♧♡♥❤❥❣♂♀✲☀☼☾☽◐◑☺☻☎☏✿❀№↑↓←→√×÷★℃℉°◆◇⊙■□△▽¿½☯✡ ㍿卍卐 ♂♀✚〓㎡♪♫♩♬

㊚㊛囍㊒㊖ Φ♀♂‖KaTeX parse error: Expected ‘EOF’, got ‘&amp;amp;’ at position 3: @*&amp;amp;̲#※卍卐 Ψ♫♬♭♩♪♯♮⌒¶∮…&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;编号序号&#34;&gt;编号序号&lt;/h2&gt;
&lt;pre class=&#34;line-numbers language-none&#34;&gt;&lt;code class=&#34;language-none&#34;&gt;①②③④⑤⑥⑦⑧⑨⑩⑪⑫⑬⑭⑮⑯⑰⑱⑲⑳⓪

❶❷❸❹❺❻❼❽❾❿⓫⓬⓭⓮⓯⓰⓱⓲⓳⓴

㊀㊁㊂㊃㊄㊅㊆㊇㊈㊉㈠㈡㈢㈣㈤㈥㈦㈧㈨㈩⑴⑵⑶⑷⑸⑹⑺⑻⑼⑽⑾⑿⒀⒁⒂⒃⒄⒅⒆⒇

⒈⒉⒊⒋⒌⒍⒎⒏⒐⒑⒒⒓⒔⒕⒖⒗⒘⒙⒚⒛

ⅠⅡⅢⅣⅤⅥⅦⅧⅨⅩⅪⅫⅰⅱⅲⅳⅴⅵⅶⅷⅸⅹ

ⒶⒷⒸⒹⒺⒻⒼⒽⒾⒿⓀⓁⓂⓃⓄⓅⓆⓇⓈⓉⓊⓋⓌⓍⓎⓏⓐⓑⓒⓓⓔⓕⓖⓗⓘⓙⓚⓛⓜⓝⓞⓟⓠⓡⓢⓣⓤⓥⓦⓧⓨⓩ

⒜⒝⒞⒟⒠⒡⒢⒣⒤⒥⒦⒧⒨⒩⒪⒫⒬⒭⒮⒯⒰⒱⒲⒳⒴⒵&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;数学符号&#34;&gt;数学符号&lt;/h2&gt;
&lt;pre class=&#34;line-numbers language-none&#34;&gt;&lt;code class=&#34;language-none&#34;&gt;﹢﹣×÷±/=≌∽≦≧≒ ﹤﹥ ≈≡≠=≤≥&amp;lt;&amp;gt;≮≯∷∶∫∮∝∞∧∨∑∏∪∩∈∵∴⊥∥∠⌒⊙√∟⊿㏒㏑%

‰⅟½⅓⅕⅙⅛⅔⅖⅚⅜¾⅗⅝⅞⅘≂≃≄≅≆≇≈≉≊≋≌≍≎≏≐≑≒≓≔≕≖≗≘≙≚≛≜≝≞≟

≠≡≢≣≤≥≦≧≨≩⊰⊱⋛⋚∫∬∭∮∯∰∱∲∳%℅‰‱øØπ&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;爱心符号&#34;&gt;爱心符号&lt;/h2&gt;
&lt;pre class=&#34;line-numbers language-none&#34;&gt;&lt;code class=&#34;language-none&#34;&gt;♥❣ღ♠♡♤❤❥&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;标点符号&#34;&gt;标点符号&lt;/h2&gt;
&lt;pre class=&#34;line-numbers language-none&#34;&gt;&lt;code class=&#34;language-none&#34;&gt;。，、＇：∶；?‘’“”〝〞ˆˇ﹕︰﹔﹖﹑•¨….¸;！´？！～—ˉ ｜‖＂〃｀@﹫¡¿﹏﹋﹌︴

々﹟#﹩$﹠&amp;amp;﹪%*﹡﹢﹦﹤‐￣ ¯―﹨ˆ˜﹍﹎+=&amp;lt;＿*-\ˇ~﹉﹊

（）〈〉‹›﹛﹜『』〖〗［］《》〔〕{}「」【】

︵︷︿︹︽*﹁﹃︻︶︸﹀︺︾ˉ﹂﹄︼❝❞&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;单位符号&#34;&gt;单位符号&lt;/h2&gt;
&lt;pre class=&#34;line-numbers language-none&#34;&gt;&lt;code class=&#34;language-none&#34;&gt;°′″＄￥〒￠￡％＠℃℉ ﹩﹪‰﹫㎡㏕㎜㎝㎞㏎m³㎎㎏㏄º○¤%$º¹²³&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;货币符号&#34;&gt;货币符号&lt;/h2&gt;
&lt;pre class=&#34;line-numbers language-none&#34;&gt;&lt;code class=&#34;language-none&#34;&gt;€£Ұ₴$₰¢₤¥₳₲₪₵ 元 ₣₱฿¤₡₮₭₩ރ 円 ₢₥₫₦zł﷼₠₧₯₨Kčर₹ƒ₸ ￠&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;箭头符号（含推导-转换符号）&#34;&gt;箭头符号（含推导&amp;amp;转换符号）&lt;/h2&gt;
&lt;pre class=&#34;line-numbers language-none&#34;&gt;&lt;code class=&#34;language-none&#34;&gt;↑↓←→↖↗↘↙↔↕➻➼➽➸➳➺➻➴➵➶➷➹▶►▷◁◀◄«

»➩➪➫➬➭➮➯➱⏎➲➾➔➘➙➚➛➜➝➞➟➠➡➢➣➤➥➦➧➨

↚↛↜↝↞↟↠↠↡↢↣↤↤↥↦↧↨⇄⇅⇆⇇⇈⇉⇊⇋⇌⇍⇎⇏⇐⇑⇒⇓⇔⇖⇗⇘⇙

⇜↩↪↫↬↭↮↯↰↱↲↳↴↵↶↷↸↹☇☈↼↽↾↿⇀⇁⇂⇃⇞⇟⇠⇡⇢⇣⇤⇥⇦⇧⇨⇩⇪↺↻⇚⇛♐&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;符号图案&#34;&gt;符号图案&lt;/h2&gt;
&lt;pre class=&#34;line-numbers language-none&#34;&gt;&lt;code class=&#34;language-none&#34;&gt;✐✎✏✑✒✍✉✁✂✃✄✆✉☎☏☑✓✔√☐☒✗✘ ㄨ ✕✖✖☢☠☣✈★☆✡ 囍㍿ ☯☰☲☱☴☵☶☳☷

☜☞☝✍☚☛☟✌♤♧♡♢♠♣♥♦☀☁☂❄☃♨웃유❖☽☾☪✿♂♀✪✯☭➳ 卍卐 √×■◆●○◐◑✙☺☻

❀⚘♔♕♖♗♘♙♚♛♜♝♞♟♧♡♂♀♠♣♥❤☜☞☎☏⊙◎☺☻☼▧▨♨◐◑↔↕▪▒◊◦▣▤▥▦▩◘◈◇

♬♪♩♭♪ の ★☆→ あぃ￡ Ю〓§♤♥▶¤✲❈✿✲❈➹☀☂☁【】┱┲❣✚✪✣✤✥✦❉❥❦❧❃❂❁❀✄☪☣☢☠☭ღ▶▷◀◁

☀☁☂☃☄★☆☇☈⊙☊☋☌☍ⓛⓞⓥⓔ╬『』∴☀♫♬♩♭♪☆∷﹌の ★◎▶☺☻►◄▧▨♨◐◑↔↕↘▀▄█▌

◦☼♪ の ☆→♧ ぃ￡ ❤▒▬♦◊◦♠♣▣۰•❤•۰►◄▧▨♨◐◑↔↕▪▫☼♦⊙●○①⊕◎Θ⊙¤ ㊣ ★☆♀◆◇◣◢◥▲▼△▽⊿◤◥

✐✌✍✡✓✔✕✖♂♀♥♡☜☞☎☏⊙◎☺☻►◄▧▨♨◐◑↔↕♥♡▪▫☼♦▀▄█▌▐░▒▬♦◊◘◙◦☼♠♣▣▤▥▦▩◘◙◈

♫♬♪♩♭♪✄☪☣☢☠♯♩♪♫♬♭♮☎☏☪♈ºº₪¤큐«»™♂✿♥ 　 ◕‿-｡　｡◕‿◕｡&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;希腊字母&#34;&gt;希腊字母&lt;/h2&gt;
&lt;pre class=&#34;line-numbers language-none&#34;&gt;&lt;code class=&#34;language-none&#34;&gt;ΑΒΓΔΕΖΗΘΙΚΛΜΝΞΟΠΡΣΤΥΦΧΨΩ

αβγδεζνξοπρσηθικλμτυφχψω&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;俄语字母&#34;&gt;俄语字母&lt;/h2&gt;
&lt;pre class=&#34;line-numbers language-none&#34;&gt;&lt;code class=&#34;language-none&#34;&gt;АБВГДЕЁЖЗИЙКЛМНОПРСТУФХЦЧШЩЪЫЬЭЮЯабвг

деёжзийклмнопрстуфхцчшщъыьэюя&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;汉语拼音&#34;&gt;汉语拼音&lt;/h2&gt;
&lt;pre class=&#34;line-numbers language-none&#34;&gt;&lt;code class=&#34;language-none&#34;&gt;āáǎàōóǒòēéěèīíǐìūúǔùǖǘǚǜüêɑńňɡ ㄅㄆㄇㄈㄉ

ㄊㄋㄌㄍㄎㄏㄐㄑㄒㄓㄔㄕㄖㄗㄘㄙㄚㄛㄜㄝㄞ

ㄟㄠㄡㄢㄣㄤㄥㄦㄧㄨㄩ&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;中文字符&#34;&gt;中文字符&lt;/h2&gt;
&lt;pre class=&#34;line-numbers language-none&#34;&gt;&lt;code class=&#34;language-none&#34;&gt;零壹贰叁肆伍陆柒捌玖拾佰仟万亿吉太拍艾分厘毫微

卍卐卄巜弍弎弐朤氺曱甴囍兀々〆のぁ〡〢〣〤〥〦〧〨〩

㊎㊍㊌㊋㊏㊚㊛㊐㊊㊣㊤㊥㊦㊧㊨㊒㊫㊑㊓㊔㊕㊖㊗㊘㊜㊝㊞㊟㊠㊡㊢㊩㊪㊬㊭㊮㊯㊰

㊀㊁㊂㊃㊄㊅㊆㊇㊈㊉&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;日文符号&#34;&gt;日文符号&lt;/h2&gt;
&lt;pre class=&#34;line-numbers language-none&#34;&gt;&lt;code class=&#34;language-none&#34;&gt;ぁあぃいぅうぇえぉおかがきぎくぐけげこごさざしじすずせぜそぞただちぢっつづてで

とどなにぬねのはばぱひびぴふぶぷへべぺほぼぽまみむめもゃやゅゆょよらりるれろゎ

わゐゑをんゔゕゖァアィイゥウェエォオカガキギクグケゲコゴサザシジスズセゼソゾタ

ダチヂッツヅテデトドナニヌネノハバパヒビピフブプヘベペホボポマミムメモャヤュユ

ョヨラリルレロヮワヰヱヲンヴヵヶヷヸヹヺ・ーヽヾヿ゠ㇰㇱㇲㇳㇴㇵㇶㇷㇸㇹㇺㇻㇼㇽㇾㇿ&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;制表符号&#34;&gt;制表符号&lt;/h2&gt;
&lt;pre class=&#34;line-numbers language-none&#34;&gt;&lt;code class=&#34;language-none&#34;&gt;─ ━│┃╌╍╎╏┄ ┅┆┇┈ ┉┊┋┌┍┎┏┐┑┒┓└ ┕┖┗ ┘┙┚┛├┝┞┟┠┡┢┣ ┤┥┦┧┨┩┪┫┬ ┭ ┮ ┯ ┰ ┱ ┲ ┳

┴ ┵ ┶ ┷ ┸ ┹ ┺ ┻┼ ┽ ┾ ┿ ╀ ╁ ╂ ╃ ╄ ╅ ╆ ╇ ╈ ╉ ╊ ╋ ╪ ╫ ╬═║╒╓╔ ╕╖╗╘╙╚ ╛╜╝╞╟╠ ╡╢╣

╤ ╥ ╦ ╧ ╨ ╩ ╳╔ ╗╝╚ ╬ ═ ╓ ╩ ┠ ┨┯ ┷┏ ┓┗ ┛┳ ⊥ ﹃ ﹄┌ ╮ ╭ ╯╰&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;皇冠符号&#34;&gt;皇冠符号&lt;/h2&gt;
&lt;pre class=&#34;line-numbers language-none&#34;&gt;&lt;code class=&#34;language-none&#34;&gt;♚ 　 ♛ 　 ♝ 　 ♞ 　 ♜ 　 ♟ 　 ♔ 　 ♕ 　 ♗ 　 ♘ 　 ♖ 　 ♟&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;彩色表情符号&#34;&gt;彩色表情符号&lt;/h2&gt;
&lt;pre class=&#34;line-numbers language-none&#34;&gt;&lt;code class=&#34;language-none&#34;&gt;🌹🍀🍎💰📱🌙🍁🍂🍃🌷💎🔪🔫🏀⚽⚡👄👍🔥&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;常用-emoji-符号&#34;&gt;常用 emoji 符号&lt;/h2&gt;
&lt;pre class=&#34;line-numbers language-none&#34;&gt;&lt;code class=&#34;language-none&#34;&gt;😀😁😂😃😄😅😆😉😊😋😎😍😘😗😙😚☺😇😐😑😶😏😣😥😮😯😪😫😴😌😛😜😝😒😓😔😕😲😷😖😞😟😤😢😭😦😧😨😬😰😱😳😵😡😠😈👿👹👺💀👻👽👦👧👨👩👴👵👶👱👮👲👳👷👸💂🎅👰👼💆💇🙍🙎🙅🙆💁🙋🙇🙌🙏👤👥🚶🏃👯💃👫👬👭💏💑👪💪👈👉☝👆👇✌✋👌👍👎✊👊👋👏👐✍👣👀👂👃👅👄💋👓👔👕👖👗👘👙👚👛👜👝🎒💼👞👟👠👡👢👑👒🎩🎓💄💅💍🌂🙈🙉🙊🐵🐒🐶🐕🐩🐺🐱😺😸😹😻😼😽🙀😿😾🐈🐯🐅🐆🐴🐎🐮🐂🐃🐄🐷🐖🐗🐽🐏🐑🐐🐪🐫🐘🐭🐁🐀🐹🐰🐇🐻🐨🐼🐾🐔🐓🐣🐤🐥🐦🐧🐸🐊🐢🐍🐲🐉🐳🐋🐬🐟🐠🐡🐙🐚🐌🐛🐜🐝🐞🦋💐🌸💮🌹🌺🌻🌼🌷🌱🌲🌳🌴🌵🌾🌿🍀🍁🍂🍃🌍🌎🌏🌐🌑🌒🌓🌔🌕🌖🌗🌘🌙🌚🌛🌜☀🌝🌞⭐🌟🌠☁⛅☔⚡❄🔥💧🌊💩🍇🍈🍉🍊🍋🍌🍍🍎🍏🍐🍑🍒🍓🍅🍆🌽🍄🌰🍞🍖🍗🍔🍟🍕🍳🍲🍱🍘🍙🍚🍛🍜🍝🍠🍢🍣🍤🍥🍡🍦🍧🍨🍩🍪🎂🍰🍫🍬🍭🍮🍯🍼☕🍵🍶🍷🍸🍹🍺🍻🍴🎪🎭🎨🎰🚣🛀🎫🏆⚽⚾🏀🏈🏉🎾🎱🎳⛳🎣🎽🎿🏂🏄🏇🏊🚴🚵🎯🎮🎲🎷🎸🎺🎻🎬👾🌋🗻🏠🏡🏢🏣🏤🏥🏦🏨🏩🏪🏫🏬🏭🏯🏰💒🗼🗽⛪⛲🌁🌃🌆🌇🌉🌌🎠🎡🎢🚂🚃🚄🚅🚆🚇🚈🚉🚊🚝🚞🚋🚌🚍🚎🚏🚐🚑🚒🚓🚔🚕🚖🚗🚘🚚🚛🚜🚲⛽🚨🚥🚦🚧⚓⛵🚤🚢✈💺🚁🚟🚠🚡🚀🎑🗿🛂🛃🛄🛅💌💎🔪💈🚪🚽🚿🛁⌛⏳⌚⏰🎈🎉🎊🎎🎏🎐🎀🎁📯📻📱📲☎📞📟📠🔋🔌💻💽💾💿📀🎥📺📷📹📼🔍🔎🔬🔭📡💡🔦🏮📔📕📖📗📘📙📚📓📃📜📄📰📑🔖💰💴💵💶💷💸💳✉📧📨📩📤📥📦📫📪📬📭📮✏✒📝📁📂📅📆📇📈📉📊📋📌📍📎📏📐✂🔒🔓🔏🔐🔑🔨🔫🔧🔩🔗💉💊🚬🔮🚩🎌💦💨💣☠♠♥♦♣🀄🎴🔇🔈🔉🔊📢📣💤💢💬💭♨🌀🔔🔕✡✝🔯📛🔰🔱⭕✅☑✔✖❌❎➕➖➗➰➿〽✳✴❇‼⁉❓❔❕❗©®™🎦🔅🔆💯🔠🔡🔢🔣🔤🅰🆎🅱🆑🆒🆓ℹ🆔Ⓜ🆕🆖🅾🆗🅿🆘🆙🆚🈁🈂🈷🈶🈯 🉐 🈹🈚🈲 🉑 🈸🈴🈳 ㊗㊙ 🈺🈵▪▫◻◼◽◾⬛⬜🔶🔷🔸🔹🔺🔻💠🔲🔳⚪⚫🔴🔵♈♉♊♋♌♍♎♏♐♑♒♓⛎💘❤💓💔💕💖💗💙💚💛💜💝💞💟❣🌿🚧💒☎📟💽⬆↗➡↘⬇↙⬅↖↕↔↩↪⤴⤵🔃🔄🔙🔚🔛🔜🔝🔀🔁🔂▶⏩◀⏪🔼⏫🔽⏬📱📶📳📴♻🏧🚮🚰♿🚹🚺🚻🚼🚾⚠🚸⛔🚫🚳🚭🚯🚱🚷🔞&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;link rel=&#34;stylesheet&#34; href=&#34;/css/bilicard.css&#34; type=&#34;text/css&#34;&gt;</content>
        <category term="web" />
        <category term="emoji" />
        <updated>2022-03-23T10:18:00.000Z</updated>
    </entry>
    <entry>
        <id>https://blog.17lai.site/posts/3b296307/</id>
        <title>winrar去广告和破解</title>
        <link rel="alternate" href="https://blog.17lai.site/posts/3b296307/"/>
        <content type="html">&lt;blockquote&gt;
&lt;p&gt;WinRAR 是一款不错的解压缩软件，但还是收费软件，广告不少，今天就总结了一下网上的各路教程。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/hexo@latest/medias_webp/cover/winrar.webp&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;h2 id=&#34;crack-winrar&#34;&gt;crack winrar&lt;/h2&gt;
&lt;p&gt;首先通过特殊方式获取软件许可：&lt;br&gt;
新建一个文本文档&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2022/03/1920220319200929.png&#34; alt=&#34;img&#34;&gt;&lt;/p&gt;
&lt;p&gt;在这个文本文档里输入内容：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-key&#34; data-language=&#34;key&#34;&gt;&lt;code class=&#34;language-key&#34;&gt;RAR registration data``Federal Agency ``for` `Education``1000000 PC usage license``UID=b621cca9a84bc5deffbf``6412612250ffbf533df6db2dfe8ccc3aae5362c06d54762105357d``5e3b1489e751c76bf6e0640001014be50a52303fed29664b074145``7e567d04159ad8defc3fb6edf32831fd1966f72c21c0c53c02fbbb``2f91cfca671d9c482b11b8ac3281cb21378e85606494da349941fa``e9ee328f12dc73e90b6356b921fbfb8522d6562a6a4b97e8ef6c9f``fb866be1e3826b5aa126a4d2bfe9336ad63003fc0e71c307fc2c60``64416495d4c55a0cc82d402110498da970812063934815d81470829275&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2021/11/0320211103230820.png&#34; alt=&#34;img&#34;&gt;&lt;/p&gt;
&lt;p&gt;然后将文件名改为：rarreg.key&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2021/11/0320211103231031.png&#34; alt=&#34;img&#34;&gt;&lt;/p&gt;
&lt;p&gt;再将这个文件导入WinRAR的安装文件夹&lt;br&gt;
&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2021/11/0320211103231545.png&#34; alt=&#34;img&#34;&gt;&lt;br&gt;
&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2021/11/0320211103231839.png&#34; alt=&#34;img&#34;&gt;&lt;br&gt;
这时点开关于WinRAR，已经获取许可。&lt;br&gt;
&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2021/11/0320211103231800.png&#34; alt=&#34;img&#34;&gt;&lt;/p&gt;
&lt;h2 id=&#34;去除广告&#34;&gt;去除广告&lt;/h2&gt;
&lt;p&gt;接下来使用Resource Hacker软件打开&lt;strong&gt;winrar&lt;/strong&gt;.exe&lt;br&gt;
&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2021/11/0320211103231916.png&#34; alt=&#34;img&#34;&gt;&lt;br&gt;
进入字串表，找到“80”，删除“1267”和“1277”行&lt;br&gt;
点击绿色三角形按钮，编译。&lt;br&gt;
&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2021/11/0320211103231939.png&#34; alt=&#34;img&#34;&gt;&lt;br&gt;
然后：文件→另存为，进行保存。&lt;br&gt;
&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2021/11/0320211103232002.png&#34; alt=&#34;img&#34;&gt;&lt;br&gt;
然后对源文件：winrar.exe进行替换,注意，要关闭winrar软件&lt;br&gt;
&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2021/11/0320211103232039.png&#34; alt=&#34;img&#34;&gt;&lt;/p&gt;
&lt;p&gt;至此，已经完成破解和去广告了。&lt;/p&gt;
&lt;p&gt;参考来源 52pojie&lt;/p&gt;
&lt;link rel=&#34;stylesheet&#34; href=&#34;/css/bilicard.css&#34; type=&#34;text/css&#34;&gt;</content>
        <category term="crack" />
        <category term="tools" />
        <category term="winrar" />
        <updated>2022-03-19T12:00:47.000Z</updated>
    </entry>
    <entry>
        <id>https://blog.17lai.site/posts/90e60aac/</id>
        <title>使用 Shell 脚本实现一个简单 Docker</title>
        <link rel="alternate" href="https://blog.17lai.site/posts/90e60aac/"/>
        <content type="html">&lt;blockquote&gt;
&lt;p&gt;《使用 Shell 脚本实现 Docker》旨在通过一系列的实验使用户对docker的底层技术，如Namespace、CGroups、rootfs、联合加载等有一个感性的认识。在此过程中，我们还将通过Shell脚本一步一步地实现一个简易的docker，以期使读者在使用docker的过程中知其然知其所以然。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;我们的实验环境为Ubuntu 18.04 64bit，简易docker工程的名字为docker.sh，该工程仓库地址如下：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-html&#34; data-language=&#34;html&#34;&gt;&lt;code class=&#34;language-html&#34;&gt;https://github.com/pandengyang/docker.sh.git
https://github.com/appotry/docker.sh&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;《使用 Shell 脚本实现 Docker》目录如下：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-none&#34;&gt;&lt;code class=&#34;language-none&#34;&gt;1. Namespace
1.1. Namespace简介
1.2. uts namespace
1.2.1. uts namespace简介
1.2.2. docker.sh
1.3. mount namespace
1.3.1. /etc/mtab、/proc/self/mounts
1.3.2. /proc/self/mountinfo
1.3.3. bind mount
1.3.4. mount namespace简介
1.3.5. docker.sh
1.4. pid namespace
1.4.1. unshare的--fork选项
1.4.2. pid namespace简介
1.4.3. pid嵌套
1.4.4. docker.sh
2. CGroups
2.1. CGroups简介
2.2. 限制内存
2.2.1. 用CGroups限制内存
2.2.2. docker.sh
3. 切换根文件系统
3.1. 根文件系统
3.2. pivot_root
3.3. docker.sh
4. 联合加载
4.1. 联合加载简介
4.2. AUFS
4.3. docker.sh
5. 卷
5.1. 卷简介
5.2. docker.sh
6. 后记&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;1-Namespace&#34;&gt;1.Namespace&lt;/h2&gt;
&lt;h3 id=&#34;1-1-Namespace简介&#34;&gt;1.1.Namespace简介&lt;/h3&gt;
&lt;p&gt;传统上，在Linux中，许多资源是全局管理的。例如，系统中的所有进程按照惯例是通过PID标识的，这意味着内核必须管理一个全局的PID列表。而且，所有调用者通过uname系统调用返回的系统相关信息都是相同的。用户id的管理方式类似，即各个用户是通过一个全局唯一的UID标识。&lt;/p&gt;
&lt;p&gt;Namespace是Linux用来隔离上述全局资源的一种方式。把一个或多个进程加入到同一个namespace中后，这些进程只会看到该namespace中的资源。namespace是后来加入到Linux中的，为了兼容之前的全局资源管理方式，Linux为每一种资源准备了一个全局的namespace。Linux中的每一个进程都默认加入了这些全局namespace。&lt;/p&gt;
&lt;p&gt;Linux中的每个进程都有一个/proc/[pid]/ns/目录，里面包含了该进程所属的namespace信息。我们查看一下当前Shell的/proc/[pid]/ns目录，命令及结果如下：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-bash&#34; data-language=&#34;bash&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;phl@kernelnewbies:~$ &lt;span class=&#34;token function&#34;&gt;sudo&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;ls&lt;/span&gt; -l /proc/&lt;span class=&#34;token variable&#34;&gt;$$&lt;/span&gt;/ns
total &lt;span class=&#34;token number&#34;&gt;0&lt;/span&gt;
lrwxrwxrwx &lt;span class=&#34;token number&#34;&gt;1&lt;/span&gt; phl phl &lt;span class=&#34;token number&#34;&gt;0&lt;/span&gt; Jan &lt;span class=&#34;token number&#34;&gt;22&lt;/span&gt; 08:43 cgroup -&lt;span class=&#34;token operator&#34;&gt;&amp;gt;&lt;/span&gt; cgroup:&lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;4026531835&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;
lrwxrwxrwx &lt;span class=&#34;token number&#34;&gt;1&lt;/span&gt; phl phl &lt;span class=&#34;token number&#34;&gt;0&lt;/span&gt; Jan &lt;span class=&#34;token number&#34;&gt;22&lt;/span&gt; 08:43 ipc -&lt;span class=&#34;token operator&#34;&gt;&amp;gt;&lt;/span&gt; ipc:&lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;4026531839&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;
lrwxrwxrwx &lt;span class=&#34;token number&#34;&gt;1&lt;/span&gt; phl phl &lt;span class=&#34;token number&#34;&gt;0&lt;/span&gt; Jan &lt;span class=&#34;token number&#34;&gt;22&lt;/span&gt; 08:43 mnt -&lt;span class=&#34;token operator&#34;&gt;&amp;gt;&lt;/span&gt; mnt:&lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;4026531840&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;
lrwxrwxrwx &lt;span class=&#34;token number&#34;&gt;1&lt;/span&gt; phl phl &lt;span class=&#34;token number&#34;&gt;0&lt;/span&gt; Jan &lt;span class=&#34;token number&#34;&gt;22&lt;/span&gt; 08:43 net -&lt;span class=&#34;token operator&#34;&gt;&amp;gt;&lt;/span&gt; net:&lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;4026531993&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;
lrwxrwxrwx &lt;span class=&#34;token number&#34;&gt;1&lt;/span&gt; phl phl &lt;span class=&#34;token number&#34;&gt;0&lt;/span&gt; Jan &lt;span class=&#34;token number&#34;&gt;22&lt;/span&gt; 08:43 pid -&lt;span class=&#34;token operator&#34;&gt;&amp;gt;&lt;/span&gt; pid:&lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;4026531836&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;
lrwxrwxrwx &lt;span class=&#34;token number&#34;&gt;1&lt;/span&gt; phl phl &lt;span class=&#34;token number&#34;&gt;0&lt;/span&gt; Jan &lt;span class=&#34;token number&#34;&gt;22&lt;/span&gt; 08:43 pid_for_children -&lt;span class=&#34;token operator&#34;&gt;&amp;gt;&lt;/span&gt; pid:&lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;4026531836&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;
lrwxrwxrwx &lt;span class=&#34;token number&#34;&gt;1&lt;/span&gt; phl phl &lt;span class=&#34;token number&#34;&gt;0&lt;/span&gt; Jan &lt;span class=&#34;token number&#34;&gt;22&lt;/span&gt; 08:43 user -&lt;span class=&#34;token operator&#34;&gt;&amp;gt;&lt;/span&gt; user:&lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;4026531837&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;
lrwxrwxrwx &lt;span class=&#34;token number&#34;&gt;1&lt;/span&gt; phl phl &lt;span class=&#34;token number&#34;&gt;0&lt;/span&gt; Jan &lt;span class=&#34;token number&#34;&gt;22&lt;/span&gt; 08:43 uts -&lt;span class=&#34;token operator&#34;&gt;&amp;gt;&lt;/span&gt; uts:&lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;4026531838&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;该目录下有很多符号链接，每个符号链接代表一个该进程所属的namespace。用readlink读取这些符号链接可以查看进程所属的namespace id。我们读一下当前Shell所属的uts namespace id，命令及结果如下：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-bash&#34; data-language=&#34;bash&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;phl@kernelnewbies:~$ &lt;span class=&#34;token function&#34;&gt;sudo&lt;/span&gt; readlink /proc/&lt;span class=&#34;token variable&#34;&gt;$$&lt;/span&gt;/ns/uts
uts:&lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;4026531838&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;后文中我们将介绍uts namespace、mount namespace、pid namespace的用法。&lt;/p&gt;
&lt;h3 id=&#34;1-2-uts-namespace&#34;&gt;1.2.uts namespace&lt;/h3&gt;
&lt;h4 id=&#34;1-2-1-uts-namespace简介&#34;&gt;1.2.1.uts namespace简介&lt;/h4&gt;
&lt;p&gt;uts namespace用于隔离系统的主机名等信息，我们将通过实验学习其用法。在实验过程中，我们采用如下的步骤：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;查看全局uts namespace信息&lt;/li&gt;
&lt;li&gt;新建一个uts namespace，查看其信息并作出修改&lt;/li&gt;
&lt;li&gt;查看全局uts namespace，查看其是否被新建的uts namespace影响到&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;对于其他namespace，我们也采取类似的步骤进行实验学习。&lt;/p&gt;
&lt;p&gt;首先，我们查看一下全局的hostname及uts namespace id。命令及结果如下：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-bash&#34; data-language=&#34;bash&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;phl@kernelnewbies:~$ &lt;span class=&#34;token function&#34;&gt;hostname&lt;/span&gt;
kernelnewbies

phl@kernelnewbies:~$ &lt;span class=&#34;token function&#34;&gt;sudo&lt;/span&gt; readlink /proc/&lt;span class=&#34;token variable&#34;&gt;$$&lt;/span&gt;/ns/uts
uts:&lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;4026531838&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;然后，我们创建一个新的uts namespace，并查看其namespce id。&lt;/p&gt;
&lt;p&gt;在继续之前，需要介绍一个namespace工具unshare。利用unshare我们可以新建一个的namespace，并在新namespace中执行一条命令。unshare执行时需要root权限。unshare的使用方法如下：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-bash&#34; data-language=&#34;bash&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;unshare &lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;options&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;program &lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;arguments&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;执行unshare时，我们可以指定要新建的namespace的类型以及要执行的命令。unshare提供了一系列选项，当指定某个选项时可新建指定的namespace。namespace类型选项如下：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;--uts创建新的uts namespace&lt;/li&gt;
&lt;li&gt;--mount创建新的mount namespace&lt;/li&gt;
&lt;li&gt;--pid创建新的pid namespace&lt;/li&gt;
&lt;li&gt;--user创建新的user namespace&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;介绍完unshare之后，我们继续之前的实验。我们用unshare创建一个新的uts namespace，并在新的uts namespace中执行/bin/bash命令，命令及结果如下：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-bash&#34; data-language=&#34;bash&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;phl@kernelnewbies:~$ &lt;span class=&#34;token function&#34;&gt;sudo&lt;/span&gt; unshare --uts /bin/bash
root@kernelnewbies:~&lt;span class=&#34;token comment&#34;&gt;#&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;我们用unshare创建了一个新的uts namespace。在新的uts namespace中查看其hostname和namespace id，命令及结果如下：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-bash&#34; data-language=&#34;bash&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;root@kernelnewbies:~$ &lt;span class=&#34;token function&#34;&gt;hostname&lt;/span&gt;
kernelnewbies

root@kernelnewbies:~&lt;span class=&#34;token comment&#34;&gt;# readlink /proc/$$/ns/uts&lt;/span&gt;
uts:&lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;4026532177&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;从结果我们可以看到，新uts namespace的id与全局uts namespace的id不一致。这说明/bin/bash已运行在一个新的uts namespace中了。&lt;/p&gt;
&lt;p&gt;我们将新uts namespace的hostname改为dreamland，并强制更新Shell提示符。命令及结果如下：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-bash&#34; data-language=&#34;bash&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;root@kernelnewbies:~&lt;span class=&#34;token comment&#34;&gt;# hostname dreamland&lt;/span&gt;
root@kernelnewbies:~&lt;span class=&#34;token comment&#34;&gt;# hostname&lt;/span&gt;
dreamland

root@kernelnewbies:~&lt;span class=&#34;token comment&#34;&gt;# exec /bin/bash&lt;/span&gt;
root@dreamland:~&lt;span class=&#34;token comment&#34;&gt;#&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;从结果我们可以看到，新uts namespace的hostname的确是被修改了，exec /bin/bash用于强制更新Shell的提示符。&lt;/p&gt;
&lt;p&gt;我们重新打开一个Shell窗口，该Shell位于全局uts namespace中。在新的Shell窗口中查看全局uts namespace id及hostname，命令及结果如下：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-bash&#34; data-language=&#34;bash&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;phl@kernelnewbies:~$ &lt;span class=&#34;token function&#34;&gt;hostname&lt;/span&gt;
kernelnewbies

phl@kernelnewbies:~$ &lt;span class=&#34;token function&#34;&gt;sudo&lt;/span&gt; readlink /proc/&lt;span class=&#34;token variable&#34;&gt;$$&lt;/span&gt;/ns/uts
uts:&lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;4026531838&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;从结果我们可以看到，我们在新uts namespace中所作的修改并未影响到全局的uts namespace。&lt;/p&gt;
&lt;p&gt;父进程创建子进程时只有提供创建新namespace的标志，才可创建新的namespace，并使子进程处于新的namespace中。默认情况下，子进程与父进程处于相同的namespace中。我们在新的uts namespace中创建一个子进程，然后查看该子进程的uts namespace id，命令及结果如下：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-bash&#34; data-language=&#34;bash&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;phl@kernelnewbies:~$ &lt;span class=&#34;token function&#34;&gt;sudo&lt;/span&gt; unshare --uts /bin/bash
root@kernelnewbies:~&lt;span class=&#34;token comment&#34;&gt;# readlink /proc/$$/ns/uts&lt;/span&gt;
uts:&lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;4026532305&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;

root@kernelnewbies:~&lt;span class=&#34;token comment&#34;&gt;# bash&lt;/span&gt;
root@kernelnewbies:~&lt;span class=&#34;token comment&#34;&gt;# readlink /proc/$$/ns/uts&lt;/span&gt;
uts:&lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;4026532305&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;从结果我们可以看到，子进程所属uts namespace的id与其父进程相同。其他namespae与uts namespace类似，子进程与父进程同属一个namespace。&lt;/p&gt;
&lt;h4 id=&#34;1-2-2-docker-sh&#34;&gt;1.2.2.docker.sh&lt;/h4&gt;
&lt;p&gt;有了以上关于uts namespace的介绍，我们就可以将uts namespace加入到docker.sh中了。docker.sh工程分为两个脚本：docker.sh和container.sh。&lt;/p&gt;
&lt;p&gt;docker.sh用于收集用户输入、调用unshare创建namespace并执行container.sh脚本，docker.sh脚本如下：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-bash&#34; data-language=&#34;bash&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;&lt;span class=&#34;token shebang important&#34;&gt;#!/bin/bash&lt;/span&gt;

&lt;span class=&#34;token function-name function&#34;&gt;usage&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;token builtin class-name&#34;&gt;echo&lt;/span&gt; -e &lt;span class=&#34;token string&#34;&gt;&#34;&lt;span class=&#34;token entity&#34; title=&#34;\033&#34;&gt;\033&lt;/span&gt;[31mIMPORTANT: Run As Root&lt;span class=&#34;token entity&#34; title=&#34;\033&#34;&gt;\033&lt;/span&gt;[0m&#34;&lt;/span&gt;
        &lt;span class=&#34;token builtin class-name&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;&#34;&lt;/span&gt;
        &lt;span class=&#34;token builtin class-name&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;Usage:    docker.sh [OPTIONS]&#34;&lt;/span&gt;
        &lt;span class=&#34;token builtin class-name&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;&#34;&lt;/span&gt;
        &lt;span class=&#34;token builtin class-name&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;A docker written by shell&#34;&lt;/span&gt;
        &lt;span class=&#34;token builtin class-name&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;&#34;&lt;/span&gt;
        &lt;span class=&#34;token builtin class-name&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;Options:&#34;&lt;/span&gt;
        &lt;span class=&#34;token builtin class-name&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;          -c string       docker command&#34;&lt;/span&gt;
        &lt;span class=&#34;token builtin class-name&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;                          (&lt;span class=&#34;token entity&#34; title=&#34;\&amp;quot;&#34;&gt;\&#34;&lt;/span&gt;run&lt;span class=&#34;token entity&#34; title=&#34;\&amp;quot;&#34;&gt;\&#34;&lt;/span&gt;)&#34;&lt;/span&gt;
        &lt;span class=&#34;token builtin class-name&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;          -m              memory&#34;&lt;/span&gt;
        &lt;span class=&#34;token builtin class-name&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;                          (&lt;span class=&#34;token entity&#34; title=&#34;\&amp;quot;&#34;&gt;\&#34;&lt;/span&gt;100M, 200M, 300M...&lt;span class=&#34;token entity&#34; title=&#34;\&amp;quot;&#34;&gt;\&#34;&lt;/span&gt;)&#34;&lt;/span&gt;
        &lt;span class=&#34;token builtin class-name&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;          -C string       container name&#34;&lt;/span&gt;
        &lt;span class=&#34;token builtin class-name&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;          -I string       image name&#34;&lt;/span&gt;
        &lt;span class=&#34;token builtin class-name&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;          -V string       volume&#34;&lt;/span&gt;
        &lt;span class=&#34;token builtin class-name&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;          -P string       program to run in container&#34;&lt;/span&gt;

        &lt;span class=&#34;token builtin class-name&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;0&lt;/span&gt;
&lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt;

&lt;span class=&#34;token keyword&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;token builtin class-name&#34;&gt;test&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;&lt;span class=&#34;token variable&#34;&gt;&lt;span class=&#34;token variable&#34;&gt;$(&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;whoami&lt;/span&gt;&lt;span class=&#34;token variable&#34;&gt;)&lt;/span&gt;&lt;/span&gt;&#34;&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;!=&lt;/span&gt; root
&lt;span class=&#34;token keyword&#34;&gt;then&lt;/span&gt;
        usage
        &lt;span class=&#34;token builtin class-name&#34;&gt;exit&lt;/span&gt; -1
&lt;span class=&#34;token keyword&#34;&gt;fi&lt;/span&gt;

&lt;span class=&#34;token keyword&#34;&gt;while&lt;/span&gt; &lt;span class=&#34;token builtin class-name&#34;&gt;getopts&lt;/span&gt; c:m:C:I:V:P: option
&lt;span class=&#34;token keyword&#34;&gt;do&lt;/span&gt;
        &lt;span class=&#34;token keyword&#34;&gt;case&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;&lt;span class=&#34;token variable&#34;&gt;$option&lt;/span&gt;&#34;&lt;/span&gt;
        &lt;span class=&#34;token keyword&#34;&gt;in&lt;/span&gt;
                c&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token assign-left variable&#34;&gt;cmd&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token variable&#34;&gt;$OPTARG&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;
                m&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token assign-left variable&#34;&gt;memory&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token variable&#34;&gt;$OPTARG&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;
                C&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token assign-left variable&#34;&gt;container&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token variable&#34;&gt;$OPTARG&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;
                I&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token assign-left variable&#34;&gt;image&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token variable&#34;&gt;$OPTARG&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;
                V&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token assign-left variable&#34;&gt;volume&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token variable&#34;&gt;$OPTARG&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;
                P&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token assign-left variable&#34;&gt;program&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token variable&#34;&gt;$OPTARG&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;
                &lt;span class=&#34;token punctuation&#34;&gt;\&lt;/span&gt;?&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; usage
                    &lt;span class=&#34;token builtin class-name&#34;&gt;exit&lt;/span&gt; -2&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;
        &lt;span class=&#34;token keyword&#34;&gt;esac&lt;/span&gt;
&lt;span class=&#34;token keyword&#34;&gt;done&lt;/span&gt;

&lt;span class=&#34;token builtin class-name&#34;&gt;export&lt;/span&gt; &lt;span class=&#34;token assign-left variable&#34;&gt;cmd&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token variable&#34;&gt;$cmd&lt;/span&gt;
&lt;span class=&#34;token builtin class-name&#34;&gt;export&lt;/span&gt; &lt;span class=&#34;token assign-left variable&#34;&gt;memory&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token variable&#34;&gt;$memory&lt;/span&gt;
&lt;span class=&#34;token builtin class-name&#34;&gt;export&lt;/span&gt; &lt;span class=&#34;token assign-left variable&#34;&gt;container&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token variable&#34;&gt;$container&lt;/span&gt;
&lt;span class=&#34;token builtin class-name&#34;&gt;export&lt;/span&gt; &lt;span class=&#34;token assign-left variable&#34;&gt;image&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token variable&#34;&gt;$image&lt;/span&gt;
&lt;span class=&#34;token builtin class-name&#34;&gt;export&lt;/span&gt; &lt;span class=&#34;token assign-left variable&#34;&gt;volume&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token variable&#34;&gt;$volume&lt;/span&gt;
&lt;span class=&#34;token builtin class-name&#34;&gt;export&lt;/span&gt; &lt;span class=&#34;token assign-left variable&#34;&gt;program&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token variable&#34;&gt;$program&lt;/span&gt;

unshare --uts ./container.sh&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;脚本最开始为usage函数，该函数为docker.sh的使用说明。当用户以非预期的方式使用docker.sh时，该函数会被调用。该函数输出如下信息：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-bash&#34; data-language=&#34;bash&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;IMPORTANT: Run As Root

Usage:  docker.sh &lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;OPTIONS&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;

A &lt;span class=&#34;token function&#34;&gt;docker&lt;/span&gt; written by shell

Options:
                -c string       &lt;span class=&#34;token function&#34;&gt;docker&lt;/span&gt; &lt;span class=&#34;token builtin class-name&#34;&gt;command&lt;/span&gt;
                                &lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#34;run&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;
                -m              memory
                                &lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#34;100M, 200M, 300M...&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;
                -C string       container name
                -I string       image name
                -V string       volume
                -P string       program to run &lt;span class=&#34;token keyword&#34;&gt;in&lt;/span&gt; container&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;从usage函数的输出我们可以看到，执行docker.sh时需要root权限且需要正确地传递参数。&lt;/p&gt;
&lt;p&gt;docker.sh首先对当前用户进行检测，如果用户不为root，则打印使用说明并退出脚本；如果用户为root，则继续执行。检测用户的脚本如下：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-bash&#34; data-language=&#34;bash&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;&lt;span class=&#34;token keyword&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;token builtin class-name&#34;&gt;test&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;&lt;span class=&#34;token variable&#34;&gt;&lt;span class=&#34;token variable&#34;&gt;$(&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;whoami&lt;/span&gt;&lt;span class=&#34;token variable&#34;&gt;)&lt;/span&gt;&lt;/span&gt;&#34;&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;!=&lt;/span&gt; root
&lt;span class=&#34;token keyword&#34;&gt;then&lt;/span&gt;
        usage
        &lt;span class=&#34;token builtin class-name&#34;&gt;exit&lt;/span&gt; -1
&lt;span class=&#34;token keyword&#34;&gt;fi&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;然后，docker.sh使用getopts从命令行提取参数，然后赋值给合适的变量。从命令行提取参数的脚本如下：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-bash&#34; data-language=&#34;bash&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;&lt;span class=&#34;token keyword&#34;&gt;while&lt;/span&gt; &lt;span class=&#34;token builtin class-name&#34;&gt;getopts&lt;/span&gt; c:m:C:I:V:P: option
&lt;span class=&#34;token keyword&#34;&gt;do&lt;/span&gt;
        &lt;span class=&#34;token keyword&#34;&gt;case&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;&lt;span class=&#34;token variable&#34;&gt;$option&lt;/span&gt;&#34;&lt;/span&gt;
        &lt;span class=&#34;token keyword&#34;&gt;in&lt;/span&gt;
                c&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token assign-left variable&#34;&gt;cmd&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token variable&#34;&gt;$OPTARG&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;
                m&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token assign-left variable&#34;&gt;memory&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token variable&#34;&gt;$OPTARG&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;
                C&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token assign-left variable&#34;&gt;container&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token variable&#34;&gt;$OPTARG&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;
                I&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token assign-left variable&#34;&gt;image&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token variable&#34;&gt;$OPTARG&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;
                V&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token assign-left variable&#34;&gt;volume&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token variable&#34;&gt;$OPTARG&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;
                P&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token assign-left variable&#34;&gt;program&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token variable&#34;&gt;$OPTARG&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;
                &lt;span class=&#34;token punctuation&#34;&gt;\&lt;/span&gt;?&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; usage
                    &lt;span class=&#34;token builtin class-name&#34;&gt;exit&lt;/span&gt; -2&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;
        &lt;span class=&#34;token keyword&#34;&gt;esac&lt;/span&gt;
&lt;span class=&#34;token keyword&#34;&gt;done&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;如果用户的输入不正确，则打印使用说明并退出脚本；如果用户输入正确，则解析命令行参数并赋值给合适的变量。&lt;/p&gt;
&lt;p&gt;为了简化，用户在运行docker.sh时需提供完整的参数列表，示例如下：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-bash&#34; data-language=&#34;bash&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;&lt;span class=&#34;token function&#34;&gt;sudo&lt;/span&gt; ./docker.sh -c run -m 100M -C dreamland -I ubuntu1604 -V data1 -P /bin/bash&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;当然，如果当前用户就是root，就不需要sudo了。下表列出了各个参数的含义及示例：&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2022/03/1820220318143125.png&#34; alt=&#34;使用 Shell 脚本实现 Docker&#34;&gt;&lt;/p&gt;
&lt;p&gt;docker.sh将命令行参数赋值给变量后，需要将这些变量导出，以传递给container.sh。导出变量的脚本如下：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-bash&#34; data-language=&#34;bash&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;&lt;span class=&#34;token builtin class-name&#34;&gt;export&lt;/span&gt; &lt;span class=&#34;token assign-left variable&#34;&gt;cmd&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token variable&#34;&gt;$cmd&lt;/span&gt;
&lt;span class=&#34;token builtin class-name&#34;&gt;export&lt;/span&gt; &lt;span class=&#34;token assign-left variable&#34;&gt;memory&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token variable&#34;&gt;$memory&lt;/span&gt;
&lt;span class=&#34;token builtin class-name&#34;&gt;export&lt;/span&gt; &lt;span class=&#34;token assign-left variable&#34;&gt;container&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token variable&#34;&gt;$container&lt;/span&gt;
&lt;span class=&#34;token builtin class-name&#34;&gt;export&lt;/span&gt; &lt;span class=&#34;token assign-left variable&#34;&gt;image&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token variable&#34;&gt;$image&lt;/span&gt;
&lt;span class=&#34;token builtin class-name&#34;&gt;export&lt;/span&gt; &lt;span class=&#34;token assign-left variable&#34;&gt;volume&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token variable&#34;&gt;$volume&lt;/span&gt;
&lt;span class=&#34;token builtin class-name&#34;&gt;export&lt;/span&gt; &lt;span class=&#34;token assign-left variable&#34;&gt;program&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token variable&#34;&gt;$program&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;这里说明一下为什么要将docker.sh工程拆分为docker.sh和container.sh两个脚本。因为调用unshare创建新的namespace时，会执行一个命令，该命令在新的namespace中运行。该命令一旦结束，unshare也就结束了，unshare创建的新namespace也就不存在了。&lt;/p&gt;
&lt;p&gt;docker.sh不会并发地执行unshare命令与unshare之后的脚本，因此，只有unshare结束了，后续脚本才可继续运行。但是当unshare结束了，准备执行后续脚本时，新的namespae已经不存在了。因此一些加入cgroups、切换根文件系统等工作必须在unshare执行的命令中进行，所以我们采用在unshare中执行container.sh脚本的方式完成后续的工作。&lt;/p&gt;
&lt;p&gt;最后，docker.sh调用unshare创建新的uts namespace，并执行container.sh脚本。调用unshare的脚本如下：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-bash&#34; data-language=&#34;bash&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;unshare --uts ./container.sh&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;container.sh将容器的hostname修改为通过-C传递的容器的名字，然后执行通过-P传递的程序。container.sh脚本如下：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-bash&#34; data-language=&#34;bash&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;&lt;span class=&#34;token shebang important&#34;&gt;#!/bin/bash&lt;/span&gt;

&lt;span class=&#34;token function&#34;&gt;hostname&lt;/span&gt; &lt;span class=&#34;token variable&#34;&gt;$container&lt;/span&gt;
&lt;span class=&#34;token builtin class-name&#34;&gt;exec&lt;/span&gt; &lt;span class=&#34;token variable&#34;&gt;$program&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;现在，我们运行docker.sh，并查看其hostname。命令及结果如下：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-bash&#34; data-language=&#34;bash&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;phl@kernelnewbies:~/docker.sh$ &lt;span class=&#34;token function&#34;&gt;sudo&lt;/span&gt; ./docker.sh -c run -m 100M -C dreamland -I ubuntu1604 -V data1 -P /bin/bash
root@dreamland:~/docker.sh&lt;span class=&#34;token comment&#34;&gt;# hostname&lt;/span&gt;
dreamland&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;从结果我们可以看到，容器的hostname已经改变为我们传递的容器名字dreamland了。&lt;/p&gt;
&lt;h3 id=&#34;1-3-mount-namespace&#34;&gt;1.3.mount namespace&lt;/h3&gt;
&lt;h4 id=&#34;1-3-1-etc-mtab、-proc-self-mounts&#34;&gt;1.3.1./etc/mtab、/proc/self/mounts&lt;/h4&gt;
&lt;p&gt;早期的Linux使用/etc/mtab文件来记录当前的挂载点信息。每次mount/umount文件系统时会更新/etc/mtab文件中的信息。&lt;/p&gt;
&lt;p&gt;后来，linux引入了mount namespace，每个进程都有一份自己的挂载点信息。当然，处于同一个mount namespace里面的进程，其挂载点信息是相同的。进程的挂载点信息通过/proc/[pid]/mounts文件导出给用户。&lt;/p&gt;
&lt;p&gt;为了兼容以前的/etc/mtab，/etc/mtab变成了指向/proc/self/mounts的符号链接。通过readlink查看/etc/mtab指向的文件，命令及结果如下：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-bash&#34; data-language=&#34;bash&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;phl@kernelnewbies:~$ readlink /etc/mtab
&lt;span class=&#34;token punctuation&#34;&gt;..&lt;/span&gt;/proc/self/mounts&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;通过读取/proc/self/mounts文件，可以查看当前的挂载点信息，命令及结果如下：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-bash&#34; data-language=&#34;bash&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;phl@kernelnewbies:~$ &lt;span class=&#34;token function&#34;&gt;cat&lt;/span&gt; /proc/self/mounts
sysfs /sys sysfs rw,nosuid,nodev,noexec,relatime &lt;span class=&#34;token number&#34;&gt;0&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;0&lt;/span&gt;
proc /proc proc rw,nosuid,nodev,noexec,relatime &lt;span class=&#34;token number&#34;&gt;0&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;0&lt;/span&gt;
/dev/sda1 / ext4 rw,relatime,errors&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;remount-ro &lt;span class=&#34;token number&#34;&gt;0&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;0&lt;/span&gt;
securityfs /sys/kernel/security securityfs rw,nosuid,nodev,noexec,relatime &lt;span class=&#34;token number&#34;&gt;0&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;0&lt;/span&gt;
&lt;span class=&#34;token punctuation&#34;&gt;..&lt;/span&gt;.&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;由于该文件中内容太多，我们省略了一部分，只保留了一些比较重要的挂载点信息。每行的信息分为六个字段，各字段的含义及示例如下：&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2022/03/1820220318143143.png&#34; alt=&#34;使用 Shell 脚本实现 Docker&#34;&gt;&lt;/p&gt;
&lt;p&gt;由于该文件有点过时，被后文介绍的/proc/self/mountinfo替换掉，所以不做过多介绍。&lt;/p&gt;
&lt;h4 id=&#34;1-3-2-proc-self-mountinfo&#34;&gt;1.3.2./proc/self/mountinfo&lt;/h4&gt;
&lt;p&gt;/proc/self/mountinfo包含了进程mount namespace中的挂载点信息。 它提供了旧的/proc/[pid]/mounts文件中缺少的各种信息（传播状态，挂载点id，父挂载点id等），并解决了/proc/[pid]/mounts文件的一些其他缺陷。我们查看进程挂载点信息时应优先使用该文件。&lt;/p&gt;
&lt;p&gt;该文件中每一行代表一个挂载点信息，每个挂载点信息分为11个字段。挂载点信息的示例如下：&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2022/03/1820220318143124.png&#34; alt=&#34;使用 Shell 脚本实现 Docker&#34;&gt;&lt;/p&gt;
&lt;p&gt;各字段的含义及示例如下：&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2022/03/1820220318143118.png&#34; alt=&#34;使用 Shell 脚本实现 Docker&#34;&gt;&lt;/p&gt;
&lt;p&gt;我们主要关注可选字段中的传播状态选项。首先，我们看一下关于mount namespace的问题。问题如下：&lt;/p&gt;
&lt;p&gt;当创建mount namespace时，新mount namespace会拷贝一份老mount namespace里面的挂载点信息。例如，全局mount namespace中有一个/a挂载点，新建的mount namespace中也会有一个/a挂载点。那么我们在新mount namespace中的/a下创建或删除一个挂载点，全局mount namespace中的/a会同步创建或删除该挂载点吗？或者在全局mount namespace中的/a下创建或删除一个挂载点，新mount namespace中的/a会同步创建或删除该挂载点吗？&lt;/p&gt;
&lt;p&gt;mountinfo文件中可选字段的传播状态就是控制在一个挂载点下进行创建/删除挂载点操作时是否会传播到其他挂载点的选项。传播状态有四种可取值，常见的有如下两种：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;shared 表示创建/删除挂载点的操作会传播到其他挂载点&lt;/li&gt;
&lt;li&gt;private 表示创建/删除挂载点的操作不会传播到其他挂载点&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;由于在容器技术中要保证主机与容器的挂载点信息互不影响，因此要求容器中的挂载点的传播状态为private。&lt;/p&gt;
&lt;h4 id=&#34;1-3-3-bind-mount&#34;&gt;1.3.3.bind mount&lt;/h4&gt;
&lt;p&gt;bind mount可以将一个目录（源目录）挂载到另一个目录（目的目录），在目的目录里面的读写操作将直接作用于源目录。&lt;/p&gt;
&lt;p&gt;下面我们通过实验了解一下bind mount的功能，首先，我们准备一下实验所需要的的目录及文件。命令及结果如下：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-bash&#34; data-language=&#34;bash&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;phl@kernelnewbies:~$ &lt;span class=&#34;token function&#34;&gt;mkdir&lt;/span&gt; &lt;span class=&#34;token builtin class-name&#34;&gt;bind&lt;/span&gt;
phl@kernelnewbies:~$ &lt;span class=&#34;token builtin class-name&#34;&gt;cd&lt;/span&gt; bind/
phl@kernelnewbies:~/bind$ &lt;span class=&#34;token function&#34;&gt;mkdir&lt;/span&gt; a
phl@kernelnewbies:~/bind$ &lt;span class=&#34;token function&#34;&gt;mkdir&lt;/span&gt; b
phl@kernelnewbies:~/bind$ &lt;span class=&#34;token builtin class-name&#34;&gt;echo&lt;/span&gt; hello, a &lt;span class=&#34;token operator&#34;&gt;&amp;gt;&lt;/span&gt; a/a.txt
phl@kernelnewbies:~/bind$ &lt;span class=&#34;token builtin class-name&#34;&gt;echo&lt;/span&gt; hello, b &lt;span class=&#34;token operator&#34;&gt;&amp;gt;&lt;/span&gt; b/b.txt&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;然后，我们将a目录bind mount到b目录并查看b目录下的内容。命令及结果如下：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-bash&#34; data-language=&#34;bash&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;phl@kernelnewbies:~/bind$ &lt;span class=&#34;token function&#34;&gt;sudo&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;mount&lt;/span&gt; --bind a b
phl@kernelnewbies:~/bind$ tree b
b
└── a.txt
&lt;span class=&#34;token number&#34;&gt;0&lt;/span&gt; directories, &lt;span class=&#34;token number&#34;&gt;1&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;file&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;从结果我们可以看到，b目录下原先的内容被隐藏，取而代之的是a目录下的内容。&lt;/p&gt;
&lt;p&gt;然后，我们修改b目录下的内容，修改完毕后，从b目录上卸载掉a目录。命令及结果如下：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-bash&#34; data-language=&#34;bash&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;phl@kernelnewbies:~/bind$ &lt;span class=&#34;token builtin class-name&#34;&gt;echo&lt;/span&gt; hello, a from b &lt;span class=&#34;token operator&#34;&gt;&amp;gt;&lt;/span&gt; b/a.txt
phl@kernelnewbies:~/bind$ &lt;span class=&#34;token function&#34;&gt;sudo&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;umount&lt;/span&gt; b&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;我们读取一下a目录中a.txt，看看其内容是否被改变。命令及结果如下：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-bash&#34; data-language=&#34;bash&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;phl@kernelnewbies:~/bind$ &lt;span class=&#34;token function&#34;&gt;cat&lt;/span&gt; a/a.txt
hello, a from b&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;从结果我们可以看到，a目录中的内容确实被当a被bind mount到b时对b目录的操作所修改了。&lt;/p&gt;
&lt;p&gt;bind mount在容器技术中有很重要的用途，后文会有涉及。&lt;/p&gt;
&lt;h4 id=&#34;1-3-4-mount-namespace简介&#34;&gt;1.3.4.mount namespace简介&lt;/h4&gt;
&lt;p&gt;mount namespace用来隔离文件系统的挂载点信息, 使得不同的mount namespace拥有自己独立的挂载点信息。不同的namespace之间不会相互影响，其在unshare中的选项为--mount。&lt;/p&gt;
&lt;p&gt;当用unshare创建新的mount namespace时，新创建的namespace将拷贝一份老namespace里的挂载点信息，但从这之后，他们就没有关系了。这是unshare将新 namespace 里面的所有挂载点的传播状态设置为private实现的。通过mount和umount增加和删除各自mount namespace里面的挂载点都不会相互影响。&lt;/p&gt;
&lt;p&gt;下面我们将演示mount namespace的用法。首先，我们准备需要的目录和文件，命令及结果如下：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-bash&#34; data-language=&#34;bash&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;phl@kernelnewbies:~$ &lt;span class=&#34;token function&#34;&gt;mkdir&lt;/span&gt; -p hds/hd1 hds/hd2 &lt;span class=&#34;token operator&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&#34;token builtin class-name&#34;&gt;cd&lt;/span&gt; hds

phl@kernelnewbies:~/hds$ &lt;span class=&#34;token function&#34;&gt;dd&lt;/span&gt; &lt;span class=&#34;token assign-left variable&#34;&gt;if&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;/dev/zero &lt;span class=&#34;token assign-left variable&#34;&gt;bs&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;1M &lt;span class=&#34;token assign-left variable&#34;&gt;count&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;1&lt;/span&gt; &lt;span class=&#34;token assign-left variable&#34;&gt;of&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;hd1.img &lt;span class=&#34;token operator&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; mkfs.ext2 hd1.img
phl@kernelnewbies:~/hds$ &lt;span class=&#34;token function&#34;&gt;dd&lt;/span&gt; &lt;span class=&#34;token assign-left variable&#34;&gt;if&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;/dev/zero &lt;span class=&#34;token assign-left variable&#34;&gt;bs&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;1M &lt;span class=&#34;token assign-left variable&#34;&gt;count&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;1&lt;/span&gt; &lt;span class=&#34;token assign-left variable&#34;&gt;of&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;hd2.img &lt;span class=&#34;token operator&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; mkfs.ext2 hd2.img

phl@kernelnewbies:~$ tree &lt;span class=&#34;token builtin class-name&#34;&gt;.&lt;/span&gt;
&lt;span class=&#34;token builtin class-name&#34;&gt;.&lt;/span&gt;
├── hd1
├── hd1.img
├── hd2
└── hd2.img
&lt;span class=&#34;token number&#34;&gt;2&lt;/span&gt; directories, &lt;span class=&#34;token number&#34;&gt;2&lt;/span&gt; files&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;然后，我们在全局的mount namespace中挂载hd1.img到hd1目录，然后查看该mount namespace中的挂载点信息与mount namespace id。命令及结果如下：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-bash&#34; data-language=&#34;bash&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;phl@kernelnewbies:~/hds$ &lt;span class=&#34;token function&#34;&gt;sudo&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;mount&lt;/span&gt; hd1.img hd1
phl@kernelnewbies:~/hds$ &lt;span class=&#34;token function&#34;&gt;cat&lt;/span&gt; /proc/self/mountinfo &lt;span class=&#34;token operator&#34;&gt;|&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;grep&lt;/span&gt; hd
&lt;span class=&#34;token number&#34;&gt;556&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;27&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;7&lt;/span&gt;:18 / /home/phl/hds/hd1 rw,relatime shared:372 - ext2 /dev/loop18 rw

phl@kernelnewbies:~/hds$ &lt;span class=&#34;token function&#34;&gt;sudo&lt;/span&gt; readlink /proc/&lt;span class=&#34;token variable&#34;&gt;$$&lt;/span&gt;/ns/mnt
mnt:&lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;4026531840&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;然后，执行unshare命令创建一个新的mount namespace并查看该mount namespace id和挂载点信息。命令及结果如下：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-bash&#34; data-language=&#34;bash&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;phl@kernelnewbies:~/hds$ &lt;span class=&#34;token function&#34;&gt;sudo&lt;/span&gt; unshare --uts --mount /bin/bash
root@kernelnewbies:~/hds&lt;span class=&#34;token comment&#34;&gt;# cat /proc/self/mountinfo | grep hd&lt;/span&gt;
&lt;span class=&#34;token number&#34;&gt;739&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;570&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;7&lt;/span&gt;:18 / /home/phl/hds/hd1 rw,relatime - ext2 /dev/loop18 rw

root@kernelnewbies:~/hds&lt;span class=&#34;token comment&#34;&gt;# readlink /proc/$$/ns/mnt&lt;/span&gt;
mnt:&lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;4026532180&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;从结果我们可以看到，新mount namespace中的挂载点信息与全局mountnamespace中的挂载点信息基本一致，一些挂载选项（如传播状态）变化了。新的mount namespace id与全局mount namespace id是不一样的。&lt;/p&gt;
&lt;p&gt;然后，我们在新的mount namespace中挂载hd2.img到hd2目录，并查看挂载点信息。命令及结果如下：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-bash&#34; data-language=&#34;bash&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;root@kernelnewbies:~/hds&lt;span class=&#34;token comment&#34;&gt;# mount hd2.img hd2&lt;/span&gt;
root@kernelnewbies:~/hds&lt;span class=&#34;token comment&#34;&gt;# cat /proc/self/mountinfo | grep hd&lt;/span&gt;
&lt;span class=&#34;token number&#34;&gt;739&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;570&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;7&lt;/span&gt;:18 / /home/phl/hds/hd1 rw,relatime - ext2 /dev/loop18 rw
&lt;span class=&#34;token number&#34;&gt;740&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;570&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;7&lt;/span&gt;:19 / /home/phl/hds/hd2 rw,relatime - ext2 /dev/loop19 rw&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;从结果我们可以看到，新mount namespace中有hd1和hd2这两个挂载点。现在启动一个新的Shell窗口，查看全局mount namespace中的挂载点信息。命令及结果如下：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-bash&#34; data-language=&#34;bash&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;phl@kernelnewbies:~/hds$ &lt;span class=&#34;token function&#34;&gt;cat&lt;/span&gt; /proc/self/mountinfo &lt;span class=&#34;token operator&#34;&gt;|&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;grep&lt;/span&gt; hd
&lt;span class=&#34;token number&#34;&gt;556&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;27&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;7&lt;/span&gt;:18 / /home/phl/hds/hd1 rw,relatime shared:372 - ext2 /dev/loop18 rw&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;从结果我们可以看到，全局mount namespace中的挂载点信息只有hd1，而没有hd2。这说明在新mount namespace中进行挂载/卸载操作不会影响其他mount namespace中的挂载点信息。&lt;/p&gt;
&lt;p&gt;mount namespace只隔离挂载点信息，并不隔离挂载点下面的文件信息。对于多个mount namespace都能看到的挂载点，如果在一个namespace中修改了挂载点下面的文件，其他namespace也能感知到。下面，我们在新建的mount namespace中创建一个文件，命令如下：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-bash&#34; data-language=&#34;bash&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;root@kernelnewbies:~/hds&lt;span class=&#34;token comment&#34;&gt;# echo hello from new mount namespace &amp;gt; hd1/hello.txt&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;在新启动的Shell中，查看hd1目录并读取hd1/hello.txt文件。命令及结果如下：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-bash&#34; data-language=&#34;bash&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;phl@kernelnewbies:~/hds$ tree hd1
hd1
├── hello.txt
└── lost+found &lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;error opening dir&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;
&lt;span class=&#34;token number&#34;&gt;1&lt;/span&gt; directory, &lt;span class=&#34;token number&#34;&gt;1&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;file&lt;/span&gt;

phl@kernelnewbies:~/hds$ &lt;span class=&#34;token function&#34;&gt;cat&lt;/span&gt; hd1/hello.txt
hello from new &lt;span class=&#34;token function&#34;&gt;mount&lt;/span&gt; namespace&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;从结果我们可以看到，在全局mount namespace中，我们可以读取到在新建的mount namespace中创建的文件。&lt;/p&gt;
&lt;h4 id=&#34;1-3-5-docker-sh&#34;&gt;1.3.5.docker.sh&lt;/h4&gt;
&lt;p&gt;有了以上关于mount namespace的知识，我们就可以将mount namespace加入到docker.sh中了。mount namespace将放在docker.sh中，带下划线的行是我们为实现mount namespace而修改的代码。修改后的docker.sh脚本如下：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-bash&#34; data-language=&#34;bash&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;..&lt;/span&gt;.
unshare --uts --mount ./container.sh&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;从上述代码我们可以看到，我们仅仅是在调用unshare时加入--mount选项，就可为docker.sh引入了mount namespace功能。&lt;/p&gt;
&lt;h3 id=&#34;1-4-pid-namespace&#34;&gt;1.4.pid namespace&lt;/h3&gt;
&lt;h4 id=&#34;1-4-1-unshare的-fork选项&#34;&gt;1.4.1.unshare的--fork选项&lt;/h4&gt;
&lt;p&gt;unshare有一个选项--fork，当执行unshare时，如果没有这个选项，unshare会直接exec新命令，也就是说unshare变成了新命令。如果带有--fork选项，unshare会fork一个子进程，该子进程exec新命令，unshare是该子进程的父进程。我们分别不带--fork和带--fork来执行unshare，然后查看进程之间的关系。&lt;/p&gt;
&lt;p&gt;首先，我们不带--fork选项执行unshare，并查看当前Shell的进程id。命令及结果如下：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-bash&#34; data-language=&#34;bash&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;phl@kernelnewbies:~$ &lt;span class=&#34;token function&#34;&gt;sudo&lt;/span&gt; unshare --uts /bin/bash
root@kernelnewbies:~/hds&lt;span class=&#34;token comment&#34;&gt;# echo $$&lt;/span&gt;
&lt;span class=&#34;token number&#34;&gt;11699&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;此时unshare会创建一个新的uts namespace，然后exec /bin/bash。我们启动一个新Shell，然后使用pstree查看进程间关系，命令及结果如下：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-bash&#34; data-language=&#34;bash&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;phl@kernelnewbies:~/hds$ pstree -p &lt;span class=&#34;token operator&#34;&gt;|&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;grep&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;11699&lt;/span&gt;
sudo&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;11698&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;---bash&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;11699&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;从结果我们可以看到，sudo fork出一个子进程，该子进程执行unshare。unshare创建了新uts namespace后，exec了/bin/bash，也就是说unshare变成了/bin/bash。&lt;/p&gt;
&lt;p&gt;然后，我们带--fork选项执行unshare，并查看当前Shell的进程id。命令及结果如下：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-bash&#34; data-language=&#34;bash&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;phl@kernelnewbies:~/hds$ &lt;span class=&#34;token function&#34;&gt;sudo&lt;/span&gt; unshare --uts --fork /bin/bash
root@kernelnewbies:~/hds&lt;span class=&#34;token comment&#34;&gt;# echo $$&lt;/span&gt;
&lt;span class=&#34;token number&#34;&gt;11866&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;此时unshare会创建一个新的uts namespace，然后fork出一个子进程，该子进程exec /bin/bash。我们启动一个新Shell，然后使用pstree查看进程间关系，命令及结果如下：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-bash&#34; data-language=&#34;bash&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;phl@kernelnewbies:~/hds$ pstree -p &lt;span class=&#34;token operator&#34;&gt;|&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;grep&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;11866&lt;/span&gt;
sudo&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;11864&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;---unshare&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;11865&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;---bash&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;11866&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;从结果我们可以看到，sudo fork出一个子进程，该子进程执行命令unshare。unshare创建了新uts namespace后，fork出一个子进程，该子进程exec /bin/bash，也就是说unshare变成了新的/bin/bash进程的父进程。&lt;/p&gt;
&lt;h4 id=&#34;1-4-2-pid-namespace简介&#34;&gt;1.4.2.pid namespace简介&lt;/h4&gt;
&lt;p&gt;pid namespace用来隔离进程pid空间，使得不同pid namespace里的进程 pid可以重复且相互之间不影响。进程所属的pid namespace在创建的时候就确定了，无法更改，因此需要--fork选项来创建一个新进程，然后将该新进程加入新建的pid namespace中。pid namespace在unshare中的选项为--pid。&lt;/p&gt;
&lt;p&gt;unshare在创建pid namespace时需同时提供--pid与--fork选项。unshare本身会加入全局的pid namespace，其fork出的子进程会加入新建的pid namespace。&lt;/p&gt;
&lt;p&gt;首先，我们查看全局pid namespace id，命令及结果如下：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-bash&#34; data-language=&#34;bash&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;phl@kernelnewbies:~$ &lt;span class=&#34;token function&#34;&gt;sudo&lt;/span&gt; readlink /proc/&lt;span class=&#34;token variable&#34;&gt;$$&lt;/span&gt;/ns/pid
pid:&lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;4026531836&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;然后，执行unshare命令创建一个新的pid namespace并查看该pid namespace id。命令及结果如下：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-bash&#34; data-language=&#34;bash&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;phl@kernelnewbies:~$ &lt;span class=&#34;token function&#34;&gt;sudo&lt;/span&gt; unshare --mount --pid --fork /bin/bash
root@kernelnewbies:~&lt;span class=&#34;token comment&#34;&gt;# readlink /proc/$$/ns/pid&lt;/span&gt;
pid:&lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;4026531836&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;从结果我们可以看到，新创建的进程也处于全局pid namespace中，而不是新的pid namespace。&lt;/p&gt;
&lt;p&gt;出现这种情形是因为当前的/proc文件系统是老的。我们查看一下$$的值，命令及结果如下：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-bash&#34; data-language=&#34;bash&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;root@kernelnewbies:~&lt;span class=&#34;token comment&#34;&gt;# echo $$&lt;/span&gt;
&lt;span class=&#34;token number&#34;&gt;1&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;从结果我们可以看到，$$的值为1，但是/proc文件系统却是老的，因此我们查看的实际是init进程所属的pid namespace，当然是全局pid namespace了。&lt;/p&gt;
&lt;p&gt;重新挂载/proc文件系统，这也是unshare执行时带--mount选项的原因，只有这样，重新挂载/proc文件系统时，不会搞乱整个系统。再次查看新进程所属的pid namespace，命令及结果如下：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-bash&#34; data-language=&#34;bash&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;root@kernelnewbies:~&lt;span class=&#34;token comment&#34;&gt;# mount -t proc proc /proc&lt;/span&gt;
root@kernelnewbies:~&lt;span class=&#34;token comment&#34;&gt;# readlink /proc/$$/ns/pid&lt;/span&gt;
pid:&lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;4026532182&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;从结果我们可以看到，新进程的pid namespace与全局pid namespace的id不同。&lt;/p&gt;
&lt;p&gt;接下来，我们再来查看一下新pid namespace中的进程信息。命令及结果如下：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-bash&#34; data-language=&#34;bash&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;root@kernelnewbies:~&lt;span class=&#34;token comment&#34;&gt;# ps -ef&lt;/span&gt;
&lt;span class=&#34;token environment constant&#34;&gt;UID&lt;/span&gt;        PID  &lt;span class=&#34;token environment constant&#34;&gt;PPID&lt;/span&gt;  C STIME TTY          TIME CMD
root         &lt;span class=&#34;token number&#34;&gt;1&lt;/span&gt;     &lt;span class=&#34;token number&#34;&gt;0&lt;/span&gt;  &lt;span class=&#34;token number&#34;&gt;0&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;19&lt;/span&gt;:03 pts/1    00:00:00 /bin/bash
root        &lt;span class=&#34;token number&#34;&gt;10&lt;/span&gt;     &lt;span class=&#34;token number&#34;&gt;1&lt;/span&gt;  &lt;span class=&#34;token number&#34;&gt;0&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;19&lt;/span&gt;:03 pts/1    00:00:00 &lt;span class=&#34;token function&#34;&gt;ps&lt;/span&gt; -e&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;从结果我们可以看到，当前pid namespace中只有2个进程，看不到全局pid namespace里面的其他进程。我们通过unshare执行的进程pid为1，也就是说该进程成了新pid namespace中的init进程。&lt;/p&gt;
&lt;h4 id=&#34;1-4-3-pid嵌套&#34;&gt;1.4.3.pid嵌套&lt;/h4&gt;
&lt;p&gt;pid namespace可以嵌套，也就是说有父子关系，在当前pid namespace里面创建的所有新的pid namespace都是当前pid namespace的子pid namespace。&lt;/p&gt;
&lt;p&gt;首先，我们创建3个嵌套的pid namespace，并查看每个pid namespace id。--mount-proc选项用于自动挂载/proc文件系统，省去了手动挂载/proc文件系统的操作。命令及结果如下：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-bash&#34; data-language=&#34;bash&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;phl@kernelnewbies:~$ &lt;span class=&#34;token function&#34;&gt;sudo&lt;/span&gt; readlink /proc/&lt;span class=&#34;token variable&#34;&gt;$$&lt;/span&gt;/ns/pid
pid:&lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;4026531836&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;

phl@kernelnewbies:~$ &lt;span class=&#34;token function&#34;&gt;sudo&lt;/span&gt; unshare --uts --mount --pid --mount-proc --fork /bin/bash
root@kernelnewbies:~&lt;span class=&#34;token comment&#34;&gt;# readlink /proc/$$/ns/pid&lt;/span&gt;
pid:&lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;4026532182&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;

root@kernelnewbies:~&lt;span class=&#34;token comment&#34;&gt;# unshare --uts --mount --pid --mount-proc --fork /bin/bash&lt;/span&gt;
root@kernelnewbies:~&lt;span class=&#34;token comment&#34;&gt;# readlink /proc/$$/ns/pid&lt;/span&gt;
pid:&lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;4026532185&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;

root@kernelnewbies:~&lt;span class=&#34;token comment&#34;&gt;# unshare --uts --mount --pid --mount-proc --fork /bin/bash&lt;/span&gt;
root@kernelnewbies:~&lt;span class=&#34;token comment&#34;&gt;# readlink /proc/$$/ns/pid&lt;/span&gt;
pid:&lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;4026532188&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;然后，我们启动一个新Shell，然后使用pstree查看进程间关系。命令及结果如下：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-bash&#34; data-language=&#34;bash&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;phl@kernelnewbies:~$ pstree -lp &lt;span class=&#34;token operator&#34;&gt;|&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;grep&lt;/span&gt; unshare
sudo&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;12547&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;---unshare&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;12548&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;---bash&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;12549&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;---unshare&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;12579&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;---bash&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;12580&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;---unshare&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;12593&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;---bash&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;12594&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;使用cat /proc/[pid]/status | grep NSpid可查看某进程在当前pid namespace及子孙pid namespace中的pid。我们在全局pid namespace中查看上述各进程在各pid namespace中的pid，命令及结果如下：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-bash&#34; data-language=&#34;bash&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;phl@kernelnewbies:~$ &lt;span class=&#34;token function&#34;&gt;cat&lt;/span&gt; /proc/12594/status &lt;span class=&#34;token operator&#34;&gt;|&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;grep&lt;/span&gt; NSpid
NSpid: &lt;span class=&#34;token number&#34;&gt;12594&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;21&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;11&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;1&lt;/span&gt;

phl@kernelnewbies:~$ &lt;span class=&#34;token function&#34;&gt;cat&lt;/span&gt; /proc/12593/status &lt;span class=&#34;token operator&#34;&gt;|&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;grep&lt;/span&gt; NSpid
NSpid: &lt;span class=&#34;token number&#34;&gt;12593&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;20&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;10&lt;/span&gt;

phl@kernelnewbies:~$ &lt;span class=&#34;token function&#34;&gt;cat&lt;/span&gt; /proc/12580/status &lt;span class=&#34;token operator&#34;&gt;|&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;grep&lt;/span&gt; NSpid
NSpid: &lt;span class=&#34;token number&#34;&gt;12580&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;11&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;1&lt;/span&gt;

phl@kernelnewbies:~$ &lt;span class=&#34;token function&#34;&gt;cat&lt;/span&gt; /proc/12579/status &lt;span class=&#34;token operator&#34;&gt;|&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;grep&lt;/span&gt; NSpid
NSpid: &lt;span class=&#34;token number&#34;&gt;12579&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;10&lt;/span&gt;

phl@kernelnewbies:~$ &lt;span class=&#34;token function&#34;&gt;cat&lt;/span&gt; /proc/12549/status &lt;span class=&#34;token operator&#34;&gt;|&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;grep&lt;/span&gt; NSpid
NSpid: &lt;span class=&#34;token number&#34;&gt;12549&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;1&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;下面我们将以上进程在各pid namespace中的pid，整理成表格。表格信息如下：&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2022/03/1820220318143156.png&#34; alt=&#34;使用 Shell 脚本实现 Docker&#34;&gt;&lt;/p&gt;
&lt;p&gt;我们以最后一行为例进行介绍，最后一行有4个pid，这4个pid其实是同一个进程。这个进程在4个pid namespace中都可以被看到，且其在4个pid namespace中的pid各不相同。&lt;/p&gt;
&lt;h4 id=&#34;1-4-4-docker-sh&#34;&gt;1.4.4.docker.sh&lt;/h4&gt;
&lt;p&gt;有了以上关于pid namespace的知识，我们就可以将pid namespae加入到docker.sh中了。pid namespace将放在docker.sh中，带下划线的行是我们为实现pid namespace而修改的代码。修改后的docker.sh脚本如下：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-bash&#34; data-language=&#34;bash&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;..&lt;/span&gt;.
unshare --uts --mount --pid --fork ./container.sh&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;从上述代码我们可以看到，我们仅仅是在调用unshare时加入--pid和--fork选项，就可为docker.sh引入了pid namespace功能。&lt;/p&gt;
&lt;p&gt;然后，我们需要重新挂载/proc文件系统。重新挂载/proc文件系统的功能将放在container.sh中，带下划线的行是我们为重新挂载/proc文件系统而新添的代码。修改后的container.sh脚本如下如下所示：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-bash&#34; data-language=&#34;bash&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;&lt;span class=&#34;token function&#34;&gt;hostname&lt;/span&gt; &lt;span class=&#34;token variable&#34;&gt;$container&lt;/span&gt;
&lt;span class=&#34;token function&#34;&gt;mount&lt;/span&gt; -t proc proc /proc
&lt;span class=&#34;token builtin class-name&#34;&gt;exec&lt;/span&gt; &lt;span class=&#34;token variable&#34;&gt;$program&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;现在，我们运行docker.sh，并查看当前的进程信息。命令及结果如下：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-bash&#34; data-language=&#34;bash&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;phl@kernelnewbies:~/docker.sh$ &lt;span class=&#34;token function&#34;&gt;sudo&lt;/span&gt; ./docker.sh -c run -m 100M -C dreamland -I ubuntu1604 -V data1 -P /bin/bash
root@dreamland:~/docker.sh&lt;span class=&#34;token comment&#34;&gt;# ps -ef&lt;/span&gt;
&lt;span class=&#34;token environment constant&#34;&gt;UID&lt;/span&gt;        PID  &lt;span class=&#34;token environment constant&#34;&gt;PPID&lt;/span&gt;  C STIME TTY          TIME CMD
root         &lt;span class=&#34;token number&#34;&gt;1&lt;/span&gt;     &lt;span class=&#34;token number&#34;&gt;0&lt;/span&gt;  &lt;span class=&#34;token number&#34;&gt;0&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;17&lt;/span&gt;:31 pts/1    00:00:00 /bin/bash
root        &lt;span class=&#34;token number&#34;&gt;16&lt;/span&gt;     &lt;span class=&#34;token number&#34;&gt;1&lt;/span&gt;  &lt;span class=&#34;token number&#34;&gt;0&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;17&lt;/span&gt;:31 pts/1    00:00:00 &lt;span class=&#34;token function&#34;&gt;ps&lt;/span&gt; -ef&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;从结果我们可看出，当前进程只有两个，不再有主机上的其他进程。&lt;/p&gt;
&lt;h2 id=&#34;2-CGroups&#34;&gt;2.CGroups&lt;/h2&gt;
&lt;h3 id=&#34;2-1-CGroups简介&#34;&gt;2.1.CGroups简介&lt;/h3&gt;
&lt;p&gt;CGroups是一种将进程分组，并以组为单位对进程实施资源限制的技术。每个组都包含以下几类信息：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;进程列表&lt;/li&gt;
&lt;li&gt;资源A限制&lt;/li&gt;
&lt;li&gt;资源B限制&lt;/li&gt;
&lt;li&gt;资源C限制&lt;/li&gt;
&lt;li&gt;...&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;我们将以常见的CPU资源及内存资源为例进行介绍。以下的信息将使进程号为1001、1002、2008、3306的四个进程总共只能使用一个CPU核心；总共最多使用25%的CPU资源；总共最多使用100M内存，这样的一个分组被称为cgroup。&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2022/03/1820220318143103.png&#34; alt=&#34;使用 Shell 脚本实现 Docker&#34;&gt;&lt;/p&gt;
&lt;p&gt;上面的介绍只是说明了要将何种资源限制施加于哪些进程，并未说明资源限制是如何施加到进程上。具体施加资源限制的过程需要subsystem来帮忙。subsystem读取cgroup中的资源限制和进程列表，然后将这些资源限制施加到这些进程上。常见的subsystem包括如下几种：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;cpu&lt;/li&gt;
&lt;li&gt;memory&lt;/li&gt;
&lt;li&gt;pids&lt;/li&gt;
&lt;li&gt;devices&lt;/li&gt;
&lt;li&gt;blkio&lt;/li&gt;
&lt;li&gt;net_cls&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;每个subsystem只读取与其相关的资源限制，然后施加到进程上。例如：memory子系统只读取内存限制，而cpu子系统只读取cpu限制。&lt;/p&gt;
&lt;p&gt;cgroup被组织成树，如下图所示：&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2022/03/1820220318143057.png&#34; alt=&#34;使用 Shell 脚本实现 Docker&#34;&gt;&lt;/p&gt;
&lt;p&gt;采用树状结构可以方便地实现资源限制继承，一个cgroup中的资源限制将作用于该cgroup及其子孙cgroup中的进程。例如：图中13001、10339、2999受到A、B、C、D四个cgroup中的资源限制。这样的一个树状结构被称为hierarchy。&lt;/p&gt;
&lt;p&gt;hierarchy中包含了系统中所有的进程，它们分布于各个cgroup中。在hierarchy中，一个进程必须属于且只属于一个cgroup，这样才能保证对进程施加的资源限制不会遗漏也不会冲突。&lt;/p&gt;
&lt;p&gt;要想让一个subsystem读取hierarchy中各cgroup的资源限制，并施加于其中的进程需要将subsystem和hierarchy关联起来。subsystem与hierarchy的关系如下：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;系统中可以有多个hierarchy&lt;/li&gt;
&lt;li&gt;一个hierarchy可以关联0个或多个subsystem，当关联0个subsystem时，该hierarchy只是对进程进行分类&lt;/li&gt;
&lt;li&gt;一个subsystem最多关联到一个hierarchy，因为每个hierarchy都包含系统中所有的进程，若一个subsystem关联到了多个hierarchy，对同一进程将有多种资源限制，这是不对的&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;系统使用CGroups通常有两种形式：一种是创建一个hierarchy，将所有的subsystem关联到其上，在这个hierarchy上配置各种资源限制；另一种是为每一个subsystem创建一个hierarchy，并将该subsystem关联到其上，每个hierarchy只对一种资源进行限制。后一种比较清晰，得到了更普遍的采用。&lt;/p&gt;
&lt;p&gt;CGroups不像大多数的技术那样提供API或命令之类的用户接口，而是提供给用户一个虚拟文件系统，该虚拟文件系统类型为cgroup。一个挂载后的cgroup文件系统就是一个hierarchy，文件系统中的一个目录就是一个cgroup，目录中的文件代表了进程列表或者资源限制信息。文件系统是树状结构，其各个目录之间的父子关系就代表了cgroup之间的继承关系。挂载cgroup虚拟文件系统后，通过在该文件系统上创建目录、写进程列表文件、写资源限制文件就可以操作CGroups。&lt;/p&gt;
&lt;p&gt;下面，我们通过实验学习一下CGroups的用法。首先，我们挂载一个cgroup虚拟文件系统，该文件系统不与任何subsystem关联，仅仅是将进程进行分类。命令及结果如下：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-bash&#34; data-language=&#34;bash&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;phl@kernelnewbies:~$ &lt;span class=&#34;token function&#34;&gt;mkdir&lt;/span&gt; -p cg/test
&lt;span class=&#34;token comment&#34;&gt;# -o none,name=test 表示该cgroup文件系统不与任何子系统关联&lt;/span&gt;
&lt;span class=&#34;token comment&#34;&gt;# 该文件系统用name=test来标识&lt;/span&gt;
phl@kernelnewbies:~$ &lt;span class=&#34;token function&#34;&gt;sudo&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;mount&lt;/span&gt; -t cgroup -o none,name&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;test &lt;span class=&#34;token builtin class-name&#34;&gt;test&lt;/span&gt; cg/test
phl@kernelnewbies:~$ tree cg/test
cg/test
├── cgroup.clone_children
├── cgroup.procs
├── cgroup.sane_behavior
├── notify_on_release
├── release_agent
└── tasks
&lt;span class=&#34;token number&#34;&gt;0&lt;/span&gt; directories, &lt;span class=&#34;token number&#34;&gt;6&lt;/span&gt; files&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;挂载cgroup文件系统后，该cgroup文件系统的根目录下会生成许多文件，该根目录被称为root cgroup。cgroup.procs里面存放的是当前cgroup中的所有进程id，由于该hierarchy中只有一个cgroup，所以这个文件包含了系统中所有的进程id。其他的文件与cgroups基本功能关系不大，暂时可以忽略。&lt;/p&gt;
&lt;p&gt;在cgroup文件系统中，创建一个目录就会创建一个cgroup。下面我们将会演示如何创建下面这样的hierarchy：&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2022/03/1820220318143054.png&#34; alt=&#34;使用 Shell 脚本实现 Docker&#34;&gt;&lt;/p&gt;
&lt;p&gt;命令及结果如下：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-bash&#34; data-language=&#34;bash&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;phl@kernelnewbies:~$ &lt;span class=&#34;token function&#34;&gt;sudo&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;mkdir&lt;/span&gt; -p cg/test/test1/test11
phl@kernelnewbies:~$ &lt;span class=&#34;token function&#34;&gt;sudo&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;mkdir&lt;/span&gt; -p cg/test/test2/test22
phl@kernelnewbies:~$ tree cg/test
cg/test
├── cgroup.clone_children
├── cgroup.procs
├── cgroup.sane_behavior
├── notify_on_release
├── release_agent
├── tasks
├── test1
│   ├── cgroup.clone_children
│   ├── cgroup.procs
│   ├── notify_on_release
│   ├── tasks
│   └── test11
│       ├── cgroup.clone_children
│       ├── cgroup.procs
│       ├── notify_on_release
│       └── tasks
└── test2
    ├── cgroup.clone_children
    ├── cgroup.procs
    ├── notify_on_release
    ├── tasks
    └── test22
        ├── cgroup.clone_children
        ├── cgroup.procs
        ├── notify_on_release
        └── tasks

&lt;span class=&#34;token number&#34;&gt;4&lt;/span&gt; directories, &lt;span class=&#34;token number&#34;&gt;22&lt;/span&gt; files&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;从结果我们可以看到，我们创建了相应的目录后，这些目录下自动出现了包含cgroup信息的目录及文件。&lt;/p&gt;
&lt;p&gt;删除cgroup时只需删除该cgroup所在的目录即可。下面我们将删除test11 cgroup，命令及结果如下：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-bash&#34; data-language=&#34;bash&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;phl@kernelnewbies:~$ &lt;span class=&#34;token function&#34;&gt;sudo&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;rmdir&lt;/span&gt; cg/test/test1/test11
phl@kernelnewbies:~$ tree cg/test
cg/test
├── cgroup.clone_children
├── cgroup.procs
├── cgroup.sane_behavior
├── notify_on_release
├── release_agent
├── tasks
├── test1
│   ├── cgroup.clone_children
│   ├── cgroup.procs
│   ├── notify_on_release
│   └── tasks
└── test2
    ├── cgroup.clone_children
    ├── cgroup.procs
    ├── notify_on_release
    ├── tasks
    └── test22
        ├── cgroup.clone_children
        ├── cgroup.procs
        ├── notify_on_release
        └── tasks

&lt;span class=&#34;token number&#34;&gt;3&lt;/span&gt; directories, &lt;span class=&#34;token number&#34;&gt;18&lt;/span&gt; files&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;每个cgroup下面都有一个cgroup.procs文件，该文件里面包含当前cgroup里面的所有进程id。只要将某个进程的id写入该文件，即可将该进程加入到该cgroup中。下面，我们将当前的bash加入到test22 cgroup中，命令及结果如下：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-bash&#34; data-language=&#34;bash&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;phl@kernelnewbies:~$ &lt;span class=&#34;token builtin class-name&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;token variable&#34;&gt;$$&lt;/span&gt;
&lt;span class=&#34;token number&#34;&gt;3894&lt;/span&gt;
phl@kernelnewbies:~$ &lt;span class=&#34;token function&#34;&gt;sudo&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;sh&lt;/span&gt; -c &lt;span class=&#34;token string&#34;&gt;&#34;echo 3894 &amp;gt; cg/test/test2/test22/cgroup.procs&#34;&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;/proc/[pid]/cgroup包含了某个进程所在的cgroup信息。下面，我们查看一下当前bash进程所在的cgroup信息，命令及结果如下：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-bash&#34; data-language=&#34;bash&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;phl@kernelnewbies:~$ &lt;span class=&#34;token function&#34;&gt;cat&lt;/span&gt; /proc/3894/cgroup
&lt;span class=&#34;token number&#34;&gt;13&lt;/span&gt;:name&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;test:/test2/test22
&lt;span class=&#34;token number&#34;&gt;12&lt;/span&gt;:freezer:/
&lt;span class=&#34;token number&#34;&gt;11&lt;/span&gt;:perf_event:/
&lt;span class=&#34;token number&#34;&gt;10&lt;/span&gt;:blkio:/user.slice
&lt;span class=&#34;token number&#34;&gt;9&lt;/span&gt;:devices:/user.slice
&lt;span class=&#34;token number&#34;&gt;8&lt;/span&gt;:hugetlb:/
&lt;span class=&#34;token number&#34;&gt;7&lt;/span&gt;:cpu,cpuacct:/user.slice
&lt;span class=&#34;token number&#34;&gt;6&lt;/span&gt;:net_cls,net_prio:/
&lt;span class=&#34;token number&#34;&gt;5&lt;/span&gt;:memory:/user.slice
&lt;span class=&#34;token number&#34;&gt;4&lt;/span&gt;:rdma:/
&lt;span class=&#34;token number&#34;&gt;3&lt;/span&gt;:pids:/user.slice/user-1001.slice/session-4.scope
&lt;span class=&#34;token number&#34;&gt;2&lt;/span&gt;:cpuset:/
&lt;span class=&#34;token number&#34;&gt;1&lt;/span&gt;:name&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;systemd:/user.slice/user-1001.slice/session-4.scope
&lt;span class=&#34;token number&#34;&gt;0&lt;/span&gt;::/user.slice/user-1001.slice/session-4.scope&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;从结果我们可以看到，当前bash进程加入了多个cgroup，其中带下划线的行为我们刚刚加入的cgroup。&lt;/p&gt;
&lt;p&gt;要想将hierarchy与子系统关联起来，需要在-o选项中指定子系统名称。下面演示了如何将memory子系统与新挂载的cgroup文件系统关联起来。代码如下：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-bash&#34; data-language=&#34;bash&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;phl@kernelnewbies:~$ &lt;span class=&#34;token function&#34;&gt;sudo&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;mkdir&lt;/span&gt; cg/memory
phl@kernelnewbies:~$ &lt;span class=&#34;token function&#34;&gt;sudo&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;mount&lt;/span&gt; -t cgroup -o memory memcg cg/memory&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;由于很多发行版的操作系统已经为我们配置好了这些cgroup文件系统，我们应当直接使用这些已经挂在好的文件系统，不需要自己去挂载。&lt;/p&gt;
&lt;p&gt;另外，当创建子进程时，子进程会自动加入父进程所在的cgroup。&lt;/p&gt;
&lt;h3 id=&#34;2-2-限制内存&#34;&gt;2.2.限制内存&lt;/h3&gt;
&lt;h4 id=&#34;2-2-1-用CGroups限制内存&#34;&gt;2.2.1.用CGroups限制内存&lt;/h4&gt;
&lt;p&gt;下面我们将介绍演示CGroups如何限制进程使用的内存资源，我们以内存为例进行讲解。&lt;/p&gt;
&lt;p&gt;Ubuntu18.04已经为我们挂载了一个关联memory子系统的cgroup虚拟文件系统。我们用mount命令查看一下该系统挂载到了何处，命令及结果如下：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-bash&#34; data-language=&#34;bash&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;phl@kernelnewbies:~$ &lt;span class=&#34;token function&#34;&gt;mount&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;|&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;grep&lt;/span&gt; cgroup
tmpfs on /sys/fs/cgroup &lt;span class=&#34;token builtin class-name&#34;&gt;type&lt;/span&gt; tmpfs &lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;ro,nosuid,nodev,noexec,mode&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;755&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;
cgroup on /sys/fs/cgroup/unified &lt;span class=&#34;token builtin class-name&#34;&gt;type&lt;/span&gt; cgroup2 &lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;rw,nosuid,nodev,noexec,relatime,nsdelegate&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;
cgroup on /sys/fs/cgroup/systemd &lt;span class=&#34;token builtin class-name&#34;&gt;type&lt;/span&gt; cgroup &lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;rw,nosuid,nodev,noexec,relatime,xattr,name&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;systemd&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;
cgroup on /sys/fs/cgroup/cpuset &lt;span class=&#34;token builtin class-name&#34;&gt;type&lt;/span&gt; cgroup &lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;rw,nosuid,nodev,noexec,relatime,cpuset&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;
cgroup on /sys/fs/cgroup/pids &lt;span class=&#34;token builtin class-name&#34;&gt;type&lt;/span&gt; cgroup &lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;rw,nosuid,nodev,noexec,relatime,pids&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;
cgroup on /sys/fs/cgroup/rdma &lt;span class=&#34;token builtin class-name&#34;&gt;type&lt;/span&gt; cgroup &lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;rw,nosuid,nodev,noexec,relatime,rdma&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;
cgroup on /sys/fs/cgroup/memory &lt;span class=&#34;token builtin class-name&#34;&gt;type&lt;/span&gt; cgroup &lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;rw,nosuid,nodev,noexec,relatime,memory&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;
cgroup on /sys/fs/cgroup/net_cls,net_prio &lt;span class=&#34;token builtin class-name&#34;&gt;type&lt;/span&gt; cgroup &lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;rw,nosuid,nodev,noexec,relatime,net_cls,net_prio&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;
cgroup on /sys/fs/cgroup/cpu,cpuacct &lt;span class=&#34;token builtin class-name&#34;&gt;type&lt;/span&gt; cgroup &lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;rw,nosuid,nodev,noexec,relatime,cpu,cpuacct&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;
cgroup on /sys/fs/cgroup/hugetlb &lt;span class=&#34;token builtin class-name&#34;&gt;type&lt;/span&gt; cgroup &lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;rw,nosuid,nodev,noexec,relatime,hugetlb&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;
cgroup on /sys/fs/cgroup/devices &lt;span class=&#34;token builtin class-name&#34;&gt;type&lt;/span&gt; cgroup &lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;rw,nosuid,nodev,noexec,relatime,devices&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;
cgroup on /sys/fs/cgroup/blkio &lt;span class=&#34;token builtin class-name&#34;&gt;type&lt;/span&gt; cgroup &lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;rw,nosuid,nodev,noexec,relatime,blkio&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;
cgroup on /sys/fs/cgroup/perf_event &lt;span class=&#34;token builtin class-name&#34;&gt;type&lt;/span&gt; cgroup &lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;rw,nosuid,nodev,noexec,relatime,perf_event&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;
cgroup on /sys/fs/cgroup/freezer &lt;span class=&#34;token builtin class-name&#34;&gt;type&lt;/span&gt; cgroup &lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;rw,nosuid,nodev,noexec,relatime,freezer&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;该系统挂载到了/sys/fs/cgroup/memory目录下。我们在该hierarchy中创建一个test cgroup并查看该cgroup的目录结构，命令及结果如下：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-bash&#34; data-language=&#34;bash&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;phl@kernelnewbies:~$ &lt;span class=&#34;token function&#34;&gt;sudo&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;mkdir&lt;/span&gt; /sys/fs/cgroup/memory/test
phl@kernelnewbies:~$ tree /sys/fs/cgroup/memory/test
/sys/fs/cgroup/memory/test
├── cgroup.clone_children
├── cgroup.event_control
├── cgroup.procs
├── memory.failcnt
├── memory.force_empty
├── memory.kmem.failcnt
├── memory.kmem.limit_in_bytes
├── memory.kmem.max_usage_in_bytes
├── memory.kmem.slabinfo
├── memory.kmem.tcp.failcnt
├── memory.kmem.tcp.limit_in_bytes
├── memory.kmem.tcp.max_usage_in_bytes
├── memory.kmem.tcp.usage_in_bytes
├── memory.kmem.usage_in_bytes
├── memory.limit_in_bytes
├── memory.max_usage_in_bytes
├── memory.move_charge_at_immigrate
├── memory.numa_stat
├── memory.oom_control
├── memory.pressure_level
├── memory.soft_limit_in_bytes
├── memory.stat
├── memory.swappiness
├── memory.usage_in_bytes
├── memory.use_hierarchy
├── notify_on_release
└── tasks
&lt;span class=&#34;token number&#34;&gt;0&lt;/span&gt; directories, &lt;span class=&#34;token number&#34;&gt;27&lt;/span&gt; files&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;从结果我们可以看到，新建的test cgroup中有许多文件，这些文件中存放着资源限制信息。其中memory.limit_in_bytes里面存放的是该cgroup中的进程能够使用的内存额度。&lt;/p&gt;
&lt;p&gt;下面，我们将当前bash加入到test cgroup中并查看当前bash所属的cgroup信息。命令及结果如下：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-bash&#34; data-language=&#34;bash&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;phl@kernelnewbies:~$ &lt;span class=&#34;token builtin class-name&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;token variable&#34;&gt;$$&lt;/span&gt;
&lt;span class=&#34;token number&#34;&gt;2984&lt;/span&gt;
phl@kernelnewbies:~$ &lt;span class=&#34;token function&#34;&gt;sudo&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;sh&lt;/span&gt; -c &lt;span class=&#34;token string&#34;&gt;&#34;echo 2984 &amp;gt; /sys/fs/cgroup/memory/test/cgroup.procs&#34;&lt;/span&gt;
phl@kernelnewbies:~$ &lt;span class=&#34;token function&#34;&gt;cat&lt;/span&gt; /proc/2984/cgroup
&lt;span class=&#34;token number&#34;&gt;12&lt;/span&gt;:devices:/user.slice
&lt;span class=&#34;token number&#34;&gt;11&lt;/span&gt;:hugetlb:/
&lt;span class=&#34;token number&#34;&gt;10&lt;/span&gt;:memory:/test
&lt;span class=&#34;token number&#34;&gt;9&lt;/span&gt;:rdma:/
&lt;span class=&#34;token number&#34;&gt;8&lt;/span&gt;:perf_event:/
&lt;span class=&#34;token number&#34;&gt;7&lt;/span&gt;:blkio:/user.slice
&lt;span class=&#34;token number&#34;&gt;6&lt;/span&gt;:cpu,cpuacct:/user.slice
&lt;span class=&#34;token number&#34;&gt;5&lt;/span&gt;:pids:/user.slice/user-1001.slice/session-4.scope
&lt;span class=&#34;token number&#34;&gt;4&lt;/span&gt;:freezer:/
&lt;span class=&#34;token number&#34;&gt;3&lt;/span&gt;:cpuset:/
&lt;span class=&#34;token number&#34;&gt;2&lt;/span&gt;:net_cls,net_prio:/
&lt;span class=&#34;token number&#34;&gt;1&lt;/span&gt;:name&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;systemd:/user.slice/user-1001.slice/session-4.scope
&lt;span class=&#34;token number&#34;&gt;0&lt;/span&gt;::/user.slice/user-1001.slice/session-4.scope&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;从结果我们可以看到，当前bash所属的memory cgroup变为了/test，该目录为一个相对于root cgroup的相对路径。&lt;/p&gt;
&lt;p&gt;然后，将100M写入test cgroup中的memory.limit_in_bytes文件中，命令如下：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-bash&#34; data-language=&#34;bash&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;phl@kernelnewbies:~$ &lt;span class=&#34;token function&#34;&gt;sudo&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;sh&lt;/span&gt; -c &lt;span class=&#34;token string&#34;&gt;&#34;echo 100M &amp;gt; /sys/fs/cgroup/memory/test/memory.limit_in_bytes&#34;&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;我们在当前bash中启动一个占用300M进程的stress进程，该stress进程是bash的子进程，其与bash进程都在test cgroup中。命令如下：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-bash&#34; data-language=&#34;bash&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;phl@kernelnewbies:~$ stress --vm &lt;span class=&#34;token number&#34;&gt;1&lt;/span&gt; --vm-bytes 300M --vm-keep&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;启动一个新的Shell窗口，执行top命令查看stress进程占用的内存。命令及结果如下：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-bash&#34; data-language=&#34;bash&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;PID &lt;span class=&#34;token environment constant&#34;&gt;USER&lt;/span&gt;      PR  NI    VIRT    RES    SHR S %CPU %MEM     TIME+ COMMAND
&lt;span class=&#34;token number&#34;&gt;14216&lt;/span&gt; root      &lt;span class=&#34;token number&#34;&gt;20&lt;/span&gt;   &lt;span class=&#34;token number&#34;&gt;0&lt;/span&gt;  &lt;span class=&#34;token number&#34;&gt;315440&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;101224&lt;/span&gt;    &lt;span class=&#34;token number&#34;&gt;264&lt;/span&gt; D &lt;span class=&#34;token number&#34;&gt;27.7&lt;/span&gt;  &lt;span class=&#34;token number&#34;&gt;2.5&lt;/span&gt;   &lt;span class=&#34;token number&#34;&gt;0&lt;/span&gt;:02.66 stress&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;从结果我们可以看到，stress进程占用了2.5%的内存。我的电脑的内存为4G，4G * 2.5% = 100M，stress进程确实受到了cgroup中设置的内存额度的限制。&lt;/p&gt;
&lt;h4 id=&#34;2-2-2-docker-sh&#34;&gt;2.2.2.docker.sh&lt;/h4&gt;
&lt;p&gt;下有了以上关于CGroups的知识，我们就可以将限制内存的功能加入到docker.sh中了。限制内存的功能将放在container.sh中，带下划线的行是我们为实现限制内存而新添的代码。修改后的container.sh脚本如下：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-bash&#34; data-language=&#34;bash&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;&lt;span class=&#34;token function&#34;&gt;hostname&lt;/span&gt; &lt;span class=&#34;token variable&#34;&gt;$container&lt;/span&gt;
&lt;span class=&#34;token function&#34;&gt;mkdir&lt;/span&gt; -p /sys/fs/cgroup/memory/&lt;span class=&#34;token variable&#34;&gt;$container&lt;/span&gt;
&lt;span class=&#34;token builtin class-name&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;token variable&#34;&gt;$$&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;&amp;gt;&lt;/span&gt; /sys/fs/cgroup/memory/&lt;span class=&#34;token variable&#34;&gt;$container&lt;/span&gt;/cgroup.procs
&lt;span class=&#34;token builtin class-name&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;token variable&#34;&gt;$memory&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;&amp;gt;&lt;/span&gt; /sys/fs/cgroup/memory/&lt;span class=&#34;token variable&#34;&gt;$container&lt;/span&gt;/memory.limit_in_bytes
&lt;span class=&#34;token function&#34;&gt;mount&lt;/span&gt; -t proc proc /proc
&lt;span class=&#34;token builtin class-name&#34;&gt;exec&lt;/span&gt; &lt;span class=&#34;token variable&#34;&gt;$program&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;首先，我们根据容器的名字创建cgroup，命令如下：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-bash&#34; data-language=&#34;bash&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;&lt;span class=&#34;token function&#34;&gt;mkdir&lt;/span&gt; -p /sys/fs/cgroup/memory/&lt;span class=&#34;token variable&#34;&gt;$container&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;然后，我们将当前bash加入到我们创建的cgroup中，命令如下：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-bash&#34; data-language=&#34;bash&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;&lt;span class=&#34;token builtin class-name&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;token variable&#34;&gt;$$&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;&amp;gt;&lt;/span&gt; /sys/fs/cgroup/memory/&lt;span class=&#34;token variable&#34;&gt;$container&lt;/span&gt;/cgroup.procs&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;最后，我们将内存限制写入新cgroup的memory.limit_in_bytes文件中，命令如下：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-bash&#34; data-language=&#34;bash&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;&lt;span class=&#34;token builtin class-name&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;token variable&#34;&gt;$memory&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;&amp;gt;&lt;/span&gt; /sys/fs/cgroup/memory/&lt;span class=&#34;token variable&#34;&gt;$container&lt;/span&gt;/memory.limit_in_bytes&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;现在，我们运行docker.sh，并启动一个占用300M进程的stress进程。命令及结果如下：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-bash&#34; data-language=&#34;bash&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;phl@kernelnewbies:~/docker.sh$ &lt;span class=&#34;token function&#34;&gt;sudo&lt;/span&gt; ./docker.sh -c run -m 100M -C dreamland -I ubuntu1604 -V data1 -P /bin/bash
root@dreamland:~/docker.sh&lt;span class=&#34;token comment&#34;&gt;# stress --vm 1 --vm-bytes 300M --vm-keep&lt;/span&gt;
stress: info: &lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;12&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt; dispatching hogs: &lt;span class=&#34;token number&#34;&gt;0&lt;/span&gt; cpu, &lt;span class=&#34;token number&#34;&gt;0&lt;/span&gt; io, &lt;span class=&#34;token number&#34;&gt;1&lt;/span&gt; vm, &lt;span class=&#34;token number&#34;&gt;0&lt;/span&gt; hdd&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;启动一个新的Shell窗口，执行top命令查看stress进程占用的内存。命令及结果如下：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-bash&#34; data-language=&#34;bash&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;PID &lt;span class=&#34;token environment constant&#34;&gt;USER&lt;/span&gt;      PR  NI    VIRT    RES    SHR S %CPU %MEM     TIME+ COMMAND
&lt;span class=&#34;token number&#34;&gt;14216&lt;/span&gt; root      &lt;span class=&#34;token number&#34;&gt;20&lt;/span&gt;   &lt;span class=&#34;token number&#34;&gt;0&lt;/span&gt;  &lt;span class=&#34;token number&#34;&gt;315440&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;101224&lt;/span&gt;    &lt;span class=&#34;token number&#34;&gt;264&lt;/span&gt; D &lt;span class=&#34;token number&#34;&gt;27.7&lt;/span&gt;  &lt;span class=&#34;token number&#34;&gt;2.5&lt;/span&gt;   &lt;span class=&#34;token number&#34;&gt;0&lt;/span&gt;:02.66 stress&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;从结果我们可以看到，容器内的stress进程只使用了100M的内存。&lt;/p&gt;
&lt;h2 id=&#34;3-切换根文件系统&#34;&gt;3.切换根文件系统&lt;/h2&gt;
&lt;h3 id=&#34;3-1-根文件系统&#34;&gt;3.1.根文件系统&lt;/h3&gt;
&lt;p&gt;在容器技术中，根文件系统可为容器进程提供一个与主机不一致的文件系统环境。举个例子，主机为Ubuntu 18.04，创建的容器采用Ubuntu 16.04的根文件系统，那么容器运行时所用的软件及其依赖库、配置文件等都是Ubuntu 16.04的。尽管该容器使用的内核是仍旧是Ubuntu 18.04的，但应用软件的表现却与Ubuntu 16.04一致，从虚拟化的角度来说该容器就是一个Ubuntu 16.04系统。&lt;/p&gt;
&lt;p&gt;debootstrap是Ubuntu下的一个工具，用来构建根文件系统。生成的目录符合Linux文件系统标准，即包含了/boot、/etc、/bin、/usr等目录。debootstrap的安装命令如下：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-bash&#34; data-language=&#34;bash&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;&lt;span class=&#34;token function&#34;&gt;sudo&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;apt&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;install&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;debootstrap&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;下面我们通过debootstrap构建Ubuntu 16.04的根文件系统。为了清晰，我们在images目录下生成根文件系统。命令及结果如下：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-bash&#34; data-language=&#34;bash&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;phl@kernelnewbies:~/docker.sh$ &lt;span class=&#34;token function&#34;&gt;mkdir&lt;/span&gt; images
phl@kernelnewbies:~/docker.sh$ &lt;span class=&#34;token builtin class-name&#34;&gt;cd&lt;/span&gt; images
phl@kernelnewbies:~/docker.sh/images$ &lt;span class=&#34;token function&#34;&gt;sudo&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;debootstrap&lt;/span&gt; --arch amd64 xenial ./ubuntu1604&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;制作根文件系统需要从服务器下载很多文件，很耗时，请耐心等待。当文件系统制作好后，可以使用tree命令查看生成的根文件系统。命令及结果如下：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-bash&#34; data-language=&#34;bash&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;phl@kernelnewbies:~/docker.sh/images$ tree -L &lt;span class=&#34;token number&#34;&gt;1&lt;/span&gt; ubuntu1604/
ubuntu1604/
├── bin
├── boot
├── dev
├── etc
├── home
├── lib
├── lib64
├── media
├── mnt
├── old_root
├── opt
├── proc
├── root
├── run
├── sbin
├── srv
├── sys
├── tmp
├── usr
└── var
&lt;span class=&#34;token number&#34;&gt;20&lt;/span&gt; directories, &lt;span class=&#34;token number&#34;&gt;0&lt;/span&gt; files&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;这个根文件系统与Linux系统目录很相近，我们后续的实验将使用该根文件系统。&lt;/p&gt;
&lt;h3 id=&#34;3-2-pivot-root&#34;&gt;3.2.pivot_root&lt;/h3&gt;
&lt;p&gt;pivot_root命令用于切换根文件系统，其使用方式如下：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-bash&#34; data-language=&#34;bash&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;pivot_root new_root put_old&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;pivot_root将当前进程的根文件系统移至put_old目录并使new_root目录成为新的根文件系统。&lt;/p&gt;
&lt;p&gt;下面我们将通过实验学习pivot_root的使用方法。为了简单，我们在一个新的mount namespace下进行实验。首先，我们创建一个新的mount namespace，命令及结果如下：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-bash&#34; data-language=&#34;bash&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;phl@kernelnewbies:~/docker.sh/images$ &lt;span class=&#34;token function&#34;&gt;sudo&lt;/span&gt; unshare --mount /bin/bash
root@kernelnewbies:~/docker.sh/images&lt;span class=&#34;token comment&#34;&gt;#&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;在我们的实验中，我们的根文件系统将挂载在ubuntu1604目录，而老的根文件系统将被移动到ubuntu1604/old_root目录下。我们先创建old_root目录，命令如下：&lt;/p&gt;
&lt;p&gt;root@kernelnewbies:~/docker.sh/images# mkdir -p ubuntu1604/old_root/&lt;/p&gt;
&lt;p&gt;由于pivot_root命令要求老的根目录和新的根目录不能在同一个挂载点下，因此我们通过bind mount将ubuntu1604目录变成一个挂载点。命令及结果如下：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-bash&#34; data-language=&#34;bash&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;root@kernelnewbies:~/docker.sh/images&lt;span class=&#34;token comment&#34;&gt;# mount --bind ubuntu1604 ubuntu1604&lt;/span&gt;
root@kernelnewbies:~/docker.sh/images&lt;span class=&#34;token comment&#34;&gt;# cat /proc/self/mountinfo | grep ubuntu1604&lt;/span&gt;
&lt;span class=&#34;token number&#34;&gt;624&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;382&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;8&lt;/span&gt;:1 /home/phl/docker.sh/images/ubuntu1604 /home/phl/docker.sh/images/ubuntu1604 rw,relatime - ext4 /dev/sda1 rw,errors&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;remount-ro&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;准备好切换根文件系统所需要的条件后，我们调用pivot_root切换根文件系统。命令及结果如下：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-bash&#34; data-language=&#34;bash&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;root@kernelnewbies:~/docker.sh/images&lt;span class=&#34;token comment&#34;&gt;# cd ubuntu1604/&lt;/span&gt;
root@kernelnewbies:~/docker.sh/images/ubuntu1604&lt;span class=&#34;token comment&#34;&gt;# pivot_root . old_root/&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;此时，已完成根文件系统的切换，/proc文件系统也被挪到了&lt;br&gt;
/home/phl/docker.sh/images/ubuntu1604/old_root/proc，也就是说当前没有/proc文件系统，因此，我们无法查看挂载点信息，自然也无法执行一些依赖于/proc文件系统的操作。我们需要重新挂载/proc文件系统。命令如下：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-bash&#34; data-language=&#34;bash&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;root@kernelnewbies:~/docker.sh/images/ubuntu1604&lt;span class=&#34;token comment&#34;&gt;# mount -t proc proc /proc&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;重新挂载/proc文件系统后，我们就可以查看当前的挂载点信息了。通过读取/proc/self/mountinfo文件来查看系统的挂载点信息。命令及结果如下：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-bash&#34; data-language=&#34;bash&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;root@kernelnewbies:~/docker.sh/images/ubuntu1604&lt;span class=&#34;token comment&#34;&gt;# cat /proc/self/mountinfo&lt;/span&gt;
&lt;span class=&#34;token number&#34;&gt;382&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;624&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;8&lt;/span&gt;:1 / /old_root rw,relatime - ext4 /dev/sda1 rw,errors&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;remount-ro
&lt;span class=&#34;token punctuation&#34;&gt;..&lt;/span&gt;.
&lt;span class=&#34;token number&#34;&gt;624&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;381&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;8&lt;/span&gt;:1 /home/phl/docker.sh/images/ubuntu1604 / rw,relatime - ext4 /dev/sda1 rw,errors&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;remount-ro
&lt;span class=&#34;token number&#34;&gt;625&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;624&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;0&lt;/span&gt;:5 / /proc rw,relatime - proc proc rw&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;此时的挂载点很多，为了方便查看，此处只保留了一些主要的挂载点信息。这些挂载点信息包括/、/proc、/old_root。/old_root为老的根文件系统，我们需要将其卸载。命令及结果如下：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-bash&#34; data-language=&#34;bash&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;root@kernelnewbies:~/docker.sh/images/ubuntu1604&lt;span class=&#34;token comment&#34;&gt;# umount -l /old_root/&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;卸载掉老的根文件系统后，我们再查看系统的挂载点信息。命令及结果如下：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-bash&#34; data-language=&#34;bash&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;root@kernelnewbies:~/docker.sh/images/ubuntu1604&lt;span class=&#34;token comment&#34;&gt;# cat /proc/self/mountinfo&lt;/span&gt;
&lt;span class=&#34;token number&#34;&gt;624&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;381&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;8&lt;/span&gt;:1 /home/phl/docker.sh/images/ubuntu1604 / rw,relatime - ext4 /dev/sda1 rw,errors&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;remount-ro
&lt;span class=&#34;token number&#34;&gt;625&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;624&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;0&lt;/span&gt;:5 / /proc rw,relatime - proc proc rw&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;此时，挂载点信息中只有/、/proc，不再有主机的挂载点信息。&lt;/p&gt;
&lt;h3 id=&#34;3-3-docker-sh&#34;&gt;3.3.docker.sh&lt;/h3&gt;
&lt;p&gt;有了以上关于切换根文件系统的知识，我们就可以将切换根文件系统的功能加入到docker.sh中了。切换根文件系统的功能将放在container.sh中，带下划线的行是我们为实现切换根文件系统而新添的代码。修改后的container.sh脚本如下：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-bash&#34; data-language=&#34;bash&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;&lt;span class=&#34;token shebang important&#34;&gt;#!/bin/bash&lt;/span&gt;

&lt;span class=&#34;token function&#34;&gt;hostname&lt;/span&gt; &lt;span class=&#34;token variable&#34;&gt;$container&lt;/span&gt;

&lt;span class=&#34;token function&#34;&gt;mkdir&lt;/span&gt; -p /sys/fs/cgroup/memory/&lt;span class=&#34;token variable&#34;&gt;$container&lt;/span&gt;
&lt;span class=&#34;token builtin class-name&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;token variable&#34;&gt;$$&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;&amp;gt;&lt;/span&gt; /sys/fs/cgroup/memory/&lt;span class=&#34;token variable&#34;&gt;$container&lt;/span&gt;/cgroup.procs
&lt;span class=&#34;token builtin class-name&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;token variable&#34;&gt;$memory&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;&amp;gt;&lt;/span&gt; /sys/fs/cgroup/memory/&lt;span class=&#34;token variable&#34;&gt;$container&lt;/span&gt;/memory.limit_in_bytes

&lt;span class=&#34;token function&#34;&gt;mkdir&lt;/span&gt; -p images/&lt;span class=&#34;token variable&#34;&gt;$image&lt;/span&gt;/old_root
&lt;span class=&#34;token function&#34;&gt;mount&lt;/span&gt; --bind images/&lt;span class=&#34;token variable&#34;&gt;$image&lt;/span&gt; images/&lt;span class=&#34;token variable&#34;&gt;$image&lt;/span&gt;

&lt;span class=&#34;token builtin class-name&#34;&gt;cd&lt;/span&gt; images/&lt;span class=&#34;token variable&#34;&gt;$image&lt;/span&gt;
pivot_root &lt;span class=&#34;token builtin class-name&#34;&gt;.&lt;/span&gt; ./old_root

&lt;span class=&#34;token function&#34;&gt;mount&lt;/span&gt; -t proc proc /proc
&lt;span class=&#34;token function&#34;&gt;umount&lt;/span&gt; -l /old_root

&lt;span class=&#34;token builtin class-name&#34;&gt;exec&lt;/span&gt; &lt;span class=&#34;token variable&#34;&gt;$program&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;首先，我们在新的根文件系统目录中创建挂载老的根文件系统的目录。命令如下：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-bash&#34; data-language=&#34;bash&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;&lt;span class=&#34;token function&#34;&gt;mkdir&lt;/span&gt; -p images/&lt;span class=&#34;token variable&#34;&gt;$image&lt;/span&gt;/old_root&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;然后，我们将新根文件系统目录bind mount成一个挂载点。命令如下：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-bash&#34; data-language=&#34;bash&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;&lt;span class=&#34;token function&#34;&gt;mount&lt;/span&gt; --bind images/&lt;span class=&#34;token variable&#34;&gt;$image&lt;/span&gt; images/&lt;span class=&#34;token variable&#34;&gt;$image&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;然后，我们切换根文件系统。命令如下：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-bash&#34; data-language=&#34;bash&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;&lt;span class=&#34;token builtin class-name&#34;&gt;cd&lt;/span&gt; images/&lt;span class=&#34;token variable&#34;&gt;$image&lt;/span&gt;
pivot_root &lt;span class=&#34;token builtin class-name&#34;&gt;.&lt;/span&gt; ./old_root&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;最后，我们重新挂载/proc文件系统，然后卸载掉老的根文件系统。命令如下：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-bash&#34; data-language=&#34;bash&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;&lt;span class=&#34;token function&#34;&gt;mount&lt;/span&gt; -t proc proc /proc
&lt;span class=&#34;token function&#34;&gt;umount&lt;/span&gt; -l /old_root&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;现在，我们运行docker.sh，并查看当前的发行版信息。命令及结果如下：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-bash&#34; data-language=&#34;bash&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;phl@kernelnewbies:~/docker.sh$ &lt;span class=&#34;token function&#34;&gt;sudo&lt;/span&gt; ./docker.sh -c run -m 100M -C dreamland -I ubuntu1604 -V data1 -P /bin/bash
root@dreamland:/&lt;span class=&#34;token comment&#34;&gt;# cat /etc/issue&lt;/span&gt;
Ubuntu &lt;span class=&#34;token number&#34;&gt;16.04&lt;/span&gt; LTS &lt;span class=&#34;token punctuation&#34;&gt;\&lt;/span&gt;n &lt;span class=&#34;token punctuation&#34;&gt;\&lt;/span&gt;l&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;从结果我们可以看出，读出的发行版信息是Ubuntu 16.04 LTS \n \l，而非主机的Ubuntu 18.04.3 LTS \n \l。这说明当前使用的根文件系统确实是ubuntu16.04目录下的根文件系统，而非主机的根文件系统。&lt;/p&gt;
&lt;p&gt;我们再查看一下当前的挂载点信息，看看是否只有/与/proc。命令及结果如下：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-bash&#34; data-language=&#34;bash&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;root@dreamland:/&lt;span class=&#34;token comment&#34;&gt;# cat /proc/self/mountinfo&lt;/span&gt;
&lt;span class=&#34;token number&#34;&gt;625&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;381&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;8&lt;/span&gt;:1 /home/phl/docker.sh/images/ubuntu1604 / rw,relatime - ext4 /dev/sda1 rw,errors&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;remount-ro
&lt;span class=&#34;token number&#34;&gt;626&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;625&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;0&lt;/span&gt;:52 / /proc rw,relatime - proc proc rw&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;从结果我们可看出，当前挂载点信息中只有/、/proc，不再有主机的挂载点信息。&lt;/p&gt;
&lt;p&gt;通过根文件系统，我们实现了在容器中虚拟出与主机不一样的操作系统的功能。&lt;/p&gt;
&lt;h2 id=&#34;4-联合加载&#34;&gt;4.联合加载&lt;/h2&gt;
&lt;h3 id=&#34;4-1-联合加载简介&#34;&gt;4.1.联合加载简介&lt;/h3&gt;
&lt;p&gt;联合加载指的是一次同时加载多个文件系统，但是在外面看起来只能看到 一个文件系统。联合加载会将各层文件系统叠加到一起，这样最终的文件系统会 包含所有底层的文件和目录。&lt;/p&gt;
&lt;p&gt;联合加载的多个文件系统中有一个是可读写文件系统，称为读写层，其他文件系统是只读的，称为只读层。当联合加载的文件系统发生变化时，这些变化都应用到这个读写层。比如，如果想修改一个文件，这个文件首先会从只读层复制到读写层。原只读层中的文件依然存在，但是被读写层中的该文件副本所隐藏。我们以后读写该文件时，都是读写的该文件在读写层中的副本。这种机制被称为 写时复制。&lt;/p&gt;
&lt;p&gt;我们之前实现的docker.sh，有一个很大的缺陷。那就是，如果使用相同的根文件系统同时启动多个容器的实例，那么，这些容器实例使用的根文件系统位于同一个目录。我们在不同的容器实例对根文件系统所作的修改，这些容器彼此之间都可以看到，甚至一个容器可以覆覆盖另一个容器所作的修改。同时，容器实例退出时，对根文件系统所作的修改也直接作用于其所使用的根文件系统。当我们使用该根文件系统再次启动容器实例时，新启动的容器实例也可以看到以前的这些修改。例如，我们用ubuntu1604根文件系统启动两个容器实例，命令如下：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-bash&#34; data-language=&#34;bash&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;phl@kernelnewbies:~/docker.sh$ &lt;span class=&#34;token function&#34;&gt;sudo&lt;/span&gt; ./docker.sh -c run -m 100M -C dreamland -I ubuntu1604 -V data1 -P /bin/bash
phl@kernelnewbies:~/docker.sh$ &lt;span class=&#34;token function&#34;&gt;sudo&lt;/span&gt; ./docker.sh -c run -m 100M -C dreamland2 -I ubuntu1604 -V data1 -P /bin/bash&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;这两个容器实例对根文件系统做的修改彼此都可以看到。容器实例退出时，这些修改也被保存了下来，当用ubuntu1604根文件系统启动新的容器实例时，新实例也可看到以前实例所做的修改。&lt;/p&gt;
&lt;p&gt;如果容器使用的根文件系统是一个联合加载的文件系统，原先的根文件系统作为一个只读层，再添加一个读写层，那么，在容器内所作的修改都将只作用于读写层。为了区分，我们以后称ubuntu1604目录下的根文件系统为镜像。而我们可以为每一个容器实例指定一个唯一的读写层目录，这样的话，多个容器实例就可以使用同一个镜像，容器内所作的修改不会影响彼此，也不会影响到以后启动的容器实例。例如：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-bash&#34; data-language=&#34;bash&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;phl@kernelnewbies:~/docker.sh$ &lt;span class=&#34;token function&#34;&gt;sudo&lt;/span&gt; ./docker.sh -c run -m 100M -C dreamland -I ubuntu1604 -V data1 -P /bin/bash
phl@kernelnewbies:~/docker.sh$ &lt;span class=&#34;token function&#34;&gt;sudo&lt;/span&gt; ./docker.sh -c run -m 100M -C dreamland2 -I ubuntu1604 -V data1 -P /bin/bash&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;我们使用ubuntu1604镜像启动了两个容器示例，并在容器实例里进行读写操作。这两个容器实例的读写层目录是不一样的，在容器实例中所作的修改只作用于各自的读写层，彼此之间不会影响，当然更不会影响到后续启动的容器实例。&lt;/p&gt;
&lt;h3 id=&#34;4-2-AUFS&#34;&gt;4.2. AUFS&lt;/h3&gt;
&lt;p&gt;AUFS是一个实现了联合加载功能的文件系统。我们将采用AUFS实现docker.sh中的联合加载功能。&lt;/p&gt;
&lt;p&gt;下面，我们将通过实验演示一下AUFS文件系统的用法。首先，我们准备需要用到的目录及文件。命令及结果如下：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-bash&#34; data-language=&#34;bash&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;phl@kernelnewbies:~$ &lt;span class=&#34;token function&#34;&gt;mkdir&lt;/span&gt; aufs
phl@kernelnewbies:~$ &lt;span class=&#34;token builtin class-name&#34;&gt;cd&lt;/span&gt; aufs/
phl@kernelnewbies:~/aufs$ &lt;span class=&#34;token function&#34;&gt;mkdir&lt;/span&gt; rw r1 r2 union
phl@kernelnewbies:~/aufs$ &lt;span class=&#34;token builtin class-name&#34;&gt;echo&lt;/span&gt; hello r1 &lt;span class=&#34;token operator&#34;&gt;&amp;gt;&lt;/span&gt; r1/hellor1.txt
phl@kernelnewbies:~/aufs$ &lt;span class=&#34;token builtin class-name&#34;&gt;echo&lt;/span&gt; hello r2 &lt;span class=&#34;token operator&#34;&gt;&amp;gt;&lt;/span&gt; r2/hellor2.txt
phl@kernelnewbies:~/aufs$ &lt;span class=&#34;token builtin class-name&#34;&gt;echo&lt;/span&gt; hello rw &lt;span class=&#34;token operator&#34;&gt;&amp;gt;&lt;/span&gt; rw/hellorw.txt&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;下表列出了各个目录的作用。列表如下：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;rw为aufs文件系统的读写层目录&lt;/li&gt;
&lt;li&gt;r1为aufs文件系统的只读层目录&lt;/li&gt;
&lt;li&gt;r2为aufs文件系统的只读层目录&lt;/li&gt;
&lt;li&gt;union为挂载点，联合加载的aufs文件系统挂载于此目录&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;下面我们将rw、r1、r2联合加载到union目录。命令如下：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-bash&#34; data-language=&#34;bash&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;phl@kernelnewbies:~/aufs$ &lt;span class=&#34;token function&#34;&gt;sudo&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;mount&lt;/span&gt; -t aufs -o &lt;span class=&#34;token assign-left variable&#34;&gt;dirs&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;rw:r1:r2 none union&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
&lt;li&gt;-t aufs表示要挂载的文件系统类型为AUFS&lt;/li&gt;
&lt;li&gt;-o dirs=rw:r1:r2表示要将哪些目录加载到afus文件系统中，多个目录之间以:分隔。目录列表中的第一个目录表示读写层目录&lt;/li&gt;
&lt;li&gt;union表示aufs文件系统要挂载的目录&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;挂载好AUFS文件系统后，我们进入该文件系统，查看其内容。命令及结果如下：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-bash&#34; data-language=&#34;bash&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;phl@kernelnewbies:~/aufs$ &lt;span class=&#34;token builtin class-name&#34;&gt;cd&lt;/span&gt; union/
phl@kernelnewbies:~/aufs/union$ &lt;span class=&#34;token function&#34;&gt;ls&lt;/span&gt;
hellor1.txt hellor2.txt hellorw.txt&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;从输出结果来看，rw、r1、r2目录下的内容全部出现在了AUFS文件系统中，该文件系统由rw、r1、r2目录叠加而成。&lt;/p&gt;
&lt;p&gt;然后，我们修改这些文件，看看原始的rw、r1、r2目录下的文件是否更改。命令及结果如下：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-bash&#34; data-language=&#34;bash&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;phl@kernelnewbies:~/aufs/union$ &lt;span class=&#34;token builtin class-name&#34;&gt;echo&lt;/span&gt; hello to r1 from union &lt;span class=&#34;token operator&#34;&gt;&amp;gt;&lt;/span&gt; hellor1.txt
phl@kernelnewbies:~/aufs/union$ &lt;span class=&#34;token builtin class-name&#34;&gt;echo&lt;/span&gt; hello to r2 from union &lt;span class=&#34;token operator&#34;&gt;&amp;gt;&lt;/span&gt; hellor2.txt
phl@kernelnewbies:~/aufs/union$ &lt;span class=&#34;token builtin class-name&#34;&gt;echo&lt;/span&gt; hello to rw from union &lt;span class=&#34;token operator&#34;&gt;&amp;gt;&lt;/span&gt; hellorw.txt&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;我们返回到aufs目录，直接查看aufs目录下的内容。命令及结果如下：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-bash&#34; data-language=&#34;bash&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;phl@kernelnewbies:~/aufs$ tree &lt;span class=&#34;token builtin class-name&#34;&gt;.&lt;/span&gt;
&lt;span class=&#34;token builtin class-name&#34;&gt;.&lt;/span&gt;
├── r1
│   └── hellor1.txt
├── r2
│   └── hellor2.txt
├── rw
│   ├── hellor1.txt
│   ├── hellor2.txt
│   └── hellorw.txt
└── union
    ├── hellor1.txt
    ├── hellor2.txt
    └── hellorw.txt

&lt;span class=&#34;token number&#34;&gt;4&lt;/span&gt; directories, &lt;span class=&#34;token number&#34;&gt;8&lt;/span&gt; files&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;从输出结果我们可以看到，我们修改的hellor1.txt和hellor2.txt文件分别被拷贝了一份放在读写层目录rw中。我们查看一下这些文件的内容，命令及结果如下：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-bash&#34; data-language=&#34;bash&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;phl@kernelnewbies:~/aufs$ &lt;span class=&#34;token function&#34;&gt;cat&lt;/span&gt; r1/hellor1.txt
hello r1
phl@kernelnewbies:~/aufs$ &lt;span class=&#34;token function&#34;&gt;cat&lt;/span&gt; r2/hellor2.txt
hello r2
phl@kernelnewbies:~/aufs$ &lt;span class=&#34;token function&#34;&gt;cat&lt;/span&gt; rw/hellor1.txt
hello to r1 from union
phl@kernelnewbies:~/aufs$ &lt;span class=&#34;token function&#34;&gt;cat&lt;/span&gt; rw/hellor2.txt
hello to r2 from union
phl@kernelnewbies:~/aufs$ &lt;span class=&#34;token function&#34;&gt;cat&lt;/span&gt; rw/hellorw.txt
hello to rw from union&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;从输出结果我们看到，用户修改只读层r1、r2中的文件时，这些文件被复制到了读写层，我们修改的是读写层的副本，原只读层中的文件没有变化。用户修改读写层rw中的文件时，修改直接作用于这些文件本身。&lt;/p&gt;
&lt;h3 id=&#34;4-3-docker-sh&#34;&gt;4.3.docker.sh&lt;/h3&gt;
&lt;p&gt;在继续之前，我们需要将上一章在ubuntu1604根文件系统中创建的old_root目录删除掉，以保证该根文件系统跟刚制作好时一样。命令及结果如下：&lt;/p&gt;
&lt;p&gt;phl@kernelnewbies:~/docker.sh$ sudo rm -rf images/ubuntu1604/old_root&lt;/p&gt;
&lt;p&gt;有了以上关于联合加载的介绍，我们就可以将联合加载功能加入到docker.sh中了。联合加载功能将放在container.sh脚本中，带下划线的行是我们为实现联合加载功能而新添的代码。修改后的container.sh如下：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-bash&#34; data-language=&#34;bash&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;&lt;span class=&#34;token shebang important&#34;&gt;#!/bin/bash&lt;/span&gt;

&lt;span class=&#34;token function&#34;&gt;hostname&lt;/span&gt; &lt;span class=&#34;token variable&#34;&gt;$container&lt;/span&gt;

&lt;span class=&#34;token function&#34;&gt;mkdir&lt;/span&gt; -p /sys/fs/cgroup/memory/&lt;span class=&#34;token variable&#34;&gt;$container&lt;/span&gt;
&lt;span class=&#34;token builtin class-name&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;token variable&#34;&gt;$$&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;&amp;gt;&lt;/span&gt; /sys/fs/cgroup/memory/&lt;span class=&#34;token variable&#34;&gt;$container&lt;/span&gt;/cgroup.procs
&lt;span class=&#34;token builtin class-name&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;token variable&#34;&gt;$memory&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;&amp;gt;&lt;/span&gt; /sys/fs/cgroup/memory/&lt;span class=&#34;token variable&#34;&gt;$container&lt;/span&gt;/memory.limit_in_bytes

&lt;span class=&#34;token function&#34;&gt;mkdir&lt;/span&gt; -p &lt;span class=&#34;token variable&#34;&gt;$container&lt;/span&gt;/rwlayer
&lt;span class=&#34;token function&#34;&gt;mount&lt;/span&gt; -t aufs -o &lt;span class=&#34;token assign-left variable&#34;&gt;dirs&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token variable&#34;&gt;$container&lt;/span&gt;/rwlayer:./images/&lt;span class=&#34;token variable&#34;&gt;$image&lt;/span&gt; none &lt;span class=&#34;token variable&#34;&gt;$container&lt;/span&gt;

&lt;span class=&#34;token function&#34;&gt;mkdir&lt;/span&gt; -p &lt;span class=&#34;token variable&#34;&gt;$container&lt;/span&gt;/old_root
&lt;span class=&#34;token builtin class-name&#34;&gt;cd&lt;/span&gt; &lt;span class=&#34;token variable&#34;&gt;$container&lt;/span&gt;
pivot_root &lt;span class=&#34;token builtin class-name&#34;&gt;.&lt;/span&gt; ./old_root

&lt;span class=&#34;token function&#34;&gt;mount&lt;/span&gt; -t proc proc /proc
&lt;span class=&#34;token function&#34;&gt;umount&lt;/span&gt; -l /old_root

&lt;span class=&#34;token builtin class-name&#34;&gt;exec&lt;/span&gt; &lt;span class=&#34;token variable&#34;&gt;$program&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;首先，我们根据容器的名字创建联合加载需要的读写层目录及文件系统挂载目录。命令如下：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-bash&#34; data-language=&#34;bash&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;&lt;span class=&#34;token function&#34;&gt;mkdir&lt;/span&gt; -p &lt;span class=&#34;token variable&#34;&gt;$container&lt;/span&gt;/rwlayer&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;假如我们传递的容器的名字为dreamland，将创建以下目录：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-bash&#34; data-language=&#34;bash&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;phl@kernelnewbies:~/docker.sh$ tree dreamland/
dreamland/
└── rwlayer&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;其中dreamland/rwlayer目录为创建的AUFS文件系统的读写层，dreamland目录为AUFS文件系统的挂载点。&lt;/p&gt;
&lt;p&gt;然后我们将镜像目录、读写层目录联合加载到挂载点目录。命令如下：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-bash&#34; data-language=&#34;bash&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;&lt;span class=&#34;token function&#34;&gt;mount&lt;/span&gt; -t aufs -o &lt;span class=&#34;token assign-left variable&#34;&gt;dirs&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token variable&#34;&gt;$container&lt;/span&gt;/rwlayer:./images/&lt;span class=&#34;token variable&#34;&gt;$image&lt;/span&gt; none &lt;span class=&#34;token variable&#34;&gt;$container&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;假如容器名字为dreamland，使用的镜像为ubuntu1604根文件系统，dreamland/rwlayer、images/ubuntu1604将被联合加载的dreamland目录。其中，dreamland/rwlayer为AUFS文件系统的读写层，images/ubuntu1604为AUFS文件系统的只读层。&lt;/p&gt;
&lt;p&gt;之前我们将老的根文件系统挪到了rootfs/old_root，rootfs代表一个具体的镜像目录。创建old_root目录时直接修改了该镜像。下面我们将老的根文件系统的挂载点目录放在AUFS文件系统中，并将老的根文件系统挪到此处。命令如下：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-bash&#34; data-language=&#34;bash&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;&lt;span class=&#34;token function&#34;&gt;mkdir&lt;/span&gt; -p &lt;span class=&#34;token variable&#34;&gt;$container&lt;/span&gt;/old_root
&lt;span class=&#34;token builtin class-name&#34;&gt;cd&lt;/span&gt; &lt;span class=&#34;token variable&#34;&gt;$container&lt;/span&gt;
pivot_root &lt;span class=&#34;token builtin class-name&#34;&gt;.&lt;/span&gt; ./old_root&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;此时，$container目录本身就是一个挂载点，挂载了AUFS文件系统。因此下面的代码就被移除了：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-bash&#34; data-language=&#34;bash&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;&lt;span class=&#34;token function&#34;&gt;mount&lt;/span&gt; --bind images/&lt;span class=&#34;token variable&#34;&gt;$image&lt;/span&gt; images/&lt;span class=&#34;token variable&#34;&gt;$image&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;现在，我们运行docker.sh，并在/root下创建一个文件。命令及结果如下：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-bash&#34; data-language=&#34;bash&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;phl@kernelnewbies:~/docker.sh$ &lt;span class=&#34;token function&#34;&gt;sudo&lt;/span&gt; ./docker.sh -c run -m 100M -C dreamland -I ubuntu1604 -V data1 -P /bin/bash
root@dreamland:/&lt;span class=&#34;token comment&#34;&gt;# cd /root&lt;/span&gt;
root@dreamland:/root&lt;span class=&#34;token comment&#34;&gt;# ls&lt;/span&gt;
root@dreamland:/root&lt;span class=&#34;token comment&#34;&gt;# cat /etc/issue &amp;gt; hello.txt&lt;/span&gt;
root@dreamland:/root&lt;span class=&#34;token comment&#34;&gt;# cat hello.txt&lt;/span&gt;
Ubuntu &lt;span class=&#34;token number&#34;&gt;16.04&lt;/span&gt; LTS &lt;span class=&#34;token punctuation&#34;&gt;\&lt;/span&gt;n &lt;span class=&#34;token punctuation&#34;&gt;\&lt;/span&gt;l&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;启动一个新的Shell窗口，查看一下该容器使用的AUFS文件系统。命令及结果如下：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-bash&#34; data-language=&#34;bash&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;phl@kernelnewbies:~/docker.sh$ &lt;span class=&#34;token function&#34;&gt;sudo&lt;/span&gt; tree dreamland/
dreamland/
└── rwlayer
    ├── old_root
    └── root
        └── hello.txt

&lt;span class=&#34;token number&#34;&gt;2&lt;/span&gt; directories, &lt;span class=&#34;token number&#34;&gt;1&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;file&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;从结果我们可以看到，我们新建的文件及创建的老根文件系统的挂载点目录都出现在了读写层。我们再查看一下新创建的文件。命令及结果如下：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-bash&#34; data-language=&#34;bash&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;phl@kernelnewbies:~/docker.sh$ &lt;span class=&#34;token function&#34;&gt;sudo&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;cat&lt;/span&gt; dreamland/rwlayer/root/hello.txt
Ubuntu &lt;span class=&#34;token number&#34;&gt;16.04&lt;/span&gt; LTS &lt;span class=&#34;token punctuation&#34;&gt;\&lt;/span&gt;n &lt;span class=&#34;token punctuation&#34;&gt;\&lt;/span&gt;l&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;文件内容是Ubuntu 16.04的发行版信息。&lt;/p&gt;
&lt;p&gt;通过联合加载，我们实现了在容器中的读写不会影响使用的镜像。这样使用ubuntu1604镜像创建多个容器时，彼此之间就不会相互影响了。&lt;/p&gt;
&lt;h2 id=&#34;5-卷&#34;&gt;5.卷&lt;/h2&gt;
&lt;h3 id=&#34;5-1-卷简介&#34;&gt;5.1.卷简介&lt;/h3&gt;
&lt;p&gt;卷是容器内的一个目录，这个目录可以绕过联合文件系统，提供数据共享（容器所使用的的联合文件系统不应该被主机或其他容器访问）与数据持久化的功能。&lt;/p&gt;
&lt;p&gt;举个例子，假如容器有个目录为/data的卷，我们向这个卷写入的内容不会出现在联合文件系统的读写层，而是直接出现在这个目录里。主机与其他容器也可以访问该目录，从而达到数据共享与数据持久化的目的。&lt;/p&gt;
&lt;p&gt;卷位于联合文件系统中，通常来说写入该目录的内容会被写入容器的读写层中，那么怎样才能是写入卷的目录直接出现在该目录中，而不是容器读写层呢？其实方法很简单，只要我们将该目录变成一个挂载点就行，变成挂载点后，这个目录中的内容就不属于联合文件系统了，写入该目录的内容自然会保存在挂载到该挂载点的设备中。&lt;/p&gt;
&lt;h3 id=&#34;5-2-docker-sh&#34;&gt;5.2 docker.sh&lt;/h3&gt;
&lt;p&gt;有了以上关于卷的介绍，我们就可以将卷功能加入到docker.sh中了。卷功能将放在container.sh脚本中，带下划线的行是我们为实现卷功能而新添的代码。修改后的container.sh脚本如下：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-bash&#34; data-language=&#34;bash&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;&lt;span class=&#34;token shebang important&#34;&gt;#!/bin/bash&lt;/span&gt;

&lt;span class=&#34;token function&#34;&gt;hostname&lt;/span&gt; &lt;span class=&#34;token variable&#34;&gt;$container&lt;/span&gt;

&lt;span class=&#34;token function&#34;&gt;mkdir&lt;/span&gt; -p /sys/fs/cgroup/memory/&lt;span class=&#34;token variable&#34;&gt;$container&lt;/span&gt;
&lt;span class=&#34;token builtin class-name&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;token variable&#34;&gt;$$&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;&amp;gt;&lt;/span&gt; /sys/fs/cgroup/memory/&lt;span class=&#34;token variable&#34;&gt;$container&lt;/span&gt;/cgroup.procs
&lt;span class=&#34;token builtin class-name&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;token variable&#34;&gt;$memory&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;&amp;gt;&lt;/span&gt; /sys/fs/cgroup/memory/&lt;span class=&#34;token variable&#34;&gt;$container&lt;/span&gt;/memory.limit_in_bytes

&lt;span class=&#34;token function&#34;&gt;mkdir&lt;/span&gt; -p &lt;span class=&#34;token variable&#34;&gt;$container&lt;/span&gt;/rwlayer
&lt;span class=&#34;token function&#34;&gt;mount&lt;/span&gt; -t aufs -o &lt;span class=&#34;token assign-left variable&#34;&gt;dirs&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token variable&#34;&gt;$container&lt;/span&gt;/rwlayer:./images/&lt;span class=&#34;token variable&#34;&gt;$image&lt;/span&gt; none &lt;span class=&#34;token variable&#34;&gt;$container&lt;/span&gt;

&lt;span class=&#34;token function&#34;&gt;mkdir&lt;/span&gt; -p &lt;span class=&#34;token variable&#34;&gt;$volume&lt;/span&gt;
&lt;span class=&#34;token function&#34;&gt;mkdir&lt;/span&gt; -p &lt;span class=&#34;token variable&#34;&gt;$container&lt;/span&gt;/&lt;span class=&#34;token variable&#34;&gt;$volume&lt;/span&gt;
&lt;span class=&#34;token function&#34;&gt;mount&lt;/span&gt; --bind &lt;span class=&#34;token variable&#34;&gt;$volume&lt;/span&gt; &lt;span class=&#34;token variable&#34;&gt;$container&lt;/span&gt;/&lt;span class=&#34;token variable&#34;&gt;$volume&lt;/span&gt;

&lt;span class=&#34;token function&#34;&gt;mkdir&lt;/span&gt; -p &lt;span class=&#34;token variable&#34;&gt;$container&lt;/span&gt;/old_root
&lt;span class=&#34;token builtin class-name&#34;&gt;cd&lt;/span&gt; &lt;span class=&#34;token variable&#34;&gt;$container&lt;/span&gt;
pivot_root &lt;span class=&#34;token builtin class-name&#34;&gt;.&lt;/span&gt; ./old_root

&lt;span class=&#34;token function&#34;&gt;mount&lt;/span&gt; -t proc proc /proc
&lt;span class=&#34;token function&#34;&gt;umount&lt;/span&gt; -l /old_root

&lt;span class=&#34;token builtin class-name&#34;&gt;exec&lt;/span&gt; &lt;span class=&#34;token variable&#34;&gt;$program&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;首先，我们根据卷的名字创建主机卷目录，我们在容器内部对卷的修改，都将作用于此目录。命令如下：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-bash&#34; data-language=&#34;bash&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;&lt;span class=&#34;token function&#34;&gt;mkdir&lt;/span&gt; -p &lt;span class=&#34;token variable&#34;&gt;$volume&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;然后，我们在容器内部创建同名卷目录，该目录本身会出现在容器的读写层中，因为该目录是在AUFS文件系统中创建的。因为&lt;img src=&#34;https://math.now.sh?inline=container%E7%9B%AE%E5%BD%95%E4%B8%BA%E5%AE%B9%E5%99%A8%E7%9A%84%E6%A0%B9%E7%9B%AE%E5%BD%95%EF%BC%8C%E6%89%80%E4%BB%A5%E5%AE%B9%E5%99%A8%E5%86%85%E9%83%A8%E5%8D%B7%E7%9B%AE%E5%BD%95%E7%9A%84%E8%B7%AF%E5%BE%84%E4%B8%BA%2F&#34; style=&#34;filter: opacity(90%);transform:scale(0.85);text-align:center;display:inline-block;margin: 0;&#34;&gt;volume。命令如下：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-bash&#34; data-language=&#34;bash&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;&lt;span class=&#34;token function&#34;&gt;mkdir&lt;/span&gt; -p &lt;span class=&#34;token variable&#34;&gt;$container&lt;/span&gt;/&lt;span class=&#34;token variable&#34;&gt;$volume&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;将主机上的卷目录bind mount到容器内部的卷目录上，这样容器内部对卷目录的修改，都将作用于主机卷目录。命令如下：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-bash&#34; data-language=&#34;bash&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;&lt;span class=&#34;token function&#34;&gt;mount&lt;/span&gt; --bind &lt;span class=&#34;token variable&#34;&gt;$volume&lt;/span&gt; &lt;span class=&#34;token variable&#34;&gt;$container&lt;/span&gt;/&lt;span class=&#34;token variable&#34;&gt;$volume&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;现在，我们运行docker.sh，并在卷目录（/data1）中创建一个文件。命令及结果如下：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-bash&#34; data-language=&#34;bash&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;phl@kernelnewbies:~/docker.sh$ &lt;span class=&#34;token function&#34;&gt;sudo&lt;/span&gt; ./docker.sh -c run -m 100M -C dreamland -I ubuntu1604 -V data1 -P /bin/bash
root@dreamland:/&lt;span class=&#34;token comment&#34;&gt;# cd /data1&lt;/span&gt;
root@dreamland:/data1&lt;span class=&#34;token comment&#34;&gt;# echo &#34;hello to data1 volume from ubuntu16.04&#34; &amp;gt;&amp;gt; hello.txt&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;启动一个新的Shell窗口，查看一下该容器使用的AUFS文件系统中的内容。命令及结果如下：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-bash&#34; data-language=&#34;bash&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;phl@kernelnewbies:~/docker.sh$ &lt;span class=&#34;token function&#34;&gt;sudo&lt;/span&gt; tree dreamland/
dreamland/
└── rwlayer
    ├── data1
    ├── old_root
    └── root
        └── hello.txt

&lt;span class=&#34;token number&#34;&gt;4&lt;/span&gt; directories, &lt;span class=&#34;token number&#34;&gt;1&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;file&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;从结果我们可以看到，我们使用的卷目录被创建在了容器的读写层，但是我们在卷目录中新建的文件却没有出现在读写层中。&lt;/p&gt;
&lt;p&gt;我们再来查看一下主机卷目录的内容。命令及结果如下：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-bash&#34; data-language=&#34;bash&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;phl@kernelnewbies:~/docker.sh$ &lt;span class=&#34;token function&#34;&gt;sudo&lt;/span&gt; tree data1/
data1/
└── hello.txt

&lt;span class=&#34;token number&#34;&gt;0&lt;/span&gt; directories, &lt;span class=&#34;token number&#34;&gt;1&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;file&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;从结果我们可以看到，在容器内部对卷目录的修改直接作用在了主机上的卷目录。我们再来查看一下主机卷目录下hello.txt中的内容。命令及结果如下：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-bash&#34; data-language=&#34;bash&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;phl@kernelnewbies:~/docker.sh$ &lt;span class=&#34;token function&#34;&gt;sudo&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;cat&lt;/span&gt; data1/hello.txt
hello to data1 volume from ubuntu16.04&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;从结果我们可以看到，该文件的内容与我们在容器内部写入hello.txt的内容一致。&lt;/p&gt;
&lt;p&gt;通过卷目录，我们实现了容器之间数据共享与数据持久化的功能。&lt;/p&gt;
&lt;h2 id=&#34;6-后记&#34;&gt;6.后记&lt;/h2&gt;
&lt;p&gt;至此，我们通过一系列的实验对docker的底层技术有了一个感性的认识。我们在使用docker时，也能够对其是如何运作的有了一个大致的了解。当然，这对于掌握docker技术来说还远远不够，有很多知识我们没有涉及，例如user namespace、容器安全、其他的CGroups、虚拟网络等。&lt;/p&gt;
&lt;p&gt;编辑整理 &lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://www.toutiao.com/i6890898988879315468/?tt_from=weixin&amp;amp;utm_campaign=client_share&amp;amp;wxshare_count=1&amp;amp;timestamp=1647576105&amp;amp;app=news_article&amp;amp;utm_source=weixin&amp;amp;utm_medium=toutiao_android&amp;amp;use_new_style=1&amp;amp;req_id=202203181201440101511900790A2CBE46&amp;amp;share_token=b2d9351e-4cb1-4a25-ae82-f70543ce2a3b&amp;amp;group_id=6890898988879315468&#34;&gt;ScratchLab&lt;/a&gt;&lt;/p&gt;
&lt;link rel=&#34;stylesheet&#34; href=&#34;/css/bilicard.css&#34; type=&#34;text/css&#34;&gt;</content>
        <category term="linux" />
        <category term="docker" />
        <category term="shell" />
        <updated>2022-03-18T06:33:17.000Z</updated>
    </entry>
    <entry>
        <id>https://blog.17lai.site/posts/68d3867d/</id>
        <title>node 项目从构建到使用 jenkins + docker + nginx + mysql + redis 自动化部署</title>
        <link rel="alternate" href="https://blog.17lai.site/posts/68d3867d/"/>
        <content type="html">&lt;h1&gt;概述&lt;/h1&gt;
&lt;p&gt;这都2019年末了，你还不会 docker吗？ 你 low 爆了，我们作为一枚前端，不能说是要精通使用 docker 完成各种事情，但我觉得必须要学会使用 docker 干下面几件事：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;部署前端应用&lt;/li&gt;
&lt;li&gt;部署nginx&lt;/li&gt;
&lt;li&gt;使用docker-compose部署&lt;/li&gt;
&lt;li&gt;在容器之间建立联系&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Docker 可理解为跑在宿主机上的非常精简、小巧、高度浓缩的虚拟机。 它可以将容器里的进程安稳的在宿主机上运行，之前我也有写过一些关于docker的文章，在这我就不做过多的介绍了，如有需要请自行查看我之前的文章即可，接下来我们通过项目来了解并使用 docker&lt;/p&gt;
&lt;h1&gt;Egg.js ？&lt;/h1&gt;
&lt;p&gt;在这里我使用 &lt;code&gt;egg.js&lt;/code&gt; 来为大家实操一下项目的部署流程。有人会问 &lt;code&gt;egg.js&lt;/code&gt; 是什么？ 我只能回答这是一款专业级的 &lt;code&gt;node&lt;/code&gt; 框架。作为一个有梦想的前端，我们有必要去学习一种后端语言，而作为前端 &lt;code&gt;node&lt;/code&gt; 的学习成本相对来说比较低的。 &lt;code&gt;egg.js&lt;/code&gt; 这个框架在 node 现有框架中也是比较优秀的，如有需要，大家可以自行学习，我们今天的学习主要还是项目的部署流程，在这我就不给大家做过多的介绍。如有需要，请查阅 &lt;a href=&#34;https://link.juejin.cn?target=https%3A%2F%2Feggjs.org%2Fzh-cn%2Fintro%2Findex.html&#34; title=&#34;https://eggjs.org/zh-cn/intro/index.html&#34;&gt;官方文档&lt;/a&gt;&lt;/p&gt;
&lt;h1&gt;开始前的准备&lt;/h1&gt;
&lt;blockquote&gt;
&lt;p&gt;docker 与 docker-compose 的安装我就不给大家介绍了。在之前的文章中是有的，也比较详细，作为一位开发人员，我认为这点事情难不倒大家&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&#34;初始化项目&#34;&gt;初始化项目&lt;/h2&gt;
&lt;pre class=&#34;line-numbers language-none&#34;&gt;&lt;code class=&#34;language-none&#34;&gt;$ mkdir egg-example &amp;amp;&amp;amp; cd egg-example
$ npm init egg --type=simple
$ npm i
复制代码&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;创建需要的文件&#34;&gt;创建需要的文件&lt;/h2&gt;
&lt;p&gt;我们需要在项目根目录创建我们所需要的文件&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-none&#34;&gt;&lt;code class=&#34;language-none&#34;&gt;$ touch Dockerfile
$ touch docker-compose.yml
$ setup.sh
复制代码&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;目录结构&#34;&gt;目录结构&lt;/h2&gt;
&lt;pre class=&#34;line-numbers language-none&#34;&gt;&lt;code class=&#34;language-none&#34;&gt;egg-project
├── package.json
├── setup.sh (新建)
├── Dockerfile (新建)
├── docker-compose.yml (新建)
├── app
|   ├── router.js
│   ├── controller
│   |   └── home.js
│   ├── service (可选)
│   |   └── user.js
│   ├── middleware (可选)
│   |   └── response_time.js
│   ├── schedule (可选)
│   |   └── my_task.js

...

复制代码&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;常用指令&#34;&gt;常用指令&lt;/h2&gt;
&lt;p&gt;在开始之前我们要学习下常用的一些指令，看下方：&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2022/03/1120220311110127.webp&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;h1&gt;了解流程&lt;/h1&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2022/03/1120220311110133.webp&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;h1&gt;安装 jenkins&lt;/h1&gt;
&lt;p&gt;在安装jenkins我选择了使用docker-compose&lt;br&gt;
docker-compose 是一个用来把 docker 自动化的东西&lt;br&gt;
有了 docker-compose 你可以把所有繁复的 docker 操作全都一条命令，自动化的完成。&lt;/p&gt;
&lt;h2 id=&#34;首先我们需要在服务器上创建一个目录机构-具体结构个人自行创建&#34;&gt;首先我们需要在服务器上创建一个目录机构 (具体结构个人自行创建)&lt;/h2&gt;
&lt;pre class=&#34;line-numbers language-none&#34;&gt;&lt;code class=&#34;language-none&#34;&gt;/home/jenkins
     - docker-compose.yml
     - jenkins-home
复制代码&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;接下来我们来编写-docker-compose-yml-安装jenkins&#34;&gt;接下来我们来编写 docker-compose.yml 安装jenkins&lt;/h2&gt;
&lt;pre class=&#34;line-numbers language-none&#34;&gt;&lt;code class=&#34;language-none&#34;&gt;version: &#39;3&#39;                                    # 指定 docker-compose.yml 文件的写法格式
services:                                       # 多个容器集合
  docker_jenkins: 
    user: root                                  # 为了避免一些权限问题 在这我使用了root
    restart: always                             # 重启方式
    image: jenkins/jenkins:lts                  # 指定服务所使用的镜像 在这里我选择了 LTS (长期支持)
    container_name: jenkins                     # 容器名称
    ports:                                      # 对外暴露的端口定义
      - &#39;8080:8080&#39;
      - &#39;50000:50000&#39;
    volumes:                                    # 卷挂载路径
      - /home/jenkins/jenkins_home/:/var/jenkins_home   # 这是我们一开始创建的目录挂载到容器内的jenkins_home目录
      - /var/run/docker.sock:/var/run/docker.sock
      - /usr/bin/docker:/usr/bin/docker                 # 这是为了我们可以在容器内使用docker命令
      - /usr/local/bin/docker-compose:/usr/local/bin/docker-compose     # 同样的这是为了使用docker-compose命令
复制代码&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;我们需要进入到 jenkins 目录下执行：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-none&#34;&gt;&lt;code class=&#34;language-none&#34;&gt;$ docker-compose up -d
复制代码&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;配置&#34;&gt;配置&lt;/h2&gt;
&lt;p&gt;不出意外你现在可以打开你的服务器地址 &lt;a href=&#34;https://link.juejin.cn?target=http%3A%2F%2Fxxxxxxx&#34; title=&#34;http://xxxxxxx&#34;&gt;http://xxxxxxx&lt;/a&gt;:端口号 就能看到这个界面：&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2022/03/1120220311110139.webp&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;打开你所创建的jenkins目录进入到jenkins-home&lt;br&gt;
/home/jenkins/jenkins-home&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2022/03/1120220311110148.webp&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;进入 secrets 目录&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-none&#34;&gt;&lt;code class=&#34;language-none&#34;&gt;$ cat initialAdminPassword
复制代码&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2022/03/1120220311110209.webp&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;然后把里面的文本复制出来填到管理员密码中&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2022/03/1120220311110327.webp&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2022/03/1120220311110215.webp&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;接下来需要安装两个插件&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-none&#34;&gt;&lt;code class=&#34;language-none&#34;&gt;NodeJS Plugin
Publish Over SSH
复制代码&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2022/03/1120220311110334.webp&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2022/03/1120220311110221.webp&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;然后我们滑到最下方&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2022/03/1120220311110228.webp&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2022/03/1120220311110341.webp&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2022/03/1120220311110347.webp&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2022/03/1120220311110235.webp&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;h1&gt;开始我们的操作&lt;/h1&gt;
&lt;h2 id=&#34;Dockerfile&#34;&gt;Dockerfile&lt;/h2&gt;
&lt;p&gt;我们在开始阶段的时候学过一些常用指令，大家应该一眼就可以看得懂这些命令。 加油！！&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-none&#34;&gt;&lt;code class=&#34;language-none&#34;&gt;FROM node:10.0-alpine             # 镜像版本

# 设置时区
RUN apk --update add tzdata \
    &amp;amp;&amp;amp; cp /usr/share/zoneinfo/Asia/Shanghai /etc/localtime \
    &amp;amp;&amp;amp; echo &#34;Asia/Shanghai&#34; &amp;gt; /etc/timezone \
    &amp;amp;&amp;amp; apk del tzdata

# 创建app目录
RUN mkdir -p /usr/src/node-app/egg-santak

# 设置工作目录
WORKDIR /usr/src/node-app/egg-santak

# 拷贝package.json文件到工作目录
# !!重要：package.json需要单独添加。
# Docker在构建镜像的时候，是一层一层构建的，仅当这一层有变化时，重新构建对应的层。
# 如果package.json和源代码一起添加到镜像，则每次修改源码都需要重新安装npm模块，这样木有必要。
# 所以，正确的顺序是: 添加package.json；安装npm模块；添加源代码。
COPY package.json /usr/src/node-app/egg-santak/package.json

# 安装npm依赖(使用淘宝的镜像源)
# 如果使用的境外服务器，无需使用淘宝的镜像源，即改为`RUN npm i`。
RUN npm i --registry=https://registry.npm.taobao.org

# 拷贝所有源代码到工作目录
COPY . /usr/src/node-app/egg-santak

# 暴露容器端口
EXPOSE 7001

# 启动node应用
CMD npm start
复制代码&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;在服务器中创建我们所需要挂载的数据卷&#34;&gt;在服务器中创建我们所需要挂载的数据卷&lt;/h2&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2022/03/1120220311110241.webp&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-none&#34;&gt;&lt;code class=&#34;language-none&#34;&gt;# nginx
$ mkdir -p nginx/conf.d nginx/logs

# mysql
$ mkdir mysql

# redis
$ mkdir redis
复制代码&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;然后进入 &lt;code&gt;nginx/conf.d&lt;/code&gt; 文件夹中 创建一个后缀为 &lt;code&gt;conf&lt;/code&gt; 的文件&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-none&#34;&gt;&lt;code class=&#34;language-none&#34;&gt;$ cd nginx/conf.d
$ touch default.conf
$ vim default.conf
复制代码&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;写入以下内容：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-none&#34;&gt;&lt;code class=&#34;language-none&#34;&gt;server {
  listen 80;
  listen [::]:80;
  server_tokens off;

  root /var/www/html;
  index index.html index.htm;

  # 修改为自己的域名
  server_name api.lovelp.xin;

  # 访问 / 路径时执行反向代理
  location / {
    # 这里 nodejs 是 node 容器名
    proxy_pass http://nodejs:7001;
    proxy_set_header X-Real-IP $remote_addr;
    proxy_set_header Host $host;
    # 后端的Web服务器可以通过 X-Forwarded-For 获取用户真实 IP
    proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
    # 允许客户端请求的最大单文件字节数
    client_max_body_size 15M;
    # 缓冲区代理缓冲用户端请求的最大字节数
    client_body_buffer_size 128k;
  }
}
复制代码&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;docker-compose-yml&#34;&gt;docker-compose.yml&lt;/h2&gt;
&lt;pre class=&#34;line-numbers language-none&#34;&gt;&lt;code class=&#34;language-none&#34;&gt;version: &#39;3&#39;

services:
  santak_redis:
    image: redis:3                  # 指定服务镜像
    container_name: santak_redis    # 容器名称
    restart: always                 # 重启方式
    hostname: redis
    command: redis-server /usr/local/etc/redis/redis.conf --requirepass 123456  --appendonly yes
    volumes:                        # 挂载数据卷
      - /root/redis/redis.conf:/usr/local/etc/redis/redis.conf
    ports:                          # 映射端口
      - &#34;6379:6379&#34;     
    networks:                       # 加入指定网络
      - app-network

  santak_nginx:
    image: nginx:stable-alpine      # 指定服务镜像
    container_name: santak_nginx    # 容器名称
    restart: always                 # 重启方式
    ports:                          # 映射端口
      - &#34;80:80&#34;
    volumes:                        # 挂载数据卷
      - /etc/localtime:/etc/localtime
      - /root/nginx/conf.d:/etc/nginx/conf.d
      - /root/nginx/logs:/var/log/nginx
    depends_on:                     # 启动顺序
      - nodejs
    networks:                       # 加入指定网络
      - app-network

  santak_mysql:
    image: mysql:5.7
    container_name: santak_mysql
    restart: always
    ports:                          # 映射端口
      - &#34;3306:3306&#34;
    environment:
      - MYSQL_ROOT_PASSWORD=root
      - MYSQL_USER=lovelp           # 创建lovelp用户
      - MYSQL_PASSWORD=mm123321     # 设置lovelp用户的密码
      - MYSQL_DATABASE=santak       # 创建初始数据库
      - TZ=Asia/Shanghai            # 设置时区
    volumes:                        # 挂载数据卷
      - /root/mysql:/var/lib/mysql  # 为了数据持久化
    command: --character-set-server=utf8mb4 --collation-server=utf8mb4_unicode_ci
    networks:                       # 加入指定网络
      - app-network 

  nodejs:
    build:                          # 这里指的是我们刚刚撸的 Dockerfile 文件
      context: .                    
      dockerfile: Dockerfile
    image: nodejs                   # 镜像名称
    container_name: nodejs          # 容器名称
    restart: always                 # 重启方式
    depends_on:                     # 启动顺序
      - santak_redis
      - santak_mysql
    links:                          # 容器连接
      - santak_redis:santak_redis
      - santak_mysql:santak_mysql
    networks:                       # 加入指定网络
      - app-network

volumes:
  certbot-etc:
  certbot-var:

networks:  # 实现通信
  app-network:
    driver: bridge
复制代码&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;在项目中的使用&#34;&gt;在项目中的使用&lt;/h2&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2022/03/1120220311110359.webp&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;h2 id=&#34;setup-sh&#34;&gt;setup.sh&lt;/h2&gt;
&lt;pre class=&#34;line-numbers language-none&#34;&gt;&lt;code class=&#34;language-none&#34;&gt;#!/usr/bin/env bash
#image_version=`date +%Y%m%d%H%M`;

# 关闭容器
docker-compose stop || true;
# 删除容器
docker-compose down || true;
# 构建镜像
docker-compose build;
# 启动并后台运行
docker-compose up -d;
# 查看日志
docker logs nodejs;
# 对空间进行自动清理
docker system prune -a -f

复制代码&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;h1&gt;jenkins 创建项目&lt;/h1&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2022/03/1120220311110247.webp&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2022/03/1120220311110248.webp&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2022/03/1120220311110254.webp&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2022/03/1120220311110409.webp&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;最后我们就可以愉快的 &lt;code&gt;Build Now&lt;/code&gt; 了&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2022/03/1120220311110415.webp&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;在这里我选择的是手动构建。其实jenkins有很多可配置项，比如自动化构建啥的，兴趣使然，大家自行摸索，谢谢大家&lt;/p&gt;
&lt;h2 id=&#34;整理转载&#34;&gt;整理转载:&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://juejin.cn/post/6844904006184091662&#34;&gt;掘金&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;link rel=&#34;stylesheet&#34; href=&#34;/css/bilicard.css&#34; type=&#34;text/css&#34;&gt;</content>
        <category term="docker" />
        <category term="web" />
        <category term="ci/cd" />
        <category term="node" />
        <category term="jenkins" />
        <updated>2022-03-16T10:04:02.000Z</updated>
    </entry>
    <entry>
        <id>https://blog.17lai.site/posts/8b7d3a9a/</id>
        <title>音乐推荐-曾经我也想过一了百了</title>
        <link rel="alternate" href="https://blog.17lai.site/posts/8b7d3a9a/"/>
        <content type="html">&lt;h2 id=&#34;现场MV-2&#34;&gt;现场MV&lt;/h2&gt;
&lt;style&gt;.bbplayer{width: 100%; max-width: 850px; margin: auto}&lt;/style&gt;&lt;div class=&#34;bbplayer&#34;&gt;&lt;iframe class=&#34;bbplayer&#34; id=&#34;mmedia-ETDJYNmxGhfjWqQi&#34; src=&#34;https://player.bilibili.com/player.html?bvid=BV1b64y1d7pw&amp;amp;page=1&amp;amp;high_quality=1&amp;amp;danmaku=true&#34; allowfullscreen=&#34;allowfullscreen&#34; scrolling=&#34;no&#34; border=&#34;0&#34; frameborder=&#34;0&#34; framespacing=&#34;0&#34; sandbox=&#34;allow-top-navigation allow-same-origin allow-forms allow-scripts allow-popups&#34;&gt;&lt;/iframe&gt;&lt;/div&gt;&lt;script&gt; document.getElementById(&#34;mmedia-ETDJYNmxGhfjWqQi&#34;).style.height=document.getElementById(&#34;mmedia-ETDJYNmxGhfjWqQi&#34;).scrollWidth*0.76+&#34;px&#34;;
    window.onresize = function(){
      document.getElementById(&#34;mmedia-ETDJYNmxGhfjWqQi&#34;).style.height=document.getElementById(&#34;mmedia-ETDJYNmxGhfjWqQi&#34;).scrollWidth*0.76+&#34;px&#34;;
    }; &lt;/script&gt;

&lt;pre class=&#34;line-numbers language-bash&#34; data-language=&#34;bash&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;&lt;span class=&#34;token comment&#34;&gt;## 背景介绍&lt;/span&gt;

《曾经我也想过一了百了》是日本歌手中岛美嘉演唱的歌曲，由秋田弘填词和谱曲、出羽良彰编曲，于2013年8月28日发行，收录在中岛美嘉个人专辑《TOUGH 为爱勇敢》中。该歌曲勾勒出向死而生、努力活着的人，让人感到温暖和希望，让因为压力迷茫无助而有轻生想法的人，开始积极拥抱生活。 《曾经我也想过一了百了》由日本摇滚乐队amazarashi的主唱秋田弘创作，创作理念为“为了描写浓烈的希望，必须先描写深层的黑暗”。2010年，迎来出道十周年的中岛美嘉宣布自己因耳咽管开放症暂停一切音乐活动。在疾病的影响下，歌唱对她而言变得无比艰难。2011年，她携单曲《Dear》复出，但复出后始终经历着状态的起伏和媒体的质疑。 中岛美嘉起先向amazarashi提出合作请求，希望乐队能为自己创作一首节奏明快的歌曲，但随后秋田弘向她播放了乐队一首未发行的样本歌曲，并认为该曲很适合由她来演唱。收到该曲时，中岛美嘉起先感到十分惊讶，但听到最后泪流不止，感到自己的心变得柔和，便立即要求演唱该曲。录制过程中，中岛美嘉将自己的心声融入到了该曲中，希望能将力量传达给低迷苦闷的听众。&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;

&lt;pre class=&#34;line-numbers language-bash&#34; data-language=&#34;bash&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;&lt;span class=&#34;token comment&#34;&gt;## 中文翻唱&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;

&lt;link rel=&#34;stylesheet&#34; href=&#34;https://cdn.jsdelivr.net/npm/aplayer@1/dist/APlayer.min.css&#34;&gt;&lt;script src=&#34;https://cdn.jsdelivr.net/npm/aplayer@1/dist/APlayer.min.js&#34;&gt;&lt;/script&gt;&lt;div id=&#34;mmedia-jgfSAFgFvWKKDBTJ&#34;&gt;&lt;/div&gt;&lt;script&gt; var jgfSAFgFvWKKDBTJ_options = JSON.parse(&#39;{\&#34;lrcType\&#34;:3,\&#34;volume\&#34;:0.8,\&#34;autoplay\&#34;:false,\&#34;audio\&#34;:[{\&#34;name\&#34;:\&#34;曾经我也想过一了百了\&#34;,\&#34;artist\&#34;:\&#34;一么\&#34;,\&#34;url\&#34;:\&#34;https://cdn.17lai.site/media/music/僕が死のうと思ったのは/曾经我也想过一了百了-一么.mp3\&#34;,\&#34;cover\&#34;:\&#34;https://cdn.17lai.site/media/music/僕が死のうと思ったのは/僕が死のうと思ったのは.jpg\&#34;,\&#34;lrc\&#34;:\&#34;https://cdn.17lai.site/media/music/僕が死のうと思ったのは/曾经我也想过一了百了-一么.lrc\&#34;},{\&#34;name\&#34;:\&#34;僕が死のうと思ったのは\&#34;,\&#34;artist\&#34;:\&#34;中岛美嘉\&#34;,\&#34;url\&#34;:\&#34;https://cdn.17lai.site/media/music/僕が死のうと思ったのは/01%20僕が死のうと思ったのは.mp3\&#34;,\&#34;cover\&#34;:\&#34;https://cdn.17lai.site/media/music/僕が死のうと思ったのは/僕が死のうと思ったのは.jpg\&#34;,\&#34;lrc\&#34;:\&#34;https://cdn.17lai.site/media/music/僕が死のうと思ったのは/01%20僕が死のうと思ったのは.lrc\&#34;}]}&#39;); jgfSAFgFvWKKDBTJ_options.container = document.getElementById(&#34;mmedia-jgfSAFgFvWKKDBTJ&#34;); const ap_jgfSAFgFvWKKDBTJ = new APlayer(jgfSAFgFvWKKDBTJ_options); &lt;/script&gt;
&lt;h2 id=&#34;LRC歌词&#34;&gt;LRC歌词&lt;/h2&gt;
&lt;pre class=&#34;line-numbers language-none&#34;&gt;&lt;code class=&#34;language-none&#34;&gt;[00:02.09]作曲 : 秋田 ひろむ
[00:02.64]曾经我也想过一了百了
[00:03.21]原唱：中岛美嘉
[00:04.46] 
[00:29.85]曾经我 也想过 一了百了
[00:34.79]因为看见蜷缩的猫
[00:37.40]在码头望着远方
[00:40.40]海浪拍打在岸上
[00:43.44]一阵又一阵侵踏
[00:46.22]希望那些过往都消失
[00:49.38]不再回望
[00:52.43]曾经我 也想过
[00:54.82]一了百了
[00:57.46]是因为生日的那天
[01:00.10]杏花 又开放
[01:03.75]阳光灿烂树荫下
[01:06.41]落花已沉睡安详
[01:09.84]是否我也 能化作尘土
[01:12.16]不再流浪
[01:15.76]仍放抽屉里过期的糖
[01:18.28]迷路的单车被留在回家路上
[01:21.27]还有海边抛弃的避风港
[01:23.88]全都提醒 我和他们一样
[01:26.75]昨天和今天的画面不断浮现
[01:29.74]明天 渴望能不能有
[01:31.54]新的改变
[01:32.90]不能沮丧 我知道啊
[01:35.55]可是啊
[01:40.88]曾经我 也想过 一了百了
[01:46.24]身边一切都像在问我
[01:49.19]过得好不好
[01:52.28]泪不能停止的流
[01:55.05]流进心底的荒漠
[01:58.28]这颗心中的模样
[02:00.17]早空如一具躯壳
[02:26.84]曾经我 也想过 一了百了
[02:32.71]因为我的存在
[02:34.23]总让别人失望
[02:37.98]不曾拥有就不怕
[02:40.80]关于人与人的伤
[02:44.18]这么简单的道理
[02:45.96]我也只会搞砸
[02:49.80]曾经我 也想过 一了百了
[02:55.49]是因为墙上
[02:56.52]那张骄傲的自画像
[03:00.96]无力反驳地跪下
[03:03.66]只说的出一句话
[03:06.99]生而为人的我
[03:08.61]真的对不起呀
[03:12.75]房间里闪烁着荧幕微光
[03:15.56]伴随着屋外夜色的声音嘈杂
[03:18.43]电话那头传来窒息的话
[03:21.28]刺痛在笼中
[03:22.44]备受折磨的时间啊
[03:24.25]黑暗中我装备
[03:25.58]唐吉轲德的毅力
[03:26.89]对抗看不见的敌人
[03:28.38]摧毁我的决心
[03:29.85]不要害怕我知道啊可是啊
[03:38.04]曾经我也想过一了百了
[03:44.29]为何人们都说我无可救药
[03:49.69]不强求能明白我
[03:52.60]不奢望时间倒流
[03:55.70]因为很久很久以前我曾爱过
[04:00.86]曾经我 也想过 一了百了
[04:06.89]是因为我该那样
[04:08.43]灿烂那样美好
[04:12.49]一味消极着过去
[04:14.95]离去的念头缠绕
[04:17.29]闭上眼能感受到
[04:20.04]更好的明天来到
[04:24.35]茫茫人海中的你
[04:27.01]泪光中微笑的你
[04:30.26]在我耳边温柔唱起这首歌曲&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;line-numbers language-lrc&#34; data-language=&#34;lrc&#34;&gt;&lt;code class=&#34;language-lrc&#34;&gt;[00:00.10]僕が死のうと思ったのは (曾经我也想过一了百了) - 中島美嘉 (なかしま みか)
[00:00.20]词：秋田ひろむ
[00:00.30]曲：秋田ひろむ
[00:00.40]编曲：出羽良彰
[00:27.95]僕が死のうと思ったのは
[00:33.83]ウミネコが桟橋で鳴いたから
[00:39.20]波の随意に浮かんで消える
[00:45.33]過去も啄ばんで飛んでいけ
[00:50.70]僕が死のうと思ったのは
[00:56.52]誕生日に杏の花が咲いたから
[01:02.22]その木漏れ日でうたた寝したら
[01:08.09]虫の死骸と土になれるかな
[01:14.09]薄荷飴 漁港の灯台
[01:17.05]錆びたアーチ橋 捨てた自転車
[01:19.74]木造の駅のストーブの前で
[01:22.74]どこにも旅立てない心
[01:25.61]今日はまるで昨日みたいだ
[01:28.30]明日を変えるなら今日を変えなきゃ
[01:31.56]分かってる 分かってる けれど
[01:39.71]僕が死のうと思ったのは
[01:44.89]心が空っぽになったから
[01:50.71]満たされないと泣いているのは
[01:56.39]きっと満たされたいと願うから
[02:25.49]僕が死のうと思ったのは
[02:30.69]靴紐が解けたから
[02:36.57]結びなおすのは苦手なんだよ
[02:42.25]人との繋がりもまた然り
[02:47.90]僕が死のうと思ったのは
[02:53.65]少年が僕を見つめていたから
[02:59.30]ベッドの上で土下座してるよ
[03:05.12]あの日の僕にごめんなさいと
[03:11.43]パソコンの薄明かり
[03:14.05]上階の部屋の生活音
[03:16.80]インターフォンのチャイムの音
[03:19.80]耳を塞ぐ鳥かごの少年
[03:22.87]見えない敵と戦ってる
[03:25.43]六畳一間のドンキホーテ
[03:28.30]ゴールはどうせ醜いものさ
[03:36.74]僕が死のうと思ったのは
[03:42.05]冷たい人と言われたから
[03:47.94]愛されたいと泣いているのは
[03:53.63]人の温もりを知ってしまったから
[04:22.79]僕が死のうと思ったのは
[04:27.91]あなたが綺麗に笑うから
[04:33.49]死ぬことばかり考えてしまうのは
[04:39.62]きっと生きる事に真面目すぎるから
[04:45.43]僕が死のうと思ったのは
[04:50.70]まだあなたに出会ってなかったから
[04:56.51]あなたのような人が生まれた
[05:02.09]世界を少し好きになったよ
[05:07.96]あなたのような人が生きてる
[05:13.65]世界に少し期待するよ&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;link rel=&#34;stylesheet&#34; href=&#34;/css/bilicard.css&#34; type=&#34;text/css&#34;&gt;</content>
        <category term="music" />
        <category term="中岛美嘉" />
        <updated>2022-03-14T15:37:19.000Z</updated>
    </entry>
    <entry>
        <id>https://blog.17lai.site/posts/2b9325d0/</id>
        <title>私人在线音乐服务器搭建与使用介绍</title>
        <link rel="alternate" href="https://blog.17lai.site/posts/2b9325d0/"/>
        <content type="html">&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;多种音乐播放实现方式&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;页面内插入音乐列表。Aplayer实现&lt;/li&gt;
&lt;li&gt;单独页面音乐列表。Aplayer实现&lt;/li&gt;
&lt;li&gt;音乐Docker。在线云音乐&lt;/li&gt;
&lt;/ol&gt;
&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;原作者DMCA原因不再维护，如果你想自己部署，需要修改原作者docker内部代码。&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;ol&gt;
&lt;li&gt;音乐Docker &lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://github.com/linuxserver/docker-mstream&#34;&gt;Mstream docker&lt;/a&gt;。&lt;/li&gt;
&lt;li&gt;音乐Docker &lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://hub.docker.com/r/apnar/logitech-media-server&#34;&gt;Logitech Media Server&lt;/a&gt;。&lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://github.com/Logitech/slimserver&#34;&gt;Github&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;多用户音乐分享、播放，在线，分类等功能。&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2021/11/0720211107003631.jpg&#34; alt=&#34;img&#34;&gt;&lt;/p&gt;
&lt;h2 id=&#34;Aplayer-在线音乐&#34;&gt;Aplayer 在线音乐&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;博文页面内插入音乐列表&lt;/p&gt;
&lt;/blockquote&gt;
&lt;link rel=&#34;stylesheet&#34; href=&#34;https://cdn.jsdelivr.net/npm/aplayer@1/dist/APlayer.min.css&#34;&gt;&lt;script src=&#34;https://cdn.jsdelivr.net/npm/aplayer@1/dist/APlayer.min.js&#34;&gt;&lt;/script&gt;&lt;div id=&#34;mmedia-udJtKVFphUcinUMo&#34;&gt;&lt;/div&gt;&lt;script&gt; var udJtKVFphUcinUMo_options = JSON.parse(&#39;{\&#34;lrcType\&#34;:3,\&#34;volume\&#34;:0.66,\&#34;audio\&#34;:[{\&#34;name\&#34;:\&#34;Hotel California\&#34;,\&#34;artist\&#34;:\&#34;Camille and Kennerly\&#34;,\&#34;url\&#34;:\&#34;https://cdn.17lai.site/media/music/Hotel%20California/01%20Hotel%20California.mp3\&#34;,\&#34;lrc\&#34;:\&#34;https://cdn.17lai.site/media/music/Hotel%20California/01%20Hotel%20California.lrc\&#34;,\&#34;cover\&#34;:\&#34;https://cdn.17lai.site/media/music/Hotel%20California/Hotel%20California.webp\&#34;}]}&#39;); udJtKVFphUcinUMo_options.container = document.getElementById(&#34;mmedia-udJtKVFphUcinUMo&#34;); const ap_udJtKVFphUcinUMo = new APlayer(udJtKVFphUcinUMo_options); &lt;/script&gt;



&lt;link rel=&#34;stylesheet&#34; href=&#34;https://cdn.jsdelivr.net/npm/aplayer@1/dist/APlayer.min.css&#34;&gt;&lt;script src=&#34;https://cdn.jsdelivr.net/npm/aplayer@1/dist/APlayer.min.js&#34;&gt;&lt;/script&gt;&lt;div id=&#34;mmedia-TUSmTJvFfYLsTViw&#34;&gt;&lt;/div&gt;&lt;script&gt; var TUSmTJvFfYLsTViw_options = JSON.parse(&#39;{\&#34;lrcType\&#34;:3,\&#34;volume\&#34;:0.8,\&#34;autoplay\&#34;:false,\&#34;audio\&#34;:[{\&#34;name\&#34;:\&#34;Hotel California\&#34;,\&#34;artist\&#34;:\&#34;Camille and Kennerly\&#34;,\&#34;url\&#34;:\&#34;https://cdn.17lai.site/media/music/Hotel%20California/01%20Hotel%20California.mp3\&#34;,\&#34;cover\&#34;:\&#34;https://cdn.17lai.site/media/music/Hotel%20California/Hotel%20California.webp\&#34;,\&#34;lrc\&#34;:\&#34;https://cdn.17lai.site/media/music/Hotel%20California/01%20Hotel%20California.lrc\&#34;,\&#34;theme\&#34;:\&#34;#ebd0c2\&#34;},{\&#34;name\&#34;:\&#34;Sold Out\&#34;,\&#34;artist\&#34;:\&#34;Diamonds\&#34;,\&#34;url\&#34;:\&#34;https://cdn.17lai.site/media/music/Diamonds/05%20Sold%20Out.flac\&#34;,\&#34;cover\&#34;:\&#34;https://cdn.17lai.site/media/music/Diamonds/Diamonds.jpg\&#34;,\&#34;theme\&#34;:\&#34;#ebd0c2\&#34;},{\&#34;name\&#34;:\&#34;The Final Bell\&#34;,\&#34;artist\&#34;:\&#34;Rocky_ Original Motion Picture Score\&#34;,\&#34;url\&#34;:\&#34;https://cdn.17lai.site/media/music/Rocky_%20Original%20Motion%20Picture%20Score/12%20Bill%20Conti%20-%20The%20Final%20Bell.mp3\&#34;,\&#34;cover\&#34;:\&#34;https://cdn.17lai.site/media/music/Rocky_%20Original%20Motion%20Picture%20Score/Rocky_%20Original%20Motion%20Picture%20Score.jpg\&#34;,\&#34;theme\&#34;:\&#34;#ebd0c2\&#34;},{\&#34;name\&#34;:\&#34; Croatian Rhapsody\&#34;,\&#34;artist\&#34;:\&#34;The Piano Player\&#34;,\&#34;url\&#34;:\&#34;https://cdn.17lai.site/media/music/The%20Piano%20Player/11%20Croatian%20Rhapsody.mp3\&#34;,\&#34;cover\&#34;:\&#34;https://cdn.17lai.site/media/music/The%20Piano%20Player/The%20Piano%20Player.jpg\&#34;,\&#34;theme\&#34;:\&#34;#ebd0c2\&#34;}]}&#39;); TUSmTJvFfYLsTViw_options.container = document.getElementById(&#34;mmedia-TUSmTJvFfYLsTViw&#34;); const ap_TUSmTJvFfYLsTViw = new APlayer(TUSmTJvFfYLsTViw_options); &lt;/script&gt;
&lt;h2 id=&#34;单独Aplayer音乐页面&#34;&gt;单独Aplayer音乐页面&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;直接戳这里 -&amp;gt;&lt;/strong&gt; &lt;a href=&#34;https://blog.17lai.site/musics/&#34;&gt;Musics&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2021/11/0720211107002935.jpg&#34; alt=&#34;img&#34;&gt;&lt;/p&gt;
&lt;h2 id=&#34;在线云音乐&#34;&gt;在线云音乐&lt;/h2&gt;
&lt;p&gt;私人云音乐&lt;/p&gt;
&lt;div class=&#34;admonition note&#34;&gt;&lt;p class=&#34;admonition-title&#34;&gt;研究学习使用
&lt;/p&gt;&lt;p&gt;不对外公开发布，研究学习用。&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;用户名密码base64编码&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-base64&#34; data-language=&#34;base64&#34;&gt;&lt;code class=&#34;language-base64&#34;&gt;55So5oi35ZCN5a+G56CB6YO95pivMTdsYWk=&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;base64解密: &lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;http://encode.chahuo.com/&#34;&gt;在线加密解密&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://musicplayer.17lai.site/&#34;&gt;&lt;strong&gt;入口&lt;/strong&gt;&lt;/a&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;公开在线云音乐服务网页版。&lt;/li&gt;
&lt;li&gt;可以与网易云音乐UID同步！&lt;/li&gt;
&lt;li&gt;&lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://hub.docker.com/r/oldiy/music-player-docker&#34;&gt;DockerHub&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2021/10/0920211009174442.png&#34; alt=&#34;在线云音乐入口&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2021/10/1220211012022352.png&#34; alt=&#34;播放界面&#34;&gt;&lt;/p&gt;
&lt;p&gt;与网易云同步&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2021/10/0920211009174557.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;网易云UID在登陆 https://music.163.com/ 后 点击右上角图标的我的主页 https://music.163.com/#/user/home?id=617xxxxx0&lt;/p&gt;
&lt;p&gt;home?id= 后面的数字就是你的UID。登录后，可以同步个人列表！&lt;/p&gt;
&lt;h2 id=&#34;私人音乐服务器&#34;&gt;私人音乐服务器&lt;/h2&gt;
&lt;p&gt;&lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://music.17lai.site/&#34;&gt;&lt;strong&gt;入口&lt;/strong&gt;&lt;/a&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;所有音乐作者，专辑，演唱者元数据刮削。&lt;/li&gt;
&lt;li&gt;rclone挂载webdav网盘存储音乐文件。&lt;/li&gt;
&lt;li&gt;cloudflare parterner加速。&lt;/li&gt;
&lt;li&gt;私人使用，不对外公开。&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;h2 id=&#34;在线音乐播放&#34;&gt;在线音乐播放&lt;/h2&gt;
&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;SelfHost 支持。Docker 部署！&lt;/li&gt;
&lt;li&gt;Github: &lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://github.com/linuxserver/docker-mstream&#34;&gt;Mstream docker&lt;/a&gt;。&lt;/li&gt;
&lt;li&gt;浏览器界面支持。&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2021/10/0620211006015739.png&#34; alt=&#34;私人音乐服务&#34;&gt;&lt;/p&gt;
&lt;h3 id=&#34;支持DJ模式&#34;&gt;支持DJ模式&lt;/h3&gt;
&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;在音乐库中随机选择音乐播放。&lt;/li&gt;
&lt;li&gt;选择症患者救星。&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2021/10/0620211006020713.png&#34; alt=&#34;DJ模式&#34;&gt;&lt;/p&gt;
&lt;h3 id=&#34;Android支持&#34;&gt;Android支持&lt;/h3&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2021/10/0620211006020403.png&#34; alt=&#34;Android支持&#34;&gt;&lt;/p&gt;
&lt;h3 id=&#34;其它特性&#34;&gt;其它特性&lt;/h3&gt;
&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;转码支持&lt;/li&gt;
&lt;li&gt;遥控器支持&lt;/li&gt;
&lt;li&gt;播放列表&lt;/li&gt;
&lt;li&gt;等等&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;link rel=&#34;stylesheet&#34; href=&#34;/css/bilicard.css&#34; type=&#34;text/css&#34;&gt;</content>
        <category term="docker" />
        <category term="music" />
        <category term="mstream" />
        <category term="selfhost" />
        <updated>2021-11-07T01:25:00.000Z</updated>
    </entry>
    <entry>
        <id>https://blog.17lai.site/posts/d6bad1e5/</id>
        <title>自己动手制作电子书的最佳方式（支持PDF、ePub、mobi等格式）</title>
        <link rel="alternate" href="https://blog.17lai.site/posts/d6bad1e5/"/>
        <content type="html">&lt;h2 id=&#34;前言-3&#34;&gt;前言&lt;/h2&gt;
&lt;p&gt;对于经常阅读的人来说，制作本地电子书，算是刚需了。网上的很多教程都不太好用，所以我特地整理出一个详细的教程。亲测有效，一劳永逸。&lt;/p&gt;
&lt;p&gt;当你意外发现某个宝藏公众号时，想要集中阅读上面的每一篇文章，恨不得一口气看完，你会怎么做呢？你可能会把它添加到“微信读书”App 的书架上：&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2021/11/0220211102223600.jpeg&#34; alt=&#34;img&#34;&gt;&lt;/p&gt;
&lt;p&gt;但上面这种曲线救国的方式并非最佳，仍然不尽人意，存在不少问题。&lt;/p&gt;
&lt;p&gt;我知道，现在有很多的第三方服务，可以将任意公众号的文章制作成电子书，我试过很多次，但都是付费的。一听说要钱，你又不干了：&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2021/11/0220211102223603.jpeg&#34; alt=&#34;img&#34;&gt;&lt;/p&gt;
&lt;p&gt;再列举一种场景：当你在 GitHub 上发现一个很全面很丰富的项目文档时，仿佛发现了新大陆。可 GitHub 网站的服务器在国外，国内的访问速度实在感人，你想要把它下载到本地查看，会怎么做呢？你估计会选择&lt;code&gt;git clone&lt;/code&gt;或者直接选择“Download ZIP”，然后用 Typora 或者 VS Code 软件打开这个项目文档，在本地查看：&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2021/11/0220211102223605.jpeg&#34; alt=&#34;img&#34;&gt;&lt;/p&gt;
&lt;p&gt;总之，你能想到的方式，我都想到了，而且都尝试过。&lt;/p&gt;
&lt;p&gt;现在的需求就是，如果你经常阅读网上的资料，肯定会有这样一个需求：&lt;strong&gt;怎么把这些几百页、甚至几千页的内容整理成 PDF、ePub、mobi等格式的电子书呢&lt;/strong&gt;？&lt;/p&gt;
&lt;p&gt;要么花钱请别人做，要么自己做。&lt;/p&gt;
&lt;p&gt;今天这篇文章，就是来告诉你”&lt;strong&gt;自己动手制作 PDF、ePub、mobi 等格式电子书&lt;/strong&gt;“的最佳方式。如果你是码农出身，下面讲的这些步骤，根本难不倒你。如果你不是码农出身，也没关系，只要你有一台电脑，跟着我讲的教程研究下去，肯定能搞定。&lt;/p&gt;
&lt;p&gt;问题的关键不在于难不难、会不会，而是在于你是不是&lt;strong&gt;爱折腾&lt;/strong&gt;。&lt;/p&gt;
&lt;h2 id=&#34;工具篇&#34;&gt;工具篇&lt;/h2&gt;
&lt;h3 id=&#34;bloodstar-gitbook-builder&#34;&gt;&lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://hub.docker.com/r/bloodstar/gitbook-builder&#34;&gt;bloodstar/gitbook-builder&lt;/a&gt;&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;Gitbook Docker 集成开发环境。支持CJK，附带常用工具。使用它，下面一些列环境配置都可以省略了。开箱即用。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;Usage&#34;&gt;Usage&lt;/h3&gt;
&lt;p&gt;Read the official &lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://toolchain.gitbook.com/&#34;&gt;GitBook Toolchain Documentation&lt;/a&gt; documentation &lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://github.com/GitbookIO/gitbook#how-to-use-it&#34;&gt;GitbookIO/gitbook&lt;/a&gt; first.&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-bash&#34; data-language=&#34;bash&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;&lt;span class=&#34;token comment&#34;&gt;# init&lt;/span&gt;
&lt;span class=&#34;token function&#34;&gt;docker&lt;/span&gt; run --rm -v &lt;span class=&#34;token string&#34;&gt;&#34;&lt;span class=&#34;token environment constant&#34;&gt;$PWD&lt;/span&gt;:/gitbook&#34;&lt;/span&gt; -p &lt;span class=&#34;token number&#34;&gt;4000&lt;/span&gt;:4000 bloodstar/gitbook-builder gitbook init
&lt;span class=&#34;token comment&#34;&gt;# serve&lt;/span&gt;
&lt;span class=&#34;token function&#34;&gt;docker&lt;/span&gt; run --rm -v &lt;span class=&#34;token string&#34;&gt;&#34;&lt;span class=&#34;token environment constant&#34;&gt;$PWD&lt;/span&gt;:/gitbook&#34;&lt;/span&gt; -p &lt;span class=&#34;token number&#34;&gt;4000&lt;/span&gt;:4000 bloodstar/gitbook-builder gitbook serve
&lt;span class=&#34;token comment&#34;&gt;# build&lt;/span&gt;
&lt;span class=&#34;token function&#34;&gt;docker&lt;/span&gt; run --rm -v &lt;span class=&#34;token string&#34;&gt;&#34;&lt;span class=&#34;token environment constant&#34;&gt;$PWD&lt;/span&gt;:/gitbook&#34;&lt;/span&gt; -p &lt;span class=&#34;token number&#34;&gt;4000&lt;/span&gt;:4000 bloodstar/gitbook-builder gitbook build&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;For short, you can use alias for the long command line text. Place the alias statement in your &lt;code&gt;.bashrc&lt;/code&gt; or &lt;code&gt;.zshrc&lt;/code&gt;.&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-bash&#34; data-language=&#34;bash&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;&lt;span class=&#34;token builtin class-name&#34;&gt;alias&lt;/span&gt; &lt;span class=&#34;token assign-left variable&#34;&gt;gitbook&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;docker run --rm -v &#34;$PWD&#34;:/gitbook -p 4000:4000 bloodstar/gitbook-builder gitbook&#39;&lt;/span&gt;
&lt;span class=&#34;token comment&#34;&gt;# init&lt;/span&gt;
gitbook init
&lt;span class=&#34;token comment&#34;&gt;# serve&lt;/span&gt;
gitbook serve
&lt;span class=&#34;token comment&#34;&gt;# build&lt;/span&gt;
gitbook build
&lt;span class=&#34;token comment&#34;&gt;# pdf output&lt;/span&gt;
gitbook pdf &lt;span class=&#34;token builtin class-name&#34;&gt;.&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;Integrate-with-Gitlab-CI&#34;&gt;Integrate with Gitlab CI&lt;/h3&gt;
&lt;p&gt;This docker image is originally designed for generating ebook with &lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://about.gitlab.com/gitlab-ci/&#34;&gt;Gitlab CI&lt;/a&gt;. You could configure your Gitlab CI as following:&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-yml&#34; data-language=&#34;yml&#34;&gt;&lt;code class=&#34;language-yml&#34;&gt;&lt;span class=&#34;token key atrule&#34;&gt;before_script&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;
  &lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt; env
  &lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt; export LC_ALL=zh_TW.UTF&lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;8&lt;/span&gt;

&lt;span class=&#34;token key atrule&#34;&gt;stages&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;
  &lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt; build

&lt;span class=&#34;token key atrule&#34;&gt;ebook&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;
  &lt;span class=&#34;token key atrule&#34;&gt;stage&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; build
  &lt;span class=&#34;token key atrule&#34;&gt;script&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;
    &lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt; gitbook pdf
  &lt;span class=&#34;token key atrule&#34;&gt;artifacts&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;
    &lt;span class=&#34;token key atrule&#34;&gt;paths&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;
      &lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt; book.pdf
  &lt;span class=&#34;token key atrule&#34;&gt;only&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;
    &lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt; master
  &lt;span class=&#34;token key atrule&#34;&gt;tags&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;
    &lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt; gitbook
  &lt;span class=&#34;token key atrule&#34;&gt;image&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; bloodstar/gitbook&lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt;builder&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;latest
  &lt;span class=&#34;token key atrule&#34;&gt;allow_failure&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token boolean important&#34;&gt;true&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;制作电子书的具体步骤&#34;&gt;制作电子书的具体步骤&lt;/h2&gt;
&lt;h3 id=&#34;整体流程&#34;&gt;整体流程&lt;/h3&gt;
&lt;p&gt;先说一下整体步骤：&lt;/p&gt;
&lt;p&gt;（1）安装 gitbook 工具。&lt;/p&gt;
&lt;p&gt;（2）安装 calibre 软件，配置 &lt;code&gt;ebook-convert&lt;/code&gt;工具。&lt;/p&gt;
&lt;p&gt;（3）将&lt;code&gt;md&lt;/code&gt;格式的多个文件素材导出为电子书（支持 PDF、ePub、mobi 等格式）。&lt;/p&gt;
&lt;p&gt;（4）高级进阶：配置电子书的目录、封面、页眉页脚等。&lt;/p&gt;
&lt;p&gt;整理流程如下：&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2021/11/0220211102223611.jpeg&#34; alt=&#34;img&#34;&gt;&lt;/p&gt;
&lt;p&gt;接下来我们看看详细的完整步骤。&lt;/p&gt;
&lt;h3 id=&#34;步骤-1：通过-npm-安装-gitbook-cli&#34;&gt;步骤 1：通过 npm 安装 gitbook-cli&lt;/h3&gt;
&lt;p&gt;安装命令如下：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-bash&#34; data-language=&#34;bash&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;&lt;span class=&#34;token function&#34;&gt;npm&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;install&lt;/span&gt; -g gitbook-cli&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;安装成功之后，再执行&lt;code&gt;gitbook -V&lt;/code&gt;命令确认是否安装成功：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-bash&#34; data-language=&#34;bash&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;gitbook -V
CLI version: &lt;span class=&#34;token number&#34;&gt;2.3&lt;/span&gt;.2
GitBook version: &lt;span class=&#34;token number&#34;&gt;3.2&lt;/span&gt;.3&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;备注：如果你不知道 &lt;code&gt;npm&lt;/code&gt; 是什么，可以自行查阅&lt;strong&gt;如何安装 Node.js 和 npm 环境&lt;/strong&gt;。&lt;/p&gt;
&lt;h3 id=&#34;步骤-2：安装-ebook-convert（针对-Windows-用户）&#34;&gt;步骤 2：安装 ebook-convert（针对 Windows 用户）&lt;/h3&gt;
&lt;p&gt;ebook-convert 是能够自由转化格式的一个命令行工具，已经包含在 calibre 软件里面了。&lt;/p&gt;
&lt;p&gt;（1）安装 &lt;code&gt;calibre&lt;/code&gt; 软件。calibre 的官网如下：（我们可以去官网下载安装）&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;https://calibre-ebook.com/&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;（2）在终端输入如下命令，验证 &lt;code&gt;ebook-convert&lt;/code&gt; 是否能正常使用：&lt;/p&gt;
&lt;p&gt;如果输入上面的命令后提示错误，说明你还需要将 calibre 的安装目录添加到系统的环境变量中。&lt;/p&gt;
&lt;h3 id=&#34;步骤-2：安装-ebook-convert（针对-Mac-用户）&#34;&gt;步骤 2：安装 ebook-convert（针对 Mac 用户）&lt;/h3&gt;
&lt;p&gt;ebook-convert 是能够自由转化格式的一个命令行工具，已经包含在 calibre 软件里面了。&lt;/p&gt;
&lt;p&gt;（1）安装 &lt;code&gt;calibre&lt;/code&gt; 软件。calibre 的官网如下：（我们可以去官网下载安装）&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;https://calibre-ebook.com/&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;（2）配置 &lt;code&gt;ebook-convert&lt;/code&gt;。针对 Mac 系统，需要执行如下命令，把 &lt;code&gt;ebook-convert&lt;/code&gt; 软链接到 &lt;code&gt;bin&lt;/code&gt; 目录：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-bash&#34; data-language=&#34;bash&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;&lt;span class=&#34;token function&#34;&gt;sudo&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;ln&lt;/span&gt; -s /Applications/calibre.app/Contents/MacOS/ebook-convert /usr/bin&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;执行上面的命令后，如果出现&lt;code&gt;Operation not permitted&lt;/code&gt;异常，说明系统权限限制，此时需要&lt;strong&gt;配置环境变量&lt;/strong&gt;。&lt;/p&gt;
&lt;p&gt;（3）环境变量配置：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-bash&#34; data-language=&#34;bash&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;&lt;span class=&#34;token function&#34;&gt;vim&lt;/span&gt; ~/.bash_profile

&lt;span class=&#34;token comment&#34;&gt;# 将下面这两行配置，添加到 .bash_profile 文件中&lt;/span&gt;
&lt;span class=&#34;token builtin class-name&#34;&gt;export&lt;/span&gt; &lt;span class=&#34;token assign-left variable&#34;&gt;EBOOK_PATH&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;/Applications/calibre.app/Contents/MacOS
&lt;span class=&#34;token builtin class-name&#34;&gt;export&lt;/span&gt; &lt;span class=&#34;token assign-left variable&#34;&gt;&lt;span class=&#34;token environment constant&#34;&gt;PATH&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token environment constant&#34;&gt;$PATH&lt;/span&gt;&lt;span class=&#34;token builtin class-name&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;token variable&#34;&gt;$EBOOK_PATH&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;备注：可以自行研究下，在命令行环境，如何通过 vim 编辑文件。&lt;/p&gt;
&lt;p&gt;然后刷新一下刚刚的配置：&lt;/p&gt;
&lt;p&gt;验证&lt;code&gt;ebook-convert&lt;/code&gt;是否能正常使用：&lt;/p&gt;
&lt;h3 id=&#34;步骤-3：配置电子书的目录&#34;&gt;步骤 3：配置电子书的目录&lt;/h3&gt;
&lt;p&gt;本地新建一个空的文件夹，作为我们的电子书项目。文件夹的名字随便起，但建议用英文命名。&lt;/p&gt;
&lt;p&gt;（1）项目初始化。&lt;/p&gt;
&lt;p&gt;在当前项目下，执行如下命令，进行初始化：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-bash&#34; data-language=&#34;bash&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;gitbook init&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;此时，项目下会自动生成如下两个文件：（&lt;strong&gt;非常重要，必不可少&lt;/strong&gt;）&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;README.md&lt;/code&gt;：书籍的简介放在这个文件里。&lt;/li&gt;
&lt;li&gt;&lt;code&gt;SUMMARY.md&lt;/code&gt;：书籍的&lt;strong&gt;目录结构&lt;/strong&gt;在这里配置。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;这两个文件创建后，内容为空白，可使用 Markdown 语言自定义内容。&lt;/p&gt;
&lt;p&gt;（2）配置电子书的目录。&lt;/p&gt;
&lt;p&gt;我们先把本地的 markdown 文件（也就是我们的&lt;strong&gt;电子书素材&lt;/strong&gt;）放到项目中，然后在&lt;code&gt;SUMMARY.md&lt;/code&gt;文件中配置电子书的目录。&lt;/p&gt;
&lt;p&gt;比如说， 我的项目中有下面这些文件：&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2021/11/0220211102223644.jpeg&#34; alt=&#34;img&#34;&gt;&lt;/p&gt;
&lt;p&gt;那么，我在&lt;code&gt;SUMMARY.md&lt;/code&gt;文件中就要这样配置：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-markdown&#34; data-language=&#34;markdown&#34;&gt;&lt;code class=&#34;language-markdown&#34;&gt;&lt;span class=&#34;token title important&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;#&lt;/span&gt; 目录&lt;/span&gt;

&lt;span class=&#34;token list punctuation&#34;&gt;*&lt;/span&gt; &lt;span class=&#34;token url&#34;&gt;[&lt;span class=&#34;token content&#34;&gt;README&lt;/span&gt;](&lt;span class=&#34;token url&#34;&gt;./README.md&lt;/span&gt;)&lt;/span&gt;
&lt;span class=&#34;token list punctuation&#34;&gt;*&lt;/span&gt; &lt;span class=&#34;token url&#34;&gt;[&lt;span class=&#34;token content&#34;&gt;00-前端工具&lt;/span&gt;](&lt;span class=&#34;token url&#34;&gt;00-前端工具/0-README.md&lt;/span&gt;)&lt;/span&gt;
  &lt;span class=&#34;token list punctuation&#34;&gt;*&lt;/span&gt; [01-VS Code的使用](00-前端工具/01-VS Code的使用.md)
  &lt;span class=&#34;token list punctuation&#34;&gt;*&lt;/span&gt; &lt;span class=&#34;token url&#34;&gt;[&lt;span class=&#34;token content&#34;&gt;02-Git的使用&lt;/span&gt;](&lt;span class=&#34;token url&#34;&gt;00-前端工具/02-Git的使用.md&lt;/span&gt;)&lt;/span&gt;
&lt;span class=&#34;token list punctuation&#34;&gt;*&lt;/span&gt; &lt;span class=&#34;token url&#34;&gt;[&lt;span class=&#34;token content&#34;&gt;01-HTML&lt;/span&gt;](&lt;span class=&#34;token url&#34;&gt;01-HTML/0-README.md&lt;/span&gt;)&lt;/span&gt;
  &lt;span class=&#34;token list punctuation&#34;&gt;*&lt;/span&gt; &lt;span class=&#34;token url&#34;&gt;[&lt;span class=&#34;token content&#34;&gt;01-认识Web和Web标准&lt;/span&gt;](&lt;span class=&#34;token url&#34;&gt;01-HTML/01-认识Web和Web标准.md&lt;/span&gt;)&lt;/span&gt;
  &lt;span class=&#34;token list punctuation&#34;&gt;*&lt;/span&gt; &lt;span class=&#34;token url&#34;&gt;[&lt;span class=&#34;token content&#34;&gt;02-浏览器的介绍&lt;/span&gt;](&lt;span class=&#34;token url&#34;&gt;01-HTML/02-浏览器的介绍.md&lt;/span&gt;)&lt;/span&gt;
  &lt;span class=&#34;token list punctuation&#34;&gt;*&lt;/span&gt; &lt;span class=&#34;token url&#34;&gt;[&lt;span class=&#34;token content&#34;&gt;03-初识HTML&lt;/span&gt;](&lt;span class=&#34;token url&#34;&gt;01-HTML/03-初识HTML.md&lt;/span&gt;)&lt;/span&gt;
&lt;span class=&#34;token list punctuation&#34;&gt;*&lt;/span&gt; &lt;span class=&#34;token url&#34;&gt;[&lt;span class=&#34;token content&#34;&gt;02-CSS基础&lt;/span&gt;](&lt;span class=&#34;token url&#34;&gt;02-CSS基础/0-README.md&lt;/span&gt;)&lt;/span&gt;
  &lt;span class=&#34;token list punctuation&#34;&gt;*&lt;/span&gt; &lt;span class=&#34;token url&#34;&gt;[&lt;span class=&#34;token content&#34;&gt;01-CSS属性：字体属性和文本属性&lt;/span&gt;](&lt;span class=&#34;token url&#34;&gt;02-CSS基础/01-CSS属性：字体属性和文本属性.md&lt;/span&gt;)&lt;/span&gt;
  &lt;span class=&#34;token list punctuation&#34;&gt;*&lt;/span&gt; &lt;span class=&#34;token url&#34;&gt;[&lt;span class=&#34;token content&#34;&gt;02-CSS属性：背景属性&lt;/span&gt;](&lt;span class=&#34;token url&#34;&gt;02-CSS基础/02-CSS属性：背景属性.md&lt;/span&gt;)&lt;/span&gt;
  &lt;span class=&#34;token list punctuation&#34;&gt;*&lt;/span&gt; &lt;span class=&#34;token url&#34;&gt;[&lt;span class=&#34;token content&#34;&gt;03-CSS样式表和选择器&lt;/span&gt;](&lt;span class=&#34;token url&#34;&gt;02-CSS基础/03-CSS样式表和选择器.md&lt;/span&gt;)&lt;/span&gt;
&lt;span class=&#34;token list punctuation&#34;&gt;*&lt;/span&gt; &lt;span class=&#34;token url&#34;&gt;[&lt;span class=&#34;token content&#34;&gt;03-JavaScript基础&lt;/span&gt;](&lt;span class=&#34;token url&#34;&gt;03-JavaScript基础/0-README.md&lt;/span&gt;)&lt;/span&gt;
  &lt;span class=&#34;token list punctuation&#34;&gt;*&lt;/span&gt; &lt;span class=&#34;token url&#34;&gt;[&lt;span class=&#34;token content&#34;&gt;00-编程语言&lt;/span&gt;](&lt;span class=&#34;token url&#34;&gt;03-JavaScript基础/00-编程语言.md&lt;/span&gt;)&lt;/span&gt;
  &lt;span class=&#34;token list punctuation&#34;&gt;*&lt;/span&gt; &lt;span class=&#34;token url&#34;&gt;[&lt;span class=&#34;token content&#34;&gt;01-JS简介&lt;/span&gt;](&lt;span class=&#34;token url&#34;&gt;03-JavaScript基础/01-JS简介.md&lt;/span&gt;)&lt;/span&gt;
  &lt;span class=&#34;token list punctuation&#34;&gt;*&lt;/span&gt; &lt;span class=&#34;token url&#34;&gt;[&lt;span class=&#34;token content&#34;&gt;02-变量&lt;/span&gt;](&lt;span class=&#34;token url&#34;&gt;03-JavaScript基础/02-变量.md&lt;/span&gt;)&lt;/span&gt;
  &lt;span class=&#34;token list punctuation&#34;&gt;*&lt;/span&gt; &lt;span class=&#34;token url&#34;&gt;[&lt;span class=&#34;token content&#34;&gt;03-变量的数据类型：基本数据类型和引用数据类型&lt;/span&gt;](&lt;span class=&#34;token url&#34;&gt;03-JavaScript基础/03-变量的数据类型：基本数据类型和引用数据类型.md&lt;/span&gt;)&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;制作成的目录，将会是下面这种效果：&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2021/11/0220211102223613.jpeg&#34; alt=&#34;img&#34;&gt;&lt;/p&gt;
&lt;h3 id=&#34;步骤-4：导出电子书&#34;&gt;步骤 4：导出电子书&lt;/h3&gt;
&lt;p&gt;（1）本地预览电子书：&lt;/p&gt;
&lt;p&gt;执行上方命令后，工具会对项目里的 Markdown 格式的文件进行转换，默认转换为 html 格式，最后提示 &lt;code&gt;Serving book on http://localhost:4000&lt;/code&gt;。&lt;/p&gt;
&lt;p&gt;我们打开浏览器输入&lt;code&gt;http://localhost:4000&lt;/code&gt;，预览一下电子书的效果：&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2021/11/0220211102223620.jpeg&#34; alt=&#34;img&#34;&gt;&lt;/p&gt;
&lt;p&gt;（2）制作并导出电子书。&lt;strong&gt;接下来就是见证奇迹的时刻&lt;/strong&gt;。&lt;/p&gt;
&lt;p&gt;生成 PDF 格式的电子书：（PDF 是最常见的文档格式）&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-bash&#34; data-language=&#34;bash&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;gitbook pdf ./ ./mybook.pdf&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;生成 epub 格式的电子书：（epub 是最常见、最通用的电子书格式）&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-bash&#34; data-language=&#34;bash&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;gitbook epub ./ ./mybook.epub&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;生成 mobi 格式的电子书：（mobi 格式可以在 kindle 中打开）&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-bash&#34; data-language=&#34;bash&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;gitbook mobi ./ ./mybook.mobi&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;上面这三种格式的电子书生成之后，项目里会看到这三个新增的文件：&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2021/11/0220211102223652.jpeg&#34; alt=&#34;img&#34;&gt;&lt;/p&gt;
&lt;p&gt;我们把电子书打开，验收一下成果。&lt;/p&gt;
&lt;p&gt;打开 pdf 电子书看看效果：&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2021/11/0220211102223700.jpeg&#34; alt=&#34;img&#34;&gt;&lt;/p&gt;
&lt;p&gt;打开 epub 电子书看看效果：&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2021/11/0220211102223622.jpeg&#34; alt=&#34;img&#34;&gt;&lt;/p&gt;
&lt;p&gt;怎么样，自制电子书就这样做好了，是不是很有成就感？&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;更详细参考教程： &lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://blog.17lai.fun/posts/7fe86002/&#34;&gt;GitBook+GitLab撰写发布技术文档-Part1:GitBook篇&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&#34;制作电子书的高级配置&#34;&gt;制作电子书的高级配置&lt;/h2&gt;
&lt;p&gt;电子书做好之后，我猜你肯定想进一步做&lt;strong&gt;个性化配置&lt;/strong&gt;，比如：怎么加封面？怎么修改页眉页脚？还有其他的一些配置。&lt;/p&gt;
&lt;p&gt;我们来看看亲手制作的电子书，有哪些常见的高级配置。&lt;/p&gt;
&lt;h3 id=&#34;制作书籍封面&#34;&gt;制作书籍封面&lt;/h3&gt;
&lt;p&gt;为了让书籍显示得更加优雅，我们可以指定一个自定义的封面。操作如下：&lt;/p&gt;
&lt;p&gt;在项目的根目录下准备好 &lt;code&gt;cover.jpg&lt;/code&gt; （大封面）和 &lt;code&gt;cover_small.jpg&lt;/code&gt; （小封面）这两种封面图片。注意，图片的文件名和后缀名必须严格按照这句话来。&lt;/p&gt;
&lt;p&gt;GitBook 的官方文档建议： &lt;code&gt;cover.jpg&lt;/code&gt; （大封面）的尺寸为 1800x2360 像素，&lt;code&gt;cover_small.jpg&lt;/code&gt;（小封面）的尺寸为 200x262 像素。图片的制作，建议遵循如下规范：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;没有边框&lt;/li&gt;
&lt;li&gt;清晰可见的书本标题&lt;/li&gt;
&lt;li&gt;任何重要的文字在小封面中应该清晰可见&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;book-json-：电子书的各种配置&#34;&gt;book.json ：电子书的各种配置&lt;/h3&gt;
&lt;p&gt;我们可以在项目的根目录下新建一个文件&lt;code&gt;book.json&lt;/code&gt;（注意，文件名是&lt;code&gt;book&lt;/code&gt;，后缀名是&lt;code&gt;json&lt;/code&gt;），这个&lt;code&gt;book.json&lt;/code&gt;就是电子书的配置文件，可以在里面填一些常见的配置。&lt;/p&gt;
&lt;p&gt;关于 book.json 的配置项有很多，我们可以在网上搜索“GitBook book.json”找到。这里大致列举一些。&lt;/p&gt;
&lt;p&gt;1、&lt;strong&gt;常规配置&lt;/strong&gt;如下：&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2021/11/0220211102223624.jpeg&#34; alt=&#34;img&#34;&gt;&lt;/p&gt;
&lt;p&gt;配置 book.json 的示例如下：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-json&#34; data-language=&#34;json&#34;&gt;&lt;code class=&#34;language-json&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;token property&#34;&gt;&#34;title&#34;&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;前端入门和进阶图文教程&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;
    &lt;span class=&#34;token property&#34;&gt;&#34;description&#34;&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;前端入门到进阶图文教程，超详细的Web前端学习笔记。从零开始学前端，做一名精致优雅的前端工程师。公众号「千古壹号」作者。&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;
    &lt;span class=&#34;token property&#34;&gt;&#34;author&#34;&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;千古壹号&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;
    &lt;span class=&#34;token property&#34;&gt;&#34;language&#34;&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;zh-hans&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;
    &lt;span class=&#34;token property&#34;&gt;&#34;gitbook&#34;&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;3.2.3&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;
    &lt;span class=&#34;token property&#34;&gt;&#34;root&#34;&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;.&#34;&lt;/span&gt;
&lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;备注：上面的&lt;code&gt;root&lt;/code&gt;根目录为当前目录，使用默认的就好，此项可以删掉，这里仅做演示。&lt;/p&gt;
&lt;p&gt;2、&lt;strong&gt;pdf&lt;/strong&gt; 的配置如下：（使用 &lt;code&gt;book.json&lt;/code&gt; 中的一组选项来定制 PDF 输出）&lt;/p&gt;
&lt;p&gt;| 配置项 | 描述 | | ----------------- | ------------------------------------------------------------ | | pdf.pageNumbers | 将页码添加到每个页面的底部（默认为 true） | | pdf.fontSize | 基本字体大小（默认是 12） | | pdf.fontFamily | 基本字体样式（默认是 Arial） | | pdf.paperSize | 页面尺寸，选项有： a0、a1、 a2、 a3、a4、a5、a6、b0、b1、b2、b3、b4、b5、b6、legal、letter （默认值是 a4） | | pdf.margin.top | 上边距（默认值是 56） | | pdf.margin.bottom | 下边距（默认值是 56） | | pdf.margin.left | 左边距（默认值是 62） | | pdf.margin.right | 右边距（默认值是 62） |&lt;/p&gt;
&lt;p&gt;定制 PDF 文档输出格式的示例代码如下：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-json&#34; data-language=&#34;json&#34;&gt;&lt;code class=&#34;language-json&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;token property&#34;&gt;&#34;pdf&#34;&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;token property&#34;&gt;&#34;pageNumbers&#34;&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token boolean&#34;&gt;false&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;
        &lt;span class=&#34;token property&#34;&gt;&#34;fontSize&#34;&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;12&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;
        &lt;span class=&#34;token property&#34;&gt;&#34;paperSize&#34;&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;a4&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;
        &lt;span class=&#34;token property&#34;&gt;&#34;margin&#34;&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt;
            &lt;span class=&#34;token property&#34;&gt;&#34;top&#34;&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;36&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;
            &lt;span class=&#34;token property&#34;&gt;&#34;bottom&#34;&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;36&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;
            &lt;span class=&#34;token property&#34;&gt;&#34;left&#34;&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;62&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;
            &lt;span class=&#34;token property&#34;&gt;&#34;right&#34;&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;62&lt;/span&gt;
        &lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt;
    &lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;备注：如果你不需要对输出的 pdf 做任何特定的配置，则不需要添加上面的内容，让 pdf 的输出格式保持默认就好。&lt;/p&gt;
&lt;p&gt;3、&lt;strong&gt;plugins&lt;/strong&gt; 插件：&lt;/p&gt;
&lt;p&gt;插件及其配置在 &lt;code&gt;book.json&lt;/code&gt; 中指定，让电子书的配置能力更加强大。&lt;/p&gt;
&lt;p&gt;通过插件，我们可以做很多事情，比如：修改页眉页脚、自动生成并显示图片的标题等。&lt;/p&gt;
&lt;p&gt;另外，针对&lt;strong&gt;在线版&lt;/strong&gt;的GitBook电子书，也有很多插件，这里列举几个：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;自带的search插件不支持中文搜索，使用起来非常不方便，还好&lt;code&gt;search-pro&lt;/code&gt;插件横空出世，让搜索功能焕发出新的生机。插件地址：https://github.com/gitbook-plugins/gitbook-plugin-search-pro&lt;/li&gt;
&lt;li&gt;默认侧边栏宽度是不能够调节的，如果想通过拖拽的方式自由调节侧边栏宽度，可以使用插件&lt;code&gt;splitter&lt;/code&gt;。插件地址：https://github.com/yoshidax/gitbook-plugin-splitter&lt;/li&gt;
&lt;li&gt;donate插件支持定义和显示支付宝和微信打赏。插件地址：&lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://github.com/willin/gitbook-plugin-donate&#34;&gt;http://github.com/willin/gitbook-plugin-donate&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;关于插件的具体配置，感兴趣的同学可以自行研究下。&lt;/p&gt;
&lt;h3 id=&#34;自动生成目录（重要）&#34;&gt;自动生成目录（重要）&lt;/h3&gt;
&lt;p&gt;如果你的电子书素材里有很多 markdown 文件，那么，如何将多个 markdown 文件的文件名，在&lt;code&gt;SUMMARY.md&lt;/code&gt;里快速生成对应的目录？&lt;/p&gt;
&lt;p&gt;难道要一个一个地手动 copy 吗？这不可能。&lt;/p&gt;
&lt;p&gt;说白了，这个需求就是：&lt;strong&gt;如何自动生成电子书的目录&lt;/strong&gt;？改变世界的程序员用「脚本」就能搞定，一键执行。&lt;/p&gt;
&lt;p&gt;网上有很多好用的脚本，我给你推荐一个亲测好用的脚本：&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;GitBook 自动生成目录的脚本：https://github.com/fushenghua/gitbook-plugin-summary&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;操作方法很简单，把上面这个链接中的项目下载下来，进入到这个项目的目录，执行 &lt;code&gt;$ python gitbook-plugin-summary.py dirPath&lt;/code&gt; 即可自动生成电子书的目录，亲测有效。备注：这里的&lt;code&gt;dirPath&lt;/code&gt;指的是你的电子书目录的绝对路径。&lt;/p&gt;
&lt;p&gt;对了，在执行上面这个脚本之前，记得先安装 &lt;code&gt;Python&lt;/code&gt; 环境。&lt;/p&gt;
&lt;h2 id=&#34;电子书用什么软件打开&#34;&gt;电子书用什么软件打开&lt;/h2&gt;
&lt;h3 id=&#34;用什么软件打开-PDF&#34;&gt;用什么软件打开 PDF&lt;/h3&gt;
&lt;p&gt;Windows 平台：可以用「福昕阅读器」或者「Acrobat Reader DC」。「福昕阅读器」既有 Windows 平台，也有 Mac 平台。&lt;/p&gt;
&lt;p&gt;Mac 平台：可以用自带的「预览」打开。&lt;/p&gt;
&lt;p&gt;其实，不管你用的是 Windows 电脑还是 Mac 电脑，你都可以用 Chrome 浏览器打开 PDF。&lt;/p&gt;
&lt;p&gt;iPhone 或 iPad平台：可以用自带的「iBooks」打开，或者用「WPS Office」打开。也可以用第三方软件「GoodReader」，不过需要 40 人民币。&lt;/p&gt;
&lt;p&gt;Android 手机：可以用「WPS Office」等第三方办公软件打开。&lt;/p&gt;
&lt;h3 id=&#34;用什么软件阅读-ePub-电子书&#34;&gt;用什么软件阅读 ePub 电子书&lt;/h3&gt;
&lt;p&gt;Windows 平台：可以用「calibre」软件阅读 epub 电子书。&lt;/p&gt;
&lt;p&gt;Mac &amp;amp; iPhone &amp;amp; iPad 平台：用自带的「iBooks」阅读即可。iBooks 可以非常方便地对电子书进行标注和搜索，无疑是体验最好的 ePub 电子书阅读软件。&lt;/p&gt;
&lt;p&gt;Android 手机：可以用「多看阅读」App 来阅读 epub 格式电子书。&lt;/p&gt;
&lt;h3 id=&#34;用什么方式阅读-mobi-电子书&#34;&gt;用什么方式阅读 mobi 电子书&lt;/h3&gt;
&lt;p&gt;kindle 电子书有两种常见的电子书格式：「mobi」格式和「azw3」格式。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;针对 mobi 格式的电子书，你既可以通过邮件的形式将其发送到 kindle 阅读器（可以自行网上查一下相关教程），也可以将其拷贝到 kindle 阅读器（是连接 usb 进行拷贝）。&lt;/li&gt;
&lt;li&gt;针对 azw3 格式的电子书，就只能通过拷贝的形式（是连接 usb 拷贝）传输到 kindle 阅读器。&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;小结&#34;&gt;小结&lt;/h3&gt;
&lt;p&gt;我在 2017 年 1 月写过一篇电子书科普的文章，快三年过去了，如今回过头来看，那篇文章一点也不过时，不妨看看：《&lt;a href=&#34;https://link.zhihu.com/?target=https%3A//mp.weixin.qq.com/s/-FsT_GQtBQ0-q_ndO5X6sQ&#34;&gt;电子书有哪些常见格式？以及该怎样阅读它&lt;/a&gt;》&lt;/p&gt;
&lt;h2 id=&#34;最后一段-2&#34;&gt;最后一段&lt;/h2&gt;
&lt;p&gt;如果你一时半会儿找不到可用的素材来制作电子书，可以拿我的项目练练手。项目地址：&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;https://github.com/qianguyihao/web&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;不瞒你说，这篇文章，我在一年多以前就写好了初稿并放在了 GitHub 上，当时专门折腾过一次。&lt;/p&gt;
&lt;p&gt;最近几天，我突然又有了制作电子书的需求。一年多过去了，我还以为有啥新的方法可以试试，然而我在网上找了一圈，好用的方法还是没变。所以，我今天整理一下发出来，希望让更多人看到。&lt;/p&gt;
&lt;p&gt;其他的各种自制电子书的方法我都试过了，都不太好使，唯独 &lt;strong&gt;GitBook + calibre&lt;/strong&gt; 是最佳选择，信我没错！&lt;/p&gt;
&lt;h2 id=&#34;参考链接-2&#34;&gt;参考链接&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;GITBOOK 使用：https://kuang.netlify.app/blog/gitbook.htmlbook.html&lt;/li&gt;
&lt;li&gt;GitBook 制作 Kindle 电子书详细教程：https://github.com/fushenghua/gitbook-plugin-summary/blob/master/gitbook-guide.md&lt;/li&gt;
&lt;li&gt;gitbook-plugin-summary 工具（自动生成目录）：https://github.com/fushenghua/gitbook-plugin-summary&lt;/li&gt;
&lt;li&gt;gitbook-plugin-atoc（自动生成目录的插件）：https://github.com/willin/gitbook-plugin-atoc&lt;/li&gt;
&lt;li&gt;自动生成目录：https://github.com/mofhu/GitBook-auto-summary&lt;/li&gt;
&lt;li&gt;使用 Gitbook 打造你的电子书：https://juejin.im/post/6844903793033740302&lt;/li&gt;
&lt;li&gt;书籍《了不起的 Markdown》的第 8 章：自由地写作——GitBook&lt;/li&gt;
&lt;li&gt;gitbook 的 book.json 配置示例：https://blog.ujwd.cn/archives/349&lt;/li&gt;
&lt;li&gt;关于更加详细的 book.json 文件配置：https://zhousiwei.gitee.io/mybook/notes/gitbook_config.html&lt;/li&gt;
&lt;li&gt;GitBook 简明使用教程：https://www.phpjieshuo.com/archives/153/&lt;/li&gt;
&lt;li&gt;gitbook 入门教程之导出电子书：https://juejin.im/post/5caa0fb46fb9a05e5a2e53b3&lt;/li&gt;
&lt;li&gt;GitBook 插件整理 - book.json 配置：https://www.cnblogs.com/mingyue5826/p/10307051.html&lt;/li&gt;
&lt;li&gt;如何把 Markdown 文件批量转换为 PDF（不好用）：https://sspai.com/post/47110&lt;/li&gt;
&lt;li&gt;&lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://zhuanlan.zhihu.com/p/245763905&#34;&gt;自己动手制作电子书的最佳方式&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;系列教程-22&#34;&gt;&lt;strong&gt;系列教程&lt;/strong&gt;&lt;/h2&gt;
&lt;p&gt;&lt;a href=&#34;https://blog.17lai.site/atom.xml&#34;&gt;全部文章RSS订阅&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Gitbook使用系列&lt;/strong&gt; &lt;a href=&#34;https://blog.17lai.site/categories/gitbook/atom.xml&#34;&gt;Gitbook分类RSS订阅&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;https://blog.17lai.site/posts/7fe86002/&#34;&gt;GitBook+GitLab撰写发布技术文档-Part1:GitBook篇&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;https://blog.17lai.site/posts/7790e989/&#34;&gt;GitBook+GitLab撰写发布技术文档-Part2:GitLab篇&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;https://blog.17lai.site/posts/d6bad1e5/&#34;&gt;自己动手制作电子书的最佳方式（支持PDF、ePub、mobi等格式）&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;笔记系列&lt;/strong&gt;  &lt;a href=&#34;https://blog.17lai.site/categories/note/atom.xml&#34;&gt;&lt;strong&gt;Note分类RSS订阅&lt;/strong&gt;&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://blog.17lai.site/posts/a8535f26/&#34;&gt;完美笔记进化论&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;经历了很长时间，使用了各种各样的方案，最终选择了一种相对完美的方式。docker私有部署运行的joplin，使用markdown语法，github作为图床，picgo作为图像自动上传后端，pypora作为MD编辑器，Snipaste作为截图工具。后备gitlab ee selfhost备份，自建图床VPS多线负载均衡。cloudflare partner cdn加速，jsdelivr加速。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;pigo图床搭建与配置&lt;/li&gt;
&lt;li&gt;Joplin教程&lt;/li&gt;
&lt;li&gt;Snipaste截图工具&lt;/li&gt;
&lt;li&gt;Typora 作为Markdown编辑器最强&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://blog.17lai.fun/posts/e6086437/&#34;&gt;Joplin入门指南&amp;amp;实践方案&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;Joplin和使用&lt;/li&gt;
&lt;li&gt;Joplin同步与备份&lt;/li&gt;
&lt;li&gt;Joplin导入与导出&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://blog.17lai.fun/posts/45f878cd/&#34;&gt;替代Evernote免费开源笔记Joplin-网盘同步笔记历史版本Markdown可视化&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;Joplin安装使用，调用外部编辑器，网盘同步等等&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://blog.17lai.site/posts/92d347d6/&#34;&gt;Joplin 插件以及其Markdown语法。All in One!&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;Joplin简明教程&lt;/li&gt;
&lt;li&gt;markdown语法简明教程&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://blog.17lai.site/posts/e3ee7f8b/&#34;&gt;Joplin 插件使用推荐&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;教你用各种插件打造一个强大的笔记工具。&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://blog.17lai.site/posts/1802a8a7/&#34;&gt;为知笔记私有化Docker部署&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;如何部署自己私有的为知笔记。&lt;/li&gt;
&lt;li&gt;其实博主更推荐私有部署joplin&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;strong&gt;Gitlab 使用系列&lt;/strong&gt;  &lt;a href=&#34;https://blog.17lai.site/categories/gitlab/atom.xml&#34;&gt;&lt;strong&gt;Gitlab RSS 分类订阅&lt;/strong&gt;&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://blog.17lai.site/posts/acc13b70/&#34;&gt;&lt;strong&gt;Gitlab的安装及使用教程完全版&lt;/strong&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://blog.17lai.site/posts/29a820b3/&#34;&gt;破解Gitlab EE&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://blog.17lai.site/posts/d08eb7b/&#34;&gt;Gitlab的安装及使用&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://blog.17lai.site/posts/1879721e/&#34;&gt;CI/CD与Git Flow与GitLab&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;link rel=&#34;stylesheet&#34; href=&#34;/css/bilicard.css&#34; type=&#34;text/css&#34;&gt;</content>
        <category term="git" />
        <category term="docker" />
        <category term="gitbook" />
        <updated>2021-11-02T01:25:00.000Z</updated>
    </entry>
    <entry>
        <id>https://blog.17lai.site/posts/1879721e/</id>
        <title>CI/CD与Git Flow与GitLab</title>
        <link rel="alternate" href="https://blog.17lai.site/posts/1879721e/"/>
        <content type="html">&lt;blockquote&gt;
&lt;p&gt;CI/CD + Git Flow + GitLab 的整体工作流程记录。主要介绍一下 GitLab CI 相关功能，并通过 GitLab CI 实现自动化构建项目。项目中所用的示例项目已经上传到了 &lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://github.com/mritd/GitLabCI-TestProject&#34;&gt;GitHub&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;一、Git-Flow-简介&#34;&gt;一、Git Flow 简介&lt;/h3&gt;
&lt;p&gt;Git Flow 定义了一个围绕项目开发发布的严格 git 分支模型，用于管理多人协作的大型项目中实现高效的协作开发；Git Flow 分支模型最早起源于 &lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;http://nvie.com/about/&#34;&gt;Vincent Driessen&lt;/a&gt; 的 &lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;http://nvie.com/posts/a-successful-git-branching-model/&#34;&gt;A successful Git branching model&lt;/a&gt; 文章；随着时间发展，Git Flow 大致分为三种:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Git Flow: 最原始的 Git Flow 分支模型&lt;/li&gt;
&lt;li&gt;Github Flow: Git Flow 的简化版，专门配合持续发布&lt;/li&gt;
&lt;li&gt;GitLab Flow: Git Flow 与 Github Flow 的结合版&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;关于三种 Git Flow 区别详情可参考 &lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://www.ruanyifeng.com/blog/2015/12/git-workflow.html&#34;&gt;Git 工作流程&lt;/a&gt;&lt;/p&gt;
&lt;h3 id=&#34;二、-Git-Flow-流程&#34;&gt;二、 Git Flow 流程&lt;/h3&gt;
&lt;p&gt;Github Flow 和 GitLab Flow 对于持续发布支持比较好，但是原始版本的 Git Flow 对于传统的按照版本发布更加友好一些，所以以下主要说明以下 Git Flow 的工作流程；Git Flow 主要分支模型如下&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2021/11/0120211101220215.jpg&#34; alt=&#34;git flow&#34;&gt;&lt;/p&gt;
&lt;p&gt;在整个分支模型中 &lt;strong&gt;存在两个长期分支: develop 和 master&lt;/strong&gt;，其中 develop 分支为开发分支，master 为生产分支；&lt;strong&gt;master 代码始终保持随时可以部署到线上的状态；develop 分支用于合并最新提交的功能性代码&lt;/strong&gt;；具体的分支定义如下&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;master: 生产代码，始终保持可以直接部署生产的状态&lt;/li&gt;
&lt;li&gt;develop: 开发分支，每次合并最新功能代码到此分支&lt;/li&gt;
&lt;li&gt;feature: 新功能分支，所有新开发的功能将采用 &lt;code&gt;feature/xxxx&lt;/code&gt; 形式命名分支&lt;/li&gt;
&lt;li&gt;hotfixes: 紧急修复补丁分支，当新功能部署到了线上出现了严重 bug 需要紧急修复时，则创建 &lt;code&gt;hotfixes/xxxx&lt;/code&gt; 形式命名的分支&lt;/li&gt;
&lt;li&gt;release: 稳定版分支，当完成大版本变动后，应该创建 &lt;code&gt;release/xxxx&lt;/code&gt; 分支&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;在整个分支模型中，develop 分支为最上游分支，会不断有新的 feature 合并入 develop 分支，当功能开发达到完成所有版本需求时，则从 develop 分支创建 release 分支，release 后如没有发现其他问题，最终 release 会被合并到 master 分支以完成线上部署&lt;/p&gt;
&lt;h3 id=&#34;三、Git-Flow-工具&#34;&gt;三、Git Flow 工具&lt;/h3&gt;
&lt;p&gt;针对于 Git Flow，其手动操作 git 命令可能过于繁琐，所以后来有了 git-flow 工具；git-flow 是一个 git 扩展集，按 Vincent Driessen 的分支模型提供高层次的库操作；使用 git-flow 工具可以以更加简单的命令完成对 Vincent Driessen 分支模型的实践；&lt;br&gt;
git-flow 安装以及使用具体请参考 &lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://danielkummer.github.io/git-flow-cheatsheet/index.zh_CN.html&#34;&gt;git-flow 备忘清单&lt;/a&gt;，该文章详细描述了 git-flow 工具的使用方式&lt;/p&gt;
&lt;p&gt;还有另一个工具是 &lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://github.com/tj/git-extras&#34;&gt;git-extras&lt;/a&gt;，该工具没有 git-flow 那么简单化，不过其提供更加强大的命令支持&lt;/p&gt;
&lt;h3 id=&#34;四、Git-Commit-Message&#34;&gt;四、Git Commit Message&lt;/h3&gt;
&lt;p&gt;在整个 Git Flow 中，commit message 也是必不可少的一部分；一个良好且统一的 commit message 有助于代码审计以及 review 等；目前使用最广泛的写法是 &lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://docs.google.com/document/d/1QrDFcIiPjSLDn3EL15IJygNPiHORgU1_OOAqWjiDU5Y/edit#heading=h.greljkmo14y0&#34;&gt;Angular 社区规范&lt;/a&gt;，该规范大中 commit message 格式大致如下:&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-html&#34; data-language=&#34;html&#34;&gt;&lt;code class=&#34;language-html&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;type&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;(&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;scope&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;): &lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;subject&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;BLANK&lt;/span&gt; &lt;span class=&#34;token attr-name&#34;&gt;LINE&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;body&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;BLANK&lt;/span&gt; &lt;span class=&#34;token attr-name&#34;&gt;LINE&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;footer&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;Copy&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;总体格式大致分为 3 部分，首行主要 3 个组成部分:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;type: 本次提交类型&lt;/li&gt;
&lt;li&gt;scope: 本次提交影响范围，一般标明影响版本号或者具体的范围如 &lt;code&gt;$browser, $compile, $rootScope, ngHref, ngClick, ngView, etc...&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;subject: 本次提交简短说明&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;关于 type 提交类型，有如下几种值:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;feat：新功能(feature)&lt;/li&gt;
&lt;li&gt;fix：修补 bug&lt;/li&gt;
&lt;li&gt;docs：文档(documentation)&lt;/li&gt;
&lt;li&gt;style： 格式(不影响代码运行的变动)&lt;/li&gt;
&lt;li&gt;refactor：重构(即不是新增功能，也不是修改 bug 的代码变动)&lt;/li&gt;
&lt;li&gt;test：增加测试&lt;/li&gt;
&lt;li&gt;chore：构建过程或辅助工具的变动&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;中间的 body 部分是对本次提交的详细描述信息，底部的 footer 部分一般分为两种情况:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;不兼容变动: 如果出现不兼容变动，则以 &lt;code&gt;BREAKING CHANGE:&lt;/code&gt; 开头，后面跟上不兼容变动的具体描述和解决办法&lt;/li&gt;
&lt;li&gt;关闭 issue: 如果该 commit 针对某个 issue，并且可以将其关闭，则可以在其中指定关闭的 issue，如 &lt;code&gt;Close #9527,#9528&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;不过 footer 部分也有特殊情况，如回滚某次提交，则以 &lt;code&gt;revert:&lt;/code&gt; 开头，后面紧跟 commit 信息和具体描述；还有时某些 commit 只是解决了 某个 issue 的一部分问题，这是可以使用 &lt;code&gt;refs ISSUE&lt;/code&gt; 的方式来引用该 issue&lt;/p&gt;
&lt;h3 id=&#34;五、Git-Commit-Message-工具&#34;&gt;五、Git Commit Message 工具&lt;/h3&gt;
&lt;p&gt;针对 Git 的 commit message 目前已经有了成熟的生成工具，比较有名的为 &lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://github.com/commitizen/cz-cli&#34;&gt;commitizen-cli&lt;/a&gt; 工具，其采用 node.js 编写，执行 &lt;code&gt;git cz&lt;/code&gt; 命令能够自动生成符合 Angular 社区规范的 commit message；不过由于其使用 node.js 编写，所以安装前需要安装 node.js，因此可能不适合其他非 node.js 的项目使用；这里推荐一个基于 shell 编写的 &lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://cimhealth.github.io/git-toolkit&#34;&gt;Git-toolkit&lt;/a&gt;，安装此工具后执行 &lt;code&gt;git ci&lt;/code&gt; 命令进行提交将会产生交互式生成 Angular git commit message 格式的提交说明，截图如下:&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2021/11/0120211101220233.jpg&#34; alt=&#34;git ci&#34;&gt;&lt;/p&gt;
&lt;h3 id=&#34;六、GitLab-整合&#34;&gt;六、GitLab 整合&lt;/h3&gt;
&lt;p&gt;以上 Git Flow 所有操作介绍的都是在本地操作，而正常我们在工作中都是基于 GitLab 搭建私有 Git 仓库来进行协同开发的，以下简述以下 Git Flow 配合 GitLab 的流程&lt;/p&gt;
&lt;h4 id=&#34;6-1、开发-features&#34;&gt;6.1、开发 features&lt;/h4&gt;
&lt;p&gt;当开发一个新功能时流程如下:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;本地 &lt;code&gt;git flow feature start xxxx&lt;/code&gt; 开启一个 feature 新分支&lt;/li&gt;
&lt;li&gt;&lt;code&gt;git flow feature publish xxxx&lt;/code&gt; 将此分支推送到远端以便他人获取&lt;/li&gt;
&lt;li&gt;完成开发后 GitLab 上向 &lt;code&gt;develop&lt;/code&gt; 分支发起合并请求&lt;/li&gt;
&lt;li&gt;CI sonar 等质量检测工具扫描，其他用户 review 代码&lt;/li&gt;
&lt;li&gt;确认无误后 &lt;code&gt;master&lt;/code&gt; 权限用户合并其到 &lt;code&gt;develop&lt;/code&gt; 分支&lt;/li&gt;
&lt;li&gt;部署到测试环境以便测试组测试&lt;/li&gt;
&lt;li&gt;如果测试不通过，则继续基于此分支开发，直到该功能开发完成&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;6-2、创建-release&#34;&gt;6.2、创建 release&lt;/h4&gt;
&lt;p&gt;当一定量的 feature 开发完成并合并到 develop 后，如所有 feature 都测试通过并满足版本需求，则可以创建 release 版本分支；release 分支流程如下&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;本地 &lt;code&gt;git flow release start xxxx&lt;/code&gt; 开启 release 分支&lt;/li&gt;
&lt;li&gt;&lt;code&gt;git flow release publish xxxx&lt;/code&gt; 将其推送到远端以便他人获取&lt;/li&gt;
&lt;li&gt;继续进行完整性测试，出现问题继续修复，直到 release 完全稳定&lt;/li&gt;
&lt;li&gt;从 release 分支向 master、develop 分支分别发起合并请求&lt;/li&gt;
&lt;li&gt;master 合并后创建对应的 release 标签，并部署生产环境&lt;/li&gt;
&lt;li&gt;develop 合并 release 的后期修改&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;6-3、紧急修复&#34;&gt;6.3、紧急修复&lt;/h4&gt;
&lt;p&gt;当 master 某个 tag 部署到生产环境后，也可能出现不符合预期的问题出现；此时应该基于 master 创建 hotfix 分支进行修复，流程如下&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;本地 &lt;code&gt;git flow hotfix start xxxx&lt;/code&gt; 创建紧急修复分支&lt;/li&gt;
&lt;li&gt;修改代码后将其推送到远端，并像 master、develop 分支发起合并&lt;/li&gt;
&lt;li&gt;develop 合并紧急修复补丁，如果必要最好再做一下测试&lt;/li&gt;
&lt;li&gt;master 合并紧急修复补丁，创建紧急修复 tag，并部署生产环境&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;七、环境准备&#34;&gt;七、环境准备&lt;/h3&gt;
&lt;p&gt;首先需要有一台 GitLab 服务器，然后需要有个项目；这里示例项目以 Spring Boot 项目为例，然后最好有一台专门用来 Build 的机器，实际生产中如果 Build 任务不频繁可适当用一些业务机器进行 Build；本文示例所有组件将采用 Docker 启动， GitLab HA 等不在本文阐述范围内&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Docker Version : 1.13.1&lt;/li&gt;
&lt;li&gt;GitLab Version : 10.1.4-ce.0&lt;/li&gt;
&lt;li&gt;GitLab Runner Version : 10.1.0&lt;/li&gt;
&lt;li&gt;GitLab IP : 172.16.0.37&lt;/li&gt;
&lt;li&gt;GitLab Runner IP : 172.16.0.36&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;八、GitLab-CI-简介&#34;&gt;八、GitLab CI 简介&lt;/h3&gt;
&lt;p&gt;GitLab CI 是 GitLab 默认集成的 CI 功能，GitLab CI 通过在项目内 &lt;code&gt;.gitlab-ci.yaml&lt;/code&gt; 配置文件读取 CI 任务并进行相应处理；GitLab CI 通过其称为 GitLab Runner 的 Agent 端进行 build 操作；Runner 本身可以使用多种方式安装，比如使用 Docker 镜像启动等；Runner 在进行 build 操作时也可以选择多种 build 环境提供者；比如直接在 Runner 所在宿主机 build、通过新创建虚拟机(vmware、virtualbox)进行 build等；同时 Runner 支持 Docker 作为 build 提供者，即每次 build 新启动容器进行 build；GitLab CI 其大致架构如下&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2021/11/0120211101220236.png&#34; alt=&#34;GitLab&#34;&gt;&lt;/p&gt;
&lt;h3 id=&#34;九、搭建-GitLab-服务器&#34;&gt;九、搭建 GitLab 服务器&lt;/h3&gt;
&lt;h4 id=&#34;9-1、GitLab-搭建&#34;&gt;9.1、GitLab 搭建&lt;/h4&gt;
&lt;p&gt;GitLab 搭建这里直接使用 docker compose 启动，compose 配置如下&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-yaml&#34; data-language=&#34;yaml&#34;&gt;&lt;code class=&#34;language-yaml&#34;&gt;&lt;span class=&#34;token key atrule&#34;&gt;version&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;2&#39;&lt;/span&gt;
&lt;span class=&#34;token key atrule&#34;&gt;services&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;
  &lt;span class=&#34;token key atrule&#34;&gt;gitlab&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;
    &lt;span class=&#34;token key atrule&#34;&gt;image&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;gitlab/gitlab-ce:10.1.4-ce.0&#39;&lt;/span&gt;
    &lt;span class=&#34;token key atrule&#34;&gt;restart&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; always
    &lt;span class=&#34;token key atrule&#34;&gt;container_name&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; gitlab
    &lt;span class=&#34;token key atrule&#34;&gt;hostname&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;git.mritd.me&#39;&lt;/span&gt;
    &lt;span class=&#34;token key atrule&#34;&gt;environment&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;
      &lt;span class=&#34;token key atrule&#34;&gt;GITLAB_OMNIBUS_CONFIG&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;|&lt;/span&gt;&lt;span class=&#34;token scalar string&#34;&gt;
        external_url &#39;http://git.mritd.me&#39;
        # Add any other gitlab.rb configuration here, each on its own line&lt;/span&gt;
    &lt;span class=&#34;token key atrule&#34;&gt;ports&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;
      &lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;80:80&#39;&lt;/span&gt;
      &lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;443:443&#39;&lt;/span&gt;
      &lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;8022:22&#39;&lt;/span&gt;
    &lt;span class=&#34;token key atrule&#34;&gt;volumes&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;
      &lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;./data/gitlab/config:/etc/gitlab&#39;&lt;/span&gt;
      &lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;./data/gitlab/logs:/var/log/gitlab&#39;&lt;/span&gt;
      &lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt; &#39;./data/gitlab/data&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;/var/opt/gitlab&#39;Copy&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;直接启动后，首次登陆需要设置初始密码如下，默认用户为 &lt;code&gt;root&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2021/11/0120211101220240.png&#34; alt=&#34;gitkab init&#34;&gt;&lt;/p&gt;
&lt;p&gt;登陆成功后创建一个用户(该用户最好给予 Admin 权限，以后操作以该用户为例)，并且创建一个测试 Group 和 Project，如下所示&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2021/11/0120211101220427.png&#34; alt=&#34;Create User&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2021/11/0120211101220432.png&#34; alt=&#34;Test Project&#34;&gt;&lt;/p&gt;
&lt;h4 id=&#34;9-2、增加示例项目&#34;&gt;9.2、增加示例项目&lt;/h4&gt;
&lt;p&gt;这里示例项目采用 Java 的 SpringBoot 项目，并采用 Gradle 构建，其他语言原理一样；&lt;strong&gt;如果不熟悉 Java 的没必要死磕此步配置，任意语言(最好 Java)整一个能用的 Web 项目就行，并不强求一定 Java 并且使用 Gradle 构建，以下只是一个样例项目&lt;/strong&gt;；SpringBoot 可以采用 &lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://start.spring.io/&#34;&gt;Spring Initializr&lt;/a&gt; 直接生成(依赖要加入 WEB)，如下所示&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2021/11/0120211101220246.png&#34; alt=&#34;Spring Initializr&#34;&gt;&lt;/p&gt;
&lt;p&gt;将项目导入 IDEA，然后创建一个 index 示例页面，主要修改如下&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;build.gradle&lt;/li&gt;
&lt;/ul&gt;
&lt;pre class=&#34;line-numbers language-jade&#34; data-language=&#34;jade&#34;&gt;&lt;code class=&#34;language-jade&#34;&gt;buildscript {
    ext {
        springBootVersion = &#39;1.5.8.RELEASE&#39;
    }
    repositories {
        mavenCentral()
    }
    dependencies {
        classpath(&#34;org.springframework.boot:spring-boot-gradle-plugin:${springBootVersion}&#34;)
    }
}

apply plugin: &#39;java&#39;
apply plugin: &#39;eclipse&#39;
apply plugin: &#39;idea&#39;
apply plugin: &#39;org.springframework.boot&#39;

group = &#39;me.mritd&#39;
version = &#39;0.0.1-SNAPSHOT&#39;
sourceCompatibility = 1.8

repositories {
    mavenCentral()
}


dependencies {
    compile(&#39;org.springframework.boot:spring-boot-starter&#39;)
    compile(&#39;org.springframework.boot:spring-boot-starter-web&#39;)
    compile(&#39;org.springframework.boot:spring-boot-starter-thymeleaf&#39;)
    testCompile(&#39;org.springframework.boot:spring-boot-starter-test&#39;)
}Copy&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
&lt;li&gt;新建一个 HomeController&lt;/li&gt;
&lt;/ul&gt;
&lt;pre class=&#34;line-numbers language-jade&#34; data-language=&#34;jade&#34;&gt;&lt;code class=&#34;language-jade&#34;&gt;package me.mritd.TestProject;

import org.springframework.stereotype.Controller;
import org.springframework.web.bind.annotation.RequestMapping;

/*******************************************************************************
 * Copyright (c) 2005-2017 Mritd, Inc.
 * TestProject
 * me.mritd.TestProject
 * Created by mritd on 2017/11/24 下午12:23.
 * Description: 
 *******************************************************************************/
@Controller
public class HomeController {

    @RequestMapping(&#34;/&#34;)
    public String home(){
        return &#34;index&#34;;
    }
}Copy&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
&lt;li&gt;templates 下新建 index.html&lt;/li&gt;
&lt;/ul&gt;
&lt;pre class=&#34;line-numbers language-html&#34; data-language=&#34;html&#34;&gt;&lt;code class=&#34;language-html&#34;&gt;&lt;span class=&#34;token doctype&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;!&lt;/span&gt;&lt;span class=&#34;token doctype-tag&#34;&gt;DOCTYPE&lt;/span&gt; &lt;span class=&#34;token name&#34;&gt;html&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;html&lt;/span&gt; &lt;span class=&#34;token attr-name&#34;&gt;lang&lt;/span&gt;&lt;span class=&#34;token attr-value&#34;&gt;&lt;span class=&#34;token punctuation attr-equals&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;en&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;head&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;meta&lt;/span&gt; &lt;span class=&#34;token attr-name&#34;&gt;charset&lt;/span&gt;&lt;span class=&#34;token attr-value&#34;&gt;&lt;span class=&#34;token punctuation attr-equals&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;UTF-8&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;/&amp;gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;title&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;Title&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;/&lt;/span&gt;title&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;/&lt;/span&gt;head&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;body&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;h1&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;Test...&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;/&lt;/span&gt;h1&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;/&lt;/span&gt;body&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;/&lt;/span&gt;html&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;Copy&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;最后项目整体结构如下&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2021/11/0120211101220249.png&#34; alt=&#34;TestProject&#34;&gt;&lt;/p&gt;
&lt;p&gt;执行 &lt;code&gt;assemble&lt;/code&gt; Task 打包出可执行 jar 包，并运行 &lt;code&gt;java -jar TestProject-0.0.1-SNAPSHOT.jar&lt;/code&gt; 测试下能启动访问页面即可&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2021/11/0120211101220251.png&#34; alt=&#34;TestProject assemble&#34;&gt;&lt;/p&gt;
&lt;p&gt;最后将项目提交到 GitLab 后如下&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2021/11/0120211101220304.png&#34; alt=&#34;init Project&#34;&gt;&lt;/p&gt;
&lt;h3 id=&#34;十、GitLab-CI-配置&#34;&gt;十、GitLab CI 配置&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;针对这一章节创建基础镜像以及项目镜像，这里仅以 Java 项目为例；其他语言原理相通，按照其他语言对应的运行环境修改即可&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h4 id=&#34;10-1、增加-Runner&#34;&gt;10.1、增加 Runner&lt;/h4&gt;
&lt;p&gt;GitLab CI 在进行构建时会将任务下发给 Runner，让 Runner 去执行；所以先要添加一个 Runner，Runner 这里采用 Docker Compose 启动，build 方式也使用 Docker 方式 Build；compose 文件如下&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-yaml&#34; data-language=&#34;yaml&#34;&gt;&lt;code class=&#34;language-yaml&#34;&gt;&lt;span class=&#34;token key atrule&#34;&gt;version&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;2&#39;&lt;/span&gt;
&lt;span class=&#34;token key atrule&#34;&gt;services&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;
  &lt;span class=&#34;token key atrule&#34;&gt;gitlab-runner&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;
    &lt;span class=&#34;token key atrule&#34;&gt;container_name&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; gitlab&lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt;runner
    &lt;span class=&#34;token key atrule&#34;&gt;image&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; gitlab/gitlab&lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt;runner&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;alpine&lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt;v10.1.0
    &lt;span class=&#34;token key atrule&#34;&gt;restart&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; always
    &lt;span class=&#34;token key atrule&#34;&gt;network_mode&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;host&#34;&lt;/span&gt;
    &lt;span class=&#34;token key atrule&#34;&gt;volumes&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;
      &lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt; /var/run/docker.sock&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;/var/run/docker.sock
      &lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt; ./config.toml&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;/etc/gitlab&lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt;runner/config.toml
    &lt;span class=&#34;token key atrule&#34;&gt;extra_hosts&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;
      &lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt; &#34;git.mritd.me&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;172.16.0.37&#34;Copy&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;strong&gt;在启动前，我们需要先 touch 一下这个 config.toml 配置文件&lt;/strong&gt;；该文件是 Runner 的运行配置，此后 Runner 所有配置都会写入这个文件(不 touch 出来 docker-compose 发现不存在会挂载一个目录进去，导致 Runner 启动失败)；启动 docker-compose 后，&lt;strong&gt;需要进入容器执行注册，让 Runner 主动去连接 GitLab 服务器&lt;/strong&gt;&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-bash&#34; data-language=&#34;bash&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;&lt;span class=&#34;token comment&#34;&gt;# 生成 Runner 配置文件&lt;/span&gt;
&lt;span class=&#34;token function&#34;&gt;touch&lt;/span&gt; config.toml
&lt;span class=&#34;token comment&#34;&gt;# 启动 Runner&lt;/span&gt;
&lt;span class=&#34;token function&#34;&gt;docker-compose&lt;/span&gt; up -d
&lt;span class=&#34;token comment&#34;&gt;# 激活 Runner&lt;/span&gt;
&lt;span class=&#34;token function&#34;&gt;docker&lt;/span&gt; &lt;span class=&#34;token builtin class-name&#34;&gt;exec&lt;/span&gt; -it gitlab-runner gitlab-runner registerCopy&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;在执行上一条激活命令后，会按照提示让你输入一些信息；&lt;strong&gt;首先输入 GitLab 地址，然后是 Runner Token，Runner Token 可以从 GitLab 设置中查看&lt;/strong&gt;，如下所示&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2021/11/0120211101220624.png&#34; alt=&#34;Runner Token&#34;&gt;&lt;/p&gt;
&lt;p&gt;整体注册流程如下&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2021/11/0120211101220312.png&#34; alt=&#34;Runner registry&#34;&gt;&lt;/p&gt;
&lt;p&gt;注册完成后，在 GitLab Runner 设置中就可以看到刚刚注册的 Runner，如下所示&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2021/11/0120211101220628.png&#34; alt=&#34;Runner List&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Runner 注册成功后会将配置写入到 config.toml 配置文件；由于两个测试宿主机都没有配置内网 DNS，所以为了保证 runner 在使用 docker build 时能正确的找到 GitLab 仓库地址，还需要增加一个 docker 的 host 映射( &lt;code&gt;extra_hosts&lt;/code&gt; )；同时为了能调用 宿主机 Docker 和持久化 build 的一些缓存还挂载了一些文件和目录；完整的 配置如下(配置文件可以做一些更高级的配置，具体参考 &lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://docs.gitlab.com/runner/configuration/advanced-configuration.html&#34;&gt;官方文档&lt;/a&gt; )&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;config.toml&lt;/li&gt;
&lt;/ul&gt;
&lt;pre class=&#34;line-numbers language-toml&#34; data-language=&#34;toml&#34;&gt;&lt;code class=&#34;language-toml&#34;&gt;&lt;span class=&#34;token key property&#34;&gt;concurrent&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;1&lt;/span&gt;
&lt;span class=&#34;token key property&#34;&gt;check_interval&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;0&lt;/span&gt;

&lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;token table class-name&#34;&gt;runners&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;
  &lt;span class=&#34;token key property&#34;&gt;name&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;Test Runner&#34;&lt;/span&gt;
  &lt;span class=&#34;token key property&#34;&gt;url&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;http://git.mritd.me&#34;&lt;/span&gt;
  &lt;span class=&#34;token key property&#34;&gt;token&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;c279ec1ac08aec98c7141c7cf2d474&#34;&lt;/span&gt;
  &lt;span class=&#34;token key property&#34;&gt;executor&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;docker&#34;&lt;/span&gt;
  &lt;span class=&#34;token key property&#34;&gt;builds_dir&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;/gitlab/runner-builds&#34;&lt;/span&gt;
  &lt;span class=&#34;token key property&#34;&gt;cache_dir&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;/gitlab/runner-cache&#34;&lt;/span&gt;
  &lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;token table class-name&#34;&gt;runners.docker&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;
    &lt;span class=&#34;token key property&#34;&gt;tls_verify&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token boolean&#34;&gt;false&lt;/span&gt;
    &lt;span class=&#34;token key property&#34;&gt;image&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;debian&#34;&lt;/span&gt;
    &lt;span class=&#34;token key property&#34;&gt;privileged&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token boolean&#34;&gt;false&lt;/span&gt;
    &lt;span class=&#34;token key property&#34;&gt;disable_cache&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token boolean&#34;&gt;false&lt;/span&gt;
    &lt;span class=&#34;token key property&#34;&gt;shm_size&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;0&lt;/span&gt;
    &lt;span class=&#34;token key property&#34;&gt;volumes&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#34;/data/gitlab-runner:/gitlab&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#34;/var/run/docker.sock:/var/run/docker.sock&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#34;/data/maven_repo:/data/repo&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#34;/data/maven_repo:/data/maven&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#34;/data/gradle:/data/gradle&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#34;/data/sonar_cache:/root/.sonar&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#34;/data/androidsdk:/usr/local/android&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#34;/data/node_modules:/data/node_modules&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;
    &lt;span class=&#34;token key property&#34;&gt;extra_hosts&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#34;git.mritd.me:172.16.0.37&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;
  &lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;token table class-name&#34;&gt;runners.cache&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;Copy&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;strong&gt;注意，这里声明的 Volumes 会在每个运行的容器中都生效；也就是说 build 时新开启的每个容器都会被挂载这些目录&lt;/strong&gt;；修改完成后重启 runner 容器即可，由于 runner 中没啥可保存的东西，所以可以直接 &lt;code&gt;docker-compose down &amp;amp;&amp;amp; docker-compose up -d&lt;/code&gt; 重启&lt;/p&gt;
&lt;h4 id=&#34;10-2、创建基础镜像&#34;&gt;10.2、创建基础镜像&lt;/h4&gt;
&lt;p&gt;由于示例项目是一个 Java 项目，而且是采用 Spring Boot 的，所以该项目想要运行起来只需要一个 java 环境即可，中间件已经被打包到了 jar 包中；以下是一个作为基础运行环境的 openjdk 镜像的 Dockerfile&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-dockerfile&#34; data-language=&#34;dockerfile&#34;&gt;&lt;code class=&#34;language-dockerfile&#34;&gt;FROM alpine:edge 

LABEL maintainer=&#34;mritd &amp;lt;mritd1234@gmail.com&amp;gt;&#34;

ENV JAVA_HOME /usr/lib/jvm/java-1.8-openjdk
ENV PATH $PATH:/usr/lib/jvm/java-1.8-openjdk/jre/bin:/usr/lib/jvm/java-1.8-openjdk/bin

RUN apk add --update bash curl tar wget ca-certificates unzip \
        openjdk8 font-adobe-100dpi ttf-dejavu fontconfig \
    &amp;amp;&amp;amp; rm -rf /var/cache/apk/* \

CMD [&#34;bash&#34;]Copy&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;strong&gt;这个 openjdk Dockerfile 升级到了 8.151 版本，并且集成了一些字体相关的软件，以解决在 Java 中某些验证码库无法运行问题，详见 &lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://mritd.me/2017/09/27/alpine-3.6-openjdk-8-bug/&#34;&gt;Alpine 3.6 OpenJDK 8 Bug&lt;/a&gt;&lt;/strong&gt;；使用这个 Dockerfile，在当前目录执行 &lt;code&gt;docker build -t mritd/openjdk:8 .&lt;/code&gt; build 一个 openjdk8 的基础镜像，然后将其推送到私服，或者 Docker Hub 即可&lt;/p&gt;
&lt;h4 id=&#34;10-3、创建项目镜像&#34;&gt;10.3、创建项目镜像&lt;/h4&gt;
&lt;p&gt;有了基本的 openjdk 的 docker 镜像后，针对于项目每次 build 都应该生成一个包含发布物的 docker 镜像，所以对于项目来说还需要一个项目本身的 Dockerfile；&lt;strong&gt;项目的 Dockerfile 有两种使用方式；一种是动态生成 Dockerfile，然后每次使用新生成的 Dockerfile 去 build；还有一种是写一个通用的 Dockerfile，build 时利用 ARG 参数传入变量&lt;/strong&gt;；这里采用第二种方式，以下为一个可以反复使用的 Dockerfile&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-dockerfile&#34; data-language=&#34;dockerfile&#34;&gt;&lt;code class=&#34;language-dockerfile&#34;&gt;FROM mritd/openjdk:8-144-01

MAINTAINER mritd &amp;lt;mritd1234@gmail.com&amp;gt;

ARG PROJECT_BUILD_FINALNAME

ENV TZ &#39;Asia/Shanghai&#39;
ENV PROJECT_BUILD_FINALNAME ${PROJECT_BUILD_FINALNAME}


COPY build/libs/${PROJECT_BUILD_FINALNAME}.jar /${PROJECT_BUILD_FINALNAME}.jar

CMD [&#34;bash&#34;,&#34;-c&#34;,&#34;java -jar /${PROJECT_BUILD_FINALNAME}.jar&#34;]Copy&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;strong&gt;该 Dockerfile 通过声明一个 &lt;code&gt;PROJECT_BUILD_FINALNAME&lt;/code&gt; 变量来表示项目的发布物名称；然后将其复制到根目录下，最终利用 java 执行这个 jar 包；所以每次 build 之前只要能拿到项目发布物的名称即可&lt;/strong&gt;&lt;/p&gt;
&lt;h4 id=&#34;10-4、Gradle-修改&#34;&gt;10.4、Gradle 修改&lt;/h4&gt;
&lt;p&gt;上面已经创建了一个标准的通用型 Dockerfile，每次 build 镜像只要传入 &lt;code&gt;PROJECT_BUILD_FINALNAME&lt;/code&gt; 这个最终发布物名称即可；对于发布物名称来说，最好不要固定死；当然不论是 Java 还是其他语言的项目我们都能将最终发布物变成一个固定名字，最不济可以写脚本重命名一下；但是不建议那么干，最好保留版本号信息，以便于异常情况下进入容器能够分辨；对于当前 Java 项目来说，想要拿到 &lt;code&gt;PROJECT_BUILD_FINALNAME&lt;/code&gt; 很简单，我们只需要略微修改一下 Gradle 的 build 脚本，让其每次打包 jar 包时将项目的名称及版本号导出到文件中即可；同时这里也加入了镜像版本号的处理，Gradle 脚本修改如下&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;build.gradle 最后面增加如下&lt;/li&gt;
&lt;/ul&gt;
&lt;pre class=&#34;line-numbers language-jade&#34; data-language=&#34;jade&#34;&gt;&lt;code class=&#34;language-jade&#34;&gt;bootRepackage {

    mainClass = &#39;me.mritd.TestProject.TestProjectApplication&#39;
    executable = true

    doLast {
        File envFile = new File(&#34;build/tmp/PROJECT_ENV&#34;)

        println(&#34;Create ${archivesBaseName} ENV File ===&amp;gt; &#34; + envFile.createNewFile())
        println(&#34;Export ${archivesBaseName} Build Version ===&amp;gt; ${version}&#34;)
        envFile.write(&#34;export PROJECT_BUILD_FINALNAME=${archivesBaseName}-${version}\n&#34;)

        println(&#34;Generate Docker image tag...&#34;)
        envFile.append(&#34;export BUILD_DATE=`date +%Y%m%d%H%M%S`\n&#34;)
        envFile.append(&#34;export IMAGE_NAME=mritd/test:`echo \${CI_BUILD_REF_NAME} | tr &#39;/&#39; &#39;-&#39;`-`echo \${CI_COMMIT_SHA} | cut -c1-8`-\${BUILD_DATE}\n&#34;)
        envFile.append(&#34;export LATEST_IMAGE_NAME=mritd/test:latest\n&#34;)
    }
}Copy&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;strong&gt;这一步操作实际上是修改了 &lt;code&gt;bootRepackage&lt;/code&gt; 这个 Task(不了解 Gradle 或者不是 Java 项目的请忽略)，在其结束后创建了一个叫 &lt;code&gt;PROJECT_ENV&lt;/code&gt; 的文件，里面实际上就是写入了一些 bash 环境变量声明，以方便后面 source 一下这个文件拿到一些变量，然后用户 build 镜像使用&lt;/strong&gt;，&lt;code&gt;PROJECT_ENV&lt;/code&gt; 最终生成如下&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-bash&#34; data-language=&#34;bash&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;&lt;span class=&#34;token builtin class-name&#34;&gt;export&lt;/span&gt; &lt;span class=&#34;token assign-left variable&#34;&gt;PROJECT_BUILD_FINALNAME&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;TestProject-0.0.1-SNAPSHOT
&lt;span class=&#34;token builtin class-name&#34;&gt;export&lt;/span&gt; &lt;span class=&#34;token assign-left variable&#34;&gt;BUILD_DATE&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token variable&#34;&gt;&lt;span class=&#34;token variable&#34;&gt;`&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;date&lt;/span&gt; +%Y%m%d%H%M%S&lt;span class=&#34;token variable&#34;&gt;`&lt;/span&gt;&lt;/span&gt;
&lt;span class=&#34;token builtin class-name&#34;&gt;export&lt;/span&gt; &lt;span class=&#34;token assign-left variable&#34;&gt;IMAGE_NAME&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;mritd/test:&lt;span class=&#34;token variable&#34;&gt;&lt;span class=&#34;token variable&#34;&gt;`&lt;/span&gt;&lt;span class=&#34;token builtin class-name&#34;&gt;echo&lt;/span&gt; $&lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt;CI_BUILD_REF_NAME&lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;|&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;tr&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;/&#39;&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;-&#39;&lt;/span&gt;&lt;span class=&#34;token variable&#34;&gt;`&lt;/span&gt;&lt;/span&gt;-&lt;span class=&#34;token variable&#34;&gt;&lt;span class=&#34;token variable&#34;&gt;`&lt;/span&gt;&lt;span class=&#34;token builtin class-name&#34;&gt;echo&lt;/span&gt; $&lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt;CI_COMMIT_SHA&lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;|&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;cut&lt;/span&gt; -c1-8&lt;span class=&#34;token variable&#34;&gt;`&lt;/span&gt;&lt;/span&gt;-&lt;span class=&#34;token variable&#34;&gt;${BUILD_DATE}&lt;/span&gt;
&lt;span class=&#34;token builtin class-name&#34;&gt;export&lt;/span&gt; &lt;span class=&#34;token assign-left variable&#34;&gt;LATEST_IMAGE_NAME&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;mritd/test:latestCopy&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2021/11/0120211101220738.png&#34; alt=&#34;PROJECT_ENV&#34;&gt;&lt;/p&gt;
&lt;h4 id=&#34;10-5、创建-CI-配置文件&#34;&gt;10.5、创建 CI 配置文件&lt;/h4&gt;
&lt;p&gt;一切准备就绪以后，就可以编写 CI 脚本了；GitLab 依靠读取项目根目录下的 &lt;code&gt;.gitlab-ci.yml&lt;/code&gt; 文件来执行相应的 CI 操作；以下为测试项目的 &lt;code&gt;.gitlab-ci.yml&lt;/code&gt; 配置&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-yaml&#34; data-language=&#34;yaml&#34;&gt;&lt;code class=&#34;language-yaml&#34;&gt;&lt;span class=&#34;token comment&#34;&gt;# 调试开启&lt;/span&gt;
&lt;span class=&#34;token comment&#34;&gt;#before_script:&lt;/span&gt;
&lt;span class=&#34;token comment&#34;&gt;#  - pwd&lt;/span&gt;
&lt;span class=&#34;token comment&#34;&gt;#  - env&lt;/span&gt;

&lt;span class=&#34;token key atrule&#34;&gt;cache&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;
  &lt;span class=&#34;token key atrule&#34;&gt;key&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; $CI_PROJECT_NAME/$CI_COMMIT_REF_NAME&lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt;$CI_COMMIT_SHA
  &lt;span class=&#34;token key atrule&#34;&gt;paths&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;
    &lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt; build

&lt;span class=&#34;token key atrule&#34;&gt;stages&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;
  &lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt; build
  &lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt; deploy

&lt;span class=&#34;token key atrule&#34;&gt;auto-build&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;
  &lt;span class=&#34;token key atrule&#34;&gt;image&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; mritd/build&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;2.1.1
  &lt;span class=&#34;token key atrule&#34;&gt;stage&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; build
  &lt;span class=&#34;token key atrule&#34;&gt;script&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;
    &lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt; gradle &lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt;no&lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt;daemon clean assemble
  &lt;span class=&#34;token key atrule&#34;&gt;tags&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;
    &lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt; test

&lt;span class=&#34;token key atrule&#34;&gt;deploy&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;
  &lt;span class=&#34;token key atrule&#34;&gt;image&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; mritd/docker&lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt;kubectl&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;v1.7.4
  &lt;span class=&#34;token key atrule&#34;&gt;stage&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; deploy
  &lt;span class=&#34;token key atrule&#34;&gt;script&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;
    &lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt; source build/tmp/PROJECT_ENV
    &lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt; echo &#34;Build Docker Image ==&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt; $&lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt;IMAGE_NAME&lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt;&#34;
    &lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt; docker build &lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt;t $&lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt;IMAGE_NAME&lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt;build&lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt;arg PROJECT_BUILD_FINALNAME=$&lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt;PROJECT_BUILD_FINALNAME&lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt; .
&lt;span class=&#34;token comment&#34;&gt;#    - docker push ${IMAGE_NAME}&lt;/span&gt;
    &lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt; docker tag $&lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt;IMAGE_NAME&lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt; $&lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt;LATEST_IMAGE_NAME&lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;token comment&#34;&gt;#    - docker push ${LATEST_IMAGE_NAME}&lt;/span&gt;
&lt;span class=&#34;token comment&#34;&gt;#    - docker rmi ${IMAGE_NAME} ${LATEST_IMAGE_NAME}&lt;/span&gt;
&lt;span class=&#34;token comment&#34;&gt;#    - kubectl --kubeconfig ${KUBE_CONFIG} set image deployment/test test=$IMAGE_NAME&lt;/span&gt;
  &lt;span class=&#34;token key atrule&#34;&gt;tags&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;
    &lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt; test
  &lt;span class=&#34;token key atrule&#34;&gt;only&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;
    &lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt; master
    &lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt; develop
    &lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt; /^chore.&lt;span class=&#34;token important&#34;&gt;*$/Copy&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;关于 CI 配置的一些简要说明如下&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;stages&#34;&gt;stages&lt;/h5&gt;
&lt;p&gt;stages 字段定义了整个 CI 一共有哪些阶段流程，以上的 CI 配置中，定义了该项目的 CI 总共分为 &lt;code&gt;build&lt;/code&gt;、&lt;code&gt;deploy&lt;/code&gt; 两个阶段；GitLab CI 会根据其顺序执行对应阶段下的所有任务；&lt;strong&gt;在正常生产环境流程可以定义很多个，比如可以有 &lt;code&gt;test&lt;/code&gt;、&lt;code&gt;publish&lt;/code&gt;，甚至可能有代码扫描的 &lt;code&gt;sonar&lt;/code&gt; 阶段等；这些阶段没有任何限制，完全是自定义的&lt;/strong&gt;，上面的阶段定义好后在 CI 中表现如下图&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2021/11/0120211101220327.png&#34; alt=&#34;stages&#34;&gt;&lt;/p&gt;
&lt;h5 id=&#34;task&#34;&gt;task&lt;/h5&gt;
&lt;p&gt;task 隶属于 stages 之下；也就是说一个阶段可以有多个任务，任务执行顺序默认不指定会并发执行；对于上面的 CI 配置来说 &lt;code&gt;auto-build&lt;/code&gt; 和 &lt;code&gt;deploy&lt;/code&gt; 都是 task，他们通过 &lt;code&gt;stage: xxxx&lt;/code&gt; 这个标签来指定他们隶属于哪个 stage；当 Runner 使用 Docker 作为 build 提供者时，我们可以在 task 的 &lt;code&gt;image&lt;/code&gt; 标签下声明该 task 要使用哪个镜像运行，不指定则默认为 Runner 注册时的镜像(这里是 debian)；&lt;strong&gt;同时 task 还有一个 &lt;code&gt;tags&lt;/code&gt; 的标签，该标签指明了这个任务将可以在哪些 Runner 上运行；这个标签可以从 Runner 页面看到，实际上就是 Runner 注册时输入的哪个 tag；对于某些特殊的项目，比如 IOS 项目，则必须在特定机器上执行，所以此时指定 tags 标签很有用&lt;/strong&gt;，当 task 运行后如下图所示&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2021/11/0120211101221014.png&#34; alt=&#34;Task&#34;&gt;&lt;/p&gt;
&lt;p&gt;除此之外 task 还能指定 &lt;code&gt;only&lt;/code&gt; 标签用于限定那些分支才能触发这个 task，如果分支名字不满足则不会触发；&lt;strong&gt;默认情况下，这些 task 都是自动执行的，如果感觉某些任务太过危险，则可以通过增加 &lt;code&gt;when: manual&lt;/code&gt; 改为手动执行；注意: 手动执行被 GitLab 认为是高权限的写操作，所以只有项目管理员才能手动运行一个 task，直白的说就是管理员才能点击&lt;/strong&gt;；手动执行如下图所示&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2021/11/0120211101220759.png&#34; alt=&#34;manual task&#34;&gt;&lt;/p&gt;
&lt;h5 id=&#34;cache&#34;&gt;cache&lt;/h5&gt;
&lt;p&gt;cache 这个参数用于定义全局那些文件将被 cache；&lt;strong&gt;在 GitLab CI 中，跨 stage 是不能保存东西的；也就是说在第一步 build 的操作生成的 jar 包，到第二部打包 docker image 时就会被删除；GitLab 会保证每个 stage 中任务在执行时都将工作目录(Docker 容器 中)还原到跟 GitLab 代码仓库中一模一样，多余文件及变更都会被删除&lt;/strong&gt;；正常情况下，第一步 build 生成 jar 包应当立即推送到 nexus 私服；但是这里测试没有搭建，所以只能放到本地；但是放到本地下一个 task 就会删除它，所以利用 &lt;code&gt;cache&lt;/code&gt; 这个参数将 &lt;code&gt;build&lt;/code&gt; 目录 cache 住，保证其跨 stage 也能存在&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;关于 &lt;code&gt;.gitlab-ci.yml&lt;/code&gt; 具体配置更完整的请参考 &lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://docs.gitlab.com/ee/ci/yaml/&#34;&gt;官方文档&lt;/a&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;h3 id=&#34;十一、其他相关&#34;&gt;十一、其他相关&lt;/h3&gt;
&lt;h4 id=&#34;11-1、GitLab-内置环境变量&#34;&gt;11.1、GitLab 内置环境变量&lt;/h4&gt;
&lt;p&gt;上面已经基本搞定了一个项目的 CI，但是有些变量可能并未说清楚；比如在创建的 &lt;code&gt;PROJECT_ENV&lt;/code&gt; 文件中引用了 &lt;code&gt;${CI_COMMIT_SHA}&lt;/code&gt; 变量；这种变量其实是 GitLab CI 的内置隐藏变量，这些变量在每次 CI 调用 Runner 运行某个任务时都会传递到对应的 Runner 的执行环境中；&lt;strong&gt;也就是说这些变量在每次的任务容器 SHELL 环境中都会存在，可以直接引用&lt;/strong&gt;，具体的完整环境变量列表可以从 &lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://docs.gitlab.com/ee/ci/variables/&#34;&gt;官方文档&lt;/a&gt; 中获取；如果想知道环境变量具体的值，实际上可以通过在任务执行前用 &lt;code&gt;env&lt;/code&gt; 指令打印出来，如下所示&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2021/11/0120211101220338.png&#34; alt=&#34;env&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2021/11/0120211101220800.png&#34; alt=&#34;env task&#34;&gt;&lt;/p&gt;
&lt;h4 id=&#34;11-2、GitLab-自定义环境变量&#34;&gt;11.2、GitLab 自定义环境变量&lt;/h4&gt;
&lt;p&gt;在某些情况下，我们希望 CI 能自动的发布或者修改一些东西；比如将 jar 包上传到 nexus、将 docker 镜像 push 到私服；这些动作往往需要一个高权限或者说有可写入对应仓库权限的账户来支持，但是这些账户又不想写到项目的 CI 配置里；因为这样很不安全，谁都能看到；此时我们可以将这些敏感变量写入到 GitLab 自定义环境变量中，GitLab 会像对待内置变量一样将其传送到 Runner 端，以供我们使用；GitLab 中自定义的环境变量可以有两种，一种是项目级别的，只能够在当前项目使用，如下&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2021/11/0120211101220803.png&#34; alt=&#34;project env&#34;&gt;&lt;/p&gt;
&lt;p&gt;另一种是组级别的，可以在整个组内的所有项目中使用，如下&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2021/11/0120211101220805.png&#34; alt=&#34;group env&#34;&gt;&lt;/p&gt;
&lt;p&gt;这两种变量添加后都可以在 CI 的脚本中直接引用&lt;/p&gt;
&lt;h4 id=&#34;11-3、Kubernetes-集成&#34;&gt;11.3、Kubernetes 集成&lt;/h4&gt;
&lt;p&gt;对于 Kubernetes 集成实际上有两种方案，一种是对接 Kubernetes 的 api，纯代码实现；另一种取巧的方案是调用 kubectl 工具，用 kubectl 工具来实现滚动升级；这里采用后一种取巧的方式，将 kubectl 二进制文件封装到镜像中，然后在 deploy 阶段使用这个镜像直接部署就可以&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2021/11/0120211101220345.png&#34; alt=&#34;kubectl&#34;&gt;&lt;/p&gt;
&lt;p&gt;其中 &lt;code&gt;mritd/docker-kubectl:v1.7.4&lt;/code&gt; 这个镜像的 Dockerfile 如下&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-dockerfile&#34; data-language=&#34;dockerfile&#34;&gt;&lt;code class=&#34;language-dockerfile&#34;&gt;FROM docker:dind 

LABEL maintainer=&#34;mritd &amp;lt;mritd1234@gmail.com&amp;gt;&#34;

ARG TZ=&#34;Asia/Shanghai&#34;

ENV TZ ${TZ}

ENV KUBE_VERSION v1.8.0

RUN apk upgrade --update \
    &amp;amp;&amp;amp; apk add bash tzdata wget ca-certificates \
    &amp;amp;&amp;amp; wget https://storage.googleapis.com/kubernetes-release/release/${KUBE_VERSION}/bin/linux/amd64/kubectl -O /usr/local/bin/kubectl \
    &amp;amp;&amp;amp; chmod +x /usr/local/bin/kubectl \
    &amp;amp;&amp;amp; ln -sf /usr/share/zoneinfo/${TZ} /etc/localtime \
    &amp;amp;&amp;amp; echo ${TZ} &amp;gt; /etc/timezone \
    &amp;amp;&amp;amp; rm -rf /var/cache/apk/*

CMD [&#34;/bin/bash&#34;]Copy&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;这里面的 &lt;code&gt;${KUBE_CONFIG}&lt;/code&gt; 是一个自定义的环境变量，对于测试环境我将配置文件直接挂载入了容器中，然后 &lt;code&gt;${KUBE_CONFIG}&lt;/code&gt; 只是指定了一个配置文件位置，实际生产环境中可以选择将配置文件变成自定义环境变量使用&lt;/p&gt;
&lt;h4 id=&#34;11-4、GitLab-CI-总结&#34;&gt;11.4、GitLab CI 总结&lt;/h4&gt;
&lt;p&gt;关于 GitLab CI 上面已经讲了很多，但是并不全面，也不算太细致；因为这东西说起来实际太多了，现在目测已经 1W 多字了；以下总结一下 GitLab CI 的总体思想，当思路清晰了以后，我想后面的只是查查文档自己试一试就行了&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;CS 架构&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;GitLab 作为 Server 端，控制 Runner 端执行一系列的 CI 任务；代码 clone 等无需关心，GitLab 会自动处理好一切；Runner 每次都会启动新的容器执行 CI 任务&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;容器即环境&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;在 Runner 使用 Docker build 的前提下；&lt;strong&gt;所有依赖切换、环境切换应当由切换不同镜像实现，即 build 那就使用 build 的镜像，deploy 就用带有 deploy 功能的镜像；通过不同镜像容器实现完整的环境隔离&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;CI即脚本&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;不同的 CI 任务实际上就是在使用不同镜像的容器中执行 SHELL 命令，自动化 CI 就是执行预先写好的一些小脚本&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;敏感信息走环境变量&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;一切重要的敏感信息，如账户密码等，不要写到 CI 配置中，直接放到 GitLab 的环境变量中；GitLab 会保证将其推送到远端 Runner 的 SHELL 变量中&lt;/p&gt;
&lt;p&gt;转载整理From：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://mritd.com/2017/09/05/git-flow-note/&#34;&gt;git-flow-note&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://mritd.com/2017/11/28/ci-cd-gitlab-ci/&#34;&gt;ci-cd-gitlab-ci&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;系列教程-9&#34;&gt;&lt;strong&gt;系列教程&lt;/strong&gt;&lt;/h2&gt;
&lt;p&gt;&lt;a href=&#34;https://blog.17lai.site/atom.xml&#34;&gt;全部文章RSS订阅&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Gitlab 使用系列&lt;/strong&gt;  &lt;a href=&#34;https://blog.17lai.site/categories/gitlab/atom.xml&#34;&gt;&lt;strong&gt;Gitlab RSS 分类订阅&lt;/strong&gt;&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://blog.17lai.site/posts/acc13b70/&#34;&gt;&lt;strong&gt;Gitlab的安装及使用教程完全版&lt;/strong&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://blog.17lai.site/posts/29a820b3/&#34;&gt;破解Gitlab EE&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://blog.17lai.site/posts/d08eb7b/&#34;&gt;Gitlab的安装及使用&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://blog.17lai.site/posts/1879721e/&#34;&gt;CI/CD与Git Flow与GitLab&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;link rel=&#34;stylesheet&#34; href=&#34;/css/bilicard.css&#34; type=&#34;text/css&#34;&gt;</content>
        <category term="gitlab" />
        <category term="git" />
        <category term="ci/cd" />
        <updated>2021-11-01T11:25:00.000Z</updated>
    </entry>
    <entry>
        <id>https://blog.17lai.site/posts/593cc323/</id>
        <title>Earthly 一个更加强大的镜像构建工具</title>
        <link rel="alternate" href="https://blog.17lai.site/posts/593cc323/"/>
        <content type="html">&lt;h2 id=&#34;一、Earthly-介绍&#34;&gt;一、Earthly 介绍&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;开局一张图，功能全靠吹。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2021/11/0120211101210057.png&#34; alt=&#34;img&#34;&gt;&lt;/p&gt;
&lt;p&gt;Earthly 是一个更加高级的 Docker 镜像构建工具，Earthly 通过自己定义的 Earthfile 来代替传统的 Dockerfile 完成镜像构建；Earthfile 就如同 Earthly 官方所描述:&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-none&#34;&gt;&lt;code class=&#34;language-none&#34;&gt;**Makefile + Dockerfile = Earthfile**&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;在使用 Earthly 进行构建镜像时目前强依赖于 buildkit，Earthly 通过 buildkit 支持了一些 Dockerfile 的扩展语法，同时将 Dockerfile 与 Makefile 整合，使得多平台构建和代码化 Dockerfile 变得更加简单；使用 Earthly 可以更加方便的完成 Dockerfile 的代码复用以及更加友好的 CI 自动集成。&lt;/p&gt;
&lt;h2 id=&#34;二、快速开始&#34;&gt;二、快速开始&lt;/h2&gt;
&lt;h3 id=&#34;2-1、安装依赖&#34;&gt;2.1、安装依赖&lt;/h3&gt;
&lt;p&gt;Earthly 目前依赖于 Docker 和 Git，所以安装 Earthly 前请确保机器已经安装了 Docker 和 Git。&lt;/p&gt;
&lt;h3 id=&#34;2-2、安装-Earthly&#34;&gt;2.2、安装 Earthly&lt;/h3&gt;
&lt;p&gt;Earthly 采用 Go 编写，所以主要就一个二进制文件，Linux 下安装可以直接参考官方的安装脚本:&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-bash&#34; data-language=&#34;bash&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;&lt;span class=&#34;token function&#34;&gt;sudo&lt;/span&gt; /bin/sh -c &lt;span class=&#34;token string&#34;&gt;&#39;wget https://github.com/earthly/earthly/releases/latest/download/earthly-linux-amd64 -O /usr/local/bin/earthly &amp;amp;&amp;amp; chmod +x /usr/local/bin/earthly &amp;amp;&amp;amp; /usr/local/bin/earthly bootstrap --with-autocomplete&#39;&lt;/span&gt;Copy&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;安装完成后 Earthly 将会启动一个 buildkitd 容器: &lt;code&gt;earthly-buildkitd&lt;/code&gt;。&lt;/p&gt;
&lt;h3 id=&#34;2-3、语法高亮&#34;&gt;2.3、语法高亮&lt;/h3&gt;
&lt;p&gt;目前 Earthly 官方支持 VS Code、VIM 以及 Sublime Text 三种编辑器的语法高亮，具体如何安装请参考 &lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://earthly.dev/get-earthly&#34;&gt;官方文档&lt;/a&gt;。&lt;/p&gt;
&lt;h3 id=&#34;2-4、基本使用&#34;&gt;2.4、基本使用&lt;/h3&gt;
&lt;p&gt;本示例源于官方 Basic 教程，以下示例以编译 Go 项目为样例:&lt;/p&gt;
&lt;p&gt;首先创建一个任意名称的目录，目录中存在项目源码文件以及一个 &lt;code&gt;Earthfile&lt;/code&gt; 文件；&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;main.go&lt;/strong&gt;&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-go&#34; data-language=&#34;go&#34;&gt;&lt;code class=&#34;language-go&#34;&gt;&lt;span class=&#34;token keyword&#34;&gt;package&lt;/span&gt; main

&lt;span class=&#34;token keyword&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;fmt&#34;&lt;/span&gt;

&lt;span class=&#34;token keyword&#34;&gt;func&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;main&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt;
    fmt&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;Println&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#34;hello world&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt;Copy&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;strong&gt;Earthfile&lt;/strong&gt;&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-dockerfile&#34; data-language=&#34;dockerfile&#34;&gt;&lt;code class=&#34;language-dockerfile&#34;&gt;FROM golang:1.17-alpine
WORKDIR /go-example

build:
    COPY main.go .
    RUN go build -o build/go-example main.go
    SAVE ARTIFACT build/go-example /go-example AS LOCAL build/go-example

docker:
    COPY +build/go-example .
    ENTRYPOINT [&#34;/go-example/go-example&#34;]
    SAVE IMAGE go-example:latestCopy&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;有了 &lt;code&gt;Earthfile&lt;/code&gt; 以后我们就可以使用 &lt;code&gt;Earthly&lt;/code&gt; 将其打包为镜像；&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-bash&#34; data-language=&#34;bash&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;&lt;span class=&#34;token comment&#34;&gt;# 目录结构&lt;/span&gt;
~/t/earthlytest ❯❯❯ tree
&lt;span class=&#34;token builtin class-name&#34;&gt;.&lt;/span&gt;
├── Earthfile
└── main.go

&lt;span class=&#34;token number&#34;&gt;0&lt;/span&gt; directories, &lt;span class=&#34;token number&#34;&gt;2&lt;/span&gt; files

&lt;span class=&#34;token comment&#34;&gt;# 通过 earthly 进行构建&lt;/span&gt;
~/t/earthlytest ❯❯❯ earthly +dockerCopy&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2021/11/0120211101210338.png&#34; alt=&#34;img&#34;&gt;&lt;/p&gt;
&lt;p&gt;构建完成后我们就可以直接从 docker 的 images 列表中查看刚刚构建的镜像，并运行:&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2021/11/0120211101212129.png&#34; alt=&#34;img&#34;&gt;&lt;/p&gt;
&lt;h2 id=&#34;三、进阶使用&#34;&gt;三、进阶使用&lt;/h2&gt;
&lt;h3 id=&#34;3-1、多阶段构建&#34;&gt;3.1、多阶段构建&lt;/h3&gt;
&lt;p&gt;Earthfile 中包含类似 Makefile 一样的 &lt;code&gt;target&lt;/code&gt;，不同的 &lt;code&gt;target&lt;/code&gt; 之间还可以通过特定语法进行引用，每个 &lt;code&gt;target&lt;/code&gt; 都可以被单独执行，执行过程中 earthly 会自动解析这些依赖关系。&lt;/p&gt;
&lt;p&gt;这种多阶段构建时语法很弹性，我们可以在每个阶段运行独立的命令以及使用不同的基础镜像；从快速开始中可以看到，我们始终使用了一个基础镜像(&lt;code&gt;golang:1.17-alpine&lt;/code&gt;)，对于 Go 这种编译后自带运行时不依赖其语言 SDK 的应用，我们事实上可以将 “发布物” 仅放在简单的运行时系统镜像内，从而减少最终镜像体积:&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2021/11/0120211101210338-2.png&#34; alt=&#34;img&#34;&gt;&lt;/p&gt;
&lt;p&gt;由于使用了多个 target，所以我们可以单独的运行 &lt;code&gt;build&lt;/code&gt; 这个 target 来验证我们的编译流程，&lt;strong&gt;这种多 target 的设计方便我们构建应用时对编译、打包步骤的细化拆分，同时也方便我们进行单独的验证。&lt;/strong&gt; 例如我们单独执行 &lt;code&gt;build&lt;/code&gt; 这个 target 来验证我们的编译流程是否正确:&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2021/11/0120211101210338-3.png&#34; alt=&#34;img&#34;&gt;&lt;/p&gt;
&lt;p&gt;在其他阶段验证完成后，我们可以直接运行最终的 target，earthly 会自动识别到这种依赖关系从而自动运行其依赖的 target:&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2021/11/0120211101210338-4.png&#34; alt=&#34;img&#34;&gt;&lt;/p&gt;
&lt;h3 id=&#34;3-2、扩展指令&#34;&gt;3.2、扩展指令&lt;/h3&gt;
&lt;h4 id=&#34;3-2-1、SAVE&#34;&gt;3.2.1、SAVE&lt;/h4&gt;
&lt;p&gt;SAVE 指令是 Earthly 自己的一个扩展指令，实际上分为 &lt;code&gt;SAVE ARTIFACT&lt;/code&gt; 和 &lt;code&gt;SAVE IMAGE&lt;/code&gt;；其中 &lt;code&gt;SAVE ARTIFACT&lt;/code&gt; 指令格式如下:&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-dockerfile&#34; data-language=&#34;dockerfile&#34;&gt;&lt;code class=&#34;language-dockerfile&#34;&gt;SAVE ARTIFACT [--keep-ts] [--keep-own] [--if-exists] [--force] &amp;lt;src&amp;gt; [&amp;lt;artifact-dest-path&amp;gt;] [AS LOCAL &amp;lt;local-path&amp;gt;]Copy&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;code&gt;SAVE ARTIFACT&lt;/code&gt; 指令用于将文件或目录从 build 运行时环境保存到 target 的 artifact 环境；当保存到 artifact 环境后，可以通过 &lt;code&gt;COPY&lt;/code&gt; 等命令在其他位置进行引用，类似于 Dockerfile 的 &lt;code&gt;COPY --from...&lt;/code&gt; 语法；不同的是 &lt;code&gt;SAVE ARTIFACT&lt;/code&gt; 支持 &lt;code&gt;AS LOCAL &amp;lt;local-path&amp;gt;&lt;/code&gt; 附加参数，一但指定此参数后，earthly 会同时将文件或目录在宿主机复制一份，一般用于调试等目的。&lt;code&gt;SAVE ARTIFACT&lt;/code&gt; 命令在上面的样例中已经展示了，在运行完 &lt;code&gt;earthly +build&lt;/code&gt; 命令后实际上会在本地看到被 SAVE 出来的 ARTIFACT:&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2021/11/0120211101210338-5.png&#34; alt=&#34;img&#34;&gt;&lt;/p&gt;
&lt;p&gt;而另一个 &lt;code&gt;SAVE IMAGE&lt;/code&gt; 指令则主要用于将当前的 build 环境 SAVE 为一个 IMAGE，&lt;strong&gt;如果指定了 &lt;code&gt;--push&lt;/code&gt; 选项，同时在执行 &lt;code&gt;earthly +target&lt;/code&gt; 命令时也加入 &lt;code&gt;--push&lt;/code&gt; 选项，该镜像将会自动被推送到目标 Registry 上。&lt;/strong&gt;&lt;code&gt;SAVE IMAGE&lt;/code&gt; 指令格式如下:&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-dockerfile&#34; data-language=&#34;dockerfile&#34;&gt;&lt;code class=&#34;language-dockerfile&#34;&gt;SAVE IMAGE [--cache-from=&amp;lt;cache-image&amp;gt;] [--push] &amp;lt;image-name&amp;gt;...Copy&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2021/11/0120211101210338-6.png&#34; alt=&#34;img&#34;&gt;&lt;/p&gt;
&lt;h4 id=&#34;3-2-2、GIT-CLONE&#34;&gt;3.2.2、GIT CLONE&lt;/h4&gt;
&lt;p&gt;&lt;code&gt;GIT CLONE&lt;/code&gt; 指令用于将指定 git 仓库 clone 到 build 环境中；与 &lt;code&gt;RUN git clone...&lt;/code&gt; 命令不同的是，&lt;strong&gt;&lt;code&gt;GIT CLONE&lt;/code&gt; 通过宿主机的 git 命令运行，它不依赖于容器内的 git 命令，同时还可以直接为 earthly 配置 git 认证，从而避免将这些安全信息泄漏到 build 环境中；&lt;/strong&gt; 关于如何配置 earthly 的 git 认证请参考 &lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://docs.earthly.dev/docs/guides/auth&#34;&gt;官方文档&lt;/a&gt;；下面是 &lt;code&gt;GIT CLONE&lt;/code&gt; 指令的样例&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2021/11/0120211101213746.png&#34; alt=&#34;img&#34;&gt;&lt;/p&gt;
&lt;h4 id=&#34;3-2-3、COPY&#34;&gt;3.2.3、COPY&lt;/h4&gt;
&lt;p&gt;&lt;code&gt;COPY&lt;/code&gt; 指令与标准的 Dockerfile COPY 指令类似，除了支持 Dockerfile 标准的 COPY 功能以外，&lt;strong&gt;earthly 中的 &lt;code&gt;COPY&lt;/code&gt; 指令可以引用其他 target 环节产生的 artifact，在引用时会自动声明依赖关系；即当在 &lt;code&gt;B&lt;/code&gt; target 中存在 &lt;code&gt;COPY +A/xxxxx /path/to/copy&lt;/code&gt; 类似的指令时，如果只单纯的执行 &lt;code&gt;earthly +B&lt;/code&gt;，那么 earthly 根据依赖分析会得出在 COPY 之前需要执行 target A。&lt;/strong&gt;&lt;code&gt;COPY&lt;/code&gt; 指令的语法格式如下:&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-dockerfile&#34; data-language=&#34;dockerfile&#34;&gt;&lt;code class=&#34;language-dockerfile&#34;&gt;# 与 Dockerfile 相同的使用方式，从上下文复制
COPY [options...] &amp;lt;src&amp;gt;... &amp;lt;dest&amp;gt;

# 扩展支持的从 target 复制方式
COPY [options...] &amp;lt;src-artifact&amp;gt;... &amp;lt;dest&amp;gt;Copy&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;3-2-4、RUN&#34;&gt;3.2.4、RUN&lt;/h4&gt;
&lt;p&gt;&lt;code&gt;RUN&lt;/code&gt; 指令在标准使用上与 Dockerfile 里保持一致，除此之外增加了更多的扩展选项，其指令格式如下:&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-dockerfile&#34; data-language=&#34;dockerfile&#34;&gt;&lt;code class=&#34;language-dockerfile&#34;&gt;# shell 方式运行(/bin/sh -c)
RUN [--push] [--entrypoint] [--privileged] [--secret &amp;lt;env-var&amp;gt;=&amp;lt;secret-ref&amp;gt;] [--ssh] [--mount &amp;lt;mount-spec&amp;gt;] [--] &amp;lt;command&amp;gt;

# exec 方式运行
RUN [[&amp;lt;flags&amp;gt;...], &#34;&amp;lt;executable&amp;gt;&#34;, &#34;&amp;lt;arg1&amp;gt;&#34;, &#34;&amp;lt;arg2&amp;gt;&#34;, ...]Copy&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;其中 &lt;code&gt;--privileged&lt;/code&gt; 选项允许运行的命令使用 &lt;code&gt;privileged capabilities&lt;/code&gt;，但是需要 earthly 在运行 target 时增加 &lt;code&gt;--allow-privileged&lt;/code&gt; 选项；&lt;code&gt;--interactive / --interactive-keep&lt;/code&gt; 选项用于交互式执行一些命令，在完成交互后 build 继续进行，&lt;strong&gt;在交互过程中进行的操作都会被持久化到 镜像中:&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2021/11/0120211101210338-8.png&#34; alt=&#34;img&#34;&gt;&lt;/p&gt;
&lt;p&gt;限于篇幅原因，其他的具体指令请查阅官方文档 &lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://docs.earthly.dev/docs/earthfile&#34;&gt;Earthfile reference&lt;/a&gt;。&lt;/p&gt;
&lt;h3 id=&#34;3-3、UDCS&#34;&gt;3.3、UDCS&lt;/h3&gt;
&lt;p&gt;UDCs 全称 “User-defined commands”，即用户定义指令；通过 UDCs 我们可以将 Earthfile 中特定的命令剥离出来，从而实现更加通用和统一的代码复用；下面是一个定义 UDCs 指令的样例:&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-dockerfile&#34; data-language=&#34;dockerfile&#34;&gt;&lt;code class=&#34;language-dockerfile&#34;&gt;# 定义一个 Command
# ⚠️ 注意: 语法必须满足以下规则
# 1、名称全大写
# 2、名称下划线分割
# 3、首个命令必须为 COMMAND(后面没有冒号)
MY_COPY:
    COMMAND
    ARG src
    ARG dest=./
    ARG recursive=false
    RUN cp $(if $recursive =  &#34;true&#34;; then printf -- -r; fi) &#34;$src&#34; &#34;$dest&#34;

# target 中引用
build:
    FROM alpine:3.13
    WORKDIR /udc-example
    RUN echo &#34;hello&#34; &amp;gt;./foo
    # 通过 DO 关键字引用 UDCs
    DO +MY_COPY --src=./foo --dest=./bar
    RUN cat ./bar # prints &#34;hello&#34;Copy&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;strong&gt;UDCs 不光可以定义在一个 Earthfile 中，UDCs 可以跨文件、跨目录引用:&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2021/11/0120211101212525.png&#34; alt=&#34;img&#34;&gt;&lt;/p&gt;
&lt;p&gt;有了 UDCs 以后，我们可以通过这种方式将对基础镜像的版本统一控制、对特殊镜像的通用处理等操作全部抽象出来，然后每个 Earthfile 根据需要进行引用；关于 UDCs 的使用样例可以参考我的 &lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://github.com/mritd/autobuild&#34;&gt;autobuild&lt;/a&gt; 项目，其中的 &lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://github.com/mritd/autobuild/tree/main/earthfiles/udcs&#34;&gt;udcs&lt;/a&gt; 目录定义了大量的通用 UDCs，这些 UDCs 被其他目标镜的 Earthfile 批量引用。&lt;/p&gt;
&lt;h3 id=&#34;3-4、多平台构建&#34;&gt;3.4、多平台构建&lt;/h3&gt;
&lt;p&gt;在以前使用 Dockerfile 的时候，我们需要自己配置然后开启 buildkit 来实现多平台构建；在配置过程中可能会很繁琐，现在使用 earthly 可以默认帮我们实现多平台的交叉编译，我们需要做的仅仅是在 Earthfile 中声明需要支持哪些平台而已:&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2021/11/0120211101210338-10.png&#34; alt=&#34;img&#34;&gt;&lt;/p&gt;
&lt;p&gt;以上 Earthfile 在执行 &lt;code&gt;earthly --push +all&lt;/code&gt; 构建时，将会自动构建四个平台的镜像，并保持单个 tag，同时由于使用了 &lt;code&gt;--push&lt;/code&gt; 选项还会自动推送到 Docker Hub 上:&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2021/11/0120211101210338-11.png&#34; alt=&#34;img&#34;&gt;&lt;/p&gt;
&lt;h2 id=&#34;四、总结&#34;&gt;四、总结&lt;/h2&gt;
&lt;p&gt;Earthly 弥补了 Dockerfile 的很多不足，解决了很多痛点问题；但同样可能需要一些学习成本，但是如果已经熟悉了 Dockerfile 其实学习成本不高；所以目前还是比较推荐将 Dockerfile 切换为 Earthfile 进行统一和版本化管理的。本文由于篇幅所限(懒)很多地方没有讲，比如共享缓存等，所以关于 Earthly 更多的详细使用等最好还是仔细阅读一下&lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://docs.earthly.dev/docs/guides&#34;&gt;官方文档&lt;/a&gt;。&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;整理转载：&lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://mritd.com/2021/10/27/the-best-image-build-tool-earthly/&#34;&gt;the-best-image-build-tool-earthly&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&#34;系列教程-10&#34;&gt;&lt;strong&gt;系列教程&lt;/strong&gt;&lt;/h2&gt;
&lt;p&gt;&lt;a href=&#34;https://blog.17lai.site/atom.xml&#34;&gt;全部文章RSS订阅&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Docker系列&lt;/strong&gt; &lt;a href=&#34;https://blog.17lai.site/categories/docker/atom.xml&#34;&gt;&lt;strong&gt;Docker 分类 RSS 订阅&lt;/strong&gt;&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://blog.17lai.site/posts/42b6a86d/&#34;&gt;Docker使用简明教程&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://blog.17lai.site/posts/9912bd5d/&#34;&gt;使用jeckett,sonarr,iyuu,qt,emby打造全自动追剧流程&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://blog.17lai.site/posts/1802a8a7/&#34;&gt;为知笔记私有化Docker部署&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://blog.17lai.site/posts/593cc323/&#34;&gt;Earthly 一个更加强大的镜像构建工具&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://blog.17lai.site/posts/90e60aac/&#34;&gt;使用 Shell 脚本实现一个简单 Docker&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://blog.17lai.site/posts/465d2738/&#34;&gt;如何使用Traefik V2 在Ubuntu20.04 上面来做 Dockers&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://blog.17lai.site/posts/462f1e5c/&#34;&gt;通过IPV6访问Qnap NAS中Docker的服务&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;link rel=&#34;stylesheet&#34; href=&#34;/css/bilicard.css&#34; type=&#34;text/css&#34;&gt;</content>
        <category term="docker" />
        <category term="earthly" />
        <updated>2021-10-31T23:25:00.000Z</updated>
    </entry>
    <entry>
        <id>https://blog.17lai.site/posts/cf0f47fd/</id>
        <title>Hexo Markdown以及各种插件功能测试</title>
        <link rel="alternate" href="https://blog.17lai.site/posts/cf0f47fd/"/>
        <content type="html">&lt;h2 id=&#34;Markdown-插件&#34;&gt;Markdown 插件&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://github.com/markdown-it/markdown-it-abbr&#34;&gt;markdown-it-abbr&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://github.com/markdown-it/markdown-it-container&#34;&gt;markdown-it-container&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://github.com/markdown-it/markdown-it-deflist&#34;&gt;markdown-it-deflist&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://github.com/markdown-it/markdown-it-emoji&#34;&gt;markdown-it-emoji&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://github.com/markdown-it/markdown-it-footnote&#34;&gt;markdown-it-footnote&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://github.com/tatsy/markdown-it-imsize&#34;&gt;markdown-it-imsize&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://github.com/markdown-it/markdown-it-ins&#34;&gt;markdown-it-ins&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://github.com/markdown-it/markdown-it-mark&#34;&gt;markdown-it-mark&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://github.com/rlidwka/markdown-it-regexp&#34;&gt;markdown-it-regexp&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://github.com/markdown-it/markdown-it-sub&#34;&gt;markdown-it-sub&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://github.com/markdown-it/markdown-it-sup&#34;&gt;markdown-it-sup&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://github.com/linsir/markdown-it-task-checkbox&#34;&gt;markdown-it-task-checkbox&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;常用标记&#34;&gt;常用标记&lt;/h3&gt;
&lt;pre class=&#34;line-numbers language-markdown&#34; data-language=&#34;markdown&#34;&gt;&lt;code class=&#34;language-markdown&#34;&gt;&lt;span class=&#34;token list punctuation&#34;&gt;-&lt;/span&gt; 29^th^ =&amp;gt; &lt;span class=&#34;token code-snippet code keyword&#34;&gt;`29&amp;lt;sup&amp;gt;th&amp;lt;/sup&amp;gt;`&lt;/span&gt;
&lt;span class=&#34;token list punctuation&#34;&gt;-&lt;/span&gt; H&lt;span class=&#34;token strike&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;~&lt;/span&gt;&lt;span class=&#34;token content&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;~&lt;/span&gt;&lt;/span&gt;0 =&amp;gt; &lt;span class=&#34;token code-snippet code keyword&#34;&gt;`H&amp;lt;sub&amp;gt;2&amp;lt;/sub&amp;gt;O`&lt;/span&gt;
&lt;span class=&#34;token list punctuation&#34;&gt;-&lt;/span&gt; ==marked== =&amp;gt; &lt;span class=&#34;token code-snippet code keyword&#34;&gt;`&amp;lt;mark&amp;gt;inserted&amp;lt;/mark&amp;gt;`&lt;/span&gt;
&lt;span class=&#34;token list punctuation&#34;&gt;-&lt;/span&gt; ++inserted++ =&amp;gt; &lt;span class=&#34;token code-snippet code keyword&#34;&gt;`&amp;lt;ins&amp;gt;inserted&amp;lt;/ins&amp;gt;`&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
&lt;li&gt;29&lt;sup&gt;th&lt;/sup&gt; =&amp;gt; &lt;code&gt;29&amp;lt;sup&amp;gt;th&amp;lt;/sup&amp;gt;&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;H&lt;sub&gt;2&lt;/sub&gt;0 =&amp;gt; &lt;code&gt;H&amp;lt;sub&amp;gt;2&amp;lt;/sub&amp;gt;O&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;mark&gt;marked&lt;/mark&gt; =&amp;gt; &lt;code&gt;&amp;lt;mark&amp;gt;inserted&amp;lt;/mark&amp;gt;&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;ins&gt;inserted&lt;/ins&gt; =&amp;gt; &lt;code&gt;&amp;lt;ins&amp;gt;inserted&amp;lt;/ins&amp;gt;&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;pre class=&#34;line-numbers language-html&#34; data-language=&#34;html&#34;&gt;&lt;code class=&#34;language-html&#34;&gt;&lt;span class=&#34;token doctype&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;!&lt;/span&gt;&lt;span class=&#34;token doctype-tag&#34;&gt;DOCTYPE&lt;/span&gt; &lt;span class=&#34;token name&#34;&gt;HTML&lt;/span&gt; &lt;span class=&#34;token name&#34;&gt;PUBLIC&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;-//W3C//DTD HTML 4.01 Transitional//EN&#34;&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;http://www.w3.org/TR/html4/loose.dtd&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;html&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;head&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;meta&lt;/span&gt; &lt;span class=&#34;token attr-name&#34;&gt;http-equiv&lt;/span&gt;&lt;span class=&#34;token attr-value&#34;&gt;&lt;span class=&#34;token punctuation attr-equals&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;Content-Type&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&lt;/span&gt; &lt;span class=&#34;token attr-name&#34;&gt;content&lt;/span&gt;&lt;span class=&#34;token attr-value&#34;&gt;&lt;span class=&#34;token punctuation attr-equals&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;text/html;charset=UTF-8&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;title&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;Document&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;/&lt;/span&gt;title&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;style&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token style&#34;&gt;&lt;span class=&#34;token language-css&#34;&gt;
      &lt;span class=&#34;token selector&#34;&gt;.lighter&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;token property&#34;&gt;font-weight&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; lighter&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;
      &lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt;

      &lt;span class=&#34;token selector&#34;&gt;.bold&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;token property&#34;&gt;font-weight&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; bold&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;
      &lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt;

      &lt;span class=&#34;token selector&#34;&gt;.bolder&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;token property&#34;&gt;font-weight&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; bolder&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;
      &lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt;
    &lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;/&lt;/span&gt;style&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;/&lt;/span&gt;head&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;body&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
	&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;P&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;这是分段&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;/&lt;/span&gt;P&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
	&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;b&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;这是粗体&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;/&lt;/span&gt;b&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
	&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;br&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;/&amp;gt;&lt;/span&gt;&lt;/span&gt;
	&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;big&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;这是大号字&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;/&lt;/span&gt;big&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
	&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;br&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;/&amp;gt;&lt;/span&gt;&lt;/span&gt;
	&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;em&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;这是着重字&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;/&lt;/span&gt;em&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
	&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;br&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;/&amp;gt;&lt;/span&gt;&lt;/span&gt;
	&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;i&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;这是斜体字&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;/&lt;/span&gt;i&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
	&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;br&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;/&amp;gt;&lt;/span&gt;&lt;/span&gt;
	&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;small&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;这是小号字&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;/&lt;/span&gt;small&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
	&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;br&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;/&amp;gt;&lt;/span&gt;&lt;/span&gt;
	&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;strong&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;加重语气&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;/&lt;/span&gt;strong&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
	&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;br&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;/&amp;gt;&lt;/span&gt;&lt;/span&gt;
	这是&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;sup&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;上标字&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;/&lt;/span&gt;sup&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
	&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;br&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;/&amp;gt;&lt;/span&gt;&lt;/span&gt;
	这是&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;sub&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;下标字&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;/&lt;/span&gt;sub&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
	&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;br&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;/&amp;gt;&lt;/span&gt;&lt;/span&gt;
	&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;ins&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;插入字&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;/&lt;/span&gt;ins&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
	&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;br&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;/&amp;gt;&lt;/span&gt;&lt;/span&gt;
	&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;del&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;删除字&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;/&lt;/span&gt;del&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
	&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;br&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;/&amp;gt;&lt;/span&gt;&lt;/span&gt;

&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;p&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;This is a &lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;span&lt;/span&gt; &lt;span class=&#34;token attr-name&#34;&gt;class&lt;/span&gt;&lt;span class=&#34;token attr-value&#34;&gt;&lt;span class=&#34;token punctuation attr-equals&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;lighter&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;lighter text&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;/&lt;/span&gt;span&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;.&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;/&lt;/span&gt;p&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;p&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;This is a &lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;span&lt;/span&gt; &lt;span class=&#34;token attr-name&#34;&gt;class&lt;/span&gt;&lt;span class=&#34;token attr-value&#34;&gt;&lt;span class=&#34;token punctuation attr-equals&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;bold&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;bold text&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;/&lt;/span&gt;span&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;.&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;/&lt;/span&gt;p&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;p&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;This is a &lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;span&lt;/span&gt; &lt;span class=&#34;token attr-name&#34;&gt;class&lt;/span&gt;&lt;span class=&#34;token attr-value&#34;&gt;&lt;span class=&#34;token punctuation attr-equals&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;bolder&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;bolder text&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;/&lt;/span&gt;span&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;.&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;/&lt;/span&gt;p&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;

&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;p&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
font-weight 属性以 lighter、bold 和 bolder 作为值，数字从 100 到 900。因此，使用它，你不仅可以将文本加粗，还可以使其比周围的文本更亮。
你通常应该避免使用 b，因为它已经是一种样式。当你使用 b 标记将文本设为粗体时，你明确地告诉浏览器将 HTML 中的文本设为粗体。

strong 也使文本显示粗体，但它是语义的。使用它，你就不是从 HTML 样式化（HTML 最初从未用于此目的），而是告诉浏览器使文本在外观上比周围的其他文本更为加粗。

CSS font-weight 属性让你可以更好地控制文本的粗细程度。lighter、bold 和 bolder的值是一个开始，但你可以通过应用数字/权重（例如 100、200、300、400、500、600、700、800 和 900）作为值，从而更进一步，这会产生不同的粗细。
&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;/&lt;/span&gt;p&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;

&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;/&lt;/span&gt;body&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;/&lt;/span&gt;html&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;markdown-it-task-checkbox&#34;&gt;&lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://github.com/linsir/markdown-it-task-checkbox&#34;&gt;markdown-it-task-checkbox&lt;/a&gt;&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;和主题某些css冲突，停用&lt;/p&gt;
&lt;/blockquote&gt;
&lt;pre class=&#34;line-numbers language-markdown&#34; data-language=&#34;markdown&#34;&gt;&lt;code class=&#34;language-markdown&#34;&gt;&lt;span class=&#34;token list punctuation&#34;&gt;-&lt;/span&gt; [x] item 1
    &lt;span class=&#34;token list punctuation&#34;&gt;-&lt;/span&gt; [x] item 1-1
    &lt;span class=&#34;token list punctuation&#34;&gt;-&lt;/span&gt; [ ] item 1-2
    &lt;span class=&#34;token list punctuation&#34;&gt;-&lt;/span&gt; [ ] item 1-3
    &lt;span class=&#34;token list punctuation&#34;&gt;-&lt;/span&gt; [ ] item 1-4
&lt;span class=&#34;token list punctuation&#34;&gt;-&lt;/span&gt; [ ] item 2
    &lt;span class=&#34;token list punctuation&#34;&gt;-&lt;/span&gt; [ ] item 2-1
    &lt;span class=&#34;token list punctuation&#34;&gt;-&lt;/span&gt; [ ] item 2-2
    &lt;span class=&#34;token list punctuation&#34;&gt;-&lt;/span&gt; [ ] item 2-3
    &lt;span class=&#34;token list punctuation&#34;&gt;-&lt;/span&gt; [ ] item 2-4&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
&lt;li&gt;[x] item 1
&lt;ul&gt;
&lt;li&gt;[x] item 1-1&lt;/li&gt;
&lt;li&gt;[ ] item 1-2&lt;/li&gt;
&lt;li&gt;[ ] item 1-3&lt;/li&gt;
&lt;li&gt;[ ] item 1-4&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;[ ] item 2
&lt;ul&gt;
&lt;li&gt;[ ] item 2-1&lt;/li&gt;
&lt;li&gt;[ ] item 2-2&lt;/li&gt;
&lt;li&gt;[ ] item 2-3&lt;/li&gt;
&lt;li&gt;[ ] item 2-4&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;markdown-it-multimd-table&#34;&gt;&lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://github.com/RedBug312/markdown-it-multimd-table&#34;&gt;markdown-it-multimd-table&lt;/a&gt;&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;目前仅支持多列合并&lt;/p&gt;
&lt;/blockquote&gt;
&lt;pre class=&#34;line-numbers language-none&#34;&gt;&lt;code class=&#34;language-none&#34;&gt;| 标题1        | 标题2        |
| ------------ | ------------ |
| 合并第一行                ||
| 第二行第一列 | 第二行第二列 |&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:left&#34;&gt;标题1&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;标题2&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;合并第一行&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;第二行第一列&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;第二行第二列&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;colspan &lt;code&gt;&amp;gt;&lt;/code&gt; or &lt;code&gt;empty cell&lt;/code&gt;:&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:left&#34;&gt;a&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;b&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&amp;gt;&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;1&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;2&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;rowspan ‘^’&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:left&#34;&gt;a&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;b&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;1&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;2&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;^^&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;4&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;pre class=&#34;line-numbers language-markdown&#34; data-language=&#34;markdown&#34;&gt;&lt;code class=&#34;language-markdown&#34;&gt;&lt;span class=&#34;token table&#34;&gt;&lt;span class=&#34;token table-header-row&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;|&lt;/span&gt;&lt;span class=&#34;token table-header important&#34;&gt;   Markdown   &lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;|&lt;/span&gt;&lt;span class=&#34;token table-header important&#34;&gt; Rendered HTML &lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;|&lt;/span&gt;
&lt;/span&gt;&lt;span class=&#34;token table-line&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;|&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;--------------&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;|&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;---------------&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;|&lt;/span&gt;
&lt;/span&gt;&lt;span class=&#34;token table-data-rows&#34;&gt;&lt;/span&gt;&lt;/span&gt;|    &lt;span class=&#34;token italic&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;token content&#34;&gt;Italic&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;*&lt;/span&gt;&lt;/span&gt;  | &lt;span class=&#34;token italic&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;token content&#34;&gt;Italic&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;*&lt;/span&gt;&lt;/span&gt;      | \
|              |               |
|    - Item 1  | - Item 1      | \
|    - Item 2  | - Item 2      |
|    ```python | ```python       \
|    .1 + .2   | .1 + .2         \
|    ```       | ```           |&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:left&#34;&gt;Markdown&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;Rendered &lt;abbr title=&#34;Hyper Text Markup Language&#34;&gt;HTML&lt;/abbr&gt;&lt;/th&gt;
&lt;th&gt;&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;em&gt;Italic&lt;/em&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;em&gt;Italic&lt;/em&gt;&lt;/td&gt;
&lt;td&gt;\&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;- Item 1&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;- Item 1&lt;/td&gt;
&lt;td&gt;\&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;- Item 2&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;- Item 2&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;```python&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;```python \&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;.1 + .2&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;.1 + .2 \&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;```&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;```&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;pre class=&#34;line-numbers language-markdown&#34; data-language=&#34;markdown&#34;&gt;&lt;code class=&#34;language-markdown&#34;&gt;&lt;span class=&#34;token table&#34;&gt;&lt;span class=&#34;token table-header-row&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;|&lt;/span&gt;&lt;span class=&#34;token table-header important&#34;&gt; Task           &lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;|&lt;/span&gt;&lt;span class=&#34;token table-header important&#34;&gt; Time required &lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;|&lt;/span&gt;&lt;span class=&#34;token table-header important&#34;&gt; Assigned to   &lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;|&lt;/span&gt;&lt;span class=&#34;token table-header important&#34;&gt; Current Status &lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;|&lt;/span&gt;&lt;span class=&#34;token table-header important&#34;&gt; Finished &lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;|&lt;/span&gt;&lt;span class=&#34;token table-header important&#34;&gt; &lt;/span&gt;
&lt;/span&gt;&lt;span class=&#34;token table-line&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;|&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;----------------&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;|&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;---------------&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;|&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;---------------&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;|&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;----------------&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;|&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;-----------&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;|&lt;/span&gt;
&lt;/span&gt;&lt;span class=&#34;token table-data-rows&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;|&lt;/span&gt;&lt;span class=&#34;token table-data&#34;&gt; Calendar Cache &lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;|&lt;/span&gt;&lt;span class=&#34;token table-data&#34;&gt; &amp;gt; 5 hours  &lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;|&lt;/span&gt;&lt;span class=&#34;token table-data&#34;&gt; @georgehrke &lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;|&lt;/span&gt;&lt;span class=&#34;token table-data&#34;&gt; in progress &lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;|&lt;/span&gt;&lt;span class=&#34;token table-data&#34;&gt; &lt;span class=&#34;token list punctuation&#34;&gt;-&lt;/span&gt; [x] ok?&lt;/span&gt;
&lt;span class=&#34;token punctuation&#34;&gt;|&lt;/span&gt;&lt;span class=&#34;token table-data&#34;&gt; Object Cache   &lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;|&lt;/span&gt;&lt;span class=&#34;token table-data&#34;&gt; &amp;gt; 5 hours  &lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;|&lt;/span&gt;&lt;span class=&#34;token table-data&#34;&gt; @georgehrke &lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;|&lt;/span&gt;&lt;span class=&#34;token table-data&#34;&gt; in progress &lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;|&lt;/span&gt;&lt;span class=&#34;token table-data&#34;&gt; [x] item1&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;br&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;/&amp;gt;&lt;/span&gt;&lt;/span&gt;[ ] item2&lt;/span&gt;
&lt;span class=&#34;token punctuation&#34;&gt;|&lt;/span&gt;&lt;span class=&#34;token table-data&#34;&gt; Object Cache   &lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;|&lt;/span&gt;&lt;span class=&#34;token table-data&#34;&gt; &amp;gt; 5 hours  &lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;|&lt;/span&gt;&lt;span class=&#34;token table-data&#34;&gt; @georgehrke &lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;|&lt;/span&gt;&lt;span class=&#34;token table-data&#34;&gt; in progress &lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;|&lt;/span&gt;&lt;span class=&#34;token table-data&#34;&gt; &lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;ul&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;li&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;- [x] item1&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;/&lt;/span&gt;li&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;li&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;- [ ] item2&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;/&lt;/span&gt;li&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;/&lt;/span&gt;ul&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&#34;token punctuation&#34;&gt;|&lt;/span&gt;&lt;span class=&#34;token table-data&#34;&gt; Object Cache   &lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;|&lt;/span&gt;&lt;span class=&#34;token table-data&#34;&gt; &amp;gt; 5 hours  &lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;|&lt;/span&gt;&lt;span class=&#34;token table-data&#34;&gt; @georgehrke &lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;|&lt;/span&gt;&lt;span class=&#34;token table-data&#34;&gt; in progress &lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;|&lt;/span&gt;&lt;span class=&#34;token table-data&#34;&gt; &lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;ul&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;li&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;[x] item1&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;/&lt;/span&gt;li&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;li&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;[ ] item2&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;/&lt;/span&gt;li&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;/&lt;/span&gt;ul&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;

&lt;span class=&#34;token list punctuation&#34;&gt;-&lt;/span&gt; [x] works
&lt;span class=&#34;token list punctuation&#34;&gt;-&lt;/span&gt; [x] works too&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:left&#34;&gt;Task&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;Time required&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;Assigned to&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;Current Status&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;Finished&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Calendar Cache&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&amp;gt; 5 hours&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;@georgehrke&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;in progress&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;- [x] ok?&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Object Cache&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&amp;gt; 5 hours&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;@georgehrke&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;in progress&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;[x] item1 [ ] item2&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Object Cache&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&amp;gt; 5 hours&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;@georgehrke&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;in progress&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;- [x] item1- [ ] item2&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Object Cache&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&amp;gt; 5 hours&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;@georgehrke&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;in progress&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;[x] item1[ ] item2&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;ul&gt;
&lt;li&gt;[x] works&lt;/li&gt;
&lt;li&gt;[x] works too&lt;/li&gt;
&lt;/ul&gt;
&lt;pre class=&#34;line-numbers language-markdown&#34; data-language=&#34;markdown&#34;&gt;&lt;code class=&#34;language-markdown&#34;&gt;&lt;span class=&#34;token table&#34;&gt;&lt;span class=&#34;token table-header-row&#34;&gt;&lt;span class=&#34;token table-header important&#34;&gt;Function &lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;|&lt;/span&gt;&lt;span class=&#34;token table-header important&#34;&gt; MySQL / MariaDB &lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;|&lt;/span&gt;&lt;span class=&#34;token table-header important&#34;&gt; PostgreSQL &lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;|&lt;/span&gt;&lt;span class=&#34;token table-header important&#34;&gt; SQLite&lt;/span&gt;
&lt;/span&gt;&lt;span class=&#34;token table-line&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;:------------&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;|&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;:-------------&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;|&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;:-------------&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;|&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;:-------------&lt;/span&gt;
&lt;/span&gt;&lt;span class=&#34;token table-data-rows&#34;&gt;&lt;span class=&#34;token table-data&#34;&gt;substr &lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;|&lt;/span&gt;&lt;span class=&#34;token table-data&#34;&gt; :heavy_check_mark: &lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;|&lt;/span&gt;&lt;span class=&#34;token table-data&#34;&gt;  :white_check_mark: &lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;|&lt;/span&gt;&lt;span class=&#34;token table-data&#34;&gt; :heavy_check_mark:&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:left&#34;&gt;Function&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;MySQL / MariaDB&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;PostgreSQL&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;SQLite&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;substr&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;✔️&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;✅&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;✔️&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h3 id=&#34;emoji&#34;&gt;&lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://www.webfx.com/tools/emoji-cheat-sheet/&#34;&gt;emoji&lt;/a&gt;&lt;/h3&gt;
&lt;pre class=&#34;line-numbers language-markdown&#34; data-language=&#34;markdown&#34;&gt;&lt;code class=&#34;language-markdown&#34;&gt;:smile::smirk::sunny:&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;😄😏☀️&lt;/p&gt;
&lt;h3 id=&#34;markdown-it-abbr&#34;&gt;&lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://github.com/markdown-it/markdown-it-abbr&#34;&gt;markdown-it-abbr&lt;/a&gt;&lt;/h3&gt;
&lt;pre class=&#34;line-numbers language-markdown&#34; data-language=&#34;markdown&#34;&gt;&lt;code class=&#34;language-markdown&#34;&gt;&lt;span class=&#34;token italic&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;token content&#34;&gt;[HTML]: Hyper Text Markup Language
&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;*&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token url-reference url&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;token variable&#34;&gt;W3C&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;  World&lt;/span&gt; Wide Web Consortium
The HTML specification
is maintained by the W3C.&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The &lt;abbr title=&#34;Hyper Text Markup Language&#34;&gt;HTML&lt;/abbr&gt; specification&lt;br&gt;
is maintained by the &lt;abbr title=&#34;World Wide Web Consortium&#34;&gt;W3C&lt;/abbr&gt;.&lt;/p&gt;
&lt;h3 id=&#34;markdown-it-container&#34;&gt;&lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://github.com/markdown-it/markdown-it-container&#34;&gt;markdown-it-container&lt;/a&gt;&lt;/h3&gt;
&lt;pre class=&#34;line-numbers language-markdown&#34; data-language=&#34;markdown&#34;&gt;&lt;code class=&#34;language-markdown&#34;&gt;::: warning
&lt;span class=&#34;token italic&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;token content&#34;&gt;here be dragons&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;*&lt;/span&gt;&lt;/span&gt;
:::&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;em&gt;here be dragons&lt;/em&gt;&lt;/p&gt;
&lt;h3 id=&#34;footnote&#34;&gt;footnote&lt;/h3&gt;
&lt;pre class=&#34;line-numbers language-markdown&#34; data-language=&#34;markdown&#34;&gt;&lt;code class=&#34;language-markdown&#34;&gt;Here is a footnote reference,[^1] and another.[^longnote]

&lt;span class=&#34;token url-reference url&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;token variable&#34;&gt;^1&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; Here&lt;/span&gt; is the footnote.

&lt;span class=&#34;token url-reference url&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;token variable&#34;&gt;^longnote&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; Here&#39;s&lt;/span&gt; one with multiple blocks.

&lt;span class=&#34;token code keyword&#34;&gt;    Subsequent paragraphs are indented to show that they&lt;/span&gt;
belong to the previous footnote.&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Here is a footnote reference,&lt;sup class=&#34;footnote-ref&#34;&gt;&lt;a href=&#34;#fn1&#34; id=&#34;fnref1&#34;&gt;[1]&lt;/a&gt;&lt;/sup&gt; and another.&lt;sup class=&#34;footnote-ref&#34;&gt;&lt;a href=&#34;#fn2&#34; id=&#34;fnref2&#34;&gt;[2]&lt;/a&gt;&lt;/sup&gt;&lt;/p&gt;
&lt;p&gt;belong to the previous footnote.&lt;/p&gt;
&lt;h3 id=&#34;markdown-it-imsize&#34;&gt;&lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://github.com/tatsy/markdown-it-imsize&#34;&gt;markdown-it-imsize&lt;/a&gt;&lt;/h3&gt;
&lt;pre class=&#34;line-numbers language-markdown&#34; data-language=&#34;markdown&#34;&gt;&lt;code class=&#34;language-markdown&#34;&gt;&lt;span class=&#34;token url&#34;&gt;&lt;span class=&#34;token operator&#34;&gt;!&lt;/span&gt;[&lt;span class=&#34;token content&#34;&gt;test&lt;/span&gt;](&lt;span class=&#34;token url&#34;&gt;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2021/10/1220211012022352.png&lt;/span&gt;)&lt;/span&gt;
![test](https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2021/10/1220211012022352.png =100x200)&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2021/10/1220211012022352.png&#34; alt=&#34;test&#34;&gt;&lt;br&gt;
&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2021/10/1220211012022352.png&#34; alt=&#34;test&#34; width=&#34;100&#34; height=&#34;200&#34;&gt;&lt;/p&gt;
&lt;h2 id=&#34;公式测试&#34;&gt;公式测试&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;采用**&lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://github.com/MakerGYT/markdown-it-latex2img&#34;&gt;markdown-it-latex2img&lt;/a&gt;**&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://makergyt.github.io/markdown-it-latex2img/&#34;&gt;Demo&lt;/a&gt;&lt;/p&gt;
&lt;h3 id=&#34;1-数学公式&#34;&gt;1 数学公式&lt;/h3&gt;
&lt;h4 id=&#34;1-1-内联公式&#34;&gt;1.1 内联公式&lt;/h4&gt;
&lt;p&gt;&lt;strong&gt;开头的&lt;code&gt;$&lt;/code&gt;必须在其右边紧跟一个非空格字符，而结尾的&lt;code&gt;$&lt;/code&gt;必须在其左边紧接一个非空格字符，并且不能紧跟一个数字。&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;勾股定理: &lt;img src=&#34;https://math.now.sh?inline=a%5E2%2Bb%5E2%3Dc%5E2&#34; style=&#34;filter: opacity(90%);transform:scale(0.85);text-align:center;display:inline-block;margin: 0;&#34;&gt;&lt;/li&gt;
&lt;li&gt;等差数列求和公式: &lt;img src=&#34;https://math.now.sh?inline=S_%7Bn%7D%3Dn%20a_%7B1%7D%2B%5Cfrac%7Bn%28n-1%29%7D%7B2%7D%20d%2C%20n%20%5Cin%20N%5E%7B*%7D&#34; style=&#34;filter: opacity(90%);transform:scale(0.85);text-align:center;display:inline-block;margin: 0;&#34;&gt;&lt;/li&gt;
&lt;li&gt;牛顿-莱布尼茨公式: &lt;img src=&#34;https://math.now.sh?inline=%5Cint_%7Ba%7D%5E%7Bb%7D%20f%28x%29%20d%20x%3DF(b)-F(a)%3D%5Cleft.F(x)%5Cright%7C_%7Ba%7D%20%5E%7Bb%7D&#34; style=&#34;filter: opacity(90%);transform:scale(0.85);text-align:center;display:inline-block;margin: 0;&#34;&gt;&lt;/li&gt;
&lt;li&gt;二项分布: &lt;img src=&#34;https://math.now.sh?inline=P_%7Bn%7D%28k%29%3DC_%7Bn%7D%5E%7Bk%7D%20p%5E%7Bk%7D%20q%5E%7Bn-k%7D%20%5Cquad%20k%3D0%2C1%2C2%20%5Cldots%20%5Cldots%2C%20n&#34; style=&#34;filter: opacity(90%);transform:scale(0.85);text-align:center;display:inline-block;margin: 0;&#34;&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;1-2-块公式&#34;&gt;1.2 块公式&lt;/h4&gt;
&lt;p&gt;正态分布&lt;img src=&#34;https://math.now.sh?inline=X%20%5Csim%20N%28%5Cmu%2C%5Csigma%5E2%29&#34; style=&#34;filter: opacity(90%);transform:scale(0.85);text-align:center;display:inline-block;margin: 0;&#34;&gt;:&lt;/p&gt;
&lt;p style=&#34;filter: opacity(90%);transform:scale(0.85);text-align:center;&#34;&gt;&lt;img src=&#34;https://math.now.sh?from=f%28x%29%20%3D%20%5Cfrac%7B1%7D%7B%5Csqrt%7B2%5Cpi%7D%5Csigma%7De%5E%7B-%5Cfrac%7B(x-%5Cmu)%5E2%7D%7B2%5Csigma%5E2%7D%7D%0A&#34;&gt;&lt;/p&gt;&lt;p&gt;斐波那契数列&lt;img src=&#34;https://math.now.sh?inline=A_n%3DA_%7Bn-1%7D%2BA_%7Bn-2%7D&#34; style=&#34;filter: opacity(90%);transform:scale(0.85);text-align:center;display:inline-block;margin: 0;&#34;&gt;,前后两项的比值逐渐收敛到黄金分割比例&lt;/p&gt;
&lt;p style=&#34;filter: opacity(90%);transform:scale(0.85);text-align:center;&#34;&gt;&lt;img src=&#34;https://math.now.sh?from=%5Clim_%7Bn%5Cto%20%5Cinfty%7D%5Cfrac%7BA_%7Bn-1%7D%7D%7BA_n%7D%3D%5Cfrac%7B%5Csqrt%7B5%7D-1%7D%7B2%7D.%0A&#34;&gt;&lt;/p&gt;&lt;p&gt;因式分解&lt;/p&gt;
&lt;p style=&#34;filter: opacity(90%);transform:scale(0.85);text-align:center;&#34;&gt;&lt;img src=&#34;https://math.now.sh?from=%5Cbegin%7Bsplit%7D%28x%E2%88%921%29(x%E2%88%923)%26%3Dx%5E2%E2%88%924x%2B3%20%5C%5C%20%0A%26%3Dx%5E2%E2%88%924x%2B4%E2%88%921%20%5C%5C%20%0A%26%3D(x%E2%88%922)%5E2%E2%88%921%0A%5Cend%7Bsplit%7D%0A&#34;&gt;&lt;/p&gt;&lt;p&gt;狄利克雷函数&lt;/p&gt;
&lt;p style=&#34;filter: opacity(90%);transform:scale(0.85);text-align:center;&#34;&gt;&lt;img src=&#34;https://math.now.sh?from=D%28x%29%3D%0A%5Cbegin%7Bcases%7D%0A1%2C%26%20x%20%5Cin%20Q%20%5C%5C%0A0%2C%26%20x%20%5Cnotin%20Q%0A%5Cend%7Bcases%7D%0A&#34;&gt;&lt;/p&gt;&lt;p&gt;高斯公式&lt;/p&gt;
&lt;p style=&#34;filter: opacity(90%);transform:scale(0.85);text-align:center;&#34;&gt;&lt;img src=&#34;https://math.now.sh?from=%5Ciiint_%7B%5COmega%7D%5Cleft%28%5Cfrac%7B%5Cpartial%20P%7D%7B%5Cpartial%20x%7D%2B%5Cfrac%7B%5Cpartial%20Q%7D%7B%5Cpartial%20y%7D%2B%5Cfrac%7B%5Cpartial%20R%7D%7B%5Cpartial%20z%7D%5Cright%29%20d%20v%3D%5Ciint_%7B%5CSigma%7D%20P%20d%20y%20d%20z%2BQ%20d%20z%20d%20x%2BR%20d%20x%20d%20y%0A&#34;&gt;&lt;/p&gt;&lt;p&gt;范德蒙行列式&lt;/p&gt;
&lt;p style=&#34;filter: opacity(90%);transform:scale(0.85);text-align:center;&#34;&gt;&lt;img src=&#34;https://math.now.sh?from=D_%7Bn-1%7D%3D%5Cleft%7C%5Cbegin%7Barray%7D%7Bcccc%7D%0A1%20%26%201%20%26%20%5Cdots%20%26%201%20%5C%5C%0Ax_%7B2%7D%20%26%20x_%7B3%7D%20%26%20%5Cdots%20%26%20x_%7Bn%7D%20%5C%5C%0A%5Cvdots%20%26%20%5Cvdots%20%26%20%26%20%5Cvdots%20%5C%5C%0Ax_%7B2%7D%5E%7Bn-2%7D%20%26%20x_%7B3%7D%5E%7Bn-2%7D%20%26%20%5Cdots%20%26%20x_%7Bn%7D%5E%7Bn-2%7D%0A%5Cend%7Barray%7D%5Cright%7C%3D%5Cprod_%7B2%20%5Cleq%20j%3Ci%20%5Cleq%20n%7D%5Cleft%28x_%7Bi%7D-x_%7Bj%7D%5Cright%29&#34;&gt;&lt;/p&gt;&lt;p&gt;线性方程组&lt;/p&gt;
&lt;p style=&#34;filter: opacity(90%);transform:scale(0.85);text-align:center;&#34;&gt;&lt;img src=&#34;https://math.now.sh?from=%5Cleft%5C%7B%5Cbegin%7Baligned%7D%0Aa_%7B11%7D%20x_%7B1%7D%2Ba_%7B12%7D%20x_%7B2%7D%2B%5Ccdots%2Ba_%7B1%20n%7D%20x_%7Bn%7D%20%26%3Db_%7B1%7D%20%5C%5C%0Aa_%7B21%7D%20x_%7B1%7D%2Ba_%7B22%7D%20x_%7B2%7D%2B%5Ccdots%2Ba_%7B2%20n%7D%20x_%7Bn%7D%20%26%3Db_%7B2%7D%20%5C%5C%0A%5Ccdots%20%5Ccdots%20%5Ccdots%20%5C%5C%0Aa_%7Bm%201%7D%20x_%7B1%7D%2Ba_%7Bm%202%7D%20x_%7B2%7D%2B%5Ccdots%2Ba_%7Bm%20n%7D%20x_%7Bn%7D%20%26%3Db_%7Bm%7D%0A%5Cend%7Baligned%7D%5Cright.&#34;&gt;&lt;/p&gt;&lt;h3 id=&#34;2-物理公式&#34;&gt;2 物理公式&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;牛顿第一定律: &lt;img src=&#34;https://math.now.sh?inline=%5Csum%20%5Cvec%7BF%7D_%7Bi%7D%3D%5Cfrac%7B%5Cmathrm%7Bd%7D%20%5Cvec%7Bv%7D%7D%7B%5Cmathrm%7Bd%7D%20t%7D%3D0&#34; style=&#34;filter: opacity(90%);transform:scale(0.85);text-align:center;display:inline-block;margin: 0;&#34;&gt;&lt;/li&gt;
&lt;li&gt;牛顿第二定律: &lt;img src=&#34;https://math.now.sh?inline=%5Cvec%7BF%7D%3D%5Cfrac%7B%5Cmathrm%7Bd%7D%20m%7D%7B%5Cmathrm%7Bd%7D%20t%7D%20%5Cvec%7Bv%7D%2Bm%20%5Cfrac%7B%5Cmathrm%7Bd%7D%20%5Cvec%7Bv%7D%7D%7B%5Cmathrm%7Bd%7D%20t%7D%3D%5Cfrac%7B%5Cmathrm%7Bd%7D%20m%7D%7B%5Cmathrm%7Bd%7D%20t%7D%20%5Cvec%7Bv%7D%2Bm%20%5Cvec%7Ba%7D%3D%5Cfrac%7B%5Cmathrm%7Bd%7D%20m%7D%7B%5Cmathrm%7Bd%7D%20t%7D%20%5Cvec%7Bv%7D%2Bm%20%5Cfrac%7B%5Cmathrm%7Bd%7D%5E%7B2%7D%20%5Cvec%7Br%7D%7D%7B%5Cmathrm%7Bd%7D%20t%5E%7B2%7D%7D&#34; style=&#34;filter: opacity(90%);transform:scale(0.85);text-align:center;display:inline-block;margin: 0;&#34;&gt;&lt;/li&gt;
&lt;li&gt;牛顿第三定律: &lt;img src=&#34;https://math.now.sh?inline=%5Coverrightarrow%7BF_%7B12%7D%7D%3D-%5Coverrightarrow%7BF_%7B21%7D%7D&#34; style=&#34;filter: opacity(90%);transform:scale(0.85);text-align:center;display:inline-block;margin: 0;&#34;&gt;&lt;/li&gt;
&lt;li&gt;质能守恒: &lt;img src=&#34;https://math.now.sh?inline=E%3Dmc%5E2&#34; style=&#34;filter: opacity(90%);transform:scale(0.85);text-align:center;display:inline-block;margin: 0;&#34;&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;万有引力定律: &lt;img src=&#34;https://math.now.sh?inline=F%3D%5Cfrac%7BG%20M%20m%7D%7Br%5E%7B2%7D%7D&#34; style=&#34;filter: opacity(90%);transform:scale(0.85);text-align:center;display:inline-block;margin: 0;&#34;&gt;&lt;/p&gt;
&lt;p style=&#34;filter: opacity(90%);transform:scale(0.85);text-align:center;&#34;&gt;&lt;img src=&#34;https://math.now.sh?from=G%20%5Cfrac%7Bm%20M%7D%7B%28r%2Bh%29%5E%7B2%7D%7D%3Dm%20%5Cfrac%7B%5Cnu%5E%7B2%7D%7D%7B(r%2Bh)%7D%0A&#34;&gt;&lt;/p&gt;&lt;p&gt;基尔霍夫定律&lt;/p&gt;
&lt;p style=&#34;filter: opacity(90%);transform:scale(0.85);text-align:center;&#34;&gt;&lt;img src=&#34;https://math.now.sh?from=%5Cleft%5B%5Cfrac%7B%5Cpartial%5Cleft%28%5CDelta_%7Br%7D%20H_%7Bm%7D%5Cright%29%7D%7B%5Cpartial%20T%7D%5Cright%5D_%7Bp%7D%3D%5Csum_%7BB%7D%20v_%7BB%7D%20C_%7Bp%2C%20m%7D(B)%0A&#34;&gt;&lt;/p&gt;&lt;p&gt;热力学第二定律&lt;/p&gt;
&lt;p style=&#34;filter: opacity(90%);transform:scale(0.85);text-align:center;&#34;&gt;&lt;img src=&#34;https://math.now.sh?from=d%20S%20%5Cgeq%20%5Cfrac%7B%5Cdelta%20Q%7D%7BT%7D%0A&#34;&gt;&lt;/p&gt;&lt;h3 id=&#34;3-化学公式&#34;&gt;3 化学公式&lt;/h3&gt;
&lt;p&gt;离子反应与沉淀: &lt;img src=&#34;https://math.now.sh?inline=%5Cce%7BSO4%5E2-%20%2B%20Ba%5E2%2B%20-%3E%20BaSO4%20v%7D&#34; style=&#34;filter: opacity(90%);transform:scale(0.85);text-align:center;display:inline-block;margin: 0;&#34;&gt;&lt;/p&gt;
&lt;p&gt;氮气氢气合成氨&lt;/p&gt;
&lt;p style=&#34;filter: opacity(90%);transform:scale(0.85);text-align:center;&#34;&gt;&lt;img src=&#34;https://math.now.sh?from=%5Cce%7BN2%20%2B%203H2%20%3C%3D%3ET%5B%E9%AB%98%E6%B8%A9%E3%80%81%E5%8A%A0%E5%8E%8B%5D%5B%E5%82%AC%E5%8C%96%E5%89%82%5D%202NH3%7D%0A&#34;&gt;&lt;/p&gt;&lt;p&gt;化学平衡常数:&lt;img src=&#34;https://math.now.sh?inline=%5Cmathrm%7BZn%7D%2B2%20%5Cmathrm%7BHCl%7D%28%5Cmathrm%7Baq%7D%29%3D%5Cmathrm%7BH%7D_%7B2%7D%2B%5Cmathrm%7BZnCl%7D_%7B2%7D%20%5Cquad(%5Cmathrm%7Baq%7D)&#34; style=&#34;filter: opacity(90%);transform:scale(0.85);text-align:center;display:inline-block;margin: 0;&#34;&gt;&lt;/p&gt;
&lt;p style=&#34;filter: opacity(90%);transform:scale(0.85);text-align:center;&#34;&gt;&lt;img src=&#34;https://math.now.sh?from=K%5E%7B%5Ctheta%7D%3D%5Cfrac%7B%5Cleft%5Bp%5Cleft%28%5Cmathrm%7BH%7D_%7B2%7D%5Cright%29%20%2F%20p%5E%7B%5Ctheta%7D%5Cright%5D%5Cleft%5Bc%5Cleft(%5Cmathrm%7BZnCl%7D_%7B2%7D%5Cright)%5Cright%5D%7D%7Bc%5E%7B2%7D(%5Cmathrm%7BHC%7D)%7D%0A&#34;&gt;&lt;/p&gt;&lt;h3 id=&#34;4-生物公式&#34;&gt;4 生物公式&lt;/h3&gt;
&lt;p&gt;光合作用&lt;/p&gt;
&lt;p style=&#34;filter: opacity(90%);transform:scale(0.85);text-align:center;&#34;&gt;&lt;img src=&#34;https://math.now.sh?from=%5Cce%3C!--swig%EF%BF%BC79--%3E%0A&#34;&gt;&lt;/p&gt;&lt;h3 id=&#34;5-语法参考&#34;&gt;5 语法参考&lt;/h3&gt;
&lt;p&gt;&lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://math.meta.stackexchange.com/questions/5020/mathjax-basic-tutorial-and-quick-reference&#34;&gt;MathJax basic tutorial and quick reference&lt;/a&gt;&lt;/p&gt;
&lt;h4 id=&#34;长公式&#34;&gt;长公式&lt;/h4&gt;
&lt;p&gt;&lt;img src=&#34;https://math.now.sh/?from=%5Cdef%20%5Clowercase%20%7B%5Calpha%20%5Cbeta%20%5Cgamma%20%5Cdelta%20%5Cepsilon%20%5Czeta%20%5Ceta%20%5Ctheta%20%5Ciota%20%5Ckappa%20%5Clambda%20%5Cmu%20%5Cnu%20%5Comicron%20%5Cpi%20%5Crho%20%5Csigma%20%5Ctau%20%5Cupsilon%20%5Cphi%20%5Cchi%20%5Cpsi%20%5Comega%7D%0A%5Cdef%20%5Cuppercase%20%7BA%20B%20%5CGamma%20%5CDelta%20E%20Z%20E%20%5CTheta%20I%20K%20%5CLambda%20M%20N%20O%20%5CPi%20R%20%5CSigma%20T%20%5CUpsilon%20%5CPhi%20X%20%5CPsi%20%5COmega%7D%0A%5Cdef%20%5Clong%20%7B%5Cuppercase%20%5CLeftrightarrow%20%5Clowercase%7D%0A&#34; alt=&#34;img&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://math.now.sh/?inline=%5Ctext%7Blong%20inline%20mathjax%3A%7D%5Cquad%20%5Clong%20%5Cquad%20%5Clong%20%5Cquad%20%5Clong&#34; alt=&#34;img&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://math.now.sh/?from=%5Ctext%7B%3C-%20long%20displayed%20mathjax%20example%20-%3E%7D%20%5C%5C%0A%5Cbegin%7Bsplit%7D%0A%5Clong%20%5Cquad%20%26%5Clong%20%5C%5C%0A%26%5Clong%20%5Cquad%20%5Clong%0A%5Cend%7Bsplit%7D%0A&#34; alt=&#34;img&#34;&gt;&lt;/p&gt;
&lt;h4 id=&#34;小括号测试&#34;&gt;小括号测试&lt;/h4&gt;
&lt;pre class=&#34;line-numbers language-none&#34;&gt;&lt;code class=&#34;language-none&#34;&gt;$\alpha\beta$

$\alpha_\beta$

$\alpha_\beta = \gamma_\delta$

(abctest)

\(abctest\)

\\(abctest\\)&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;https://math.now.sh?inline=%5Calpha%5Cbeta&#34; style=&#34;filter: opacity(90%);transform:scale(0.85);text-align:center;display:inline-block;margin: 0;&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://math.now.sh?inline=%5Calpha_%5Cbeta&#34; style=&#34;filter: opacity(90%);transform:scale(0.85);text-align:center;display:inline-block;margin: 0;&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://math.now.sh?inline=%5Calpha_%5Cbeta%20%3D%20%5Cgamma_%5Cdelta&#34; style=&#34;filter: opacity(90%);transform:scale(0.85);text-align:center;display:inline-block;margin: 0;&#34;&gt;&lt;/p&gt;
&lt;p&gt;(abctest)&lt;/p&gt;
&lt;p&gt;(abctest)&lt;/p&gt;
&lt;p&gt;\(abctest\)&lt;/p&gt;
&lt;h4 id=&#34;下划线测试&#34;&gt;下划线测试&lt;/h4&gt;
&lt;pre class=&#34;line-numbers language-none&#34;&gt;&lt;code class=&#34;language-none&#34;&gt;w^{(l)}*{ij} = w^{(l)}*{ij} - \eta\frac{\partial E(W, b)}{\partial w^{(l)}_{ij}}&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;https://math.now.sh/?from=w%5E%7B%28l%29%7D*%7Bij%7D%20%3D%20w%5E%7B(l)%7D*%7Bij%7D%20-%20%5Ceta%5Cfrac%7B%5Cpartial%20E(W%2C%20b)%7D%7B%5Cpartial%20w%5E%7B(l)%7D_%7Bij%7D%7D%0A&#34; alt=&#34;img&#34;&gt;&lt;/p&gt;
&lt;h2 id=&#34;CSS测试&#34;&gt;CSS测试&lt;/h2&gt;
&lt;p&gt;文字增加背景色块 &lt;span id=&#34;inline-blue&#34;&gt;站点配置文件&lt;/span&gt;,&lt;br&gt;
&lt;span id=&#34;inline-purple&#34;&gt;主题配置文件&lt;/span&gt;&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-none&#34;&gt;&lt;code class=&#34;language-none&#34;&gt;&amp;lt;span id=&#34;inline-blue&#34;&amp;gt;站点配置文件&amp;lt;/span&amp;gt;, 
&amp;lt;span id=&#34;inline-purple&#34;&amp;gt;主题配置文件&amp;lt;/span&amp;gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;引用边框变色&#34;&gt;引用边框变色&lt;/h3&gt;
&lt;p id=&#34;div-border-left-red&#34;&gt;如果没有安装成功, 那可能就是墙的原因. 建议下载 `Node.js` 直接安装. &lt;/p&gt;
&lt;p id=&#34;div-border-top-blue&#34;&gt;关于更多基本操作和基础知识, 请查阅 [Hexo](https://hexo.io/zh-cn/) 与 [NexT](http://theme-next.iissnan.com/) 官方文档.&lt;/p&gt;  
&lt;pre class=&#34;line-numbers language-none&#34;&gt;&lt;code class=&#34;language-none&#34;&gt;&amp;lt;p id=&#34;div-border-left-red&#34;&amp;gt;如果没有安装成功, 那可能就是墙的原因. 建议下载 `Node.js` 直接安装. &amp;lt;/p&amp;gt;
&amp;lt;p id=&#34;div-border-top-blue&#34;&amp;gt;关于更多基本操作和基础知识, 请查阅 [Hexo](https://hexo.io/zh-cn/) 与 [NexT](http://theme-next.iissnan.com/) 官方文档.&amp;lt;/p&amp;gt;  &lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;图形边框效果&#34;&gt;图形边框效果&lt;/h3&gt;
&lt;p&gt;&lt;a id=&#34;download&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://git-scm.com/download/win&#34;&gt;&lt;i class=&#34;fa fa-download&#34;&gt;&lt;/i&gt;&lt;span&gt; Download Now&lt;/span&gt;&lt;br&gt;
&lt;/a&gt;&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-none&#34;&gt;&lt;code class=&#34;language-none&#34;&gt;&amp;lt;a id=&#34;download&#34; href=&#34;https://git-scm.com/download/win&#34;&amp;gt;&amp;lt;i class=&#34;fa fa-download&#34;&amp;gt;&amp;lt;/i&amp;gt;&amp;lt;span&amp;gt; Download Now&amp;lt;/span&amp;gt;
&amp;lt;/a&amp;gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;更多tips可参考 &lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://yangbingdong.com/2017/build-blog-hexo-advanced&#34;&gt;blog&lt;/a&gt;&lt;/p&gt;
&lt;h3 id=&#34;在文档中增加图标&#34;&gt;在文档中增加图标&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;i class=&#34;fa fa-pencil&#34;&gt;&lt;/i&gt;支持Markdown&lt;br&gt;
&lt;i&gt;Hexo 支持 GitHub Flavored Markdown 的所有功能, 甚至可以整合 Octopress 的大多数插件. &lt;/i&gt;&lt;/li&gt;
&lt;li&gt;&lt;i class=&#34;fa fa-cloud-upload&#34;&gt;&lt;/i&gt;一件部署&lt;br&gt;
&lt;i&gt;只需一条指令即可部署到Github Pages, 或其他网站&lt;/i&gt;&lt;/li&gt;
&lt;li&gt;&lt;i class=&#34;fa fa-cog&#34;&gt;&lt;/i&gt;丰富的插件&lt;br&gt;
&lt;i&gt;Hexo 拥有强大的插件系统, 安装插件可以让 Hexo 支持 Jade, CoffeeScript. &lt;/i&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;pre class=&#34;line-numbers language-none&#34;&gt;&lt;code class=&#34;language-none&#34;&gt;- &amp;lt;i class=&#34;fa fa-pencil&#34;&amp;gt;&amp;lt;/i&amp;gt;支持Markdown
&amp;lt;i&amp;gt;Hexo 支持 GitHub Flavored Markdown 的所有功能, 甚至可以整合 Octopress 的大多数插件. &amp;lt;/i&amp;gt;
- &amp;lt;i class=&#34;fa fa-cloud-upload&#34;&amp;gt;&amp;lt;/i&amp;gt;一件部署
&amp;lt;i&amp;gt;只需一条指令即可部署到Github Pages, 或其他网站&amp;lt;/i&amp;gt;
- &amp;lt;i class=&#34;fa fa-cog&#34;&amp;gt;&amp;lt;/i&amp;gt;丰富的插件
&amp;lt;i&amp;gt;Hexo 拥有强大的插件系统, 安装插件可以让 Hexo 支持 Jade, CoffeeScript. &amp;lt;/i&amp;gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;i class=&#34;fa fa-github&#34;&gt;&lt;/i&gt;&lt;br&gt;
&lt;i class=&#34;fa fa-github fa-lg&#34;&gt;&lt;/i&gt;&lt;br&gt;
&lt;i class=&#34;fa fa-github fa-2x&#34;&gt;&lt;/i&gt;&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-none&#34;&gt;&lt;code class=&#34;language-none&#34;&gt;`&amp;lt;i class=&#34;fa fa-github&#34;&amp;gt;&amp;lt;/i&amp;gt;`
`&amp;lt;i class=&#34;fa fa-github fa-lg&#34;&amp;gt;&amp;lt;/i&amp;gt;`
`&amp;lt;i class=&#34;fa fa-github fa-2x&#34;&amp;gt;&amp;lt;/i&amp;gt;`&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;图表绘制&#34;&gt;图表绘制&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;&lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://github.com/JameChou/hexo-tag-mermaid&#34;&gt;hexo-tag-mermaid&lt;/a&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://link.segmentfault.com/?enc=hOwQoD6fIIIe7W28woagTQ%3D%3D.VHuPUTxtKKrWqD9OwRmRWowEiRhfZtrRRPW0tAHaUnugQA9ofUIFaPqb38gbAsyx&#34;&gt;&lt;strong&gt;hexo-tag-plantuml&lt;/strong&gt;&lt;/a&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;hexo-tag-plantuml is a tag plugin for Hexo. It can work with plantuml to draw uml.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;在Hexo中绘制uml图。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://link.segmentfault.com/?enc=7CVDHj4WMnK6vHwS3JXOAQ%3D%3D.VqG%2BdxXCAb%2FdHLPgRnzrtjEUBUuK1EhF%2Fo7ev0Banu7ADAa3cS1GF4ROLNNWkriO&#34;&gt;&lt;strong&gt;hexo-filter-flowchart&lt;/strong&gt;&lt;/a&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Generate flowchart diagrams for Hexo.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;Mermaid&#34;&gt;Mermaid&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://blog.csdn.net/horsee/category_10772579.html&#34;&gt;Markdown mermaid教程&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;mermaid&#34;&gt;&lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://github.com/mermaid-js/mermaid&#34;&gt;mermaid&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;&lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://github.com/JameChou/hexo-tag-mermaid&#34;&gt;hexo-tag-mermaid&lt;/a&gt;&lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://github.com/two/hexo-tag-plantuml&#34;&gt;hexo-tag-plantuml&lt;/a&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;需要用下面块包裹&lt;/strong&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;pre class=&#34;line-numbers language-markdown&#34; data-language=&#34;markdown&#34;&gt;&lt;code class=&#34;language-markdown&#34;&gt;{% mermaid %}
[内容]
{% endmermaid %}&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;先来几个演示&lt;/p&gt;
&lt;div class=&#34;mermaid&#34;&gt;
  graph LR 
	source(*.java) --javac--&amp;gt; bytecode(*.class) 
	bytecode --java--&amp;gt; result(程序输出)
&lt;/div&gt;

&lt;div class=&#34;mermaid&#34;&gt;
  graph LR 
	type(type) -.-&amp;gt; type 
	type -.-&amp;gt; object(object) 
	type -.-&amp;gt; A(A) 
	type -.-&amp;gt; int(int) 
	A -.-&amp;gt; a((a)) 
	int -.-&amp;gt; i((i)) 
	object --&amp;gt; type 
	object --&amp;gt; A
&lt;/div&gt;

&lt;h3 id=&#34;flowchart&#34;&gt;flowchart&lt;/h3&gt;
&lt;p&gt;[&lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://mermaid-js.github.io/mermaid/#/flowchart&#34;&gt;docs&lt;/a&gt; - &lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://mermaidjs.github.io/mermaid-live-editor/#/edit/eyJjb2RlIjoiZ3JhcGggVERcbiAgICBBW0hhcmRdIC0tPnxUZXh0fCBCKFJvdW5kKVxuICAgIEIgLS0-IEN7RGVjaXNpb259XG4gICAgQyAtLT58T25lfCBEW1Jlc3VsdCAxXVxuICAgIEMgLS0-fFR3b3wgRVtSZXN1bHQgMl0iLCJtZXJtYWlkIjp7InRoZW1lIjoiZGVmYXVsdCJ9fQ&#34;&gt;live editor&lt;/a&gt;]&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-none&#34;&gt;&lt;code class=&#34;language-none&#34;&gt;{% mermaid %}
graph TD
    A[Christmas] --&amp;gt;|Get money| B(Go shopping)
    B --&amp;gt; C{Let me think}
    C --&amp;gt;|One| D[Laptop]
    C --&amp;gt;|Two| E[iPhone]
    C --&amp;gt;|Three| F[Car]
{% endmermaid %}&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;div class=&#34;mermaid&#34;&gt;
  graph TD
    A[Christmas] --&amp;gt;|Get money| B(Go shopping)
    B --&amp;gt; C{Let me think}
    C --&amp;gt;|One| D[Laptop]
    C --&amp;gt;|Two| E[iPhone]
    C --&amp;gt;|Three| F[Car]
&lt;/div&gt;

&lt;h3 id=&#34;Sequence-diagram&#34;&gt;Sequence &lt;strong&gt;diagram&lt;/strong&gt;&lt;/h3&gt;
&lt;p&gt;[&lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://mermaid-js.github.io/mermaid/#/sequenceDiagram&#34;&gt;docs&lt;/a&gt; - &lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://mermaidjs.github.io/mermaid-live-editor/#/edit/eyJjb2RlIjoic2VxdWVuY2VEaWFncmFtXG5BbGljZS0-PkpvaG46IEhlbGxvIEpvaG4sIGhvdyBhcmUgeW91P1xubG9vcCBIZWFsdGhjaGVja1xuICAgIEpvaG4tPj5Kb2huOiBGaWdodCBhZ2FpbnN0IGh5cG9jaG9uZHJpYVxuZW5kXG5Ob3RlIHJpZ2h0IG9mIEpvaG46IFJhdGlvbmFsIHRob3VnaHRzIVxuSm9obi0tPj5BbGljZTogR3JlYXQhXG5Kb2huLT4-Qm9iOiBIb3cgYWJvdXQgeW91P1xuQm9iLS0-PkpvaG46IEpvbGx5IGdvb2QhIiwibWVybWFpZCI6eyJ0aGVtZSI6ImRlZmF1bHQifX0&#34;&gt;live editor&lt;/a&gt;]&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-none&#34;&gt;&lt;code class=&#34;language-none&#34;&gt;{% mermaid %}
sequenceDiagram
    loop every day
        Alice-&amp;gt;&amp;gt;John: Hello John, how are you?
        John--&amp;gt;&amp;gt;Alice: Great!
    end
{% endmermaid %}&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;div class=&#34;mermaid&#34;&gt;
  sequenceDiagram
    loop every day
        Alice-&amp;gt;&amp;gt;John: Hello John, how are you?
        John--&amp;gt;&amp;gt;Alice: Great!
    end
&lt;/div&gt;

&lt;h3 id=&#34;Gantt-diagram&#34;&gt;Gantt &lt;strong&gt;diagram&lt;/strong&gt;&lt;/h3&gt;
&lt;p&gt;[&lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://mermaid-js.github.io/mermaid/#/gantt&#34;&gt;docs&lt;/a&gt; - &lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://mermaidjs.github.io/mermaid-live-editor/#/edit/eyJjb2RlIjoiZ2FudHRcbnNlY3Rpb24gU2VjdGlvblxuQ29tcGxldGVkIDpkb25lLCAgICBkZXMxLCAyMDE0LTAxLTA2LDIwMTQtMDEtMDhcbkFjdGl2ZSAgICAgICAgOmFjdGl2ZSwgIGRlczIsIDIwMTQtMDEtMDcsIDNkXG5QYXJhbGxlbCAxICAgOiAgICAgICAgIGRlczMsIGFmdGVyIGRlczEsIDFkXG5QYXJhbGxlbCAyICAgOiAgICAgICAgIGRlczQsIGFmdGVyIGRlczEsIDFkXG5QYXJhbGxlbCAzICAgOiAgICAgICAgIGRlczUsIGFmdGVyIGRlczMsIDFkXG5QYXJhbGxlbCA0ICAgOiAgICAgICAgIGRlczYsIGFmdGVyIGRlczQsIDFkIiwibWVybWFpZCI6eyJ0aGVtZSI6ImRlZmF1bHQifX0&#34;&gt;live editor&lt;/a&gt;]&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-none&#34;&gt;&lt;code class=&#34;language-none&#34;&gt;{% mermaid %}
gantt
    dateFormat  YYYY-MM-DD
    title Adding GANTT diagram functionality to mermaid

    section A section
    Completed task            :done,    des1, 2014-01-06,2014-01-08
    Active task               :active,  des2, 2014-01-09, 3d
    Future task               :         des3, after des2, 5d
    Future task2               :         des4, after des3, 5d

    section Critical tasks
    Completed task in the critical line :crit, done, 2014-01-06,24h
    Implement parser and jison          :crit, done, after des1, 2d
    Create tests for parser             :crit, active, 3d
    Future task in critical line        :crit, 5d
    Create tests for renderer           :2d
    Add to mermaid                      :1d

    section Documentation
    Describe gantt syntax               :active, a1, after des1, 3d
    Add gantt diagram to demo page      :after a1  , 20h
    Add another diagram to demo page    :doc1, after a1  , 48h

    section Last section
    Describe gantt syntax               :after doc1, 3d
    Add gantt diagram to demo page      : 20h
    Add another diagram to demo page    : 48h
{% endmermaid %}&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;div class=&#34;mermaid&#34;&gt;
  gantt
    dateFormat  YYYY-MM-DD
    title Adding GANTT diagram functionality to mermaid

    section A section
    Completed task            :done,    des1, 2014-01-06,2014-01-08
    Active task               :active,  des2, 2014-01-09, 3d
    Future task               :         des3, after des2, 5d
    Future task2               :         des4, after des3, 5d
    
    section Critical tasks
    Completed task in the critical line :crit, done, 2014-01-06,24h
    Implement parser and jison          :crit, done, after des1, 2d
    Create tests for parser             :crit, active, 3d
    Future task in critical line        :crit, 5d
    Create tests for renderer           :2d
    Add to mermaid                      :1d
    
    section Documentation
    Describe gantt syntax               :active, a1, after des1, 3d
    Add gantt diagram to demo page      :after a1  , 20h
    Add another diagram to demo page    :doc1, after a1  , 48h
    
    section Last section
    Describe gantt syntax               :after doc1, 3d
    Add gantt diagram to demo page      : 20h
    Add another diagram to demo page    : 48h
&lt;/div&gt;

&lt;h3 id=&#34;ER图&#34;&gt;ER图&lt;/h3&gt;
&lt;div class=&#34;mermaid&#34;&gt;
  erDiagram
    CUSTOMER ||--o{ ORDER : places
    CUSTOMER {
        string name
        string custNumber
        string sector
    }
    ORDER ||--|{ LINE-ITEM : contains
    ORDER {
        int orderNumber
        string deliveryAddress
    }
    LINE-ITEM {
        string productCode
        int quantity
        float pricePerUnit
    }
&lt;/div&gt;

&lt;pre class=&#34;line-numbers language-none&#34;&gt;&lt;code class=&#34;language-none&#34;&gt;erDiagram
    CUSTOMER ||--o{ ORDER : places
    CUSTOMER {
        string name
        string custNumber
        string sector
    }
    ORDER ||--|{ LINE-ITEM : contains
    ORDER {
        int orderNumber
        string deliveryAddress
    }
    LINE-ITEM {
        string productCode
        int quantity
        float pricePerUnit
    }&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;class&#34;&gt;&lt;strong&gt;class&lt;/strong&gt;&lt;/h3&gt;
&lt;p&gt;[&lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://mermaid-js.github.io/mermaid/#/classDiagram&#34;&gt;docs&lt;/a&gt; - &lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://mermaidjs.github.io/mermaid-live-editor/#/edit/eyJjb2RlIjoiY2xhc3NEaWFncmFtXG5DbGFzczAxIDx8LS0gQXZlcnlMb25nQ2xhc3MgOiBDb29sXG48PGludGVyZmFjZT4-IENsYXNzMDFcbkNsYXNzMDkgLS0-IEMyIDogV2hlcmUgYW0gaT9cbkNsYXNzMDkgLS0qIEMzXG5DbGFzczA5IC0tfD4gQ2xhc3MwN1xuQ2xhc3MwNyA6IGVxdWFscygpXG5DbGFzczA3IDogT2JqZWN0W10gZWxlbWVudERhdGFcbkNsYXNzMDEgOiBzaXplKClcbkNsYXNzMDEgOiBpbnQgY2hpbXBcbkNsYXNzMDEgOiBpbnQgZ29yaWxsYVxuY2xhc3MgQ2xhc3MxMCB7XG4gID4-c2VydmljZT4-XG4gIGludCBpZFxuICBzaXplKClcbn0iLCJtZXJtYWlkIjp7InRoZW1lIjoiZGVmYXVsdCJ9fQ&#34;&gt;live editor&lt;/a&gt;]&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-none&#34;&gt;&lt;code class=&#34;language-none&#34;&gt;classDiagram
class Shape{
    &amp;lt;&amp;lt;interface&amp;gt;&amp;gt;
    noOfVertices
    draw()
}
class Color{
    &amp;lt;&amp;lt;enumeration&amp;gt;&amp;gt;
    RED
    BLUE
    GREEN
    WHITE
    BLACK
}&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;div class=&#34;mermaid&#34;&gt;
  classDiagram
class Shape{
    &amp;lt;&lt;interface&gt;&amp;gt;
    noOfVertices
    draw()
}
class Color{
    &amp;lt;&lt;enumeration&gt;&amp;gt;
    RED
    BLUE
    GREEN
    WHITE
    BLACK
}
&lt;/enumeration&gt;&lt;/interface&gt;&lt;/div&gt;

&lt;h3 id=&#34;State&#34;&gt;&lt;strong&gt;State&lt;/strong&gt;&lt;/h3&gt;
&lt;p&gt;[&lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://mermaid-js.github.io/mermaid/#/stateDiagram&#34;&gt;docs&lt;/a&gt; - &lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://mermaid-js.github.io/mermaid-live-editor/#/edit/eyJjb2RlIjoic3RhdGVEaWFncmFtLXYyXG4gICAgWypdIC0tPiBTdGlsbFxuICAgIFN0aWxsIC0tPiBbKl1cbiAgICBTdGlsbCAtLT4gTW92aW5nXG4gICAgTW92aW5nIC0tPiBTdGlsbFxuICAgIE1vdmluZyAtLT4gQ3Jhc2hcbiAgICBDcmFzaCAtLT4gWypdIiwibWVybWFpZCI6eyJ0aGVtZSI6ImRlZmF1bHQiLCJ0aGVtZVZhcmlhYmxlcyI6eyJiYWNrZ3JvdW5kIjoid2hpdGUiLCJwcmltYXJ5Q29sb3IiOiIjRUNFQ0ZGIiwic2Vjb25kYXJ5Q29sb3IiOiIjZmZmZmRlIiwidGVydGlhcnlDb2xvciI6ImhzbCg4MCwgMTAwJSwgOTYuMjc0NTA5ODAzOSUpIiwicHJpbWFyeUJvcmRlckNvbG9yIjoiaHNsKDI0MCwgNjAlLCA4Ni4yNzQ1MDk4MDM5JSkiLCJzZWNvbmRhcnlCb3JkZXJDb2xvciI6ImhzbCg2MCwgNjAlLCA4My41Mjk0MTE3NjQ3JSkiLCJ0ZXJ0aWFyeUJvcmRlckNvbG9yIjoiaHNsKDgwLCA2MCUsIDg2LjI3NDUwOTgwMzklKSIsInByaW1hcnlUZXh0Q29sb3IiOiIjMTMxMzAwIiwic2Vjb25kYXJ5VGV4dENvbG9yIjoiIzAwMDAyMSIsInRlcnRpYXJ5VGV4dENvbG9yIjoicmdiKDkuNTAwMDAwMDAwMSwgOS41MDAwMDAwMDAxLCA5LjUwMDAwMDAwMDEpIiwibGluZUNvbG9yIjoiIzMzMzMzMyIsInRleHRDb2xvciI6IiMzMzMiLCJtYWluQmtnIjoiI0VDRUNGRiIsInNlY29uZEJrZyI6IiNmZmZmZGUiLCJib3JkZXIxIjoiIzkzNzBEQiIsImJvcmRlcjIiOiIjYWFhYTMzIiwiYXJyb3doZWFkQ29sb3IiOiIjMzMzMzMzIiwiZm9udEZhbWlseSI6IlwidHJlYnVjaGV0IG1zXCIsIHZlcmRhbmEsIGFyaWFsIiwiZm9udFNpemUiOiIxNnB4IiwibGFiZWxCYWNrZ3JvdW5kIjoiI2U4ZThlOCIsIm5vZGVCa2ciOiIjRUNFQ0ZGIiwibm9kZUJvcmRlciI6IiM5MzcwREIiLCJjbHVzdGVyQmtnIjoiI2ZmZmZkZSIsImNsdXN0ZXJCb3JkZXIiOiIjYWFhYTMzIiwiZGVmYXVsdExpbmtDb2xvciI6IiMzMzMzMzMiLCJ0aXRsZUNvbG9yIjoiIzMzMyIsImVkZ2VMYWJlbEJhY2tncm91bmQiOiIjZThlOGU4IiwiYWN0b3JCb3JkZXIiOiJoc2woMjU5LjYyNjE2ODIyNDMsIDU5Ljc3NjUzNjMxMjglLCA4Ny45MDE5NjA3ODQzJSkiLCJhY3RvckJrZyI6IiNFQ0VDRkYiLCJhY3RvclRleHRDb2xvciI6ImJsYWNrIiwiYWN0b3JMaW5lQ29sb3IiOiJncmV5Iiwic2lnbmFsQ29sb3IiOiIjMzMzIiwic2lnbmFsVGV4dENvbG9yIjoiIzMzMyIsImxhYmVsQm94QmtnQ29sb3IiOiIjRUNFQ0ZGIiwibGFiZWxCb3hCb3JkZXJDb2xvciI6ImhzbCgyNTkuNjI2MTY4MjI0MywgNTkuNzc2NTM2MzEyOCUsIDg3LjkwMTk2MDc4NDMlKSIsImxhYmVsVGV4dENvbG9yIjoiYmxhY2siLCJsb29wVGV4dENvbG9yIjoiYmxhY2siLCJub3RlQm9yZGVyQ29sb3IiOiIjYWFhYTMzIiwibm90ZUJrZ0NvbG9yIjoiI2ZmZjVhZCIsIm5vdGVUZXh0Q29sb3IiOiJibGFjayIsImFjdGl2YXRpb25Cb3JkZXJDb2xvciI6IiM2NjYiLCJhY3RpdmF0aW9uQmtnQ29sb3IiOiIjZjRmNGY0Iiwic2VxdWVuY2VOdW1iZXJDb2xvciI6IndoaXRlIiwic2VjdGlvbkJrZ0NvbG9yIjoicmdiYSgxMDIsIDEwMiwgMjU1LCAwLjQ5KSIsImFsdFNlY3Rpb25Ca2dDb2xvciI6IndoaXRlIiwic2VjdGlvbkJrZ0NvbG9yMiI6IiNmZmY0MDAiLCJ0YXNrQm9yZGVyQ29sb3IiOiIjNTM0ZmJjIiwidGFza0JrZ0NvbG9yIjoiIzhhOTBkZCIsInRhc2tUZXh0TGlnaHRDb2xvciI6IndoaXRlIiwidGFza1RleHRDb2xvciI6IndoaXRlIiwidGFza1RleHREYXJrQ29sb3IiOiJibGFjayIsInRhc2tUZXh0T3V0c2lkZUNvbG9yIjoiYmxhY2siLCJ0YXNrVGV4dENsaWNrYWJsZUNvbG9yIjoiIzAwMzE2MyIsImFjdGl2ZVRhc2tCb3JkZXJDb2xvciI6IiM1MzRmYmMiLCJhY3RpdmVUYXNrQmtnQ29sb3IiOiIjYmZjN2ZmIiwiZ3JpZENvbG9yIjoibGlnaHRncmV5IiwiZG9uZVRhc2tCa2dDb2xvciI6ImxpZ2h0Z3JleSIsImRvbmVUYXNrQm9yZGVyQ29sb3IiOiJncmV5IiwiY3JpdEJvcmRlckNvbG9yIjoiI2ZmODg4OCIsImNyaXRCa2dDb2xvciI6InJlZCIsInRvZGF5TGluZUNvbG9yIjoicmVkIiwibGFiZWxDb2xvciI6ImJsYWNrIiwiZXJyb3JCa2dDb2xvciI6IiM1NTIyMjIiLCJlcnJvclRleHRDb2xvciI6IiM1NTIyMjIiLCJjbGFzc1RleHQiOiIjMTMxMzAwIiwiZmlsbFR5cGUwIjoiI0VDRUNGRiIsImZpbGxUeXBlMSI6IiNmZmZmZGUiLCJmaWxsVHlwZTIiOiJoc2woMzA0LCAxMDAlLCA5Ni4yNzQ1MDk4MDM5JSkiLCJmaWxsVHlwZTMiOiJoc2woMTI0LCAxMDAlLCA5My41Mjk0MTE3NjQ3JSkiLCJmaWxsVHlwZTQiOiJoc2woMTc2LCAxMDAlLCA5Ni4yNzQ1MDk4MDM5JSkiLCJmaWxsVHlwZTUiOiJoc2woLTQsIDEwMCUsIDkzLjUyOTQxMTc2NDclKSIsImZpbGxUeXBlNiI6ImhzbCg4LCAxMDAlLCA5Ni4yNzQ1MDk4MDM5JSkiLCJmaWxsVHlwZTciOiJoc2woMTg4LCAxMDAlLCA5My41Mjk0MTE3NjQ3JSkifX0sInVwZGF0ZUVkaXRvciI6ZmFsc2V9&#34;&gt;live editor&lt;/a&gt;]&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-none&#34;&gt;&lt;code class=&#34;language-none&#34;&gt;{% mermaid %}
stateDiagram-v2
    [*] --&amp;gt; Still
    Still --&amp;gt; [*]
    Still --&amp;gt; Moving
    Moving --&amp;gt; Still
    Moving --&amp;gt; Crash
    Crash --&amp;gt; [*]
{% endmermaid %}&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;div class=&#34;mermaid&#34;&gt;
  stateDiagram-v2
    [*] --&amp;gt; Still
    Still --&amp;gt; [*]
    Still --&amp;gt; Moving
    Moving --&amp;gt; Still
    Moving --&amp;gt; Crash
    Crash --&amp;gt; [*]
&lt;/div&gt;

&lt;h3 id=&#34;Pie&#34;&gt;&lt;strong&gt;Pie&lt;/strong&gt;&lt;/h3&gt;
&lt;p&gt;[&lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://mermaid-js.github.io/mermaid/#/pie&#34;&gt;docs&lt;/a&gt; - &lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://mermaidjs.github.io/mermaid-live-editor/#/edit/eyJjb2RlIjoicGllXG5cIkRvZ3NcIiA6IDQyLjk2XG5cIkNhdHNcIiA6IDUwLjA1XG5cIlJhdHNcIiA6IDEwLjAxIiwibWVybWFpZCI6eyJ0aGVtZSI6ImRlZmF1bHQifX0&#34;&gt;live editor&lt;/a&gt;]&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-none&#34;&gt;&lt;code class=&#34;language-none&#34;&gt;{% mermaid %}
pie
&#34;Dogs&#34; : 386
&#34;Cats&#34; : 85
&#34;Rats&#34; : 15
{% endmermaid %}&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;div class=&#34;mermaid&#34;&gt;
  pie
&#34;Dogs&#34; : 386
&#34;Cats&#34; : 85
&#34;Rats&#34; : 15
&lt;/div&gt;

&lt;h3 id=&#34;User-Journey&#34;&gt;&lt;strong&gt;User Journey&lt;/strong&gt;&lt;/h3&gt;
&lt;p&gt;[&lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://mermaid-js.github.io/mermaid/#/user-journey&#34;&gt;docs&lt;/a&gt; - &lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://mermaidjs.github.io/mermaid-live-editor/#/edit/eyJjb2RlIjoic3RhdGVEaWFncmFtXG4gICAgWypdIC0tPiBTdGlsbFxuICAgIFN0aWxsIC0tPiBbKl1cbiAgICBTdGlsbCAtLT4gTW92aW5nXG4gICAgTW92aW5nIC0tPiBTdGlsbFxuICAgIE1vdmluZyAtLT4gQ3Jhc2hcbiAgICBDcmFzaCAtLT4gWypdIiwibWVybWFpZCI6eyJ0aGVtZSI6ImRlZmF1bHQifX0&#34;&gt;live editor&lt;/a&gt;]&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-none&#34;&gt;&lt;code class=&#34;language-none&#34;&gt;{% mermaid %}
	  journey
    title My working day
    section Go to work
      Make tea: 5: Me
      Go upstairs: 3: Me
      Do work: 1: Me, Cat
    section Go home
      Go downstairs: 5: Me
      Sit down: 3: Me
{% endmermaid %}&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;div class=&#34;mermaid&#34;&gt;
  journey
 title My working day
 section Go to work
   Make tea: 5: Me
   Go upstairs: 3: Me
   Do work: 1: Me, Cat
 section Go home
   Go downstairs: 5: Me
   Sit down: 3: Me
&lt;/div&gt;

&lt;h2 id=&#34;plant-uml&#34;&gt;plant uml&lt;/h2&gt;
&lt;p&gt;&lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://link.segmentfault.com/?enc=ZnkRBa%2Fre3TQCl7KNJg2Sg%3D%3D.ZEjsSgGk0F1LOYjRqQLWGcsHdjIHjXJJNCwT20OKlas%3D&#34;&gt;&lt;strong&gt;PlantUML&lt;/strong&gt; &lt;/a&gt;是一个允许你快速编写一下图表的组件 :&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://link.segmentfault.com/?enc=WnNQQpbhwLLtOvy0iZznAw%3D%3D.ufDzIrmSHLTJOvU%2B%2BrCbHKX7i%2BXDfiAs43p47%2Brd6CPQPzmoRjTx9Yjer2eCPMIx&#34;&gt;Sequence diagram&lt;/a&gt;（时序图）&lt;/li&gt;
&lt;li&gt;&lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://link.segmentfault.com/?enc=swyHFudu0Dv1kgG36K6uKQ%3D%3D.%2F3OTiCZ42cJb5Qx7sx3T0xkD8UzUl2QpmT5nScfRShRBbDCjvTAYmIjQBdcndh5P&#34;&gt;Usecase diagram&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://link.segmentfault.com/?enc=y2iylEjbyP1BkiOoSD3aBQ%3D%3D.Uk3N50fH52eqKvi5pR9V2dCwZ2t88GyGCkB56t0bi51SDzK3TAm8q%2F%2BknYaMp6gq&#34;&gt;Class diagram&lt;/a&gt;（类图）&lt;/li&gt;
&lt;li&gt;&lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://link.segmentfault.com/?enc=ZPF3Fm60rmWHTd6iqgefYw%3D%3D.hetxaEZitHOTlwF26EQHW1ze%2BqQe28tO5Zan9A6PQD7tELizzdVt2LCwJ7Wqni8N&#34;&gt;Activity diagram&lt;/a&gt; (here is &lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://link.segmentfault.com/?enc=G1AlcTWhXkwCzalwXO04Tw%3D%3D.RKEPVfhovignZnpee9bltjlVeAZ25VKK5bSbzmo2G225h2cQ3wEKM8LyC23GxRLL&#34;&gt;the legacy syntax)&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://link.segmentfault.com/?enc=Vxtv5M%2FcCgkpBtyWH8mDCA%3D%3D.xTXdTliRpsnQ8OniXrs1V6YfjTy0nSFbS7l7wqvn0uACpHlTJNL9BlF0xb7vfM4Z&#34;&gt;Component diagram&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://link.segmentfault.com/?enc=asRZoWO7I5UQ3wuP84r8hg%3D%3D.vyIPg7GpNKjSjf7e2IS4KO%2Bg6SnD1DLe9DYb9T1CuW2U41s72PgDFuT0hbkp2BO9&#34;&gt;State diagram&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://link.segmentfault.com/?enc=WMWDuC4PoXS%2BUq8UK%2B6m6Q%3D%3D.UaRzixgD%2B8x%2BRoBPDjArHXZEVWCpjnRwzoBn9HZDWAgyM2iggTjoxPJrpjuH5nZL&#34;&gt;Object diagram&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://link.segmentfault.com/?enc=4QYG%2FOLv5kpCA0Wur4JTBg%3D%3D.Ci3AIvz1ie0I6BCUt8a%2BaklDx8hJvKPujkVdWDGw%2BzDTkfdnBBhY5GhX9mIITaMb&#34;&gt;Deployment diagram&lt;/a&gt;(BETA)&lt;/li&gt;
&lt;li&gt;&lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://link.segmentfault.com/?enc=%2Bi9ecBhjJV%2Fo6bPpIo6zEw%3D%3D.b0HW%2B0h7iKI3LibmVdbEmi77twGMobstSrkBWn2n6AucZmIcrNRI7QEhpDEMrUTR&#34;&gt;Timing diagram&lt;/a&gt;(BETA)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Hexo安装hexo-tag-plantuml插件，便能使其绘制的图表在博客上展示，其原理其实使用的是 PlantUML 提供的在线服务, 只是简单地将标签包裹的代码传给服务器, 获取生成的链接, 生成 img标签替换原来的代码区域.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://link.segmentfault.com/?enc=Om2tsztpVQpl48NLQP8wPg%3D%3D.lA5QuvRnDCcbundLA81sGH8MG3E6QjnIJQ6%2BgojZWH8%3D&#34;&gt;plantUML在线编辑网站&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;可使用HTML标签将其嵌套&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-none&#34;&gt;&lt;code class=&#34;language-none&#34;&gt;{% plantuml %}
title Relationships - Class Diagram

class Dwelling {
  +Int Windows
  +void LockTheDoor()
}

class Apartment
class House
class Commune
class Window
class Door

Dwelling &amp;lt;|-down- Apartment: Inheritance
Dwelling &amp;lt;|-down- Commune: Inheritance
Dwelling &amp;lt;|-down- House: Inheritance
Dwelling &#34;1&#34; *-up- &#34;many&#34; Window: Composition
Dwelling &#34;1&#34; *-up- &#34;many&#34; Door: Composition
{% endplantuml %}&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;img src=&#34;http://www.plantuml.com/plantuml/svg/XP0z2y8m48Rt_8gZanzaS2qkKWSBJY8uXpQqXybTQ5ABgF_TrhQAuCUMbpptt4V0O3Jij541cNo9peE4n2ZlOOsgg9GL8kjZeur1Ak0Y0EOf1JWWvTpuBfuOSzXoTjoNUirSJQRYDXQkdAg2rHI6lE7Qw-6TiBKrZQaNZlrQZH3FhikhRFz8ldGnf5Jg2eEYJ7y01_S_x37E5oXQH32JjPCGMKNdQ9WmxjoEFNP7-q5tAxonTm00&#34;&gt;
&lt;pre class=&#34;line-numbers language-none&#34;&gt;&lt;code class=&#34;language-none&#34;&gt;{% plantuml %}
[内容]
{% endplantuml %}&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;时序图&#34;&gt;&lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://plantuml.com/zh/timing-diagram&#34;&gt;时序图&lt;/a&gt;&lt;/h3&gt;
&lt;pre class=&#34;line-numbers language-none&#34;&gt;&lt;code class=&#34;language-none&#34;&gt;{% plantuml %}
    Bob-&amp;gt;Alice : hello
{% endplantuml %}&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;img src=&#34;http://www.plantuml.com/plantuml/svg/SyfFqhLppCbCJbMmKiX8pSd91m00&#34;&gt;
&lt;pre class=&#34;line-numbers language-none&#34;&gt;&lt;code class=&#34;language-none&#34;&gt;Alice -&amp;gt; Bob: Authentication Request
Bob --&amp;gt; Alice: Authentication Response

Alice -&amp;gt; Bob: Another authentication Request
Alice &amp;lt;-- Bob: Another authentication Response&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;img src=&#34;http://www.plantuml.com/plantuml/svg/Syp9J4vLqBLJSCfFib9mB2t9ICqhoKnEBCdCprC8IYqiJIqkuGBAAUW2rJY256DHLLoGdrUSoiNbY6fONZvGNP528dP38OfjT7K9g8OO3W00&#34;&gt;
&lt;h3 id=&#34;用例图&#34;&gt;&lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://plantuml.com/zh/use-case-diagram&#34;&gt;用例图&lt;/a&gt;&lt;/h3&gt;
&lt;pre class=&#34;line-numbers language-none&#34;&gt;&lt;code class=&#34;language-none&#34;&gt;{% plantuml %}
User -&amp;gt; (Start)
User --&amp;gt; (Use the application) : A small label

:Main Admin: ---&amp;gt; (Use the application) : This is\nyet another\nlabel
{% endplantuml %}&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;类图&#34;&gt;&lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://plantuml.com/zh/class-diagram&#34;&gt;类图&lt;/a&gt;&lt;/h3&gt;
&lt;pre class=&#34;line-numbers language-none&#34;&gt;&lt;code class=&#34;language-none&#34;&gt;{% plantuml %}
class Object &amp;lt;&amp;lt; general &amp;gt;&amp;gt;
Object &amp;lt;|--- ArrayList

note top of Object : In java, every class\nextends this one.

note &#34;This is a floating note&#34; as N1
note &#34;This note is connected\nto several objects.&#34; as N2
Object .. N2
N2 .. ArrayList

class Foo
note left: On last defined class
{% endplantuml %}&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;活动图&#34;&gt;&lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://plantuml.com/zh/activity-diagram-beta&#34;&gt;活动图&lt;/a&gt;&lt;/h3&gt;
&lt;pre class=&#34;line-numbers language-markdown&#34; data-language=&#34;markdown&#34;&gt;&lt;code class=&#34;language-markdown&#34;&gt;{% plantuml %}
@startuml
start

if (Graphviz 已安装?) then (yes)
  :处理所有\n绘制任务;
else (no)
  :仅处理
  &lt;span class=&#34;token bold&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;__&lt;/span&gt;&lt;span class=&#34;token content&#34;&gt;时序图&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;__&lt;/span&gt;&lt;/span&gt; 和 &lt;span class=&#34;token bold&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;__&lt;/span&gt;&lt;span class=&#34;token content&#34;&gt;活动&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;__&lt;/span&gt;&lt;/span&gt; 图;
endif

stop
@enduml
{% endplantuml %}&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;img src=&#34;http://www.plantuml.com/plantuml/svg/SoWkIImgAStDuG8pkBWoqnGqt8iI2pBACgiKdcxVz7HTvul5hVQQ2YKPgNaA6fMfnPfS2WfMJvUqF9_GzgopuTcSpfYyvxjdFEtOzcJtxgTT2wsvKdEAKnKqylB12f_iReMe1NBYuvzDt_PqL__JsVlYunMUJke1YMm1Qbe1uixU1zIQbvAPnWLqItu1bmEG0tGO0000&#34;&gt;
&lt;h3 id=&#34;组件图&#34;&gt;&lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://plantuml.com/zh/component-diagram&#34;&gt;组件图&lt;/a&gt;&lt;/h3&gt;
&lt;pre class=&#34;line-numbers language-markdown&#34; data-language=&#34;markdown&#34;&gt;&lt;code class=&#34;language-markdown&#34;&gt;{% plantuml %}
@startuml

[First component]
[Another component] as Comp2
component Comp3
component [Last\ncomponent] as Comp4

@enduml
{% endplantuml %}&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;img src=&#34;http://www.plantuml.com/plantuml/svg/SoWkIImgAStDuUAATiiiAYvHICxFBSZFIyqhYUMATipBByb8BK8IKqWiLd06yeouu69WlZ4IFzediRWa9WzJamaNbqDgNWhGDW00&#34;&gt;
&lt;h3 id=&#34;状态图&#34;&gt;&lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://plantuml.com/zh/state-diagram&#34;&gt;状态图&lt;/a&gt;&lt;/h3&gt;
&lt;pre class=&#34;line-numbers language-markdown&#34; data-language=&#34;markdown&#34;&gt;&lt;code class=&#34;language-markdown&#34;&gt;{% plantuml %}
@startuml

[&lt;span class=&#34;token italic&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;token content&#34;&gt;] --&amp;gt; State1
State1 --&amp;gt; [&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;*&lt;/span&gt;&lt;/span&gt;]
State1 : this is a string
State1 : this is another string

State1 -&amp;gt; State2
State2 --&amp;gt; [*]

@enduml
{% endplantuml %}&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;img src=&#34;http://www.plantuml.com/plantuml/svg/SoWkIImgAStDuUAArefLqDMrKmWkIIn9DUI2K60He0oCQwLGaf5Ph014YGh59KMPUUbOPFBoIp9IYs3oS9EWHXj118pWHdCvfEQb09q00000&#34;&gt;
&lt;h3 id=&#34;对象图&#34;&gt;&lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://plantuml.com/zh/object-diagram&#34;&gt;对象图&lt;/a&gt;&lt;/h3&gt;
&lt;pre class=&#34;line-numbers language-markdown&#34; data-language=&#34;markdown&#34;&gt;&lt;code class=&#34;language-markdown&#34;&gt;{% plantuml %}
@startuml PERT
left to right direction
&#39; Horizontal lines: --&amp;gt;, &lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;--,&lt;/span&gt; &lt;span class=&#34;token attr-name&#34;&gt;&amp;lt;--&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
&#39; Vertical lines: -&amp;gt;, &lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;-,&lt;/span&gt; &lt;span class=&#34;token attr-name&#34;&gt;&amp;lt;-&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
title PERT: Project Name

map Kick.Off {
}
map task.1 {
    Start =&amp;gt; End
}
map task.2 {
    Start =&amp;gt; End
}
map task.3 {
    Start =&amp;gt; End
}
map task.4 {
    Start =&amp;gt; End
}
map task.5 {
    Start =&amp;gt; End
}
Kick.Off --&amp;gt; task.1 : Label 1
Kick.Off --&amp;gt; task.2 : Label 2
Kick.Off --&amp;gt; task.3 : Label 3
task.1 --&amp;gt; task.4
task.2 --&amp;gt; task.4
task.3 --&amp;gt; task.4
task.4 --&amp;gt; task.5 : Label 4
@enduml
{% endplantuml %}&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;img src=&#34;http://www.plantuml.com/plantuml/svg/XP7DQiCm48Jl-nHpwoKEn3yNqvfS0e64r3IbTyMM4oMo5EJjfQNl7iMaIcWD5gn0yosp8tRUiN3ysMgKYxTtqh9Xi8LJ-mEZLavMhAoX9oojKr_MiD3GoiWkHnGL4pn7KNyLlkL3EbRLGqFFhrKGAzQodv6ZTFReVR4HhIHgnHahLPschqs3R_hf1HRTQJhpJ_YplKR4Iu65gHzvFCAJ4PwEy6oOXx3-rxz1Swp5JchC1cWSQ3n0aq0Jkfa5bjBDuA-I_5FIkv85nvJcqjH-kHS0&#34;&gt;
&lt;h3 id=&#34;部署图&#34;&gt;&lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://plantuml.com/zh/deployment-diagram&#34;&gt;部署图&lt;/a&gt;&lt;/h3&gt;
&lt;pre class=&#34;line-numbers language-none&#34;&gt;&lt;code class=&#34;language-none&#34;&gt;{% plantuml %}
@startuml
actor actor
agent agent
artifact artifact
boundary boundary
card card
cloud cloud
component component
control control
database database
entity entity
file file
folder folder
frame frame
interface  interface
node node
package package
queue queue
stack stack
rectangle rectangle
storage storage
usecase usecase
@enduml
{% endplantuml %}&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;img src=&#34;http://www.plantuml.com/plantuml/svg/FP1B4eGm24JtVGgEubKmGSio1WV9mjiFyRTv_Gho8HaEP_Es5N1oDRe8dgKwNKIqbodAz0f6RJMpdVGA4bkc3gIYBRGJIRTTQp_fiwXLDotq938xZtm8lO9OjVX9Ts1QYb079YrPZEx0PBn5enDBTR6OJ8W-HTKir86TqnfFeIVnQzA4BY9UdrQw29FaNEUuxxFeg_MzJw8TalgqJsAGckFp_W00&#34;&gt;
&lt;h2 id=&#34;URL-卡片&#34;&gt;&lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://github.com/toastsgithub/hexo-valkyr-url&#34;&gt;URL 卡片&lt;/a&gt;&lt;/h2&gt;
&lt;div class=&#34;vkr-url-wrapper&#34;&gt;
&lt;style&gt;
.vkr-url-wrapper {
    padding: 10px;
    border-radius: 5px;
    border: 1px solid;
    border-color: #eee #ddd #bbb;
    box-shadow: rgba(0,0,0,.14) 0 1px 3px;
    margin-bottom: 10px;
    display: flex;
}
.vkr-url-wrapper .desc-wrapper &gt; hr {
    margin: 10px 0;
    height: 1px;
}
.vkr-url-wrapper .avatar {
    width: 100px;
    height: 100px;
    border: solid 1px #eee;
    box-shadow: none!important;
    margin: 0;
    margin-right: 10px;
}
.vkr-url-wrapper h2 {
    border: none;
    margin: 0;
    padding: 0;
}
.vkr-url-wrapper .desc-wrapper {
    flex: 1;
}
.vkr-url-wrapper .desc-wrapper a {
    font-size: 22px;
    font-weight: 700;
}
&lt;/style&gt;
    
        &lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://github.com/toastsgithub/valkyr-ssh&#34;&gt;&lt;img class=&#34;avatar&#34; src=&#34;http://images2.dzmtoast.top/post-cover/github-logo_hub2899c31b6ca7aed8d6a218f0e752fe4_46649_1200x1200_fill_box_center_2.png&#34;&gt;&lt;/a&gt;
    
    &lt;div class=&#34;desc-wrapper&#34;&gt;
        &lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://github.com/toastsgithub/valkyr-ssh&#34;&gt;valkyr ssh manager&lt;/a&gt;
        &lt;hr&gt;
        &lt;div class=&#34;desc&#34;&gt;valkyr-ssh, a simple commandline tool to help you store ssh login address&lt;/div&gt;
    &lt;/div&gt;
&lt;/div&gt;
&lt;pre class=&#34;line-numbers language-none&#34;&gt;&lt;code class=&#34;language-none&#34;&gt;{% valkyrurl
[url=https://github.com/toastsgithub/valkyr-ssh]
[title=&#34;valkyr ssh manager&#34;]
[avatar=http://images2.dzmtoast.top/post-cover/github-logo_hub2899c31b6ca7aed8d6a218f0e752fe4_46649_1200x1200_fill_box_center_2.png]
[desc=&#34;valkyr-ssh, a simple commandline tool to help you store ssh login address&#34;]
%}&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;line-numbers language-none&#34;&gt;&lt;code class=&#34;language-none&#34;&gt;{% valkyrurl [url=http://example.com] [otherOpt=value] %}&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;avatar&lt;/code&gt; image that describe your link (optional)&lt;/li&gt;
&lt;li&gt;&lt;code&gt;title&lt;/code&gt; title&lt;/li&gt;
&lt;li&gt;&lt;code&gt;desc&lt;/code&gt; description&lt;/li&gt;
&lt;li&gt;&lt;code&gt;url&lt;/code&gt; destination when you click image url or title&lt;/li&gt;
&lt;li&gt;空格要用引号包裹起来！&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;BILIBILI卡片&#34;&gt;&lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://github.com/MaxChang3/hexo-bilibili-card&#34;&gt;BILIBILI卡片&lt;/a&gt;&lt;/h2&gt;
&lt;div class=&#34;bvideo&#34;&gt;
    &lt;a href=&#34;//www.bilibili.com/video/BV1sr4y1K7Be&#34; target=&#34;_blank&#34;&gt;
        &lt;div class=&#34;bvideo-box&#34;&gt;
            &lt;div class=&#34;bvideo-cover&#34;&gt;
                &lt;div class=&#34;cover-default&#34;&gt;&lt;/div&gt;
                &lt;div class=&#34;bvideo-cover-layer&#34; style=&#34;background-image:url(https://images.weserv.nl/?url=http://i1.hdslb.com/bfs/archive/ee23c0ab56c3e29838f1081a76cf55c5a6199bf0.jpg)&#34;&gt;
                    &lt;i class=&#34;icon-video&#34;&gt;&lt;/i&gt;
                &lt;/div&gt;
                &lt;span class=&#34;duration&#34;&gt;52:09:00&lt;/span&gt;
            &lt;/div&gt;
            &lt;div class=&#34;bvideo-info&#34;&gt;
                &lt;p class=&#34;title&#34;&gt;【PKU】高等数学（全60讲)&lt;/p&gt;
                &lt;p class=&#34;card-status&#34;&gt;
                    &lt;span class=&#34;play-num&#34;&gt;
                        &lt;i class=&#34;fa fa-youtube-play&#34;&gt;&lt;/i&gt;
                        &lt;span&gt;26.6万&lt;/span&gt;&lt;/span&gt;
                    &lt;span&gt;
                        &lt;i class=&#34;fa fa-list-alt&#34;&gt;&lt;/i&gt;
                        &lt;span&gt;148&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
                &lt;div class=&#34;partition&#34;&gt;
                    &lt;label class=&#34;card-label&#34;&gt;视频&lt;/label&gt;
                    &lt;label class=&#34;up-label&#34;&gt;&lt;/label&gt;
                    &lt;label class=&#34;up-name&#34;&gt;沉迷学习的PickleFermi&lt;/label&gt;
                &lt;/div&gt;
                &lt;div class=&#34;actions hide&#34;&gt;&lt;/div&gt;
            &lt;/div&gt;
        &lt;/div&gt;
    &lt;/a&gt;
&lt;/div&gt;
&lt;pre class=&#34;line-numbers language-none&#34;&gt;&lt;code class=&#34;language-none&#34;&gt;{% bilicard your_video_id %}&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;hexo-github-card&#34;&gt;&lt;strong&gt;&lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://github.com/Gisonrg/hexo-github-card&#34;&gt;hexo-github-card&lt;/a&gt;&lt;/strong&gt;&lt;/h2&gt;
&lt;pre class=&#34;line-numbers language-none&#34;&gt;&lt;code class=&#34;language-none&#34;&gt;{% githubCard user:your_user [repo:your_repo] [width:400] [height:200] [theme:default] [client_id:your_client_id] [client_secret:your_client_secret] [align:text-align_position] %}&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;line-numbers language-markdown&#34; data-language=&#34;markdown&#34;&gt;&lt;code class=&#34;language-markdown&#34;&gt;{% githubCard user:appotry %}&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;line-numbers language-markdown&#34; data-language=&#34;markdown&#34;&gt;&lt;code class=&#34;language-markdown&#34;&gt;{% githubCard user:appotry repo:hexo-github-card %}&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;div style=&#34;text-align: center&#34;&gt;
  &lt;div class=&#34;github-card&#34; data-user=&#34;appotry&#34; data-repo=&#34;&#34; data-height=&#34;200&#34; data-width=&#34;400&#34; data-theme=&#34;default&#34; data-target=&#34;&#34; data-client-id=&#34;&#34; data-client-secret=&#34;&#34;&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;script src=&#34;/github-card-lib/githubcard.js&#34;&gt;&lt;/script&gt;

&lt;div style=&#34;text-align: center&#34;&gt;
  &lt;div class=&#34;github-card&#34; data-user=&#34;appotry&#34; data-repo=&#34;docker-hexo&#34; data-height=&#34;200&#34; data-width=&#34;400&#34; data-theme=&#34;default&#34; data-target=&#34;&#34; data-client-id=&#34;&#34; data-client-secret=&#34;&#34;&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;script src=&#34;/github-card-lib/githubcard.js&#34;&gt;&lt;/script&gt;

&lt;div style=&#34;text-align: center&#34;&gt;
  &lt;div class=&#34;github-card&#34; data-user=&#34;appotry&#34; data-repo=&#34;PTtool&#34; data-height=&#34;200&#34; data-width=&#34;400&#34; data-theme=&#34;default&#34; data-target=&#34;&#34; data-client-id=&#34;&#34; data-client-secret=&#34;&#34;&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;script src=&#34;/github-card-lib/githubcard.js&#34;&gt;&lt;/script&gt;

&lt;h2 id=&#34;hexo-douban-card&#34;&gt;&lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://github.com/TankNee/hexo-douban-card&#34;&gt;hexo-douban-card&lt;/a&gt;&lt;/h2&gt;
&lt;div class=&#34;douban-card-block&#34;&gt;
    &lt;a class=&#34;douban-card&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://movie.douban.com/subject/24745500&#34;&gt;
        &lt;div class=&#34;douban-card-bgimg&#34; style=&#34;background-image: url(&#39;https://images.weserv.nl/?url=https://img2.doubanio.com/view/photo/s_ratio_poster/public/p2194066391.jpg&#39;);&#34;&gt;&lt;/div&gt;
        &lt;div class=&#34;douban-card-left&#34;&gt;
            &lt;div class=&#34;douban-card-img&#34; style=&#34;background-image: url(&#39;https://images.weserv.nl/?url=https://img2.doubanio.com/view/photo/s_ratio_poster/public/p2194066391.jpg&#39;);&#34;&gt;&lt;/div&gt;
            &lt;div class=&#34;douban-card-status&#34;&gt;灯影绰约&lt;/div&gt;
        &lt;/div&gt;
        &lt;div class=&#34;douban-card-right&#34;&gt;
            &lt;div class=&#34;douban-card-item&#34;&gt;&lt;span&gt;电影名: &lt;/span&gt;&lt;strong&gt;绣春刀(2014)&lt;/strong&gt;&lt;/div&gt;
            &lt;div class=&#34;douban-card-item&#34;&gt;&lt;span&gt;导演: &lt;/span&gt;&lt;span&gt;路阳&lt;/span&gt;&lt;/div&gt;
            &lt;div class=&#34;douban-card-item&#34;&gt;&lt;span&gt;主演: &lt;/span&gt;&lt;span&gt;张震/刘诗诗&lt;/span&gt;&lt;/div&gt;
            &lt;div class=&#34;douban-card-item&#34;&gt;&lt;span&gt;上映时间: &lt;/span&gt;&lt;span&gt;2014-08-07(中国大陆)&lt;/span&gt;&lt;/div&gt;
            &lt;div class=&#34;douban-card-item&#34;&gt;&lt;span&gt;评分: &lt;/span&gt;&lt;span&gt;7.6&lt;/span&gt;&lt;/div&gt;
        &lt;/div&gt;
    &lt;/a&gt;
&lt;/div&gt;
&lt;style&gt;
    .douban-card-block {
    display: flex;
    justify-content: center;
    align-items: center;
    width: 100%;
    max-height: 400px;
}

.douban-card {
    display: flex;
    margin: 30px 10px;
    padding: 15px;
    border-radius: 15px;
    position: relative;
    justify-content: center;
    align-items: center;
    overflow: hidden;
    color: antiquewhite;
    text-decoration: none;
}

.douban-card:hover {
    text-decoration: none;
}

.douban-card-bgimg {
    position: absolute;
    width: 115%;
    height: 115%;
    filter: blur(15px) brightness(0.6);
    background-size: 100%;
    background-position: center;
    background-repeat: no-repeat;
}

.douban-card-img {
    position: relative;
    height: 130px;
    width: 80px;
    background-size: 100%;
    background-position: center;
    background-repeat: no-repeat;
}

.douban-card-left:hover .douban-card-img {
    filter: blur(5px) brightness(0.6);
    transform: perspective(800px) rotateX(180deg);
}

.douban-card-left .douban-card-img {
    transition: all 500ms ease;
}

.douban-card-left {
    position: relative;
    display: flex;
    flex-direction: column;
    align-items: center;
}

.douban-card-left .douban-card-status {
    height: 130px;
    width: 80px;
    text-align: center;
    font-weight: bold;
    position: absolute;
    left: 0;
    top: 30%;
    transform: rotateX(180deg);
    backface-visibility: hidden;
    transition: all 500ms ease;
}

.douban-card-left:hover .douban-card-status {
    transform: perspective(800px) rotateX(0deg);
}

.douban-card-right {
    position: relative;
    display: flex;
    flex-direction: column;
    margin-left: 12px;
    font-size: 16px;
    font-family: &#34;Courier New&#34;, Courier, monospace;
    line-height: 1.3;
    color: antiquewhite;
}

.douban-card-item {
    margin-top: 4px;
}

&lt;/style&gt;
&lt;div class=&#34;douban-card-block&#34;&gt;
    &lt;a class=&#34;douban-card&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://book.douban.com/subject/30376420&#34;&gt;
        &lt;div class=&#34;douban-card-bgimg&#34; style=&#34;background-image: url(&#39;https://images.weserv.nl/?url=https://img1.doubanio.com/view/subject/s/public/s30015279.jpg&#39;);&#34;&gt;
        &lt;/div&gt;
        &lt;div class=&#34;douban-card-left&#34;&gt;
            &lt;div class=&#34;douban-card-img&#34; style=&#34;background-image: url(&#39;https://images.weserv.nl/?url=https://img1.doubanio.com/view/subject/s/public/s30015279.jpg&#39;);&#34;&gt;
            &lt;/div&gt;
            &lt;div class=&#34;douban-card-status&#34;&gt;见字如晤&lt;/div&gt;
        &lt;/div&gt;
        &lt;div class=&#34;douban-card-right&#34; style=&#34;line-height: 1.7;&#34;&gt;
            &lt;div class=&#34;douban-card-item&#34;&gt;&lt;span&gt;书名: &lt;/span&gt;&lt;strong&gt;一个人生活&lt;/strong&gt;&lt;/div&gt;
            &lt;div class=&#34;douban-card-item&#34;&gt;&lt;span&gt;作者: &lt;/span&gt;&lt;span&gt;[日]谷川俊太郎&lt;/span&gt;&lt;/div&gt;
            &lt;div class=&#34;douban-card-item&#34;&gt;&lt;span&gt;出版年份: &lt;/span&gt;&lt;span&gt;2019-3&lt;/span&gt;&lt;/div&gt;
            &lt;div class=&#34;douban-card-item&#34;&gt;&lt;span&gt;评分: &lt;/span&gt;&lt;span&gt;7.1&lt;/span&gt;&lt;/div&gt;
        &lt;/div&gt;
    &lt;/a&gt;
&lt;/div&gt;
&lt;style&gt;
    .douban-card-block {
    display: flex;
    justify-content: center;
    align-items: center;
    width: 100%;
    max-height: 400px;
}

.douban-card {
    display: flex;
    margin: 30px 10px;
    padding: 15px;
    border-radius: 15px;
    position: relative;
    justify-content: center;
    align-items: center;
    overflow: hidden;
    color: antiquewhite;
    text-decoration: none;
}

.douban-card:hover {
    text-decoration: none;
}

.douban-card-bgimg {
    position: absolute;
    width: 115%;
    height: 115%;
    filter: blur(15px) brightness(0.6);
    background-size: 100%;
    background-position: center;
    background-repeat: no-repeat;
}

.douban-card-img {
    position: relative;
    height: 130px;
    width: 80px;
    background-size: 100%;
    background-position: center;
    background-repeat: no-repeat;
}

.douban-card-left:hover .douban-card-img {
    filter: blur(5px) brightness(0.6);
    transform: perspective(800px) rotateX(180deg);
}

.douban-card-left .douban-card-img {
    transition: all 500ms ease;
}

.douban-card-left {
    position: relative;
    display: flex;
    flex-direction: column;
    align-items: center;
}

.douban-card-left .douban-card-status {
    height: 130px;
    width: 80px;
    text-align: center;
    font-weight: bold;
    position: absolute;
    left: 0;
    top: 30%;
    transform: rotateX(180deg);
    backface-visibility: hidden;
    transition: all 500ms ease;
}

.douban-card-left:hover .douban-card-status {
    transform: perspective(800px) rotateX(0deg);
}

.douban-card-right {
    position: relative;
    display: flex;
    flex-direction: column;
    margin-left: 12px;
    font-size: 16px;
    font-family: &#34;Courier New&#34;, Courier, monospace;
    line-height: 1.3;
    color: antiquewhite;
}

.douban-card-item {
    margin-top: 4px;
}

&lt;/style&gt;
&lt;div class=&#34;douban-card-block&#34;&gt;
	&lt;a class=&#34;douban-card&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://music.douban.com/subject/35099703&#34;&gt;
		&lt;div class=&#34;douban-card-bgimg&#34; style=&#34;background-image: url(&#39;https://images.weserv.nl/?url=https://img1.doubanio.com/view/subject/m/public/s33667479.jpg&#39;);&#34;&gt;&lt;/div&gt;
		&lt;div class=&#34;douban-card-left&#34;&gt;
			&lt;div class=&#34;douban-card-img&#34; style=&#34;background-image: url(&#39;https://images.weserv.nl/?url=https://img1.doubanio.com/view/subject/m/public/s33667479.jpg&#39;);&#34;&gt;&lt;/div&gt;
            &lt;div class=&#34;douban-card-status&#34;&gt;余音绕梁&lt;/div&gt;
        &lt;/div&gt;
		&lt;div class=&#34;douban-card-right&#34;&gt;
			&lt;div class=&#34;douban-card-item&#34;&gt;&lt;span&gt;音乐名: &lt;/span&gt;&lt;strong&gt;María&lt;/strong&gt;&lt;/div&gt;
			&lt;div class=&#34;douban-card-item&#34;&gt;&lt;span&gt;表演者: &lt;/span&gt;&lt;span&gt;화사/华莎&lt;/span&gt;&lt;/div&gt;
			&lt;div class=&#34;douban-card-item&#34;&gt;&lt;span&gt;发行时间: &lt;/span&gt;&lt;span&gt;2020-06-30&lt;/span&gt;&lt;/div&gt;
			&lt;div class=&#34;douban-card-item&#34;&gt;&lt;span&gt;评分: &lt;/span&gt;&lt;span&gt;8.3&lt;/span&gt;&lt;/div&gt;
		&lt;/div&gt;
	&lt;/a&gt;
&lt;/div&gt;
&lt;style&gt;
    .douban-card-block {
    display: flex;
    justify-content: center;
    align-items: center;
    width: 100%;
    max-height: 400px;
}

.douban-card {
    display: flex;
    margin: 30px 10px;
    padding: 15px;
    border-radius: 15px;
    position: relative;
    justify-content: center;
    align-items: center;
    overflow: hidden;
    color: antiquewhite;
    text-decoration: none;
}

.douban-card:hover {
    text-decoration: none;
}

.douban-card-bgimg {
    position: absolute;
    width: 115%;
    height: 115%;
    filter: blur(15px) brightness(0.6);
    background-size: 100%;
    background-position: center;
    background-repeat: no-repeat;
}

.douban-card-img {
    position: relative;
    height: 130px;
    width: 80px;
    background-size: 100%;
    background-position: center;
    background-repeat: no-repeat;
}

.douban-card-left:hover .douban-card-img {
    filter: blur(5px) brightness(0.6);
    transform: perspective(800px) rotateX(180deg);
}

.douban-card-left .douban-card-img {
    transition: all 500ms ease;
}

.douban-card-left {
    position: relative;
    display: flex;
    flex-direction: column;
    align-items: center;
}

.douban-card-left .douban-card-status {
    height: 130px;
    width: 80px;
    text-align: center;
    font-weight: bold;
    position: absolute;
    left: 0;
    top: 30%;
    transform: rotateX(180deg);
    backface-visibility: hidden;
    transition: all 500ms ease;
}

.douban-card-left:hover .douban-card-status {
    transform: perspective(800px) rotateX(0deg);
}

.douban-card-right {
    position: relative;
    display: flex;
    flex-direction: column;
    margin-left: 12px;
    font-size: 16px;
    font-family: &#34;Courier New&#34;, Courier, monospace;
    line-height: 1.3;
    color: antiquewhite;
}

.douban-card-item {
    margin-top: 4px;
}

&lt;/style&gt;

&lt;pre class=&#34;line-numbers language-markdown&#34; data-language=&#34;markdown&#34;&gt;&lt;code class=&#34;language-markdown&#34;&gt;{% douban movie 24745500 %}

{% douban book 30376420 %}

{% douban music 35099703 %}&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;插入音乐和视频&#34;&gt;插入音乐和视频&lt;/h2&gt;
&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://github.com/MoePlayer/hexo-tag-aplayer&#34;&gt;hexo-tag-aplayer&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://github.com/MoePlayer/hexo-tag-dplayer&#34;&gt;hexo-tag-dplayer&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;最近做减法，去掉不必要的功能，只使用下面这个插件。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://github.com/u2sb/hexo-tag-mmedia&#34;&gt;hexo-tag-mmedia&lt;/a&gt; 推荐使用&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;插入音乐&#34;&gt;插入音乐&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://github.com/MoePlayer/hexo-tag-aplayer/blob/master/docs/README-zh_cn.md&#34;&gt;官方教程&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;pre class=&#34;line-numbers language-markdown&#34; data-language=&#34;markdown&#34;&gt;&lt;code class=&#34;language-markdown&#34;&gt;{% aplayer title author url [picture_url, narrow, autoplay, width:xxx, lrc:xxx] %}&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;title&lt;/code&gt; : 曲目标题&lt;/li&gt;
&lt;li&gt;&lt;code&gt;author&lt;/code&gt;: 曲目作者&lt;/li&gt;
&lt;li&gt;&lt;code&gt;url&lt;/code&gt;: 音乐文件 URL 地址&lt;/li&gt;
&lt;li&gt;&lt;code&gt;picture_url&lt;/code&gt;: (可选) 音乐对应的图片地址&lt;/li&gt;
&lt;li&gt;&lt;code&gt;narrow&lt;/code&gt;: （可选）播放器袖珍风格&lt;/li&gt;
&lt;li&gt;&lt;code&gt;autoplay&lt;/code&gt;: (可选) 自动播放，移动端浏览器暂时不支持此能&lt;/li&gt;
&lt;li&gt;&lt;code&gt;width:xxx&lt;/code&gt;: (可选) 播放器宽度 (默认: 100%)&lt;/li&gt;
&lt;li&gt;&lt;code&gt;lrc:xxx&lt;/code&gt;: （可选）歌词文件 URL #### &lt;em&gt;&lt;strong&gt;单曲附带歌词显示&lt;/strong&gt;&lt;/em&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;pre class=&#34;line-numbers language-none&#34;&gt;&lt;code class=&#34;language-none&#34;&gt;{% aplayer &#34;Hotel California&#34; &#34;Camille and Kennerly&#34; &#34;https://cdn.17lai.site/media/music/Hotel%20California/01%20Hotel%20California.mp3&#34; &#34;https://cdn.17lai.site/media/music/Hotel%20California/Hotel%20California.webp&#34; &#34;lrc:https://cdn.17lai.site/media/music/Hotel%20California/01%20Hotel%20California.lrc&#34; %}&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;音乐播放列表&#34;&gt;&lt;strong&gt;音乐播放列表&lt;/strong&gt;&lt;/h4&gt;
&lt;pre class=&#34;line-numbers language-none&#34;&gt;&lt;code class=&#34;language-none&#34;&gt;{% aplayerlist %}
{
    &#34;narrow&#34;: false,                          // （可选）播放器袖珍风格
    &#34;autoplay&#34;: true,                         // （可选) 自动播放，移动端浏览器暂时不支持此功能
    &#34;mode&#34;: &#34;random&#34;,                         // （可选）曲目循环类型，有 &#39;random&#39;（随机播放）, &#39;single&#39; (单曲播放), &#39;circulation&#39; (循环播放), &#39;order&#39; (列表播放)， 默认：&#39;circulation&#39; 
    &#34;showlrc&#34;: 3,                             // （可选）歌词显示配置项，可选项有：1,2,3
    &#34;mutex&#34;: true,                            // （可选）该选项开启时，如果同页面有其他 aplayer 播放，该播放器会暂停
    &#34;theme&#34;: &#34;#e6d0b2&#34;,	                      // （可选）播放器风格色彩设置，默认：#b7daff
    &#34;preload&#34;: &#34;metadata&#34;,                    // （可选）音乐文件预载入模式，可选项： &#39;none&#39; &#39;metadata&#39; &#39;auto&#39;, 默认: &#39;auto&#39;
    &#34;listmaxheight&#34;: &#34;513px&#34;,                 // (可选) 该播放列表的最大长度
    &#34;music&#34;: [
        {
            &#34;title&#34;: &#34;CoCo&#34;,
            &#34;author&#34;: &#34;Jeff Williams&#34;,
            &#34;url&#34;: &#34;caffeine.mp3&#34;,
            &#34;pic&#34;: &#34;caffeine.jpeg&#34;,
            &#34;lrc&#34;: &#34;caffeine.txt&#34;
        },
        {
            &#34;title&#34;: &#34;アイロニ&#34;,
            &#34;author&#34;: &#34;鹿乃&#34;,
            &#34;url&#34;: &#34;irony.mp3&#34;,
            &#34;pic&#34;: &#34;irony.jpg&#34;
        }
    ]
}
{% endaplayerlist %}&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;line-numbers language-none&#34;&gt;&lt;code class=&#34;language-none&#34;&gt;{% aplayerlist %}
{
    &#34;narrow&#34;: false,
    &#34;autoplay&#34;: true, 
    &#34;mode&#34;: &#34;random&#34;, 
    &#34;showlrc&#34;: 3, 
    &#34;mutex&#34;: true, 
    &#34;theme&#34;: &#34;#e6d0b2&#34;,
    &#34;preload&#34;: &#34;metadata&#34;, 
    &#34;listmaxheight&#34;: &#34;513px&#34;, 
    &#34;music&#34;: [
        {
            &#34;title&#34;: &#34;Hotel California&#34;,
            &#34;author&#34;: &#34;Camille and Kennerly&#34;,
            &#34;url&#34;: &#34;https://cdn.17lai.site/media/music/Hotel%20California/01%20Hotel%20California.mp3&#34;,
            &#34;pic&#34;: &#34;https://cdn.17lai.site/media/music/Hotel%20California/Hotel%20California.webp&#34;,
            &#34;lrc&#34;: &#34;https://cdn.17lai.site/media/music/Hotel%20California/01%20Hotel%20California.lrc&#34;
        },
        {
            &#34;title&#34;: &#34;Sold Out&#34;,
            &#34;author&#34;: &#34;Diamonds&#34;,
            &#34;url&#34;: &#34;https://cdn.17lai.site/media/music/Diamonds/05%20Sold%20Out.flac&#34;,
            &#34;pic&#34;: &#34;https://cdn.17lai.site/media/music/Diamonds/Diamonds.jpg&#34;
        }
    ]
}
{% endaplayerlist %}&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;插入视频&#34;&gt;插入视频&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;http://dplayer.js.org/guide.html&#34;&gt;官方教程&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;pre class=&#34;line-numbers language-none&#34;&gt;&lt;code class=&#34;language-none&#34;&gt;{% dplayer key=value ... %}
例：
{% dplayer &#34;url=http://www.nenu.edu.cn/_upload/article/videos/03/5f/7c999eed42e3aadc413d7f851f0e/0f50b3eb-9285-41d2-ac4d-6cc363651aad_B.mp4&#34;  &#34;autoplay=true&#34; &#34;preload=metadata&#34; &#34;hotkey=true&#34; %} &lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;有关的选项列表如下:&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:left&#34;&gt;选项&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;默认值&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;描述&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;url&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;strong&gt;必须值&lt;/strong&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;视频地址&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;loop&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;code&gt;false&lt;/code&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;视频循环播放&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;volume&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;code&gt;0.7&lt;/code&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;播放器音量&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;hotkey&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;code&gt;true&lt;/code&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;开启热键&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;autoplay&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;code&gt;true&lt;/code&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;自动播放，移动端浏览器暂时不支持此功能&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;logo&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;code&gt;-&lt;/code&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;在左上角展示一个 logo，你可以通过 CSS 调整它的大小和位置&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;mutex&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;code&gt;true&lt;/code&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;该选项开启时，如果同页面有其他播放，该播放器会暂停&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;highlight&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;code&gt;[]&lt;/code&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;自定义进度条提示点&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;preload&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;code&gt;auto&lt;/code&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;视频文件预载入模式，可选项： &lt;code&gt;none&lt;/code&gt;, &lt;code&gt;metadata&lt;/code&gt;, &lt;code&gt;auto&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;theme&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;code&gt;#ad7a86&lt;/code&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;播放器风格色彩设置&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;注：如果使用腾讯视频、优酷视频等在线视频网站的资源，需要先进行视频地址解析，如&lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;http://old.flvurl.cn/&#34;&gt;点量视频解析&lt;/a&gt;，获取到实际的视频地址。&lt;/p&gt;
&lt;p&gt;在使用优酷或者腾讯视频时可以直接复制分享代码到文章中，如：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-none&#34;&gt;&lt;code class=&#34;language-none&#34;&gt;&amp;lt;iframe height=498 width=510 src=&#39;https://player.youku.com/embed/XMjk4ODAyMzIyOA==&#39; frameborder=0 &#39;allowfullscreen&#39;&amp;gt;&amp;lt;/iframe&amp;gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;dplayer&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;pre class=&#34;line-numbers language-none&#34;&gt;&lt;code class=&#34;language-none&#34;&gt;{% dplayer &#34;url=http://www.nenu.edu.cn/_upload/article/videos/03/5f/7c999eed42e3aadc413d7f851f0e/0f50b3eb-9285-41d2-ac4d-6cc363651aad_B.mp4&#34;  &#34;autoplay=false&#34; &#34;preload=metadata&#34; &#34;hotkey=true&#34; %} &lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;iframe&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;pre class=&#34;line-numbers language-html&#34; data-language=&#34;html&#34;&gt;&lt;code class=&#34;language-html&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;iframe&lt;/span&gt; &lt;span class=&#34;token attr-name&#34;&gt;height&lt;/span&gt;&lt;span class=&#34;token attr-value&#34;&gt;&lt;span class=&#34;token punctuation attr-equals&#34;&gt;=&lt;/span&gt;498&lt;/span&gt; &lt;span class=&#34;token attr-name&#34;&gt;width&lt;/span&gt;&lt;span class=&#34;token attr-value&#34;&gt;&lt;span class=&#34;token punctuation attr-equals&#34;&gt;=&lt;/span&gt;510&lt;/span&gt; &lt;span class=&#34;token attr-name&#34;&gt;src&lt;/span&gt;&lt;span class=&#34;token attr-value&#34;&gt;&lt;span class=&#34;token punctuation attr-equals&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&#39;&lt;/span&gt;https://player.youku.com/embed/XMjk4ODAyMzIyOA==&lt;span class=&#34;token punctuation&#34;&gt;&#39;&lt;/span&gt;&lt;/span&gt; &lt;span class=&#34;token attr-name&#34;&gt;frameborder&lt;/span&gt;&lt;span class=&#34;token attr-value&#34;&gt;&lt;span class=&#34;token punctuation attr-equals&#34;&gt;=&lt;/span&gt;0&lt;/span&gt; &lt;span class=&#34;token attr-name&#34;&gt;&#39;allowfullscreen&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;/&lt;/span&gt;iframe&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;hexo-tag-mmedia使用&#34;&gt;&lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://github.com/u2sb/hexo-tag-mmedia&#34;&gt;hexo-tag-mmedia&lt;/a&gt;使用&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://www.u2sb.com/pages/7c33e5/&#34;&gt;官方教程&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h4 id=&#34;audio&#34;&gt;&lt;strong&gt;audio&lt;/strong&gt;&lt;/h4&gt;
&lt;blockquote&gt;
&lt;p&gt;此部分请熟读 &lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://www.w3.org/TR/2014/REC-html5-20141028/embedded-content-0.html#the-audio-element&#34;&gt;Audio 相关介绍&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;目前主题中不可用&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;使用 &lt;code&gt;:&lt;/code&gt; 或 &lt;code&gt;=&lt;/code&gt; 分割。&lt;/li&gt;
&lt;li&gt;所有 &lt;code&gt;&amp;lt;audio&amp;gt;&lt;/code&gt; 标签的原生参数均可添加，只要能写进去就可以。&lt;/li&gt;
&lt;li&gt;具体能否实现相关标准，取决于客户端浏览器。&lt;/li&gt;
&lt;/ul&gt;
&lt;pre class=&#34;line-numbers language-twig&#34; data-language=&#34;twig&#34;&gt;&lt;code class=&#34;language-twig&#34;&gt;&lt;span class=&#34;token twig language-twig&#34;&gt;&lt;span class=&#34;token delimiter punctuation&#34;&gt;{%&lt;/span&gt; &lt;span class=&#34;token tag-name keyword&#34;&gt;mmedia&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;audio&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;src:a.mp3&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&lt;/span&gt; &lt;span class=&#34;token delimiter punctuation&#34;&gt;%}&lt;/span&gt;&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;line-numbers language-twig&#34; data-language=&#34;twig&#34;&gt;&lt;code class=&#34;language-twig&#34;&gt;&lt;span class=&#34;token twig language-twig&#34;&gt;&lt;span class=&#34;token delimiter punctuation&#34;&gt;{%&lt;/span&gt; &lt;span class=&#34;token tag-name keyword&#34;&gt;mmedia&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;audio&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;src:https://baidu.com/a.mp3&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;autoplay:true&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&lt;/span&gt; &lt;span class=&#34;token delimiter punctuation&#34;&gt;%}&lt;/span&gt;&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;video&#34;&gt;video&lt;/h4&gt;
&lt;blockquote&gt;
&lt;p&gt;此部分请熟读 &lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://www.w3.org/TR/2014/REC-html5-20141028/embedded-content-0.html#the-video-element&#34;&gt;Video 相关介绍&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;目前主题中不可用&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;使用 &lt;code&gt;:&lt;/code&gt; 或 &lt;code&gt;=&lt;/code&gt; 分割。&lt;/li&gt;
&lt;li&gt;所有 &lt;code&gt;&amp;lt;video&amp;gt;&lt;/code&gt; 标签的原生参数均可添加，只要能写进去就可以。&lt;/li&gt;
&lt;li&gt;具体能否实现相关标准，取决于客户端浏览器。&lt;/li&gt;
&lt;/ul&gt;
&lt;pre class=&#34;line-numbers language-twig&#34; data-language=&#34;twig&#34;&gt;&lt;code class=&#34;language-twig&#34;&gt;&lt;span class=&#34;token twig language-twig&#34;&gt;&lt;span class=&#34;token delimiter punctuation&#34;&gt;{%&lt;/span&gt; &lt;span class=&#34;token tag-name keyword&#34;&gt;mmedia&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;video&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;src:a.mp4&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&lt;/span&gt; &lt;span class=&#34;token delimiter punctuation&#34;&gt;%}&lt;/span&gt;&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;line-numbers language-twig&#34; data-language=&#34;twig&#34;&gt;&lt;code class=&#34;language-twig&#34;&gt;&lt;span class=&#34;token twig language-twig&#34;&gt;&lt;span class=&#34;token delimiter punctuation&#34;&gt;{%&lt;/span&gt; &lt;span class=&#34;token tag-name keyword&#34;&gt;mmedia&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;video&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;src:https://baidu.com/a.mp4&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;autoplay:true&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&lt;/span&gt; &lt;span class=&#34;token delimiter punctuation&#34;&gt;%}&lt;/span&gt;&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;MetingJS&#34;&gt;&lt;strong&gt;MetingJS&lt;/strong&gt;&lt;/h4&gt;
&lt;blockquote&gt;
&lt;p&gt;此部分请熟读 &lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://github.com/metowolf/MetingJS#option&#34;&gt;MetingJS 文档&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:left&#34;&gt;option&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;default&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;description&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;id&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;strong&gt;require&lt;/strong&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;song id / playlist id / album id / search keyword&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;server&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;strong&gt;require&lt;/strong&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;music platform: &lt;code&gt;netease&lt;/code&gt;, &lt;code&gt;tencent&lt;/code&gt;, &lt;code&gt;kugou&lt;/code&gt;, &lt;code&gt;xiami&lt;/code&gt;, &lt;code&gt;baidu&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;type&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;strong&gt;require&lt;/strong&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;code&gt;song&lt;/code&gt;, &lt;code&gt;playlist&lt;/code&gt;, &lt;code&gt;album&lt;/code&gt;, &lt;code&gt;search&lt;/code&gt;, &lt;code&gt;artist&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;auto&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;options&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;music link, support: &lt;code&gt;netease&lt;/code&gt;, &lt;code&gt;tencent&lt;/code&gt;, &lt;code&gt;xiami&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;fixed&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;code&gt;false&lt;/code&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;enable fixed mode&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;mini&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;code&gt;false&lt;/code&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;enable mini mode&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;autoplay&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;code&gt;false&lt;/code&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;audio autoplay&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;theme&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;code&gt;#2980b9&lt;/code&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;main color&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;loop&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;code&gt;all&lt;/code&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;player loop play, values: ‘all’, ‘one’, ‘none’&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;order&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;code&gt;list&lt;/code&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;player play order, values: ‘list’, ‘random’&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;preload&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;code&gt;auto&lt;/code&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;values: ‘none’, ‘metadata’, ‘auto’&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;volume&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;code&gt;0.7&lt;/code&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;default volume, notice that player will remember user setting, default volume will not work after user set volume themselves&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;mutex&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;code&gt;true&lt;/code&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;prevent to play multiple player at the same time, pause other players when this player start play&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;lrc-type&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;code&gt;0&lt;/code&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;lyric type&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;list-folded&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;code&gt;false&lt;/code&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;indicate whether list should folded at first&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;list-max-height&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;code&gt;340px&lt;/code&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;list max height&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;storage-name&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;code&gt;metingjs&lt;/code&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;localStorage key that store player setting&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;Documentation for APlayer can be found at https://aplayer.js.org/#/home?id=options&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;单曲&lt;/strong&gt;&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-twig&#34; data-language=&#34;twig&#34;&gt;&lt;code class=&#34;language-twig&#34;&gt;&lt;span class=&#34;token twig language-twig&#34;&gt;&lt;span class=&#34;token delimiter punctuation&#34;&gt;{%&lt;/span&gt; &lt;span class=&#34;token tag-name keyword&#34;&gt;mmedia&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;meting&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;auto=https://y.qq.com/n/ryqq/songDetail/0005RQAO3FqG5K&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&lt;/span&gt; &lt;span class=&#34;token delimiter punctuation&#34;&gt;%}&lt;/span&gt;&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;line-numbers language-twig&#34; data-language=&#34;twig&#34;&gt;&lt;code class=&#34;language-twig&#34;&gt;&lt;span class=&#34;token twig language-twig&#34;&gt;&lt;span class=&#34;token delimiter punctuation&#34;&gt;{%&lt;/span&gt; &lt;span class=&#34;token tag-name keyword&#34;&gt;mmedia&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;meting&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;auto=https://y.qq.com/n/yqq/song/001RGrEX3ija5X.html&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&lt;/span&gt; &lt;span class=&#34;token delimiter punctuation&#34;&gt;%}&lt;/span&gt;&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;line-numbers language-twig&#34; data-language=&#34;twig&#34;&gt;&lt;code class=&#34;language-twig&#34;&gt;&lt;span class=&#34;token twig language-twig&#34;&gt;&lt;span class=&#34;token delimiter punctuation&#34;&gt;{%&lt;/span&gt; &lt;span class=&#34;token tag-name keyword&#34;&gt;mmedia&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;meting&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;server=netease&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&lt;/span&gt;	&lt;span class=&#34;token string&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;type=playlist&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&lt;/span&gt;	&lt;span class=&#34;token string&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;id=60198&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&lt;/span&gt; &lt;span class=&#34;token delimiter punctuation&#34;&gt;%}&lt;/span&gt;&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;Aplayer&#34;&gt;&lt;strong&gt;Aplayer&lt;/strong&gt;&lt;/h4&gt;
&lt;p&gt;详细参数表：&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:left&#34;&gt;参数&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;默认&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;解释&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;name&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;-&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;audio name&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;artist&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;-&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;audio artist&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;url&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;-&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;audio url&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;cover&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;-&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;audio cover&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;lrc&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;-&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;audio lrc&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;theme&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;-&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;audio theme&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;type&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;auto&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;audio type 可选 ‘auto’, ‘hls’, ‘normal’&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;autoplay&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;false&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;autoplay&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;loop&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;‘all’&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;player loop play, values: ‘all’, ‘one’, ‘none’&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;order&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;‘list’&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;player play order, values: ‘list’, ‘random’&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;volume&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;0.7&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;default volume,&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;tlistMaxHeight&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;-&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;list max height&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;不在表格内的参数请使用下面 JSON 类型的参数。&lt;/p&gt;
&lt;p&gt;mmedia 插件允许在 contents 部分使用 JSON 编写配置，由于允许使用 JSON5，此项配置几乎与 APlayer 完全一致。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;单曲&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;pre class=&#34;line-numbers language-none&#34;&gt;&lt;code class=&#34;language-none&#34;&gt;{% mmedia &#34;aplayer&#34; &#34;name:Hotel California&#34; &#34;artist:Camille and Kennerly&#34; &#34;url:https://cdn.17lai.site/media/music/Hotel%20California/01%20Hotel%20California.mp3&#34; &#34;lrc:https://cdn.17lai.site/media/music/Hotel%20California/01%20Hotel%20California.lrc&#34; &#34;cover:https://cdn.17lai.site/media/music/Hotel%20California/Hotel%20California.webp&#34; &#34;volume:0.66&#34; %}&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;link rel=&#34;stylesheet&#34; href=&#34;https://cdn.jsdelivr.net/npm/aplayer@1/dist/APlayer.min.css&#34;&gt;&lt;script src=&#34;https://cdn.jsdelivr.net/npm/aplayer@1/dist/APlayer.min.js&#34;&gt;&lt;/script&gt;&lt;div id=&#34;mmedia-iMVtpnbPRFBpNjNf&#34;&gt;&lt;/div&gt;&lt;script&gt; var iMVtpnbPRFBpNjNf_options = JSON.parse(&#39;{\&#34;lrcType\&#34;:3,\&#34;volume\&#34;:0.66,\&#34;autoplay\&#34;:false,\&#34;audio\&#34;:[{\&#34;name\&#34;:\&#34;Hotel California\&#34;,\&#34;artist\&#34;:\&#34;Camille and Kennerly\&#34;,\&#34;url\&#34;:\&#34;https://cdn.17lai.site/media/music/Hotel%20California/01%20Hotel%20California.mp3\&#34;,\&#34;lrc\&#34;:\&#34;https://cdn.17lai.site/media/music/Hotel%20California/01%20Hotel%20California.lrc\&#34;,\&#34;cover\&#34;:\&#34;https://cdn.17lai.site/media/music/Hotel%20California/Hotel%20California.webp\&#34;}]}&#39;); iMVtpnbPRFBpNjNf_options.container = document.getElementById(&#34;mmedia-iMVtpnbPRFBpNjNf&#34;); const ap_iMVtpnbPRFBpNjNf = new APlayer(iMVtpnbPRFBpNjNf_options); &lt;/script&gt;

- **列表**

&lt;link rel=&#34;stylesheet&#34; href=&#34;https://cdn.jsdelivr.net/npm/aplayer@1/dist/APlayer.min.css&#34;&gt;&lt;script src=&#34;https://cdn.jsdelivr.net/npm/aplayer@1/dist/APlayer.min.js&#34;&gt;&lt;/script&gt;&lt;div id=&#34;mmedia-LSVlFAdXVslmPiwd&#34;&gt;&lt;/div&gt;&lt;script&gt; var LSVlFAdXVslmPiwd_options = JSON.parse(&#39;{\&#34;lrcType\&#34;:3,\&#34;volume\&#34;:0.8,\&#34;autoplay\&#34;:false,\&#34;audio\&#34;:[{\&#34;name\&#34;:\&#34;Hotel California\&#34;,\&#34;artist\&#34;:\&#34;Camille and Kennerly\&#34;,\&#34;url\&#34;:\&#34;https://cdn.17lai.site/media/music/Hotel%20California/01%20Hotel%20California.mp3\&#34;,\&#34;cover\&#34;:\&#34;https://cdn.17lai.site/media/music/Hotel%20California/Hotel%20California.webp\&#34;,\&#34;lrc\&#34;:\&#34;https://cdn.17lai.site/media/music/Hotel%20California/01%20Hotel%20California.lrc\&#34;,\&#34;theme\&#34;:\&#34;#ebd0c2\&#34;},{\&#34;name\&#34;:\&#34;Sold Out\&#34;,\&#34;artist\&#34;:\&#34;Diamonds\&#34;,\&#34;url\&#34;:\&#34;https://cdn.17lai.site/media/music/Diamonds/05%20Sold%20Out.flac\&#34;,\&#34;cover\&#34;:\&#34;https://cdn.17lai.site/media/music/Diamonds/Diamonds.jpg\&#34;,\&#34;theme\&#34;:\&#34;#ebd0c2\&#34;},{\&#34;name\&#34;:\&#34;The Final Bell\&#34;,\&#34;artist\&#34;:\&#34;Rocky_Original Motion Picture Score\&#34;,\&#34;url\&#34;:\&#34;https://cdn.17lai.site/media/music/Rocky_%20Original%20Motion%20Picture%20Score/12%20Bill%20Conti%20-%20The%20Final%20Bell.mp3\&#34;,\&#34;cover\&#34;:\&#34;https://cdn.17lai.site/media/music/Rocky_%20Original%20Motion%20Picture%20Score/Rocky_%20Original%20Motion%20Picture%20Score.jpg\&#34;,\&#34;theme\&#34;:\&#34;#ebd0c2\&#34;},{\&#34;name\&#34;:\&#34; Croatian Rhapsody\&#34;,\&#34;artist\&#34;:\&#34;The Piano Player\&#34;,\&#34;url\&#34;:\&#34;https://cdn.17lai.site/media/music/The%20Piano%20Player/11%20Croatian%20Rhapsody.mp3\&#34;,\&#34;cover\&#34;:\&#34;https://cdn.17lai.site/media/music/The%20Piano%20Player/The%20Piano%20Player.jpg\&#34;,\&#34;theme\&#34;:\&#34;#ebd0c2\&#34;}]}&#39;); LSVlFAdXVslmPiwd_options.container = document.getElementById(&#34;mmedia-LSVlFAdXVslmPiwd&#34;); const ap_LSVlFAdXVslmPiwd = new APlayer(LSVlFAdXVslmPiwd_options); &lt;/script&gt;
&lt;p&gt;&lt;strong&gt;例子&lt;/strong&gt;&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-twig&#34; data-language=&#34;twig&#34;&gt;&lt;code class=&#34;language-twig&#34;&gt;&lt;span class=&#34;token twig language-twig&#34;&gt;&lt;span class=&#34;token delimiter punctuation&#34;&gt;{%&lt;/span&gt; &lt;span class=&#34;token tag-name keyword&#34;&gt;mmedias&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;aplayer&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;autoplay:false&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&lt;/span&gt; &lt;span class=&#34;token delimiter punctuation&#34;&gt;%}&lt;/span&gt;&lt;/span&gt;
{
  &#34;volume&#34;: 0.8,
  &#34;audio&#34;:
  [
    {
      &#34;name&#34;: &#34;name1&#34;,
      &#34;artist&#34;: &#34;artist1&#34;,
      &#34;url&#34;: &#34;url1.mp3&#34;,
      &#34;cover&#34;: &#34;cover1.jpg&#34;,
      &#34;lrc&#34;: &#34;lrc1.lrc&#34;,
      &#34;theme&#34;: &#34;#ebd0c2&#34;
    },
    {
      &#34;name&#34;: &#34;name2&#34;,
      &#34;artist&#34;: &#34;artist2&#34;,
      &#34;url&#34;: &#34;url2.mp3&#34;,
      &#34;cover&#34;: &#34;cover2.jpg&#34;,
      &#34;lrc&#34;: &#34;lrc2.lrc&#34;,
      &#34;theme&#34;: &#34;#46718b&#34;
    }
  ]
}
&lt;span class=&#34;token twig language-twig&#34;&gt;&lt;span class=&#34;token delimiter punctuation&#34;&gt;{%&lt;/span&gt; &lt;span class=&#34;token tag-name keyword&#34;&gt;endmmedias&lt;/span&gt; &lt;span class=&#34;token delimiter punctuation&#34;&gt;%}&lt;/span&gt;&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;Dplayer&#34;&gt;Dplayer&lt;/h4&gt;
&lt;blockquote&gt;
&lt;p&gt;此部分请熟读 &lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;http://dplayer.js.org/&#34;&gt;DPlayer 文档&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;pre class=&#34;line-numbers language-twig&#34; data-language=&#34;twig&#34;&gt;&lt;code class=&#34;language-twig&#34;&gt;&lt;span class=&#34;token twig language-twig&#34;&gt;&lt;span class=&#34;token delimiter punctuation&#34;&gt;{%&lt;/span&gt; &lt;span class=&#34;token tag-name keyword&#34;&gt;mmedia&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;dplayer&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;url:a.mp4&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&lt;/span&gt; &lt;span class=&#34;token delimiter punctuation&#34;&gt;%}&lt;/span&gt;&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;line-numbers language-twig&#34; data-language=&#34;twig&#34;&gt;&lt;code class=&#34;language-twig&#34;&gt;&lt;span class=&#34;token twig language-twig&#34;&gt;&lt;span class=&#34;token delimiter punctuation&#34;&gt;{%&lt;/span&gt; &lt;span class=&#34;token tag-name keyword&#34;&gt;mmedias&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;dplayer&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;flv:&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;url:https://dandoc.u2sb.com/video/%E5%AE%89%E8%A3%85/1-%E6%95%B0%E6%8D%AE%E5%BA%93%E5%AE%89%E8%A3%85.mp4&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&lt;/span&gt; &lt;span class=&#34;token delimiter punctuation&#34;&gt;%}&lt;/span&gt;&lt;/span&gt;
{
  &#34;contextmenu&#34;:
  [
    {
      text: &#34;custom1&#34;,
      link: &#34;https://github.com/DIYgod/DPlayer&#34;
    }
  ]
}
&lt;span class=&#34;token twig language-twig&#34;&gt;&lt;span class=&#34;token delimiter punctuation&#34;&gt;{%&lt;/span&gt; &lt;span class=&#34;token tag-name keyword&#34;&gt;endmmedias&lt;/span&gt; &lt;span class=&#34;token delimiter punctuation&#34;&gt;%}&lt;/span&gt;&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;line-numbers language-twig&#34; data-language=&#34;twig&#34;&gt;&lt;code class=&#34;language-twig&#34;&gt;&lt;span class=&#34;token twig language-twig&#34;&gt;&lt;span class=&#34;token delimiter punctuation&#34;&gt;{%&lt;/span&gt; &lt;span class=&#34;token tag-name keyword&#34;&gt;mmedia&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;dplayer&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;url:https://sample-videos.com/video123/mp4/720/big_buck_bunny_720p_1mb.mp4&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&lt;/span&gt; &lt;span class=&#34;token delimiter punctuation&#34;&gt;%}&lt;/span&gt;&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;line-numbers language-none&#34;&gt;&lt;code class=&#34;language-none&#34;&gt;{% mmedia &#34;dplayer&#34; &#34;url:https://sample-videos.com/video123/mp4/720/big_buck_bunny_720p_1mb.mp4&#34; %}&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;line-numbers language-twig&#34; data-language=&#34;twig&#34;&gt;&lt;code class=&#34;language-twig&#34;&gt;&lt;span class=&#34;token twig language-twig&#34;&gt;&lt;span class=&#34;token delimiter punctuation&#34;&gt;{%&lt;/span&gt; &lt;span class=&#34;token tag-name keyword&#34;&gt;mmedias&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;dplayer&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&lt;/span&gt; &lt;span class=&#34;token delimiter punctuation&#34;&gt;%}&lt;/span&gt;&lt;/span&gt;
{
  video: 
  {
    url: &#34;https://sample-videos.com/video123/mp4/720/big_buck_bunny_720p_1mb.mp4&#34;
  }
}
&lt;span class=&#34;token twig language-twig&#34;&gt;&lt;span class=&#34;token delimiter punctuation&#34;&gt;{%&lt;/span&gt; &lt;span class=&#34;token tag-name keyword&#34;&gt;endmmedias&lt;/span&gt; &lt;span class=&#34;token delimiter punctuation&#34;&gt;%}&lt;/span&gt;&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;哔哩哔哩&#34;&gt;哔哩哔哩&lt;/h4&gt;
&lt;p&gt;详细参数表：&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:left&#34;&gt;参数&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;默认&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;解释&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;aid&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;-&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;aid&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;bvid&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;-&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;bvid，与 aid 同时出现时以 bvid 为准&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;page&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;1&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;page&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;danmaku&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;true&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;是否有弹幕 ture or false&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;allowfullscreen&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;allowfullscreen&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;允许全屏， allowfullscreen 或 true 允许，其他选项不允许&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;sandbox&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;见 &lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://www.u2sb.com/pages/19d343/#%E9%85%8D%E7%BD%AE&#34;&gt;配置&lt;/a&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;iframe sandbox&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;width&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;100%&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;css 属性&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;max_width&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;850px&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;css 属性&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;margin&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;auto&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;css 属性&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;mmedia 插件允许在 contents 部分使用 JSON 编写配置，使用 JSON5 标准。&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-twig&#34; data-language=&#34;twig&#34;&gt;&lt;code class=&#34;language-twig&#34;&gt;&lt;span class=&#34;token twig language-twig&#34;&gt;&lt;span class=&#34;token delimiter punctuation&#34;&gt;{%&lt;/span&gt; &lt;span class=&#34;token tag-name keyword&#34;&gt;mmedia&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;bilibili&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;bvid:BV1fs411S7u7&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&lt;/span&gt; &lt;span class=&#34;token delimiter punctuation&#34;&gt;%}&lt;/span&gt;&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;西瓜视频&#34;&gt;西瓜视频&lt;/h4&gt;
&lt;p&gt;详细参数表：&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:left&#34;&gt;参数&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;默认&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;解释&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;xid&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;-&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;西瓜视频的 ID，就是那一串数字&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;id&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;-&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;一般情况下不需要填写&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;autoplay&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;false&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;autoplay&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;startTime&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;0&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;开始时间，秒&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;allowfullscreen&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;allowfullscreen&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;允许全屏， allowfullscreen 或 true 允许，其他选项不允许&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;sandbox&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;见 &lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://www.u2sb.com/pages/a0c4a7/#%E9%85%8D%E7%BD%AE&#34;&gt;配置&lt;/a&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;iframe sandbox&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;width&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;100%&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;css 属性&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;max_width&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;850px&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;css 属性&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;margin&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;auto&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;css 属性&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;pre class=&#34;line-numbers language-twig&#34; data-language=&#34;twig&#34;&gt;&lt;code class=&#34;language-twig&#34;&gt;&lt;span class=&#34;token twig language-twig&#34;&gt;&lt;span class=&#34;token delimiter punctuation&#34;&gt;{%&lt;/span&gt; &lt;span class=&#34;token tag-name keyword&#34;&gt;mmedia&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;xigua&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;xid=6925997698269053453&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&lt;/span&gt; &lt;span class=&#34;token delimiter punctuation&#34;&gt;%}&lt;/span&gt;&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;line-numbers language-twig&#34; data-language=&#34;twig&#34;&gt;&lt;code class=&#34;language-twig&#34;&gt;&lt;span class=&#34;token twig language-twig&#34;&gt;&lt;span class=&#34;token delimiter punctuation&#34;&gt;{%&lt;/span&gt; &lt;span class=&#34;token tag-name keyword&#34;&gt;mmedia&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;xigua&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;xid:6925997698269053453&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;autoplay:true&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&lt;/span&gt; &lt;span class=&#34;token delimiter punctuation&#34;&gt;%}&lt;/span&gt;&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;line-numbers language-twig&#34; data-language=&#34;twig&#34;&gt;&lt;code class=&#34;language-twig&#34;&gt;&lt;span class=&#34;token twig language-twig&#34;&gt;&lt;span class=&#34;token delimiter punctuation&#34;&gt;{%&lt;/span&gt; &lt;span class=&#34;token tag-name keyword&#34;&gt;mmedia&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;xigua&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;xid=6925997698269053453&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&lt;/span&gt; &lt;span class=&#34;token delimiter punctuation&#34;&gt;%}&lt;/span&gt;&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;ArtPlayer&#34;&gt;ArtPlayer&lt;/h4&gt;
&lt;blockquote&gt;
&lt;p&gt;此部分请熟读 &lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://artplayer.org/document/#/options&#34;&gt;ArtPlayer 文档&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;使用 &lt;code&gt;:&lt;/code&gt; 或 &lt;code&gt;=&lt;/code&gt; 分割。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;详细参数表：&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:left&#34;&gt;参数&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;默认&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;解释&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;url&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;-&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;url&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;title&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;-&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;title&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;poster&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;-&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;poster&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;type&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;-&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;type&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;autoplay&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;false&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;video autoplay&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;loop&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;false&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;video loop&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;volume&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;0.7&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;default volume&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;style&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;-&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;style&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;上面有一个比较特殊的参数 flv，这里单独解释一下，这个参数是用于引入其他 js 文件的，目前支持的有： &lt;code&gt;hls&lt;/code&gt; &lt;code&gt;dash&lt;/code&gt; &lt;code&gt;shaka_dash&lt;/code&gt; &lt;code&gt;flv&lt;/code&gt; &lt;code&gt;webtorrent&lt;/code&gt; ，上述参数可多个一起使用，如果后面带有 js 地址，将直接使用，否则将使用 &lt;code&gt;_config.yml&lt;/code&gt; 配置或插件默认配置，如：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-twig&#34; data-language=&#34;twig&#34;&gt;&lt;code class=&#34;language-twig&#34;&gt;&lt;span class=&#34;token twig language-twig&#34;&gt;&lt;span class=&#34;token delimiter punctuation&#34;&gt;{%&lt;/span&gt; &lt;span class=&#34;token tag-name keyword&#34;&gt;mmedia&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;artplayer&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;flv:&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;url:a.flv&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&lt;/span&gt; &lt;span class=&#34;token delimiter punctuation&#34;&gt;%}&lt;/span&gt;&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;line-numbers language-twig&#34; data-language=&#34;twig&#34;&gt;&lt;code class=&#34;language-twig&#34;&gt;&lt;span class=&#34;token twig language-twig&#34;&gt;&lt;span class=&#34;token delimiter punctuation&#34;&gt;{%&lt;/span&gt; &lt;span class=&#34;token tag-name keyword&#34;&gt;mmedias&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;artplayer&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;flv:&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;hls:https://cdn.jsdelivr.net/npm/hls.js/dist/hls.min.js&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&lt;/span&gt; &lt;span class=&#34;token delimiter punctuation&#34;&gt;%}&lt;/span&gt;&lt;/span&gt;
{
  ...
}
&lt;span class=&#34;token twig language-twig&#34;&gt;&lt;span class=&#34;token delimiter punctuation&#34;&gt;{%&lt;/span&gt; &lt;span class=&#34;token tag-name keyword&#34;&gt;endmmedias&lt;/span&gt; &lt;span class=&#34;token delimiter punctuation&#34;&gt;%}&lt;/span&gt;&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;line-numbers language-twig&#34; data-language=&#34;twig&#34;&gt;&lt;code class=&#34;language-twig&#34;&gt;&lt;span class=&#34;token twig language-twig&#34;&gt;&lt;span class=&#34;token delimiter punctuation&#34;&gt;{%&lt;/span&gt; &lt;span class=&#34;token tag-name keyword&#34;&gt;mmedia&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;artplayer&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;url:https://dandoc.u2sb.com/video/%E5%AE%89%E8%A3%85/1-%E6%95%B0%E6%8D%AE%E5%BA%93%E5%AE%89%E8%A3%85.mp4&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&lt;/span&gt; &lt;span class=&#34;token delimiter punctuation&#34;&gt;%}&lt;/span&gt;&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;line-numbers language-twig&#34; data-language=&#34;twig&#34;&gt;&lt;code class=&#34;language-twig&#34;&gt;&lt;span class=&#34;token twig language-twig&#34;&gt;&lt;span class=&#34;token delimiter punctuation&#34;&gt;{%&lt;/span&gt; &lt;span class=&#34;token tag-name keyword&#34;&gt;mmedias&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;artplayer&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;flv:&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&lt;/span&gt;  &lt;span class=&#34;token delimiter punctuation&#34;&gt;%}&lt;/span&gt;&lt;/span&gt;
{
  url: &#34;https://dandoc.u2sb.com/video/%E5%AE%89%E8%A3%85/1-%E6%95%B0%E6%8D%AE%E5%BA%93%E5%AE%89%E8%A3%85.mp4&#34;
}
&lt;span class=&#34;token twig language-twig&#34;&gt;&lt;span class=&#34;token delimiter punctuation&#34;&gt;{%&lt;/span&gt; &lt;span class=&#34;token tag-name keyword&#34;&gt;endmmedias&lt;/span&gt; &lt;span class=&#34;token delimiter punctuation&#34;&gt;%}&lt;/span&gt;&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;line-numbers language-none&#34;&gt;&lt;code class=&#34;language-none&#34;&gt;{% mmedia &#34;artplayer&#34; &#34;url:https://sample-videos.com/video123/mp4/720/big_buck_bunny_720p_2mb.mp4&#34; %}&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;line-numbers language-none&#34;&gt;&lt;code class=&#34;language-none&#34;&gt;{% mmedias &#34;artplayer&#34; %}
{
  url: &#34;https://sample-videos.com/video123/mp4/720/big_buck_bunny_720p_2mb.mp4&#34;
}
{% endmmedias %}&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;strong&gt;bilibili&lt;/strong&gt;&lt;/p&gt;
&lt;style&gt;.bbplayer{width: 100%; max-width: 850px; margin: auto}&lt;/style&gt;&lt;div class=&#34;bbplayer&#34;&gt;&lt;iframe class=&#34;bbplayer&#34; id=&#34;mmedia-HsdPGZCCDNlSxWVL&#34; src=&#34;https://player.bilibili.com/player.html?bvid=BV1fs411S7u7&amp;amp;page=1&amp;amp;high_quality=1&amp;amp;danmaku=true&#34; allowfullscreen=&#34;allowfullscreen&#34; scrolling=&#34;no&#34; border=&#34;0&#34; frameborder=&#34;0&#34; framespacing=&#34;0&#34; sandbox=&#34;allow-top-navigation allow-same-origin allow-forms allow-scripts allow-popups&#34;&gt;&lt;/iframe&gt;&lt;/div&gt;&lt;script&gt; document.getElementById(&#34;mmedia-HsdPGZCCDNlSxWVL&#34;).style.height=document.getElementById(&#34;mmedia-HsdPGZCCDNlSxWVL&#34;).scrollWidth*0.76+&#34;px&#34;;
    window.onresize = function(){
      document.getElementById(&#34;mmedia-HsdPGZCCDNlSxWVL&#34;).style.height=document.getElementById(&#34;mmedia-HsdPGZCCDNlSxWVL&#34;).scrollWidth*0.76+&#34;px&#34;;
    }; &lt;/script&gt;

**xigua**

&lt;style&gt;.xgplayer{width: 100%; max-width: 850px; margin: auto}&lt;/style&gt;&lt;div class=&#34;xgplayer&#34;&gt;&lt;iframe class=&#34;xgplayer&#34; id=&#34;mmedia-OyeCYHanSYxYjJVe&#34; src=&#34;https://www.ixigua.com/iframe/6925997698269053453?autoplay=0&amp;amp;startTime=undefined&#34; allowfullscreen=&#34;allowfullscreen&#34; scrolling=&#34;no&#34; border=&#34;0&#34; frameborder=&#34;0&#34; framespacing=&#34;0&#34; sandbox=&#34;allow-top-navigation allow-same-origin allow-forms allow-scripts allow-popups&#34;&gt;&lt;/iframe&gt;&lt;/div&gt;&lt;script&gt; document.getElementById(&#34;mmedia-OyeCYHanSYxYjJVe&#34;).style.height=document.getElementById(&#34;mmedia-OyeCYHanSYxYjJVe&#34;).scrollWidth*0.7+&#34;px&#34;;
    window.onresize = function(){
      document.getElementById(&#34;mmedia-OyeCYHanSYxYjJVe&#34;).style.height=document.getElementById(&#34;mmedia-OyeCYHanSYxYjJVe&#34;).scrollWidth*0.7+&#34;px&#34;;
    }; &lt;/script&gt;

**artplayer**

&lt;script src=&#34;https://cdn.jsdelivr.net/npm/artplayer@3/dist/artplayer.js&#34;&gt;&lt;/script&gt;&lt;div id=&#34;mmedia-FcTzfdPRJkEjuCou&#34; style=&#34;width:100%;height:650px;max-width:1200px;center&#34;&gt;&lt;/div&gt;&lt;script&gt; var FcTzfdPRJkEjuCou_options = JSON.parse(&#39;{\&#34;style\&#34;:\&#34;width:100%;height:650px;max-width:1200px;center\&#34;,\&#34;autoSize\&#34;:true,\&#34;autoMini\&#34;:true,\&#34;fullscreen\&#34;:true,\&#34;fullscreenWeb\&#34;:true,\&#34;url\&#34;:\&#34;https://sample-videos.com/video123/mp4/720/big_buck_bunny_720p_2mb.mp4\&#34;}&#39;); FcTzfdPRJkEjuCou_options.container = &#34;#mmedia-FcTzfdPRJkEjuCou&#34;; const art_FcTzfdPRJkEjuCou = new Artplayer(FcTzfdPRJkEjuCou_options); &lt;/script&gt;
&lt;h2 id=&#34;脑图&#34;&gt;&lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://github.com/MaxChang3/hexo-markmap&#34;&gt;脑图&lt;/a&gt;&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://zhangmaimai.com/2021/02/23/hexo-mindmap-plugin/&#34;&gt;原作者记录&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;

    &lt;div class=&#34;markmap-container&#34; style=&#34;height:250px&#34;&gt;
      &lt;svg data=&#34;{&amp;quot;t&amp;quot;:&amp;quot;heading&amp;quot;,&amp;quot;d&amp;quot;:1,&amp;quot;p&amp;quot;:{&amp;quot;lines&amp;quot;:[0,1]},&amp;quot;v&amp;quot;:&amp;quot;思维导图？&amp;quot;,&amp;quot;c&amp;quot;:[{&amp;quot;t&amp;quot;:&amp;quot;heading&amp;quot;,&amp;quot;d&amp;quot;:2,&amp;quot;p&amp;quot;:{&amp;quot;lines&amp;quot;:[1,2]},&amp;quot;v&amp;quot;:&amp;quot;使用现有的插件或组件？&amp;quot;,&amp;quot;c&amp;quot;:[{&amp;quot;t&amp;quot;:&amp;quot;heading&amp;quot;,&amp;quot;d&amp;quot;:3,&amp;quot;p&amp;quot;:{&amp;quot;lines&amp;quot;:[2,3]},&amp;quot;v&amp;quot;:&amp;quot;Mermaid：更偏向流程图&amp;quot;},{&amp;quot;t&amp;quot;:&amp;quot;heading&amp;quot;,&amp;quot;d&amp;quot;:3,&amp;quot;p&amp;quot;:{&amp;quot;lines&amp;quot;:[3,4]},&amp;quot;v&amp;quot;:&amp;quot;Kityminder&amp;quot;,&amp;quot;c&amp;quot;:[{&amp;quot;t&amp;quot;:&amp;quot;heading&amp;quot;,&amp;quot;d&amp;quot;:4,&amp;quot;p&amp;quot;:{&amp;quot;lines&amp;quot;:[4,5]},&amp;quot;v&amp;quot;:&amp;quot;现成hexo插件有些小问题。&amp;quot;},{&amp;quot;t&amp;quot;:&amp;quot;heading&amp;quot;,&amp;quot;d&amp;quot;:4,&amp;quot;p&amp;quot;:{&amp;quot;lines&amp;quot;:[5,6]},&amp;quot;v&amp;quot;:&amp;quot;二次开发，失败&amp;quot;}]}]},{&amp;quot;t&amp;quot;:&amp;quot;heading&amp;quot;,&amp;quot;d&amp;quot;:2,&amp;quot;p&amp;quot;:{&amp;quot;lines&amp;quot;:[6,7]},&amp;quot;v&amp;quot;:&amp;quot;找寻相关项目？&amp;quot;,&amp;quot;c&amp;quot;:[{&amp;quot;t&amp;quot;:&amp;quot;heading&amp;quot;,&amp;quot;d&amp;quot;:3,&amp;quot;p&amp;quot;:{&amp;quot;lines&amp;quot;:[8,9]},&amp;quot;v&amp;quot;:&amp;quot;Markmap大法！&amp;quot;,&amp;quot;c&amp;quot;:[{&amp;quot;t&amp;quot;:&amp;quot;heading&amp;quot;,&amp;quot;d&amp;quot;:4,&amp;quot;p&amp;quot;:{&amp;quot;lines&amp;quot;:[9,10]},&amp;quot;v&amp;quot;:&amp;quot;直接弄，失败&amp;quot;},{&amp;quot;t&amp;quot;:&amp;quot;heading&amp;quot;,&amp;quot;d&amp;quot;:4,&amp;quot;p&amp;quot;:{&amp;quot;lines&amp;quot;:[10,11]},&amp;quot;v&amp;quot;:&amp;quot;使用jsdom，失败&amp;quot;},{&amp;quot;t&amp;quot;:&amp;quot;heading&amp;quot;,&amp;quot;d&amp;quot;:4,&amp;quot;p&amp;quot;:{&amp;quot;lines&amp;quot;:[11,12]},&amp;quot;v&amp;quot;:&amp;quot;寻找现成库，成功&amp;quot;}]}]},{&amp;quot;t&amp;quot;:&amp;quot;heading&amp;quot;,&amp;quot;d&amp;quot;:2,&amp;quot;p&amp;quot;:{&amp;quot;lines&amp;quot;:[12,13]},&amp;quot;v&amp;quot;:&amp;quot;咕咕咕咕咕咕咕咕咕咕咕咕&amp;quot;},{&amp;quot;t&amp;quot;:&amp;quot;heading&amp;quot;,&amp;quot;d&amp;quot;:2,&amp;quot;p&amp;quot;:{&amp;quot;lines&amp;quot;:[13,14]},&amp;quot;v&amp;quot;:&amp;quot;凑一下行数让版面好看点&amp;quot;}]}&#34;&gt;&lt;/svg&gt;
    &lt;/div&gt;
  
&lt;pre class=&#34;line-numbers language-markdown&#34; data-language=&#34;markdown&#34;&gt;&lt;code class=&#34;language-markdown&#34;&gt;{% markmap 250px %}
&lt;span class=&#34;token title important&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;#&lt;/span&gt; 思维导图？&lt;/span&gt;
&lt;span class=&#34;token title important&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;##&lt;/span&gt; 使用现有的插件或组件？&lt;/span&gt;
&lt;span class=&#34;token title important&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;###&lt;/span&gt; Mermaid：更偏向流程图&lt;/span&gt;
&lt;span class=&#34;token title important&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;###&lt;/span&gt; Kityminder&lt;/span&gt;
&lt;span class=&#34;token title important&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;####&lt;/span&gt; 现成hexo插件有些小问题。&lt;/span&gt;
&lt;span class=&#34;token title important&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;####&lt;/span&gt; 二次开发，失败&lt;/span&gt;
&lt;span class=&#34;token title important&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;##&lt;/span&gt; 找寻相关项目？&lt;/span&gt;
&lt;span class=&#34;token title important&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;###&lt;/span&gt; Markmap大法！&lt;/span&gt;
&lt;span class=&#34;token title important&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;####&lt;/span&gt; 直接弄，失败&lt;/span&gt;
&lt;span class=&#34;token title important&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;####&lt;/span&gt; 使用jsdom，失败&lt;/span&gt;
&lt;span class=&#34;token title important&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;####&lt;/span&gt; 寻找现成库，成功&lt;/span&gt;
&lt;span class=&#34;token title important&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;##&lt;/span&gt; 咕咕咕咕咕咕咕咕咕咕咕咕&lt;/span&gt;
&lt;span class=&#34;token title important&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;##&lt;/span&gt; 凑一下行数让版面好看点&lt;/span&gt;
{% endmarkmap %}&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;系列教程-19&#34;&gt;&lt;strong&gt;系列教程&lt;/strong&gt;&lt;/h2&gt;
&lt;p&gt;&lt;a href=&#34;https://blog.17lai.site/atom.xml&#34;&gt;全部文章RSS订阅&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Hexo系列&lt;/strong&gt;  &lt;a href=&#34;https://blog.17lai.site/categories/hexo/atom.xml&#34;&gt;&lt;strong&gt;HexoRSS分类订阅&lt;/strong&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;[三万字教程]基于Hexo的matery主题搭建博客并深度优化完全一站式教程&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;https://blog.17lai.site/posts/40300608/&#34;&gt;Hexo Docker环境与Hexo基础配置篇&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;https://blog.17lai.site/posts/4d8a0b22/&#34;&gt;hexo博客自定义修改篇&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;https://blog.17lai.site/posts/9b056c86/&#34;&gt;hexo博客网络优化篇&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;https://blog.17lai.site/posts/5311b619/&#34;&gt;hexo博客增强部署篇&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;https://blog.17lai.site/posts/4a2050e2/&#34;&gt;hexo博客个性定制篇&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;https://blog.17lai.site/posts/84b4059a/&#34;&gt;hexo博客常见问题篇&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;https://blog.17lai.site/posts/cf0f47fd/&#34;&gt;Hexo Markdown以及各种插件功能测试&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;markdown 各种其它语法插件&lt;/li&gt;
&lt;li&gt;latex公式支持&lt;/li&gt;
&lt;li&gt;mermaid图表&lt;/li&gt;
&lt;li&gt;plant uml图表&lt;/li&gt;
&lt;li&gt;URL卡片&lt;/li&gt;
&lt;li&gt;bilibili卡片&lt;/li&gt;
&lt;li&gt;github卡片&lt;/li&gt;
&lt;li&gt;豆瓣卡片&lt;/li&gt;
&lt;li&gt;插入音乐和视频&lt;/li&gt;
&lt;li&gt;插入脑图&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;strong&gt;笔记系列&lt;/strong&gt;  &lt;a href=&#34;https://blog.17lai.site/categories/note/atom.xml&#34;&gt;&lt;strong&gt;Note分类RSS订阅&lt;/strong&gt;&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://blog.17lai.site/posts/a8535f26/&#34;&gt;完美笔记进化论&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;经历了很长时间，使用了各种各样的方案，最终选择了一种相对完美的方式。docker私有部署运行的joplin，使用markdown语法，github作为图床，picgo作为图像自动上传后端，pypora作为MD编辑器，Snipaste作为截图工具。后备gitlab ee selfhost备份，自建图床VPS多线负载均衡。cloudflare partner cdn加速，jsdelivr加速。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;pigo图床搭建与配置&lt;/li&gt;
&lt;li&gt;Joplin教程&lt;/li&gt;
&lt;li&gt;Snipaste截图工具&lt;/li&gt;
&lt;li&gt;Typora 作为Markdown编辑器最强&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://blog.17lai.fun/posts/e6086437/&#34;&gt;Joplin入门指南&amp;amp;实践方案&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;Joplin和使用&lt;/li&gt;
&lt;li&gt;Joplin同步与备份&lt;/li&gt;
&lt;li&gt;Joplin导入与导出&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://blog.17lai.fun/posts/45f878cd/&#34;&gt;替代Evernote免费开源笔记Joplin-网盘同步笔记历史版本Markdown可视化&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;Joplin安装使用，调用外部编辑器，网盘同步等等&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://blog.17lai.site/posts/92d347d6/&#34;&gt;Joplin 插件以及其Markdown语法。All in One!&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;Joplin简明教程&lt;/li&gt;
&lt;li&gt;markdown语法简明教程&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://blog.17lai.site/posts/e3ee7f8b/&#34;&gt;Joplin 插件使用推荐&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;教你用各种插件打造一个强大的笔记工具。&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://blog.17lai.site/posts/1802a8a7/&#34;&gt;为知笔记私有化Docker部署&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;如何部署自己私有的为知笔记。&lt;/li&gt;
&lt;li&gt;其实博主更推荐私有部署joplin&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;hr class=&#34;footnotes-sep&#34;&gt;
&lt;section class=&#34;footnotes&#34;&gt;
&lt;ol class=&#34;footnotes-list&#34;&gt;
&lt;li id=&#34;fn1&#34; class=&#34;footnote-item&#34;&gt;&lt;p&gt;Here is the footnote. &lt;a href=&#34;#fnref1&#34; class=&#34;footnote-backref&#34;&gt;↩︎&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id=&#34;fn2&#34; class=&#34;footnote-item&#34;&gt;&lt;p&gt;Here&#39;s one with multiple blocks.&lt;/p&gt;
&lt;p&gt;Subsequent paragraphs are indented to show that they &lt;a href=&#34;#fnref2&#34; class=&#34;footnote-backref&#34;&gt;↩︎&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/section&gt;
&lt;link rel=&#34;stylesheet&#34; href=&#34;/css/bilicard.css&#34; type=&#34;text/css&#34;&gt;
    &lt;style&gt;.markmap-container{display:flex;justify-content:center;margin:0 auto;width:90%;height:500px}.markmap-container svg{width:100%;height:100%}@media(max-width:768px){.markmap-container{height:400px}}&lt;/style&gt;
    &lt;script src=&#34;https://cdn.jsdelivr.net/npm/d3@6&#34;&gt;&lt;/script&gt;
    &lt;script src=&#34;https://cdn.jsdelivr.net/npm/markmap-view&#34;&gt;&lt;/script&gt;
    &lt;script&gt; document.querySelectorAll(&#39;.markmap-container&gt;svg&#39;).forEach(mindmap =&gt; markmap.Markmap.create(mindmap, null, JSON.parse(mindmap.getAttribute(&#39;data&#39;))))&lt;/script&gt;
  </content>
        <category term="mermaid" />
        <category term="hexo" />
        <category term="plantuml" />
        <category term="mathjax" />
        <updated>2021-10-20T01:25:00.000Z</updated>
    </entry>
    <entry>
        <id>https://blog.17lai.site/posts/44557ab0/</id>
        <title>第一次使用VS CODE时你应该指导的一切配置</title>
        <link rel="alternate" href="https://blog.17lai.site/posts/44557ab0/"/>
        <content type="html">&lt;h2 id=&#34;前言-2&#34;&gt;前言&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;文章标题：《第一次使用 VS Code 时你应该知道的一切配置》。本文的最新内容，更新于 2021-10-09。大家完全不用担心这篇文章会过时，因为随着 VS Code 的版本更新和插件更新，本文也会随之更新。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;本文的最新内容，也会在&lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://github.com/qianguyihao/Web/blob/master/00-%E5%89%8D%E7%AB%AF%E5%B7%A5%E5%85%B7/01-VS%20Code%E7%9A%84%E4%BD%BF%E7%94%A8.md&#34;&gt;GitHub&lt;/a&gt;上同步更新，欢迎 star。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;VS Code 软件实在是太酷、太好用了，越来越多的新生代互联网民工正在使用它。&lt;/p&gt;
&lt;p&gt;前端男神&lt;strong&gt;尤雨溪&lt;/strong&gt;大大这样评价 VS Code：&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2022/03/1220220312201152.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;有一点你可能会感到惊讶：VS Code 这款软件本身，是用 JavaScript 语言编写的（具体请自行查阅基于 JS 的 PC 客户端开发框架 &lt;code&gt;Electron&lt;/code&gt;）。Jeff Atwood 在 2007 年提出了著名的 Atwood 定律：&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;任何能够用 JavaScript 实现的应用系统，最终都必将用 JavaScript 实现&lt;/strong&gt;。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Jeff Atwood 这个人是谁不重要（他是 Stack Overflow 网站的联合创始人），重要的是这条定律。&lt;/p&gt;
&lt;p&gt;前端目前是处在春秋战国时代，各路英雄豪杰成为后浪，各种框架工具层出不穷，VS Code 软件无疑是大前端时代最骄傲的工具。&lt;/p&gt;
&lt;p&gt;如果你是做前端开发（JavaScript 编程语言为主），则完全可以将 VS Code 作为「&lt;strong&gt;主力开发工具&lt;/strong&gt;」。这款软件是为前端同学量身定制的，开箱即用。&lt;/p&gt;
&lt;p&gt;如果你是做其他语言方向的开发，并且不需要太复杂的集成开发环境，那么，你可以把 VS Code 作为「&lt;strong&gt;代码编辑器&lt;/strong&gt;」来使用，纵享丝滑。&lt;/p&gt;
&lt;p&gt;甚至是一些写文档、写作的同学，也经常把 VS Code 作为 markdown &lt;strong&gt;写作工具&lt;/strong&gt;，毫无违和感。&lt;/p&gt;
&lt;p&gt;退而求其次，即便你不属于以上任何范畴，你还可以把 VS Code 当作最简单的&lt;strong&gt;文本编辑器&lt;/strong&gt;来使用，完胜 Windows 系统自带的记事本。&lt;/p&gt;
&lt;p&gt;写下这篇文章，是顺势而为。&lt;/p&gt;
&lt;h2 id=&#34;一、惊艳登场：VS-Code-的介绍&#34;&gt;一、惊艳登场：VS Code 的介绍&lt;/h2&gt;
&lt;p&gt;VS Code 的全称是 Visual Studio Code，是一款开源的、免费的、跨平台的、高性能的、轻量级的代码编辑器。它在性能、语言支持、开源社区方面，都做得很不错。&lt;/p&gt;
&lt;p&gt;微软有两种软件：一种是 VS Code，一种是其他软件。&lt;/p&gt;
&lt;p&gt;在2015年4月29日的微软Build开发者大会上，微软宣布推出 VS Code之后，这个轻量级的编辑器成为全球无数开发者们最喜爱的开发工具。VS Code基于开源且跨平台的理念，每月都会进行迭代，并提供每天发布的 insider 版本（insider是微软的一种公测计划，类似于国内软件所说的内测版）。它拥有至少几万个插件，生态极为活跃和丰富。&lt;/p&gt;
&lt;h3 id=&#34;IDE-与-编辑器的对比&#34;&gt;IDE 与 编辑器的对比&lt;/h3&gt;
&lt;p&gt;IDE 和编辑器是有区别的：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;IDE&lt;/strong&gt;（Integrated Development Environment，集成开发环境）：对代码有较好的智能提示和相互跳转，同时侧重于工程项目，对项目的开发、调试工作有较好的图像化界面的支持，因此比较笨重。比如 Eclipse 的定位就是 IDE。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;编辑器&lt;/strong&gt;：要相对轻量许多，侧重于文本的编辑。比如 Sublime Text 的定位就是编辑器。再比如 Windows 系统自带的「记事本」就是最简单的编辑器。&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;需要注意的是，VS Code 的定位是&lt;strong&gt;编辑器&lt;/strong&gt;，而非 IDE ，但 VS Code 又比一般的编辑器的功能要丰富许多。可以这样理解：VS Code 的体量是介于编辑器和 IDE 之间。VS Code 的使命，是让开发者在编辑器里拥有 IDE 那样的开发体验。&lt;/p&gt;
&lt;p&gt;VS Code流行起来之后，使用 Sublime Text、Atom 这类编辑器软件的人，自然就越来越少了。&lt;/p&gt;
&lt;h3 id=&#34;VS-Code-的特点&#34;&gt;VS Code 的特点&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;跨平台：支持 MacOS、Windows 和 Linux 等多个平台。在这多种平台下，拥有一致的用户界面和开发体验。&lt;/li&gt;
&lt;li&gt;开源：VS Code 的源代码以 MIT 协议开源。不仅代码开源，而且整个产品的开发计划和发布管理也都是开源的。VS Code团队每年都会在 GitHub 的Wiki上发布 &lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://github.com/microsoft/vscode/wiki/Roadmap&#34;&gt;Roadmap&lt;/a&gt;，列出一整年的规划图。VS Code 软件的官方文档也托管在了 &lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://github.com/Microsoft/vscode-docs&#34;&gt;GitHub&lt;/a&gt; 上。&lt;/li&gt;
&lt;li&gt;自带终端、图形化的调试工具、Git 版本控制。&lt;/li&gt;
&lt;li&gt;插件扩展：支持第三方插件，功能强大。既有中心化的插件市场，也可以直接在 VS Code里搜索你想要的插件。&lt;/li&gt;
&lt;li&gt;生态：社区生态活跃且丰富，社区氛围浓厚。&lt;/li&gt;
&lt;li&gt;自带  emmet：支持代码自动补全，快速生成简单的语法结构。要知道，这个功能在 Sublime Text中，得先安装插件才行。&lt;/li&gt;
&lt;li&gt;语法支持：VS Code 自带了 JavaScript、TypeScript 和 Node.js 的&lt;strong&gt;语法支持&lt;/strong&gt;，包括：&lt;strong&gt;语法高亮、代码智能提示和补全、括号匹配、颜色区分、代码片段提示&lt;/strong&gt;等。也就是说，你在书写 JS 和 TS 时，这些语法支持都是自带的。其他的一些语言，你需要先安装相应的&lt;strong&gt;扩展包&lt;/strong&gt;插件，就出现语法支持。&lt;/li&gt;
&lt;li&gt;在修改配置方面，既有图形化的配置界面，也有 基于 JSON 文件的配置方式，满足不同人群的使用习惯。&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;前端利器之争：-VS-Code-与-WebStorm&#34;&gt;前端利器之争： VS Code 与 WebStorm&lt;/h3&gt;
&lt;p&gt;前端小白最喜欢问的一个问题是：哪个编辑器/IDE 好用？是 VS Code 还是 WebStorm （WebStorm 其实是 IntelliJ IDEA 的定制版）？我来做个对比：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;哪个更酷&lt;/strong&gt;：显然 VS Code 更酷。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;内存占用情况&lt;/strong&gt;：根据我的观察，VS Code 是很占内存的（尤其是当你打开多个窗口的时候），但如果你的内存条够用，使用起来是不会有任何卡顿的感觉的。相比之下，IntelliJ IDEA 不仅非常占内存，而且还非常卡顿。如果你想换个既轻量级、又不占内存的编辑器，最好还是使用「Sublime Text」编辑器。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;使用比例&lt;/strong&gt;：当然是 VS Code 更胜一筹。先不说别的，我就拿数据说话，我目前所在的研发团队有 200 人左右（120个后台、80个前端），他们绝大部分人都在用 VS Code 编码，妥妥的。&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;所以，如果你以后还问这个问题，那就真有些掉底了。&lt;/p&gt;
&lt;h3 id=&#34;VS-Code-的技术栈、核心组件&#34;&gt;VS Code 的技术栈、核心组件&lt;/h3&gt;
&lt;p&gt;了解 VS Code的技术栈和核心组件，可以让我们对 VS Code 有更深入的认识。此小段，了解即可。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;开发框架：Electron。Electron可以使用 Node.js + JS这样的技术栈开发桌面GUI应用程序。&lt;/li&gt;
&lt;li&gt;编辑器：Monaco Editor。Monaco Editor 是一款开源的在线代码编辑器，是 &lt;strong&gt;VS Code 浏览器版本&lt;/strong&gt;的最核心组件。&lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://zhuanlan.zhihu.com/p/88828576&#34;&gt;#&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;编程语言：TypeScript。TypeScript 是  JavaScript的严格超集。TS 在JS的基础上添加了许多功能，引入了声明文件，而且支持类型扩展。TS 适合长期的、多人开发的大型项目开发。&lt;/li&gt;
&lt;li&gt;让编辑器支持语言功能：Language Server Protocol （LSP） 语言服务协议。LSP是编辑器/IDE 与语言服务器之间的一种协议，通过 JSON-PRC 传输消息，可以让编辑器嵌入并支持各种编程语言。开发者可以在编辑器中使用各种语言来编写程序。&lt;/li&gt;
&lt;li&gt;让编辑器支持调试功能：Debug Adapter Protocol（DAP）。DAP 是基于 JSON的协议，它抽象了开发工具与调试工具质检的通信。&lt;/li&gt;
&lt;li&gt;集成终端：Xterm.js。VS Code的集成终端是基于开源项目 &lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://github.com/xtermjs/xterm.js/&#34;&gt;Xterm.js&lt;/a&gt; 进行开发的。Xterm.js 是一个使用 TS 开发的终端组件。另外，Xterm.js 并不是直接下来下来就能用的终端应用，它只是一个前端组件，可以与 bash这样的进程进行连接，然后让用户通过  Xterm.js 进行交互。&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;VS-Code-的安装&#34;&gt;VS Code 的安装&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;VS Code 官网：&lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://code.visualstudio.com&#34;&gt;https://code.visualstudio.com&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;VS Code 的安装很简单，直接去官网下载安装包，然后双击安装即可。&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2022/03/1220220312201230.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;上图中，直接点击 download，一键下载安装即可。&lt;/p&gt;
&lt;p&gt;VS Code支持以下平台：&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2022/03/1220220312201146.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;安装完成后的界面如下：&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2022/03/1220220312201237.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;VS  Code被分为以下五个区域：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;编辑器&lt;/li&gt;
&lt;li&gt;侧边栏&lt;/li&gt;
&lt;li&gt;状态栏&lt;/li&gt;
&lt;li&gt;活动栏&lt;/li&gt;
&lt;li&gt;面板&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;VS Code在功能上非常克制，只包含了大多数开发流程中所需要的基础模块，包括：编辑器、文件管理、窗口管理、首选项设置、终端等。&lt;/p&gt;
&lt;p&gt;你需要根据具体需要安装额外的组件或者插件。比如说，如果开发TS项目，则需要安装 TS编译器、ESLint、TSLint等编译工具。如果开发C语言项目，则需要安装gcc、Clang等编辑工具。&lt;/p&gt;
&lt;h2 id=&#34;二、崭露锋芒：VS-Code-快捷键&#34;&gt;二、崭露锋芒：VS Code 快捷键&lt;/h2&gt;
&lt;p&gt;VS Code 用得熟不熟，首先就看你是否会用快捷键。以下列出的内容，都是常用快捷键，而加粗部分的快捷键，使用频率则非常高。&lt;/p&gt;
&lt;p&gt;任何工具，掌握 20%的技能，足矣应对 80% 的工作。既然如此，你可能会问：那就只保留 20% 的特性，不久可以满足 80%的用户了吗？&lt;/p&gt;
&lt;p&gt;但我想说的是：&lt;strong&gt;那从来都不是同样的 20%&lt;/strong&gt;，每个人都会用到不同的功能。&lt;/p&gt;
&lt;p&gt;掌握下面这些高频核心快捷键，你和你的工具，足矣露出锋芒。&lt;/p&gt;
&lt;h3 id=&#34;1、工作区快捷键&#34;&gt;1、工作区快捷键&lt;/h3&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:left&#34;&gt;Mac 快捷键&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;Win 快捷键&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;作用&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;备注&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;strong&gt;Cmd + Shift + P&lt;/strong&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;strong&gt;Ctrl + Shift + P&lt;/strong&gt;，F1&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;显示命令面板&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;strong&gt;Cmd + B&lt;/strong&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;strong&gt;Ctrl + B&lt;/strong&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;显示/隐藏侧边栏&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;很实用&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;code&gt;Cmd + \&lt;/code&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;code&gt;Ctrl + \&lt;/code&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;strong&gt;拆分为多个编辑器&lt;/strong&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;【重要】抄代码利器&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;strong&gt;Cmd + 1、2&lt;/strong&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;strong&gt;Ctrl + 1、2&lt;/strong&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;聚焦到第 1、第 2 个编辑器&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;同上重要&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;strong&gt;Cmd + +、Cmd + -&lt;/strong&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;strong&gt;ctrl + +、ctrl + -&lt;/strong&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;将工作区放大/缩小（包括代码字体、左侧导航栏）&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;在投影仪场景经常用到&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Cmd + J&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Ctrl + J&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;显示/隐藏控制台&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;strong&gt;Cmd + Shift + N&lt;/strong&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;strong&gt;Ctrl + Shift + N&lt;/strong&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;重新开一个软件的窗口&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;很常用&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Cmd + Shift + W&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Ctrl + Shift + W&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;关闭软件的当前窗口&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Cmd + N&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Ctrl + N&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;新建文件&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Cmd + W&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Ctrl + W&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;关闭当前文件&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h3 id=&#34;2、跳转操作&#34;&gt;2、跳转操作&lt;/h3&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:left&#34;&gt;Mac 快捷键&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;Win 快捷键&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;作用&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;备注&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Cmd + `&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;没有&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;在同一个软件的&lt;strong&gt;多个工作区&lt;/strong&gt;之间切换&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;使用很频繁&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;strong&gt;Cmd + Option + 左右方向键&lt;/strong&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Ctrl + Pagedown/Pageup&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;在已经打开的&lt;strong&gt;多个文件&lt;/strong&gt;之间进行切换&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;非常实用&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Ctrl + Tab&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Ctrl + Tab&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;在已经打开的多个文件之间进行跳转&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;不如上面的快捷键快&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Cmd + Shift + O&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Ctrl + shift + O&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;在当前文件的各种&lt;strong&gt;方法之间&lt;/strong&gt;（符号：Symbol）进行跳转&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Cmd + T&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Ctrl + T&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;在当前&lt;strong&gt;工作区&lt;/strong&gt;的各种方法之间（符号：Symbol）进行跳转&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Ctrl + G&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Ctrl + G&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;跳转到指定行&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;code&gt;Cmd+Shift+\&lt;/code&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;code&gt;Ctrl+Shift+\&lt;/code&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;跳转到匹配的括号&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h3 id=&#34;3、移动光标&#34;&gt;3、移动光标&lt;/h3&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:left&#34;&gt;Mac 快捷键&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;Win 快捷键&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;作用&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;备注&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;方向键&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;方向键&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;在&lt;strong&gt;单个字符&lt;/strong&gt;之间移动光标&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;大家都知道&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;strong&gt;option + 左右方向键&lt;/strong&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;strong&gt;Ctrl + 左右方向键&lt;/strong&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;在&lt;strong&gt;单词&lt;/strong&gt;之间移动光标&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;很常用&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;strong&gt;Cmd + 左右方向键&lt;/strong&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;strong&gt;Fn + 左右方向键&lt;/strong&gt;（或 Win + 左右方向键）&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;将光标定位到当前行的最左侧、最右侧（在&lt;strong&gt;整行&lt;/strong&gt;之间移动光标）&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;很常用&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;strong&gt;Option + Alt + 左右方向键&lt;/strong&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;strong&gt;Alt + Shift + 左右方向键&lt;/strong&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;左右扩大/缩小选中的范围&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;很酷，极为高效&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Cmd + ↑&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Ctrl + Home&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;将光标定位到文件的第一行&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Cmd + ↓&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Ctrl + End&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;将光标定位到文件的最后一行&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Cmd + Shift + \&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;在&lt;strong&gt;代码块&lt;/strong&gt;之间移动光标&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h3 id=&#34;4、编辑操作&#34;&gt;4、编辑操作&lt;/h3&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:left&#34;&gt;Mac 快捷键&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;Win 快捷键&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;作用&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;备注&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Cmd + C&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Ctrl + C&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;复制&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Cmd + X&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Ctrl + X&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;剪切&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Cmd + C&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Ctrl + V&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;粘贴&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;strong&gt;Cmd + Enter&lt;/strong&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;strong&gt;Ctrl + Enter&lt;/strong&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;在当前行的下方新增一行，然后跳至该行&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;即使光标不在行尾，也能快速向下插入一行&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Cmd+Shift+Enter&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Ctrl+Shift+Enter&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;在当前行的上方新增一行，然后跳至该行&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;即使光标不在行尾，也能快速向上插入一行&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;strong&gt;Option + ↑&lt;/strong&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;strong&gt;Alt + ↑&lt;/strong&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;将代码向上移动&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;很常用&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;strong&gt;Option + ↓&lt;/strong&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;strong&gt;Alt + ↓&lt;/strong&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;将代码向下移动&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;很常用&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Option + Shift + ↑&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Alt + Shift + ↑&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;将代码向上复制一行&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;strong&gt;Option + Shift + ↓&lt;/strong&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;strong&gt;Alt + Shift + ↓&lt;/strong&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;将代码向下复制一行&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;写重复代码的利器&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;另外再补充一点：将光标点击到某一行的任意位置时，默认就已经是&lt;strong&gt;选中全行&lt;/strong&gt;了，此时可以直接&lt;strong&gt;复制&lt;/strong&gt;或&lt;strong&gt;剪切&lt;/strong&gt;，无需点击鼠标。这个非常实用，是所有的编辑操作中，使用得最频繁的。它可以有以下使用场景：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;场景1：假设光标现在处于第5行的&lt;strong&gt;任意位置&lt;/strong&gt;，那么，直接依次按下 &lt;code&gt;Cmd + C&lt;/code&gt; 和 &lt;code&gt;Cmd + V&lt;/code&gt;，就会把这行代码复制到第6行。继续按 &lt;code&gt;Cmd + C&lt;/code&gt; 和 &lt;code&gt;Cmd + V&lt;/code&gt;，就会把这行代码复制到第7行。copy代码so easy。&lt;/li&gt;
&lt;li&gt;场景2：假设光标现在处于第5行，那么，先按下 &lt;code&gt;Cmd + C&lt;/code&gt;，然后按两下&lt;code&gt;↑&lt;/code&gt; 方向键，此时光标处于第3行；紧接着，继续按下&lt;code&gt;Cmd + V&lt;/code&gt;，就会把刚刚那行代码复制到第3行，原本处于第3行的代码会整体&lt;strong&gt;下移&lt;/strong&gt;。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;你看到了没？上面的两个场景，我全程没有使用鼠标，只通过简单的复制粘贴和方向键，就做到了如此迅速的copy代码。你说是不是很高效？&lt;/p&gt;
&lt;h3 id=&#34;5、删除操作&#34;&gt;5、删除操作&lt;/h3&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:left&#34;&gt;Mac 快捷键&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;Win 快捷键&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;作用&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;备注&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Cmd + shift + K&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Ctrl + Shift + K&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;删除整行&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;「Cmd + X」的作用是剪切，但也可以删除整行&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;strong&gt;option + Backspace&lt;/strong&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;strong&gt;Ctrl + Backspace&lt;/strong&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;删除光标之前的一个单词&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;英文有效，很常用&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;option + delete&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Ctrl + delete&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;删除光标之后的一个单词&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;strong&gt;Cmd + Backspace&lt;/strong&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;删除光标之前的整行内容&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;很常用&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Cmd + delete&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;删除光标之后的整行内容&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;备注：上面所讲到的移动光标、编辑操作、删除操作的快捷键，在其他编辑器里，大部分都适用。&lt;/p&gt;
&lt;h3 id=&#34;6、多光标选择-多光标编辑&#34;&gt;6、多光标选择/多光标编辑&lt;/h3&gt;
&lt;p&gt;多光标选择在编程的&lt;strong&gt;提效&lt;/strong&gt;方面可谓立下了汗马功劳。因为比较难记住，所以你要时不时回来复习这一段。&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Mac 快捷键&lt;/th&gt;
&lt;th&gt;Win 快捷键&lt;/th&gt;
&lt;th&gt;作用&lt;/th&gt;
&lt;th&gt;备注&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;Option + 鼠标连续点击任意位置&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;&lt;strong&gt;Alt + 鼠标连续点击任意位置&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;在任意位置，同时出现多个光标&lt;/td&gt;
&lt;td&gt;很容易记住&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Cmd + D&lt;/td&gt;
&lt;td&gt;Ctrl + D&lt;/td&gt;
&lt;td&gt;将光标放在某个单词的位置（或者先选中某个单词），然后反复按下「 &lt;strong&gt;Cmd + D&lt;/strong&gt; 」键， 即可将下一个相同的词逐一加入选择。&lt;/td&gt;
&lt;td&gt;较常用&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;Cmd + Shift + L&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;&lt;strong&gt;Ctrl + Shift + L&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;将光标放在某个单词的位置（或者先选中某个单词），然后按下快捷键，则所有的相同内容处，都会出现光标。&lt;/td&gt;
&lt;td&gt;很常用。比如变量重命名的时候，就经常用到&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h3 id=&#34;7、多列选择-多列编辑&#34;&gt;7、多列选择/多列编辑&lt;/h3&gt;
&lt;p&gt;多列选择是更高效的多光标选择，所以单独列成一小段。&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Mac 快捷键&lt;/th&gt;
&lt;th&gt;Win 快捷键&lt;/th&gt;
&lt;th&gt;作用&lt;/th&gt;
&lt;th&gt;备注&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;Cmd + Option + 上下键&lt;/td&gt;
&lt;td&gt;Ctrl + Alt + 上下键&lt;/td&gt;
&lt;td&gt;在连续的多列上，同时出现多个光标&lt;/td&gt;
&lt;td&gt;较常用&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Option + Shift + 鼠标拖动&lt;/td&gt;
&lt;td&gt;Alt + Shift + 鼠标拖动&lt;/td&gt;
&lt;td&gt;按住快捷键，然后把鼠标从区域的左上角拖至右下角，即可在选中区域的每一行末尾，出现光标。&lt;/td&gt;
&lt;td&gt;很神奇的操作，较常用&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;Option + Shift + i&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;&lt;strong&gt;Alt + Shift + I&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;选中一堆文本后，按下快捷键，既可在&lt;strong&gt;每一行的末尾&lt;/strong&gt;都出现一个光标。&lt;/td&gt;
&lt;td&gt;很常用&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h3 id=&#34;8、编程语言相关&#34;&gt;8、编程语言相关&lt;/h3&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:left&#34;&gt;Mac 快捷键&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;Win 快捷键&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;作用&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;备注&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Cmd + /&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Ctrl + /&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;添加单行注释&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;很常用&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;strong&gt;Option + Shift + F&lt;/strong&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Alt + shift + F&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;代码格式化&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;很常用&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;F2&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;F2&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;以重构的方式进行&lt;strong&gt;重命名&lt;/strong&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;改代码备&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Ctrl + J&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;将多行代码合并为一行&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Win 用户可在命令面板搜索”合并行“&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Cmd +&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Cmd + U&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Ctrl + U&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;将光标的移动回退到上一个位置&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;撤销光标的移动和选择&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h3 id=&#34;9、搜索相关&#34;&gt;9、搜索相关&lt;/h3&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:left&#34;&gt;Mac 快捷键&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;Win 快捷键&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;作用&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;备注&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;strong&gt;Cmd + Shift + F&lt;/strong&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;strong&gt;Ctrl + Shift +F&lt;/strong&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;全局搜索代码&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;很常用&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;strong&gt;Cmd + P&lt;/strong&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;strong&gt;Ctrl + P&lt;/strong&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;在当前的项目工程里，&lt;strong&gt;全局&lt;/strong&gt;搜索文件名&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Cmd + F&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Ctrl + F&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;在当前文件中搜索代码，光标在搜索框里&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;strong&gt;Cmd + G&lt;/strong&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;strong&gt;F3&lt;/strong&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;在当前文件中搜索代码，光标仍停留在编辑器里&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;很巧妙&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h3 id=&#34;10、自定义快捷键&#34;&gt;10、自定义快捷键&lt;/h3&gt;
&lt;p&gt;按住快捷键「Cmd + Shift + P」，弹出命令面板，在命令面板中输入“快捷键”，可以进入快捷键的设置。&lt;/p&gt;
&lt;p&gt;当然，你也可以选择菜单栏「偏好设置 --&amp;gt; 键盘快捷方式」，进入快捷键的设置：&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2022/03/1220220312201244.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;h3 id=&#34;11、快捷键列表&#34;&gt;11、快捷键列表&lt;/h3&gt;
&lt;p&gt;你可以点击 VS Code 左下角的齿轮按钮，效果如下：&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2022/03/1220220312201139.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;上图中，在展开的菜单中选择「键盘快捷方式」，就可以查看和修改所有的快捷键列表了：&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2022/03/1220220312201333.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;h3 id=&#34;快捷键参考表（官方）&#34;&gt;快捷键参考表（官方）&lt;/h3&gt;
&lt;p&gt;VS Code官网提供了 PDF版本的键盘快捷键参考表，转需：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Windows版本：https://code.visualstudio.com/shortcuts/keyboard-shortcuts-windows.pdf&lt;/li&gt;
&lt;li&gt;Mac 版本：https://code.visualstudio.com/shortcuts/keyboard-shortcuts-macos.pdf&lt;/li&gt;
&lt;li&gt;Linux版本：https://code.visualstudio.com/shortcuts/keyboard-shortcuts-linux.pdf&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;我们在 VS  Code软件里通过菜单栏「帮助--&amp;gt;键盘快捷方式参考」也可以打开相应平台的快捷键大全（PDF版本）。&lt;/p&gt;
&lt;h2 id=&#34;三、高端访问：命令面板的使用&#34;&gt;三、高端访问：命令面板的使用&lt;/h2&gt;
&lt;p&gt;Mac 用户按住快捷键 &lt;code&gt;Cmd+Shift+P&lt;/code&gt; （Windows 用户按住快捷键&lt;code&gt;Ctrl+Shift+P&lt;/code&gt;），可以打开快速命令面板。效果如下：&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2022/03/1220220312201339.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;命令面板的作用是&lt;strong&gt;希望解放开发者的鼠标，让一些操作和配置可以直接通过键盘进行&lt;/strong&gt;。如果让开发者记住所有的配置项在菜单的哪个位置是不现实的，而且有些命令并不在菜单中。&lt;/p&gt;
&lt;p&gt;有了命令面板之后，如果你需要修改一些设置项，或者进行一些快捷操作，则可以通过「命令面板」来操作，效率会更高。接下来列举一些。&lt;/p&gt;
&lt;h3 id=&#34;1、VS-Code-设置为中文语言&#34;&gt;1、VS Code 设置为中文语言&lt;/h3&gt;
&lt;p&gt;Mac 用户按住快捷键 &lt;code&gt;Cmd+Shift+P&lt;/code&gt; （Windows 用户按住快捷键&lt;code&gt;Ctrl+Shift+P&lt;/code&gt;），打开命令面板。&lt;/p&gt;
&lt;p&gt;在命令面板中，输入&lt;code&gt;Configure Display Language&lt;/code&gt;，选择&lt;code&gt;Install additional languages&lt;/code&gt;，然后安装插件&lt;code&gt;Chinese (Simplified) Language Pack for Visual Studio Code&lt;/code&gt;即可。&lt;/p&gt;
&lt;p&gt;或者，我们可以直接安装插件&lt;code&gt;Chinese (Simplified) Language Pack for Visual Studio Code&lt;/code&gt;，是一样的。&lt;/p&gt;
&lt;p&gt;安装完成后，重启 VS Code。&lt;/p&gt;
&lt;h3 id=&#34;2、设置字体大小&#34;&gt;2、设置字体大小&lt;/h3&gt;
&lt;p&gt;在命令面板输入“字体”，可以进行字体的设置，效果如下：&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2022/03/1220220312201251.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;当然，你也可以在菜单栏，选择「首选项-设置-常用设置」，在这个设置项里修改字体大小。&lt;/p&gt;
&lt;h3 id=&#34;3、快捷键设置&#34;&gt;3、快捷键设置&lt;/h3&gt;
&lt;p&gt;在命令面板输入“快捷键”，就可以进入快捷键的设置。&lt;/p&gt;
&lt;h3 id=&#34;4、大小写转换&#34;&gt;4、大小写转换&lt;/h3&gt;
&lt;p&gt;选中文本后，在命令面板中输入&lt;code&gt;transfrom&lt;/code&gt;，就可以修改文本的大小写了。&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2022/03/1220220312201132.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;h3 id=&#34;5、使用命令行启动-VS-Code&#34;&gt;5、使用命令行启动 VS Code&lt;/h3&gt;
&lt;p&gt;（1）输入快捷键「Cmd + Shift + P 」，选择&lt;code&gt;install code command&lt;/code&gt;：&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2022/03/1220220312201258.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;（2）使用命令行：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;code&lt;/code&gt;命令：启动 VS Code 软件&lt;/li&gt;
&lt;li&gt;&lt;code&gt;code pathName/fileName&lt;/code&gt;命令：通过 VS Code 软件打开指定目录/指定文件。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;备注：这种方法快捷简单，但是在电脑重启之后就失效了。稍后在第五段，我会介绍更常见的方法。&lt;/p&gt;
&lt;h3 id=&#34;6、修改特定编程语言的设置项&#34;&gt;6、修改特定编程语言的设置项&lt;/h3&gt;
&lt;p&gt;输入快捷键「Cmd + Shift + P 」打开命令面板，然后输入并执行 &lt;code&gt;Configure Language Specific Settings&lt;/code&gt;即可。&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2022/03/1220220312201304.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;h2 id=&#34;四、私人订制：VS-Code-的常见配置&#34;&gt;四、私人订制：VS Code 的常见配置&lt;/h2&gt;
&lt;h3 id=&#34;0、设置项介绍&#34;&gt;0、设置项介绍&lt;/h3&gt;
&lt;p&gt;在修改 VS Code配置之前，我们需要知道，在哪里可以找到设置项的入口。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;方式1&lt;/strong&gt;：Mac用户选择菜单栏「Code--&amp;gt; 首选项--&amp;gt;设置」，即可打开配置项：&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2022/03/1220220312201346.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;方式2&lt;/strong&gt;：点击软件右下角的设置图标：&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2022/03/1220220312201347.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2022/03/1220220312201125.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;如上图所示，VS Code提供两种不同范围的设置：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;用户&lt;/strong&gt;设置：全局生效。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;工作区&lt;/strong&gt;设置：只针对当前项目生效。工作区设置会覆盖用户设置。适用于团队协作场景。工作区的设置文件是保存在当前项目根目录的&lt;code&gt;.vscode/settings.json&lt;/code&gt;中，可以被提交到Git仓库，方便共享给项目组的其他成员。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;操作技巧：&lt;/p&gt;
&lt;p&gt;（1）我们可以在设置面板的顶部搜索框，输入关键词，就能迅速定位到你想要的设置项。&lt;/p&gt;
&lt;p&gt;（2）上图中，点击右上角的icon，可以通过 json文件的形式修改设置项。&lt;/p&gt;
&lt;h3 id=&#34;1、修改主题&#34;&gt;1、修改主题&lt;/h3&gt;
&lt;p&gt;1）修改颜色主题：&lt;/p&gt;
&lt;p&gt;选择菜单栏「Code --&amp;gt; 首选项 --&amp;gt; 颜色主题」：&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2022/03/1220220312201353.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;在弹出的对话框中，挑选你一个你喜欢的的颜色主题吧，或者安装其他颜色的主题：&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2022/03/1220220312201119.png&#34; alt=&#34;20211013_1018&#34;&gt;&lt;/p&gt;
&lt;p&gt;或者在设置项里搜索&lt;code&gt;Workbench: Color Theme&lt;/code&gt;，进行修改。&lt;/p&gt;
&lt;p&gt;2）修改文件图标的主题：&lt;/p&gt;
&lt;p&gt;选择菜单栏「Code --&amp;gt; 首选项 --&amp;gt; 文件图标主题」：&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2022/03/1220220312201113.png&#34; alt=&#34;20211013_1015&#34;&gt;&lt;/p&gt;
&lt;p&gt;在弹出的对话框中，挑选你一个你喜欢的的主题吧，或者安装其他的主题：&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2022/03/1220220312201112.png&#34; alt=&#34;20211013_1019&#34;&gt;&lt;/p&gt;
&lt;p&gt;或者在设置项里搜索&lt;code&gt;Workbench: Icon Theme&lt;/code&gt;，进行修改。&lt;/p&gt;
&lt;h3 id=&#34;2、面包屑（Breadcrumb）导航&#34;&gt;2、面包屑（Breadcrumb）导航&lt;/h3&gt;
&lt;p&gt;打开 VS Code 的设置项，选择「用户设置 -&amp;gt; 工作台 -&amp;gt; 导航路径」，如下图所示：&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2022/03/1220220312201400.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;上图中，将红框部分打钩即可。&lt;/p&gt;
&lt;p&gt;设置成功后，我们就可以查看到当前文件的「层级结构」，非常方便。如下图所示：&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2022/03/1220220312201106.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;有了这个面包屑导航，我们可以点击它，在任意目录、任意文件之间随意跳转。使用频繁非常高。&lt;/p&gt;
&lt;h3 id=&#34;3、是否显示代码的行号&#34;&gt;3、是否显示代码的行号&lt;/h3&gt;
&lt;p&gt;VS Code 默认显示代码的行号。你可以在设置项里搜索 &lt;code&gt;editor.lineNumbers&lt;/code&gt;修改设置，配置项如下：&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2022/03/1220220312201105.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;我建议保留这个设置项，无需修改。&lt;/p&gt;
&lt;h3 id=&#34;4、右侧是否显示代码的缩略图&#34;&gt;4、右侧是否显示代码的缩略图&lt;/h3&gt;
&lt;p&gt;如果某个文件的代码量很大，缩略图就很有用了，可以预览全局，并在当前文件中快速跳转。&lt;/p&gt;
&lt;p&gt;VS Code 会在代码的右侧，默认显示缩略图。你可以在设置项里搜索 &lt;code&gt;editor.minimap&lt;/code&gt; 进行设置，配置项如下：&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2022/03/1220220312201407.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;上面这张图，你仔细琢磨下会发现，中文翻译十分精准。&lt;/p&gt;
&lt;h3 id=&#34;5、将当前行代码高亮显示（更改光标所在行的背景色）&#34;&gt;5、将当前行代码高亮显示（更改光标所在行的背景色）&lt;/h3&gt;
&lt;p&gt;当我们把光标放在某一行时，这一行的背景色并没有发生变化。如果想&lt;strong&gt;高亮显示&lt;/strong&gt;当前行的代码，需要设置两步：&lt;/p&gt;
&lt;p&gt;（1）在设置项里搜索&lt;code&gt;editor.renderLineHighlight&lt;/code&gt;，将选项值设置为&lt;code&gt;all&lt;/code&gt;或者&lt;code&gt;line&lt;/code&gt;。&lt;/p&gt;
&lt;p&gt;（2）在设置项里增加如下内容：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-json&#34; data-language=&#34;json&#34;&gt;&lt;code class=&#34;language-json&#34;&gt;&lt;span class=&#34;token property&#34;&gt;&#34;workbench.colorCustomizations&#34;&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;token property&#34;&gt;&#34;editor.lineHighlightBackground&#34;&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;#00000090&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;
    &lt;span class=&#34;token property&#34;&gt;&#34;editor.lineHighlightBorder&#34;&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;#ffffff30&#34;&lt;/span&gt;
&lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;上方代码，第一行代码的意思是：修改光标所在行的背景色（背景色设置为全黑，不透明度 90%）；第二行代码的意思是：修改光标所在行的边框色。&lt;/p&gt;
&lt;h3 id=&#34;6、改完代码后立即自动保存&#34;&gt;6、改完代码后立即自动保存&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;方式一&lt;/strong&gt;：&lt;/p&gt;
&lt;p&gt;改完代码后，默认不会自动保存。你可以在设置项里搜索&lt;code&gt;files.autoSave&lt;/code&gt;，修改参数值为&lt;code&gt;afterDelay&lt;/code&gt;  ，即可自动保存。如下：&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2022/03/1220220312201514.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;files.autoSave的参数值有以下几种：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;off（默认值）：不自动保存。&lt;/li&gt;
&lt;li&gt;afterDelay（建议配置）：文件修改超过一定时间（默认1秒）后，就自动保存。&lt;/li&gt;
&lt;li&gt;onFocusChange：当前编辑器失去焦点时，则自动保存。如果我们将配置项修改为&lt;code&gt;onFocusChange&lt;/code&gt;之后，那么，当光标离开该文件后，这个文件就会自动保存了。&lt;/li&gt;
&lt;li&gt;onWindowChange：VS  Code软件失去焦点时，则自动保存。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;方式二&lt;/strong&gt;：&lt;/p&gt;
&lt;p&gt;当然，你也可以直接在菜单栏选择「文件-自动保存」。勾选后，当你写完代码后，文件会立即实时保存。&lt;/p&gt;
&lt;h3 id=&#34;7、热退出&#34;&gt;7、热退出&lt;/h3&gt;
&lt;p&gt;当VS Code退出后，它可以记住未保存的文件。如果你希望达到这种效果，那么，你需要先将设置项&lt;code&gt;files.hotExit&lt;/code&gt;的值改为 &lt;code&gt;onExitAndWindowClose&lt;/code&gt;。这个配置项要不要改，看你个人需要。比如我自己平时设置的值是&lt;code&gt;onExit&lt;/code&gt;。&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2022/03/1220220312201413.png&#34; alt=&#34;20211012_2014&#34;&gt;&lt;/p&gt;
&lt;h3 id=&#34;8、保存代码后，是否立即格式化&#34;&gt;8、保存代码后，是否立即格式化&lt;/h3&gt;
&lt;p&gt;保存代码后，默认&lt;strong&gt;不会立即&lt;/strong&gt;进行代码的格式化。你可以在设置项里搜索&lt;code&gt;editor.formatOnSave&lt;/code&gt;查看该配置项：&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2022/03/1220220312201058.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;我觉得这个配置项保持默认就好，不用打钩。&lt;/p&gt;
&lt;h3 id=&#34;9、自动格式化粘贴的内容&#34;&gt;9、自动格式化粘贴的内容&lt;/h3&gt;
&lt;p&gt;在设置项里搜索 &lt;code&gt;editor.formatOnPaste&lt;/code&gt;，将设置项改为&lt;code&gt;true&lt;/code&gt;：&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2022/03/1220220312201059.png&#34; alt=&#34;20211012_1049&#34;&gt;&lt;/p&gt;
&lt;h3 id=&#34;10、设置字体大小&#34;&gt;10、设置字体大小&lt;/h3&gt;
&lt;p&gt;在设置项里搜索&lt;code&gt;fontSize&lt;/code&gt;，然后根据需要设置各种模块的字体大小：&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2022/03/1220220312201420.png&#34; alt=&#34;20211012_1053&#34;&gt;&lt;/p&gt;
&lt;h3 id=&#34;11、空格-or-制表符&#34;&gt;11、空格 or 制表符&lt;/h3&gt;
&lt;p&gt;VS Code 会根据你所打开的文件来决定该使用空格还是制表。也就是说，如果你的项目中使用的都是制表符，那么，当你在写新的代码时，按下 tab 键后，编辑器就会识别成制表符。&lt;/p&gt;
&lt;p&gt;（1）建议的设置项如下：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;editor.detectIndentation&lt;/strong&gt;：自动检测（默认开启）。建议把这个配置项修改为 false，截图如下：&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2022/03/1220220312201052.png&#34; alt=&#34;20211012_1139&#34;&gt;&lt;/p&gt;
&lt;p&gt;这样做，是为了取消系统的自动缩进，建议自己手动格式化比较好。 参考链接：https://www.yisu.com/zixun/327399.html&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;editor.insertSpaces&lt;/strong&gt;：按 Tab 键时插入空格（默认值为true）。截图如下：&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2022/03/1220220312201523.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;editor.tabSize&lt;/strong&gt;：一个制表符默认等于四个空格。截图如下：&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2022/03/1220220312201530.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;（2）状态栏也会显示当前的缩进值。点击状态栏，可以直接修改 tabSize 缩进值：&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2022/03/1220220312201045.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;（3）另外，我们还可以安装 prettier 插件，设置代码在格式化时默认缩进值。prettier 是做代码格式化的最常见工具。&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2022/03/1220220312201536.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;（4）去掉每一行末尾的空格。在设置项里搜索&lt;code&gt;空格&lt;/code&gt;或者&lt;code&gt;&#34;files.trimTrailingWhitespace&#34;&lt;/code&gt;，将值设置为 true：&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2022/03/1220220312201858.png&#34; alt=&#34;20211012_1231&#34;&gt;&lt;/p&gt;
&lt;p&gt;一般来说，每一行代码末尾的空格是多余的，所以建议去掉。&lt;/p&gt;
&lt;h3 id=&#34;12、直观地显示代码里的空格和缩进-✨&#34;&gt;12、直观地显示代码里的空格和缩进 ✨&lt;/h3&gt;
&lt;p&gt;代码里如果有缩进或者空格，肉眼是看不出来的，但是我们可以修改配置项，把它揪出来。&lt;/p&gt;
&lt;p&gt;在配置项里搜索&lt;code&gt;editor.renderWhitespace&lt;/code&gt;，修改为&lt;code&gt;all&lt;/code&gt;：&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2022/03/1220220312201039.png&#34; alt=&#34;20211012_1150&#34;&gt;&lt;/p&gt;
&lt;p&gt;修改之后，代码里的空格、缩进的展示效果如下：&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2022/03/1220220312201905.png&#34; alt=&#34;20211012_1258&#34;&gt;&lt;/p&gt;
&lt;p&gt;看到了没？哪里有空格、哪里是缩进，全都一目了然。&lt;/p&gt;
&lt;h3 id=&#34;13、新建文件后的默认文件类型&#34;&gt;13、新建文件后的默认文件类型&lt;/h3&gt;
&lt;p&gt;当我们按下快捷键「Cmd + N」新建文件时，VS Code 默认无法识别这个文件到底是什么类型的，因此也就无法识别相应的语法高亮。&lt;/p&gt;
&lt;p&gt;如果你想修改默认的文件类型，可以在设置项里搜索&lt;code&gt;files.defaultLanguage&lt;/code&gt;，设置项如下：&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2022/03/1220220312201542.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;上图中的红框部分，填入你期望的默认文件类型。我填的是&lt;code&gt;html&lt;/code&gt;类型，你也可以填写成 &lt;code&gt;javascript&lt;/code&gt; 或者 &lt;code&gt;markdown&lt;/code&gt;，或者其他的语言类型。&lt;/p&gt;
&lt;h3 id=&#34;14、删除文件时，是否弹出确认框&#34;&gt;14、删除文件时，是否弹出确认框&lt;/h3&gt;
&lt;p&gt;当我们在 VS Code 中删除文件时，默认会弹出确认框。如果你想修改设置，可以在设置项里搜索&lt;code&gt;xplorer.confirmDelete&lt;/code&gt;。截图如下：&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2022/03/1220220312201032.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;我建议这个设置项保持默认的打钩就好，不用修改。删除文件前的弹窗提示，也是为了安全考虑，万一手贱不小心删了呢？&lt;/p&gt;
&lt;h3 id=&#34;15、在新窗口打开文件-文件夹&#34;&gt;15、在新窗口打开文件/文件夹&lt;/h3&gt;
&lt;p&gt;通过 &lt;code&gt;window.openFoldersInNewWindow&lt;/code&gt;（默认值为off）和&lt;code&gt;window.openFilesInNewWindow&lt;/code&gt;（默认值为default），可以配置在打开文件夹、打开文件时，是否开启一个新的窗口。我个人建议，把这两个配置项都设置为 on，避免旧的窗口被覆盖：&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2022/03/1220220312201549.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;补充知识—— &lt;code&gt;window.restoreWindows&lt;/code&gt;可以用来配置 如何恢复之前的会话窗口。涉及到的场景是：你把 VS Code 关闭了，然后又打开了，是否要展示之前打开过的文件、文件夹？参数值有以下几种：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;one（默认配置）：只会重新打开上一次回话中最后操作的那一个窗口。&lt;/li&gt;
&lt;li&gt;none：打开一个空的窗口，不包含任何文件、文件夹。&lt;/li&gt;
&lt;li&gt;all（建议配置）：恢复上一次会话中的所有窗口。&lt;/li&gt;
&lt;li&gt;folders：恢复上一次会话中包含文件夹的窗口。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2022/03/1220220312201026.png&#34; alt=&#34;20211012_1704&#34;&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;接下来，我们来讲一些更高级的操作。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&#34;五、纵享丝滑：常见操作和使用技巧&#34;&gt;五、纵享丝滑：常见操作和使用技巧&lt;/h2&gt;
&lt;h3 id=&#34;1、快速生成HTML骨架&#34;&gt;1、快速生成HTML骨架&lt;/h3&gt;
&lt;p&gt;先新建一个空的html文件，然后通过以下方式，可以快速生成html骨架。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;方式1&lt;/strong&gt;：输入&lt;code&gt;!&lt;/code&gt;，然后按下&lt;code&gt;enter&lt;/code&gt;键，即可生成html骨架。如下图：&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2022/03/1220220312201555.gif&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;方式2&lt;/strong&gt;：输入&lt;code&gt;html:5&lt;/code&gt;，然后按住 &lt;code&gt;Tab&lt;/code&gt;键，即可生成html骨架。&lt;/p&gt;
&lt;p&gt;生成的骨架，内容如下：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-html&#34; data-language=&#34;html&#34;&gt;&lt;code class=&#34;language-html&#34;&gt;&lt;span class=&#34;token doctype&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;!&lt;/span&gt;&lt;span class=&#34;token doctype-tag&#34;&gt;DOCTYPE&lt;/span&gt; &lt;span class=&#34;token name&#34;&gt;html&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;html&lt;/span&gt; &lt;span class=&#34;token attr-name&#34;&gt;lang&lt;/span&gt;&lt;span class=&#34;token attr-value&#34;&gt;&lt;span class=&#34;token punctuation attr-equals&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;en&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;head&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;meta&lt;/span&gt; &lt;span class=&#34;token attr-name&#34;&gt;charset&lt;/span&gt;&lt;span class=&#34;token attr-value&#34;&gt;&lt;span class=&#34;token punctuation attr-equals&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;UTF-8&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;meta&lt;/span&gt; &lt;span class=&#34;token attr-name&#34;&gt;http-equiv&lt;/span&gt;&lt;span class=&#34;token attr-value&#34;&gt;&lt;span class=&#34;token punctuation attr-equals&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;X-UA-Compatible&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&lt;/span&gt; &lt;span class=&#34;token attr-name&#34;&gt;content&lt;/span&gt;&lt;span class=&#34;token attr-value&#34;&gt;&lt;span class=&#34;token punctuation attr-equals&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;IE=edge&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;meta&lt;/span&gt; &lt;span class=&#34;token attr-name&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;token attr-value&#34;&gt;&lt;span class=&#34;token punctuation attr-equals&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;viewport&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&lt;/span&gt; &lt;span class=&#34;token attr-name&#34;&gt;content&lt;/span&gt;&lt;span class=&#34;token attr-value&#34;&gt;&lt;span class=&#34;token punctuation attr-equals&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;width=device-width, initial-scale=1.0&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;title&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;Document&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;/&lt;/span&gt;title&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;/&lt;/span&gt;head&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;body&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;

&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;/&lt;/span&gt;body&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;/&lt;/span&gt;html&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;有了上面的html骨架之后，我们就可以快乐地在里面插入CSS 代码和 JS 代码。&lt;/p&gt;
&lt;h3 id=&#34;2、并排编辑：左右（上下）显示多个编辑器窗口（copy代码利器）&#34;&gt;2、并排编辑：左右（上下）显示多个编辑器窗口（copy代码利器）&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;并排编辑是所有的编辑操作中最常用的一个技巧，十分有用。比如我们在开发一个项目时，可能需要同时打开 HTML 文件和 CSS 文件，很常见。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Mac 用户按住快捷键 &lt;code&gt;Cmd + \&lt;/code&gt;， Windows 用户按住快捷键&lt;code&gt;Ctrl + \&lt;/code&gt;，即可同时打开多个编辑器窗口，进行并排编辑。效果如下：&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2022/03/1220220312201020.gif&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;按快捷键「Cmd + 1 」切换到左边的窗口，按快捷键「Cmd + 2 」切换到右边的窗口，以此类推。随时随地，想切就切。&lt;/p&gt;
&lt;p&gt;学会了这一招，以后 copy 代码的时候，leader 再也不用担心我抄得慢了，一天工资到手。&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;当然，使用快捷键&lt;code&gt;Cmd + \&lt;/code&gt;只是其中一种方式，我们还有很多种方式打开并行编辑。我们来做一个汇总。&lt;/p&gt;
&lt;p&gt;如果你已经打开了一个编辑器，那么可以通过以下几种方式在另一侧打开另一个编辑器：（按照使用频率，从高到低排序）&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;使用快捷键&lt;code&gt;Cmd + \&lt;/code&gt;将编辑器一分为二。&lt;/li&gt;
&lt;li&gt;使用快捷键&lt;code&gt;Cmd + P&lt;/code&gt;调出文件列表，选择要打开的文件，然后按下 &lt;code&gt;Cmd + Enter&lt;/code&gt;快捷键。【重要】&lt;/li&gt;
&lt;li&gt;按住 Option 键的同时，单击资源管理器的文件（Windows 用户是按 Alt 键）。&lt;/li&gt;
&lt;li&gt;点击编辑器右上角的 &lt;code&gt;Split Editor&lt;/code&gt;按钮。&lt;/li&gt;
&lt;li&gt;选择菜单栏「查看--&amp;gt; 编辑器布局」，然后选择你具体想要的布局，如下图所示：&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2022/03/1220220312201602.png&#34; alt=&#34;20211012_1451&#34;&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;通过拖拽，把当前文件移动到任意一侧。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;补充知识：通过配置项&lt;code&gt;worbench.editor.OpenSideBySideDirection&lt;/code&gt;可以控制编辑器在并排打开时出现的默认位置（默认值为right，你也可以根据需要改为 down）。如下图所示：&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2022/03/1220220312201019.png&#34; alt=&#34;20211012_1455&#34;&gt;&lt;/p&gt;
&lt;h3 id=&#34;3、从终端-code-命令启动-VS-Code（Mac电脑）&#34;&gt;3、从终端 code 命令启动 VS Code（Mac电脑）&lt;/h3&gt;
&lt;p&gt;在终端输入&lt;code&gt;code&lt;/code&gt;或者输入 &lt;code&gt;code + 指定项目的目录&lt;/code&gt;，就可以启动 VS  Code，十分便捷。即：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;code&lt;/code&gt; 命令：启动 VS Code 软件。&lt;/li&gt;
&lt;li&gt;&lt;code&gt;code pathName/fileName&lt;/code&gt; 命令：通过 VS Code 软件打开指定目录/指定文件。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;为了达到目的，我们需要先将 VS Code的软件安装路径添加到环境变量，一劳永逸。具体操作如下：&lt;/p&gt;
&lt;p&gt;（1）打开 &lt;code&gt;bash_profile&lt;/code&gt;文件：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-bash&#34; data-language=&#34;bash&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;&lt;span class=&#34;token builtin class-name&#34;&gt;cd&lt;/span&gt; ~
&lt;span class=&#34;token function&#34;&gt;vim&lt;/span&gt; ./bash_profile&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;（2）在 bash_profile 中添加如下内容：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-bash&#34; data-language=&#34;bash&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;&lt;span class=&#34;token comment&#34;&gt;# 从终端启动VS Code，并设置vscode启动的命令别名&lt;/span&gt;
&lt;span class=&#34;token builtin class-name&#34;&gt;alias&lt;/span&gt; &lt;span class=&#34;token assign-left variable&#34;&gt;code&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#34;/Applications/Visual\ Studio\ Code.app/Contents/Resources/app/bin/code&#34;&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;注意，由于&lt;code&gt;Visual Studio Code.app&lt;/code&gt;这个路径里有空格，所以需要在空格前面加上反斜杠&lt;code&gt;\&lt;/code&gt;。&lt;/p&gt;
&lt;p&gt;（3）重启环境变量的配置：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-none&#34;&gt;&lt;code class=&#34;language-none&#34;&gt;# 重启
source ~/.bash_profile&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;大功告成。&lt;/p&gt;
&lt;p&gt;改完之后，如果没生效，那你把  &lt;code&gt;bash_profile&lt;/code&gt;文件 换成 &lt;code&gt;zshrc&lt;/code&gt;文件试试。&lt;/p&gt;
&lt;p&gt;参考链接：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://blog.csdn.net/logan_LG/article/details/106800904&#34;&gt;mac通过终端code 命令打开vscode&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;3、从终端-code-命令启动-VS-Code（Windows电脑）&#34;&gt;3、从终端 code 命令启动 VS Code（Windows电脑）&lt;/h3&gt;
&lt;p&gt;在终端输入&lt;code&gt;code&lt;/code&gt;或者输入 &lt;code&gt;code + 指定项目的目录&lt;/code&gt;，就可以启动 VS  Code，十分便捷。即：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;code&lt;/code&gt; 命令：启动 VS Code 软件。&lt;/li&gt;
&lt;li&gt;&lt;code&gt;code pathName/fileName&lt;/code&gt; 命令：通过 VS Code 软件打开指定目录/指定文件。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;为了达到目的，我们需要先将 VS Code的软件安装路径添加到环境变量，一劳永逸。具体操作如下：&lt;/p&gt;
&lt;p&gt;（1）打开 VS Code 的安装位置，进入bin文件夹，复制路径。比如：&lt;code&gt;D:\Microsoft VS Code\bin&lt;/code&gt;。&lt;/p&gt;
&lt;p&gt;（2）回到桌面，右键我的电脑--&amp;gt;高级系统设置--&amp;gt;环境变量--&amp;gt;编辑path值，在原来的path后面，追加内容&lt;code&gt;;D:\Microsoft VS Code\bin&lt;/code&gt;（即英文的分号+VS  Code 的 bin 路径)&lt;/p&gt;
&lt;p&gt;（3）重启电脑，大功告成。&lt;/p&gt;
&lt;p&gt;改完之后，如果没生效，那八成是因为你填的 path 值有问题。&lt;/p&gt;
&lt;p&gt;参考链接：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://www.cnblogs.com/zyl-Tara/p/10642704.html&#34;&gt;windows使用 code . 命令打开vscode&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;4、在当前文件中搜索&#34;&gt;4、在当前文件中搜索&lt;/h3&gt;
&lt;p&gt;在上面的快捷键列表中，我们已经知道如下快捷键：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Cmd + F（Win 用户是 Ctrl + F）：在当前文件中搜索，光标在搜索框里&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Cmd + G（Win 用户是 F3）：在当前文件中搜索，光标仍停留在编辑器里&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;多个搜索结果出来之后，按下 Enter 键之后跳转到下一个搜索结果，按下 Shift + Enter 键之后跳转到上一个搜索结果。&lt;/p&gt;
&lt;p&gt;另外，你可能会注意到，搜索框里有很多按钮，每个按钮都对应着不同的功能，如下图所示：&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2022/03/1220220312201012.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;上图中，你可以通过「Tab」键和「Shift + Tab」键在输入框和替换框之间进行切换。&lt;/p&gt;
&lt;p&gt;「在选定内容中查找」这个功能还是比较实用的。你也可以在设置项里搜索 &lt;code&gt;editor.find.autoFindInSelection&lt;/code&gt;，勾选该设置项后，那么，当你选中指定内容后，然后按住「Cmd + F」，就可以&lt;strong&gt;自动&lt;/strong&gt;只在这些内容里进行查找。该设置项如下图所示：&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2022/03/1220220312201608.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;h3 id=&#34;5、全局搜索&#34;&gt;5、全局搜索&lt;/h3&gt;
&lt;p&gt;在上面的快捷键列表中，我们已经知道如下快捷键：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Cmd + Shift + F（Win 用户是 Ctrl + Shift +F）：在全局的文件夹中进行搜索。效果如下：&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2022/03/1220220312201013.png&#34; alt=&#34;20211012_1548&#34;&gt;&lt;/p&gt;
&lt;p&gt;上图中，你可以点击&lt;strong&gt;红框&lt;/strong&gt;部分，展开更多的配置项。然后点击&lt;strong&gt;红圈&lt;/strong&gt;部分，进行过滤搜索。注意，第二个红圈那里会经常用到，它可以在搜索时过滤掉  &lt;code&gt;.git&lt;/code&gt;、&lt;code&gt;.node_modules&lt;/code&gt;等忽略文件。&lt;/p&gt;
&lt;p&gt;上图中，我们还可以点击“在编辑器中打开”，在一个单独的文件中聚合展示搜索结果：&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2022/03/1220220312201615.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;h3 id=&#34;6、文件名-文件夹的搜索&#34;&gt;6、文件名/文件夹的搜索&lt;/h3&gt;
&lt;p&gt;前面的快捷键那一段我们讲过，通过 「Cmd + P」可以快速搜索并打开&lt;strong&gt;文件&lt;/strong&gt;/文件夹。这种方式，一般用于快速打开最近编辑过的文件。&lt;/p&gt;
&lt;p&gt;其实还有一种很巧妙的方式，可以在整个项目里，既能搜到文件，也能搜到&lt;strong&gt;文件夹&lt;/strong&gt;。这种方式，常用于&lt;strong&gt;过滤项目的目录&lt;/strong&gt;。操作方法很简单：&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;直接在文件资源管理器输入关键字就行。搜索结果会自动出现；使用方向键进行上下移动，可以在搜索的文件和文件夹之间进行跳转。&lt;/p&gt;
&lt;p&gt;另外，右上角会看到一个过滤器，点击下图中的红圈部分，则只显示匹配的文件和文件夹。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2022/03/1220220312201006.png&#34; alt=&#34;20211012_1616&#34;&gt;&lt;/p&gt;
&lt;p&gt;当然，这招也有一点不足：不能搜中文。&lt;/p&gt;
&lt;h3 id=&#34;7、大纲视图&#34;&gt;7、大纲视图&lt;/h3&gt;
&lt;p&gt;如下图所示，大纲视图可以展示当前代码的方法结构、文件的目录结构：&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2022/03/1220220312201621.png&#34; alt=&#34;20211012_1628&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2022/03/1220220312201929.png&#34; alt=&#34;20211012_1636&#34;&gt;&lt;/p&gt;
&lt;h3 id=&#34;8、文件对比&#34;&gt;8、文件对比&lt;/h3&gt;
&lt;p&gt;VS Code 默认支持&lt;strong&gt;对比两个文件的内容&lt;/strong&gt;。选中两个文件，然后右键选择「将已选项进行比较」即可，效果如下：&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2022/03/1220220312200959.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;VS Code 自带的对比功能并不够强大，我们可以安装插件&lt;code&gt;compareit&lt;/code&gt;，进行更丰富的对比。比如说，安装完插件&lt;code&gt;compareit&lt;/code&gt;之后，我们可以将「当前文件」与「剪切板」里的内容进行对比：&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2022/03/1220220312201628.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;如果你安装了 GitLens 插件，还可以将两个git分支的代码进行比对，非常完美。&lt;/p&gt;
&lt;h3 id=&#34;9、查找某个函数在哪些地方被调用了&#34;&gt;9、查找某个函数在哪些地方被调用了&lt;/h3&gt;
&lt;p&gt;比如我已经在&lt;code&gt;a.js&lt;/code&gt;文件里调用了 &lt;code&gt;foo()&lt;/code&gt;函数。那么，如果我想知道&lt;code&gt;foo()&lt;/code&gt;函数在其他文件中是否也被调用了，该怎么做呢？&lt;/p&gt;
&lt;p&gt;做法如下：在 &lt;code&gt;a.js&lt;/code&gt; 文件里，选中&lt;code&gt;foo()&lt;/code&gt;函数（或者将光标放置在&lt;code&gt;foo()&lt;/code&gt;函数上），然后按住快捷键「Shift + F12」，就能看到 &lt;code&gt;foo()&lt;/code&gt;函数在哪些地方被调用了，比较实用。&lt;/p&gt;
&lt;h3 id=&#34;10、鼠标操作&#34;&gt;10、鼠标操作&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;在当前行的位置，鼠标三击，可以选中当前行。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;用鼠标单击文件的&lt;strong&gt;行号&lt;/strong&gt;，可以选中当前行。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;在某个&lt;strong&gt;行号&lt;/strong&gt;的位置，&lt;strong&gt;上下移动鼠标，可以选中多行&lt;/strong&gt;。&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;11、重构&#34;&gt;11、重构&lt;/h3&gt;
&lt;p&gt;重构分很多种，我们来举几个例子。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;命名重构&lt;/strong&gt;：&lt;/p&gt;
&lt;p&gt;当我们尝试去修改某个函数（或者变量名）时，我们可以把光标放在上面，然后按下「F2」键，那么，这个函数（或者变量名）出现的地方都会被修改。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;方法重构&lt;/strong&gt;：&lt;/p&gt;
&lt;p&gt;选中某一段代码，这个时候，代码的左侧会出现一个「灯泡图标」，点击这个图标，就可以把这段代码提取为一个单独的函数。&lt;/p&gt;
&lt;h3 id=&#34;12：终端配置&#34;&gt;12：终端配置&lt;/h3&gt;
&lt;p&gt;VS Code软件自带了终端，但我个人认为不是很好用，而且VS Code 软件关了之后，终端也没了。建议大家使用其他的终端软件，专业的事情交给专业的人做。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Windows平台的终端：推荐 PowerShell 软件。远程终端推荐 xshell 软件。&lt;/li&gt;
&lt;li&gt;Mac平台的终端：推荐 &lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://iterm2.com/&#34;&gt;iTerm2 &lt;/a&gt;。 iTerm2 是Mac平台最好用的终端软件，没有之一。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;右键行为&lt;/strong&gt;：&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;在终端上，单击右键所产生的行为在不同的系统里是不同的。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;Windows：如果有&lt;strong&gt;选定&lt;/strong&gt;文本，则复制当前文本；如果没有选定文本，则粘贴。&lt;/li&gt;
&lt;li&gt;macOS：选中光标所在位置的单词，并显示右键菜单。&lt;/li&gt;
&lt;li&gt;Linux：显示右键菜单。&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;13、Git-版本管理&#34;&gt;13、Git 版本管理&lt;/h3&gt;
&lt;p&gt;在 VS Code中使用Git之前，需要你先安装 Git 环境。&lt;/p&gt;
&lt;p&gt;VS Code 自带了 Git 版本管理的功能，如下图所示：&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2022/03/1220220312200958.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;上图中，我们可以在这里进行常见的 git 命令操作。如果你还不熟悉 &lt;strong&gt;Git 版本管理&lt;/strong&gt;，可以先去补补课。&lt;/p&gt;
&lt;p&gt;我自己用的最多的功能是&lt;strong&gt;diff 代码&lt;/strong&gt;和&lt;strong&gt;合并冲突&lt;/strong&gt;，自从用上了  VS Code 的这两个功能，简直离不开它。&lt;/p&gt;
&lt;p&gt;我们先来看看 diff 代码的效果：&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2022/03/1220220312201634.png&#34; alt=&#34;20211013_1411&#34;&gt;&lt;/p&gt;
&lt;p&gt;上图中，点击右上角的&lt;code&gt;...&lt;/code&gt;，然后点击&lt;code&gt;内联视图&lt;/code&gt;，则可以换一种视图 diff 代码：&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2022/03/1220220312201937.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Git状态栏&lt;/strong&gt;：&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2022/03/1220220312200952.png&#34; alt=&#34;20211013_1421&#34;&gt;&lt;/p&gt;
&lt;p&gt;在VS Code的左下角会显示Git状态栏。如果当前代码仓库配置了远程仓库，那么“同步更改”会显示以下信息：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;左边的数字：表示远程分支比本地分支多了XX个 Git commit。&lt;/li&gt;
&lt;li&gt;右边的数字：表示本地分支比远程分支多了XX个 Git commit。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;点击“同步更改”按钮，会拉取（pull）远程分支到本地分支，并推送（push）本地的Git commit到远程分支。&lt;/p&gt;
&lt;p&gt;如果当前代码仓库没有配置远程仓库，则会显示“发布更改”的按钮。点击“发布更改”按钮，会把当前分支push到远程仓库。&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;另外，我建议安装插件&lt;code&gt;GitLens&lt;/code&gt;搭配使用，它是 VS Code 中我最推荐的一个插件，简直是 Git 神器，码农必备。&lt;/p&gt;
&lt;p&gt;我还要补充一句：&lt;/p&gt;
&lt;p&gt;有人说，高手都是直接用命令行操作Git。然而，根据我多年的经验来看，如果你的代码仓库需要管理的分支特别多，与团队的其他成员需要经常协作，那么，我建议你&lt;strong&gt;优先使用&lt;/strong&gt; GUI 图形化工具来操作Git，避免出错。&lt;/p&gt;
&lt;p&gt;我推荐的GUI版的Git工具有：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://www.git-tower.com/&#34;&gt;Tower&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://www.sourcetreeapp.com/&#34;&gt;Sourcetree&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://www.gitkraken.com/&#34;&gt;GitKraken&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;14、将工作区放大-缩小&#34;&gt;14、将工作区放大/缩小&lt;/h3&gt;
&lt;p&gt;我们在上面的设置项里修改字体大小后，仅仅只是修改了代码的字体大小。&lt;/p&gt;
&lt;p&gt;如果你想要缩放整个工作区（包括代码的字体、左侧导航栏的字体等），可以按下快捷键「&lt;strong&gt;cmd +/-&lt;/strong&gt;」。windows 用户是按下「ctrl +/-」&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;当我们在投影仪上给别人演示代码的时候，这一招十分管用&lt;/strong&gt;。&lt;/p&gt;
&lt;p&gt;如果你想恢复默认的工作区大小，可以在命令面板输入&lt;code&gt;重置缩放&lt;/code&gt;（英文是&lt;code&gt;reset zoom&lt;/code&gt;）&lt;/p&gt;
&lt;p&gt;f### 11、创建多层子文件夹&lt;/p&gt;
&lt;p&gt;我们可以在新建文件夹的时候，如果直接输入&lt;code&gt;aa/bb/cc&lt;/code&gt;，比如：&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2022/03/1220220312201641.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;那么，就可以创建多层子文件夹，效果如下：&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2022/03/1220220312200945.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;h3 id=&#34;15、-vscode-文件夹的作用&#34;&gt;15、&lt;code&gt;.vscode&lt;/code&gt; 文件夹的作用&lt;/h3&gt;
&lt;p&gt;为了统一团队的 vscode 配置，我们可以在项目的根目录下建立&lt;code&gt;.vscode&lt;/code&gt;目录，在里面放置一些配置内容，比如：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;settings.json&lt;/code&gt;：工作空间设置、代码格式化配置、插件配置。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;sftp.json&lt;/code&gt;：ftp 文件传输的配置。&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;code&gt;.vscode&lt;/code&gt;目录里的配置只针对当前项目范围内生效。将&lt;code&gt;.vscode&lt;/code&gt;提交到代码仓库，大家统一配置时，会非常方便。&lt;/p&gt;
&lt;h3 id=&#34;16、自带终端&#34;&gt;16、自带终端&lt;/h3&gt;
&lt;p&gt;我们可以按下「Ctrl + `」打开 VS Code 自带的终端。我认为内置终端并没有那么好用，我更建议你使用第三方的终端 &lt;strong&gt;item2&lt;/strong&gt;。&lt;/p&gt;
&lt;h3 id=&#34;17、markdown-语法支持&#34;&gt;17、markdown 语法支持&lt;/h3&gt;
&lt;p&gt;VS Code 自带 markdown 语法高亮。也就是说，如果你是用 markdown 格式写文章，则完全可以用 VS Code 进行写作。&lt;/p&gt;
&lt;p&gt;写完 md 文件之后，你可以点击右上角的按钮进行预览，如下图所示：&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2022/03/1220220312201648.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;我一般是安装「Markdown Preview Github Styling」插件，以 GitHub 风格预览 Markdown 样式。样式十分简洁美观。&lt;/p&gt;
&lt;p&gt;你也可以在控制面板输入&lt;code&gt;Markdown: 打开预览&lt;/code&gt;，直接全屏预览 markdown 文件。&lt;/p&gt;
&lt;h3 id=&#34;18、Emmet-in-VS-Code&#34;&gt;18、Emmet in VS Code&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;Emmet&lt;/code&gt;可以极大的提高 html 和 css 的编写效率，它提供了一种非常简练的语法规则。&lt;/p&gt;
&lt;p&gt;举个例子，我们在编辑器中输入缩写代码：&lt;code&gt;ul&amp;gt;li*6&lt;/code&gt; ，然后按下 Tab 键，即可得到如下代码片段：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-html&#34; data-language=&#34;html&#34;&gt;&lt;code class=&#34;language-html&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;ul&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;li&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;/&lt;/span&gt;li&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;li&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;/&lt;/span&gt;li&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;li&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;/&lt;/span&gt;li&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;li&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;/&lt;/span&gt;li&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;li&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;/&lt;/span&gt;li&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;li&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;/&lt;/span&gt;li&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;/&lt;/span&gt;ul&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;VS Code 默认支持 Emmet。更多 Emmet 语法规则，可以自行查阅。&lt;/p&gt;
&lt;h3 id=&#34;19、修改字体，使用「Fira-Code」字体&#34;&gt;19、修改字体，使用「Fira Code」字体&lt;/h3&gt;
&lt;p&gt;这款字体很漂亮，很适合用来写代码：&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2022/03/1220220312201655.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;安装步骤如下：&lt;/p&gt;
&lt;p&gt;（1）进入 &lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://github.com/tonsky/FiraCode&#34;&gt;https://github.com/tonsky/FiraCode&lt;/a&gt; 网站，下载并安装「Fira Code」字体。&lt;/p&gt;
&lt;p&gt;（2）打开 VS Code 的「设置」，搜索&lt;code&gt;font&lt;/code&gt;，修改相关配置为如下内容：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-json&#34; data-language=&#34;json&#34;&gt;&lt;code class=&#34;language-json&#34;&gt;&lt;span class=&#34;token property&#34;&gt;&#34;editor.fontFamily&#34;&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;&#39;Fira Code&#39;,Menlo, Monaco, &#39;Courier New&#39;, monospace&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token comment&#34;&gt;// 设置字体显示&lt;/span&gt;
&lt;span class=&#34;token property&#34;&gt;&#34;editor.fontLigatures&#34;&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token boolean&#34;&gt;false&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;token comment&#34;&gt;//控制是否启用字体连字，true启用，false不启用&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;上方的第二行配置，取决于个人习惯，我是直接设置为&lt;code&gt;&#34;editor.fontLigatures&#34;: null&lt;/code&gt;，因为我不太习惯连字。&lt;/p&gt;
&lt;h3 id=&#34;20、代码格式化&#34;&gt;20、代码格式化&lt;/h3&gt;
&lt;p&gt;VS Code 默认对 JavaScript、TypeScript、JSON、HTML 提供了开箱即用的代码格式化支持。其他语言则需要先安装相应的插件才能支持。&lt;/p&gt;
&lt;p&gt;另外，我们还可以安装 Prettier 插件进行&lt;strong&gt;更精细&lt;/strong&gt;的代码格式化。下一段将插件的时候，会讲解。&lt;/p&gt;
&lt;h3 id=&#34;21、智能提示-IntelliSense&#34;&gt;21、智能提示 IntelliSense&lt;/h3&gt;
&lt;p&gt;VS Code 默认对 JavaScript、TypeScript、JSON、HTML、CSS、SCSS、Less这7种语言（文件）提供了&lt;strong&gt;智能提示&lt;/strong&gt;的支持。其他编程语言则需要先安装相应的插件才能支持。&lt;/p&gt;
&lt;p&gt;在 VS Code插件职场中，下图是最受欢迎的8种&lt;a href=&#34;https://marketplace.visualstudio.com/search?target=VSCode&amp;amp;category=Programming%20Languages&amp;amp;sortBy=Installs&#34;&gt;编程语言插件&lt;/a&gt;：&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2022/03/1220220312201656.png&#34; alt=&#34;20211013_1120&#34;&gt;&lt;/p&gt;
&lt;p&gt;智能提示的功能很强大， 包括函数介绍、代码自动补全等等。&lt;/p&gt;
&lt;h3 id=&#34;22、调试与运行&#34;&gt;22、调试与运行&lt;/h3&gt;
&lt;p&gt;VS Code &lt;strong&gt;内置&lt;/strong&gt;了对 Node.js 运行时的调试支持，可以直接调试  JavaScript 和 TypeScript。其他编程语言的调试，则需要先安装相应的插件才能支持。&lt;/p&gt;
&lt;p&gt;在 VS Code插件市场中，下图是最受欢迎的几种调试插件：&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2022/03/1220220312200938.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;h3 id=&#34;23、文件传输：sftp&#34;&gt;23、文件传输：sftp&lt;/h3&gt;
&lt;p&gt;如果你需要将本地文件通过 ftp 的形式上传到局域网的服务器（需要先把服务端的配置搭建好），可以安装&lt;code&gt;sftp&lt;/code&gt;这个插件，很好用。在公司会经常用到。&lt;/p&gt;
&lt;p&gt;步骤如下：&lt;/p&gt;
&lt;p&gt;（1）安装插件&lt;code&gt;sftp&lt;/code&gt;。&lt;/p&gt;
&lt;p&gt;（2）配置 &lt;code&gt;sftp.json&lt;/code&gt;文件。 插件安装完成后，输入快捷键「cmd+shift+P」弹出命令面板，然后输入&lt;code&gt;sftp:config&lt;/code&gt;，回车，当前工程的&lt;code&gt;.vscode&lt;/code&gt;文件夹下就会自动生成一个&lt;code&gt;sftp.json&lt;/code&gt;文件，我们需要在这个文件里配置的内容可以是：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;host&lt;/code&gt;：服务器的 IP 地址&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;username&lt;/code&gt;：用户名&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;privateKeyPath&lt;/code&gt;：存放在本地的已配置好的用于登录工作站的密钥文件（也可以是 ppk 文件）&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;remotePath&lt;/code&gt;：工作站上与本地工程同步的文件夹路径，需要和本地工程文件根目录同名，且在使用 sftp 上传文件之前，要手动在工作站上 mkdir 生成这个根目录&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;ignore&lt;/code&gt;：指定在使用 sftp: sync to remote 的时候忽略的文件及文件夹，注意每一行后面有逗号，最后一行没有逗号&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;举例如下：(注意，其中的注释需要去掉)&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-json&#34; data-language=&#34;json&#34;&gt;&lt;code class=&#34;language-json&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt;
  &lt;span class=&#34;token property&#34;&gt;&#34;host&#34;&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;192.168.xxx.xxx&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token comment&#34;&gt;//服务器ip&lt;/span&gt;
  &lt;span class=&#34;token property&#34;&gt;&#34;port&#34;&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;22&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token comment&#34;&gt;//端口，sftp模式是22&lt;/span&gt;
  &lt;span class=&#34;token property&#34;&gt;&#34;username&#34;&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token comment&#34;&gt;//用户名&lt;/span&gt;
  &lt;span class=&#34;token property&#34;&gt;&#34;password&#34;&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token comment&#34;&gt;//密码&lt;/span&gt;
  &lt;span class=&#34;token property&#34;&gt;&#34;protocol&#34;&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;sftp&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token comment&#34;&gt;//模式&lt;/span&gt;
  &lt;span class=&#34;token property&#34;&gt;&#34;agent&#34;&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token null keyword&#34;&gt;null&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;
  &lt;span class=&#34;token property&#34;&gt;&#34;privateKeyPath&#34;&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token null keyword&#34;&gt;null&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;
  &lt;span class=&#34;token property&#34;&gt;&#34;passphrase&#34;&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token null keyword&#34;&gt;null&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;
  &lt;span class=&#34;token property&#34;&gt;&#34;passive&#34;&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token boolean&#34;&gt;false&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;
  &lt;span class=&#34;token property&#34;&gt;&#34;interactiveAuth&#34;&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token boolean&#34;&gt;false&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;
  &lt;span class=&#34;token property&#34;&gt;&#34;remotePath&#34;&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;/root/node/build/&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token comment&#34;&gt;//服务器上的文件地址&lt;/span&gt;
  &lt;span class=&#34;token property&#34;&gt;&#34;context&#34;&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;./server/build&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token comment&#34;&gt;//本地的文件地址&lt;/span&gt;

  &lt;span class=&#34;token property&#34;&gt;&#34;uploadOnSave&#34;&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token boolean&#34;&gt;true&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token comment&#34;&gt;//监听保存并上传&lt;/span&gt;
  &lt;span class=&#34;token property&#34;&gt;&#34;syncMode&#34;&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;update&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;
  &lt;span class=&#34;token property&#34;&gt;&#34;watcher&#34;&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;token comment&#34;&gt;//监听外部文件&lt;/span&gt;
    &lt;span class=&#34;token property&#34;&gt;&#34;files&#34;&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token boolean&#34;&gt;false&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token comment&#34;&gt;//外部文件的绝对路径&lt;/span&gt;
    &lt;span class=&#34;token property&#34;&gt;&#34;autoUpload&#34;&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token boolean&#34;&gt;false&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;
    &lt;span class=&#34;token property&#34;&gt;&#34;autoDelete&#34;&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token boolean&#34;&gt;false&lt;/span&gt;
  &lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;
  &lt;span class=&#34;token property&#34;&gt;&#34;ignore&#34;&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;
    &lt;span class=&#34;token comment&#34;&gt;//忽略项&lt;/span&gt;
    &lt;span class=&#34;token string&#34;&gt;&#34;**/.vscode/**&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;
    &lt;span class=&#34;token string&#34;&gt;&#34;**/.git/**&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;
    &lt;span class=&#34;token string&#34;&gt;&#34;**/.DS_Store&#34;&lt;/span&gt;
  &lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;
&lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;（3）在 VS Code 的当前文件里，选择「右键 -&amp;gt; upload」，就可以将本地的代码上传到 指定的 ftp 服务器上（也就是在上方 &lt;code&gt;host&lt;/code&gt; 中配置的服务器 ip）。&lt;/p&gt;
&lt;p&gt;我们还可以选择「右键 -&amp;gt; Diff with Remote」，就可以将本地的代码和 ftp 服务器上的代码做对比，非常方便。&lt;/p&gt;
&lt;h3 id=&#34;24、沉浸模式-禅模式&#34;&gt;24、沉浸模式/禅模式&lt;/h3&gt;
&lt;p&gt;程序员写代码需要专注，有时需要进入一种心流。VS Code给我们提供了一种全屏下的沉浸模式，周围的面板都会被隐藏起来，只显示编辑器部分。&lt;/p&gt;
&lt;p&gt;操作方法：菜单栏选择「查看-外观-禅模式」即可；或者按下快捷键&lt;code&gt;Cmd + K&lt;/code&gt;，放手，再按&lt;code&gt;Z&lt;/code&gt;也可以达到目的。&lt;/p&gt;
&lt;h3 id=&#34;正则表达式批量删除字符串&#34;&gt;正则表达式批量删除字符串&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;需求&lt;/strong&gt;：将文本中的字符串&lt;code&gt;axxxxb&lt;/code&gt;，批量替换为&lt;code&gt;ab&lt;/code&gt;。其中，开头字符 a 和 结尾字符 b 固定，中间xxx长度不确定。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;解决&lt;/strong&gt;：传统查找替换无法胜任。可以使用VScode正则表达式功能，查找&lt;code&gt;a.*?b&lt;/code&gt;替换为&lt;code&gt;ab&lt;/code&gt;即可。其中&lt;code&gt;?&lt;/code&gt;是禁止贪婪匹配，否则会误删很多内容。&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;&lt;strong&gt;拓展需求&lt;/strong&gt;：需求——将文本中的字符串&lt;code&gt;axxxx&lt;/code&gt;，批量替换为&lt;code&gt;a&lt;/code&gt;。其中，开头字符 a 固定，后面的xxx长度不确定。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;解决&lt;/strong&gt;：传统查找替换无法胜任。可以使用VScode正则表达式功能，查找&lt;code&gt;a.*?\n&lt;/code&gt;替换为&lt;code&gt;a\n&lt;/code&gt;即可。&lt;/p&gt;
&lt;h2 id=&#34;六、三头六臂：VS-Code-插件介绍-插件推荐&#34;&gt;六、三头六臂：VS Code 插件介绍 &amp;amp; 插件推荐&lt;/h2&gt;
&lt;p&gt;VS Code 有一个很强大的功能就是支持插件扩展，让你的编辑器仿佛拥有了三头六臂。&lt;/p&gt;
&lt;h3 id=&#34;安装插件&#34;&gt;安装插件&lt;/h3&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2022/03/1220220312201702.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;上图中，点击红框部分，即可在顶部输入框里，查找你想要的插件名，然后进行安装。&lt;/p&gt;
&lt;p&gt;插件安装完成后，记得重启软件（或者点击插件位置的“重新加载”），插件才会生效。&lt;/p&gt;
&lt;p&gt;另外，我们还可以访问官网的插件市场来安装插件：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;VS Code插件市场（官方）：https://marketplace.visualstudio.com/vscode&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;插件的安装目录&lt;/strong&gt;：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Windows：：&lt;code&gt;%USERPROFILE%\.vscode\extensions&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;macOS：&lt;code&gt;~/.vscode/extensions&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;macOS：&lt;code&gt;~/.vscode/extensions&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;插件的类型&#34;&gt;插件的类型&lt;/h3&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2022/03/1220220312201709.png&#34; alt=&#34;20211013_1757_2&#34;&gt;&lt;/p&gt;
&lt;p&gt;插件市场的首页有四个模块，可以作为重要的信息来源：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Featured：由  VS Code团队精心推荐的插件。&lt;/li&gt;
&lt;li&gt;Trending：近期热门插件。&lt;/li&gt;
&lt;li&gt;Most Popular：按总安装量排序的插件。&lt;/li&gt;
&lt;li&gt;Recently Added：最新发布的插件。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2022/03/1220220312200932.png&#34; alt=&#34;20211013_1758&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2022/03/1220220312200925.png&#34; alt=&#34;20211013_1955&#34;&gt;&lt;/p&gt;
&lt;p&gt;插件市场至少有17种类型的插件：（按照数量排序）&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Themes：主题插件&lt;/li&gt;
&lt;li&gt;Programming Languages：编程语言插件&lt;/li&gt;
&lt;li&gt;Snippets：代码片段&lt;/li&gt;
&lt;li&gt;Extension Packs：插件包，里面包括多个插件&lt;/li&gt;
&lt;li&gt;Formatters：代码格式化&lt;/li&gt;
&lt;li&gt;Linters：静态检查&lt;/li&gt;
&lt;li&gt;Debuggers：调试器&lt;/li&gt;
&lt;li&gt;Keymaps：快捷键映射&lt;/li&gt;
&lt;li&gt;Visualization：可视化&lt;/li&gt;
&lt;li&gt;Language Packs：各国的语言插件&lt;/li&gt;
&lt;li&gt;Azure：Azure 云计算&lt;/li&gt;
&lt;li&gt;Data Science：数据科学&lt;/li&gt;
&lt;li&gt;SCM Providers：源代码控制管理器（source control manager）&lt;/li&gt;
&lt;li&gt;Notebooks&lt;/li&gt;
&lt;li&gt;Education：教育&lt;/li&gt;
&lt;li&gt;Testing：测试相关&lt;/li&gt;
&lt;li&gt;Machine Learning：机器学习&lt;/li&gt;
&lt;li&gt;Others：其他&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;插件的过滤显示&#34;&gt;插件的过滤显示&lt;/h3&gt;
&lt;p&gt;在 VS  Code中打开插件管理视图，可以针对已安装的插件，进行过滤展示。&lt;/p&gt;
&lt;p&gt;1）点击插件视图右上角的&lt;code&gt;...&lt;/code&gt;按钮，可以展示不同状态的插件：&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2022/03/1220220312201958.png&#34; alt=&#34;20211013_2011&#34;&gt;&lt;/p&gt;
&lt;p&gt;2）在搜索框输入字符&lt;code&gt;@&lt;/code&gt;，会展示出不同类型的过滤器：&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2022/03/1220220312201716.png&#34; alt=&#34;20211013_2015&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;常见的过滤器如下&lt;/strong&gt;：&lt;/p&gt;
&lt;p&gt;1）按大类搜：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;@builtin&lt;/code&gt;：显示 VS Code内置的插件&lt;/li&gt;
&lt;li&gt;&lt;code&gt;@disabled&lt;/code&gt;：显示被禁用的插件&lt;/li&gt;
&lt;li&gt;&lt;code&gt;@enabled&lt;/code&gt;：显示已启用的插件&lt;/li&gt;
&lt;li&gt;&lt;code&gt;@installed&lt;/code&gt;：显示已安装的插件&lt;/li&gt;
&lt;li&gt;&lt;code&gt;@outdated&lt;/code&gt;：显示待更新的插件&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;2）精准搜索：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;@id&lt;/code&gt;：按id显示插件&lt;/li&gt;
&lt;li&gt;&lt;code&gt;@tag&lt;/code&gt;：根据标签显示插件。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;3）对插件进行排序：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;@sort:installs&lt;/code&gt;：根据插件的安装量排序&lt;/li&gt;
&lt;li&gt;&lt;code&gt;@sourt:rating&lt;/code&gt;：根据插件的评分排序&lt;/li&gt;
&lt;li&gt;&lt;code&gt;@sort:name&lt;/code&gt;：根据插件名字的字母顺序排序&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;4）组合搜索：（举例）&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;@installed @category:themes&lt;/code&gt;：显示已安装的主题插件。&lt;/li&gt;
&lt;li&gt;&lt;code&gt;@sort:installs java&lt;/code&gt;：对 Java 相关的插件按照安装量排序。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;下面的内容，我来列举一些常见的插件，这些插件都很实用，小伙伴们可以按需安装。注意：每一类插件里，&lt;strong&gt;顺序越靠前，越实用&lt;/strong&gt;。&lt;/p&gt;
&lt;h3 id=&#34;1、基本插件&#34;&gt;1、基本插件&lt;/h3&gt;
&lt;h4 id=&#34;Chinese-Simplified-Language-Pack-for-Visual-Studio-Code&#34;&gt;Chinese (Simplified) Language Pack for Visual Studio Code&lt;/h4&gt;
&lt;p&gt;让软件显示为简体中文语言。&lt;/p&gt;
&lt;h3 id=&#34;2、Git-相关插件&#34;&gt;2、Git 相关插件&lt;/h3&gt;
&lt;h4 id=&#34;GitLens-【荐】&#34;&gt;GitLens 【荐】&lt;/h4&gt;
&lt;p&gt;我强烈建议你安装插件&lt;code&gt;GitLens&lt;/code&gt;，它是 VS Code 中我最推荐的一个插件，简直是 Git 神器，码农必备。如果你不知道，那真是 out 了。&lt;/p&gt;
&lt;p&gt;GitLens 在 Git 管理上有很多强大的功能，比如：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;将光标放置在代码的当前行，可以看到这样代码的提交者是谁，以及提交时间。这一点，是 GitLens 最便捷的功能。&lt;/li&gt;
&lt;li&gt;查看某个 commit 的代码改动记录&lt;/li&gt;
&lt;li&gt;查看不同的分支&lt;/li&gt;
&lt;li&gt;可以将两个 commit 进行代码对比&lt;/li&gt;
&lt;li&gt;甚至可以将两个 branch 分支进行整体的代码对比。这一点，简直是 GitLens 最强大的功能。当我们在不同分支 review 代码的时候，就可以用到这一招。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;打开你的 Git仓库，未安装  GitLens 时是这样的：&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2022/03/1220220312200918.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;安装了  GitLens 之后是这样的：&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2022/03/1220220312201723.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;上图中，红框部分就是  GitLens 的功能，诸君可以自由发挥。&lt;/p&gt;
&lt;p&gt;补充一个有意思的趣事：Python插件、Ruby插件、GitLens插件、Vetur插件，这四个插件的开发者先后加入了微软。&lt;/p&gt;
&lt;h4 id=&#34;Git-History&#34;&gt;Git History&lt;/h4&gt;
&lt;p&gt;有些同学习惯使用编辑器中的 Git 管理工具，而不太喜欢要打开另外一个 Git UI 工具的同学，这一款插件满足你查询所有 Git 记录的需求。&lt;/p&gt;
&lt;h4 id=&#34;Local-History-【荐】&#34;&gt;Local History 【荐】&lt;/h4&gt;
&lt;p&gt;维护文件的本地历史记录。代码意外丢失时，有时可以救命。&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2022/03/1220220312201729.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;h3 id=&#34;3、代码智能提示插件&#34;&gt;3、代码智能提示插件&lt;/h3&gt;
&lt;h4 id=&#34;Vetur&#34;&gt;Vetur&lt;/h4&gt;
&lt;p&gt;Vue 多功能集成插件，包括：语法高亮，智能提示，emmet，错误提示，格式化，自动补全，debugger。VS Code 官方钦定 Vue 插件，Vue 开发者必备。&lt;/p&gt;
&lt;h4 id=&#34;ES7-React-Redux-GraphQL-React-Native-snippets&#34;&gt;ES7 React/Redux/GraphQL/React-Native snippets&lt;/h4&gt;
&lt;p&gt;React/Redux/react-router 的语法智能提示。&lt;/p&gt;
&lt;h4 id=&#34;JavaScript-ES6-code-snippets&#34;&gt;JavaScript(ES6) code snippets&lt;/h4&gt;
&lt;p&gt;ES6 语法智能提示，支持快速输入。&lt;/p&gt;
&lt;h4 id=&#34;javascript-console-utils：快速打印-log-日志【荐】&#34;&gt;javascript console utils：快速打印 log 日志【荐】&lt;/h4&gt;
&lt;p&gt;安装这个插件后，当我们按住快捷键「Cmd + Shift + L」后，即可自动出现日志 &lt;code&gt;console.log()&lt;/code&gt;。简直是日志党福音。&lt;/p&gt;
&lt;p&gt;当我们选中某个变量 &lt;code&gt;name&lt;/code&gt;，然后按住快捷键「Cmd + Shift + L」，即可自动出现这个变量的日志 &lt;code&gt;console.log(name)&lt;/code&gt;。&lt;/p&gt;
&lt;p&gt;其他的同类插件还有：Turbo Console Log。&lt;/p&gt;
&lt;p&gt;不过，生产环境的代码，还是尽量少打日志比较好，避免出现一些异常。&lt;/p&gt;
&lt;p&gt;编程有三等境界：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;第三等境界是打日志，这是最简单、便捷的方式，略显低级，一般新手或资深程序员偷懒时会用。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;第二等境界是断点调试，在前端、Java、PHP、iOS 开发时非常常用，通过断点调试可以很直观地跟踪代码执行逻辑、调用栈、变量等，是非常实用的技巧。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;第一等境界是测试驱动开发，在写代码之前先写测试。与第二等的断点调试刚好相反，大部分人不是很习惯这种方式，但在国外开发者或者敏捷爱好者看来，这是最高效的开发方式，在保证代码质量、重构等方面非常有帮助，是现代编程开发必不可少的一部分。&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;Code-Spell-Checker：单词拼写错误检查&#34;&gt;Code Spell Checker：单词拼写错误检查&lt;/h4&gt;
&lt;p&gt;这个拼写检查程序的目标是帮助捕获常见的单词拼写错误，可以检测驼峰命名。从此告别 Chinglish.&lt;/p&gt;
&lt;h4 id=&#34;Auto-Close-Tag、Auto-Rename-Tag&#34;&gt;Auto Close Tag、Auto Rename Tag&lt;/h4&gt;
&lt;p&gt;自动闭合配对的标签、自动重命名配对的标签。&lt;/p&gt;
&lt;h3 id=&#34;4、代码显示增强插件&#34;&gt;4、代码显示增强插件&lt;/h3&gt;
&lt;h4 id=&#34;Bracket-Pair-Colorizer-2：突出显示成对的括号【荐】&#34;&gt;Bracket Pair Colorizer 2：突出显示成对的括号【荐】&lt;/h4&gt;
&lt;p&gt;&lt;code&gt;Bracket Pair Colorizer 2&lt;/code&gt;插件：以不同颜色显示成对的括号，并用连线标注括号范围。简称&lt;strong&gt;彩虹括号&lt;/strong&gt;。&lt;/p&gt;
&lt;p&gt;另外，还有个&lt;code&gt;Rainbow Brackets&lt;/code&gt;插件，也可以突出显示成对的括号。&lt;/p&gt;
&lt;h4 id=&#34;highlight-icemode：选中相同的代码时，让高亮显示更加明显【荐】&#34;&gt;highlight-icemode：选中相同的代码时，让高亮显示更加明显【荐】&lt;/h4&gt;
&lt;p&gt;VSCode 自带的高亮显示，实在是不够显眼。用插件支持一下吧。&lt;/p&gt;
&lt;p&gt;所用了这个插件之后，VS Code 自带的高亮就可以关掉了：&lt;/p&gt;
&lt;p&gt;在用户设置里添加&lt;code&gt;&#34;editor.selectionHighlight&#34;: false&lt;/code&gt;即可。&lt;/p&gt;
&lt;p&gt;参考链接：&lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://blog.csdn.net/palmer_kai/article/details/79548164&#34;&gt;vscode 选中后相同内容高亮插件推荐&lt;/a&gt;&lt;/p&gt;
&lt;h4 id=&#34;vscode-icons&#34;&gt;vscode-icons&lt;/h4&gt;
&lt;p&gt;vscode-icons 会根据文件的后缀名来显示不同的图标，让你更直观地知道每种文件是什么类型的。&lt;/p&gt;
&lt;h4 id=&#34;indent-rainbow：突出显示代码缩进&#34;&gt;indent-rainbow：突出显示代码缩进&lt;/h4&gt;
&lt;p&gt;&lt;code&gt;indent-rainbow&lt;/code&gt;插件：突出显示代码缩进。&lt;/p&gt;
&lt;p&gt;安装完成后，效果如下图所示：&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2022/03/1220220312200911.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;h4 id=&#34;TODO-Highlight&#34;&gt;TODO Highlight&lt;/h4&gt;
&lt;p&gt;写代码过程中，突然发现一个 Bug，但是又不想停下来手中的活，以免打断思路，怎么办？按照代码规范，我们一般是在代码中加个 TODO 注释。比如：（注意，一定要写成大写&lt;code&gt;TODO&lt;/code&gt;，而不是小写的&lt;code&gt;todo&lt;/code&gt;）&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-none&#34;&gt;&lt;code class=&#34;language-none&#34;&gt;//TODO:这里有个bug，我一会儿再收拾你&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;或者：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-none&#34;&gt;&lt;code class=&#34;language-none&#34;&gt;//FIXME:我也不知道为啥， but it works only that way.&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;安装了插件 &lt;code&gt;TODO Highlight&lt;/code&gt;之后，按住「Cmd + Shift + P」打开命令面板，输入「Todohighlist」，选择相关的命令，我们就可以看到一个 todoList 的清单。&lt;/p&gt;
&lt;h4 id=&#34;Better-Comments&#34;&gt;Better Comments&lt;/h4&gt;
&lt;p&gt;为注释添加更醒目、带分类的色彩。&lt;/p&gt;
&lt;h3 id=&#34;5、代码格式化插件&#34;&gt;5、代码格式化插件&lt;/h3&gt;
&lt;h4 id=&#34;Prettier：代码格式化&#34;&gt;Prettier：代码格式化&lt;/h4&gt;
&lt;p&gt;Prettier 是一个代码格式化工具，&lt;strong&gt;只关注格式化，但不具备校验功能&lt;/strong&gt;。在一个多人协同开发的团队中，统一的代码编写规范非常重要。一套规范可以让我们编写的代码达到一致的风格，提高代码的可读性和统一性。自然维护性也会有所提高，代码的展示也会更加美观。&lt;/p&gt;
&lt;p&gt;步骤如下：&lt;/p&gt;
&lt;p&gt;（1）安装插件 &lt;code&gt;Prettier&lt;/code&gt;。&lt;/p&gt;
&lt;p&gt;（2）在项目的根路径下，新建文件&lt;code&gt;.prettierrc&lt;/code&gt;，并在文件中添加如下内容：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-json&#34; data-language=&#34;json&#34;&gt;&lt;code class=&#34;language-json&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;{&lt;/span&gt;
  &lt;span class=&#34;token property&#34;&gt;&#34;printWidth&#34;&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;150&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;
  &lt;span class=&#34;token property&#34;&gt;&#34;tabWidth&#34;&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;4&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;
  &lt;span class=&#34;token property&#34;&gt;&#34;semi&#34;&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token boolean&#34;&gt;true&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;
  &lt;span class=&#34;token property&#34;&gt;&#34;singleQuote&#34;&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token boolean&#34;&gt;true&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;
  &lt;span class=&#34;token property&#34;&gt;&#34;trailingComma&#34;&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;es5&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;
  &lt;span class=&#34;token property&#34;&gt;&#34;tslintIntegration&#34;&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token boolean&#34;&gt;true&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;
  &lt;span class=&#34;token property&#34;&gt;&#34;insertSpaceBeforeFunctionParenthesis&#34;&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token boolean&#34;&gt;false&lt;/span&gt;
&lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;上面的内容，是我自己的配置，你可以参考。更多配置，可见官方文档：&lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://prettier.io/docs/en/options.html&#34;&gt;https://prettier.io/docs/en/options.html&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;（3）Mac用户按快捷键「Option + Shift + F」，Win 用户按快捷键「Alt + shift + F」，即可完成代码的格式化。如果你的VS Code 设置的是自动格式化代码，那么这一步可以忽略。&lt;/p&gt;
&lt;h4 id=&#34;ESLint：代码格式的校验&#34;&gt;ESLint：代码格式的校验&lt;/h4&gt;
&lt;p&gt;日常开发中，建议用 Prettier 做&lt;strong&gt;代码格式化&lt;/strong&gt;，然后用 eslint 做&lt;strong&gt;格式校验&lt;/strong&gt;。很多人把这两个插件的功能弄混了。&lt;/p&gt;
&lt;p&gt;一般做法是：格式化建议是由程序员手动触发，格式校验由系统强制校验。通过 Prettier &lt;strong&gt;手动&lt;/strong&gt;触发格式化，是为了让用户有感知；通过eslint 做&lt;strong&gt;强制&lt;/strong&gt;校验之后，如果代码的格式不符合要求，系统就禁止你提交代码。&lt;/p&gt;
&lt;h4 id=&#34;Beautify&#34;&gt;Beautify&lt;/h4&gt;
&lt;p&gt;代码格式化工具。&lt;/p&gt;
&lt;p&gt;备注：相比之下，Prettier 是当前最流行的代码格式化工具，比 Beautify 用得更多。&lt;/p&gt;
&lt;h4 id=&#34;Paste-JSON-as-Code&#34;&gt;Paste JSON as Code&lt;/h4&gt;
&lt;p&gt;此插件可以将剪贴板中的 JSON 字符串转换成工作代码。支持多种语言。&lt;/p&gt;
&lt;h4 id=&#34;JS-CSS-HTML-Formatter【荐】&#34;&gt;JS-CSS-HTML Formatter【荐】&lt;/h4&gt;
&lt;p&gt;保存文件时，自动格式化 HTML、CSS、JS代码。&lt;/p&gt;
&lt;h3 id=&#34;6、图片相关插件&#34;&gt;6、图片相关插件&lt;/h3&gt;
&lt;h4 id=&#34;Polacode-2020：生成代码截图-【荐】&#34;&gt;Polacode-2020：生成代码截图 【荐】&lt;/h4&gt;
&lt;p&gt;可以把代码片段保存成美观的图片，主题不同，代码的配色方案也不同，也也可以自定义设置图片的边框颜色、大小、阴影。&lt;/p&gt;
&lt;p&gt;尤其是在我们做 PPT 分享时需要用到代码片段时，或者需要在网络上优雅地分享代码片段时，这一招很有用。&lt;/p&gt;
&lt;p&gt;生成的效果如下：&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2022/03/1220220312200904.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;其他同类插件：&lt;code&gt;CodeSnap&lt;/code&gt;。我们也可以通过 &lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://carbon.now.sh/&#34;&gt;https://carbon.now.sh/&lt;/a&gt;这个网站生成代码图片&lt;/p&gt;
&lt;p&gt;有人可能会说：直接用 QQ 截图不行吗？可以是可以，但不够美观、不够干净。&lt;/p&gt;
&lt;h4 id=&#34;Image-Preview-【荐】&#34;&gt;Image Preview 【荐】&lt;/h4&gt;
&lt;p&gt;图片预览。鼠标移动到图片 url 上的时候，会自动显示图片的预览和图片尺寸。&lt;/p&gt;
&lt;h3 id=&#34;7、CSS相关插件&#34;&gt;7、CSS相关插件&lt;/h3&gt;
&lt;h4 id=&#34;CSS-Peek&#34;&gt;CSS Peek&lt;/h4&gt;
&lt;p&gt;增强 HTML 和 CSS 之间的关联，快速查看该元素上的 CSS 样式。&lt;/p&gt;
&lt;h4 id=&#34;Vue-CSS-Peek&#34;&gt;Vue CSS Peek&lt;/h4&gt;
&lt;p&gt;CSS Peek 对 Vue 没有支持，该插件提供了对 Vue 文件的支持。&lt;/p&gt;
&lt;h4 id=&#34;Color-Info&#34;&gt;Color Info&lt;/h4&gt;
&lt;p&gt;这个便捷的插件，将为你提供你在 CSS 中使用颜色的相关信息。你只需在颜色上悬停光标，就可以预览色块中色彩模型的（HEX、 RGB、HSL 和 CMYK）相关信息了。&lt;/p&gt;
&lt;h3 id=&#34;8、Mardown-相关插件&#34;&gt;8、Mardown 相关插件&lt;/h3&gt;
&lt;h4 id=&#34;Markdown-Preview-Github-Styling-【荐】&#34;&gt;Markdown Preview Github Styling 【荐】&lt;/h4&gt;
&lt;p&gt;以 GitHub 风格预览 Markdown 样式，十分简洁优雅。就像下面这样，左侧书写 Markdown 文本，右侧预览 Markdown 的渲染效果：&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2022/03/1220220312201736.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;h4 id=&#34;Markdown-Preview-Enhanced&#34;&gt;Markdown Preview Enhanced&lt;/h4&gt;
&lt;p&gt;预览 Markdown 样式。&lt;/p&gt;
&lt;h4 id=&#34;Markdown-All-in-One&#34;&gt;Markdown All in One&lt;/h4&gt;
&lt;p&gt;这个插件将帮助你更高效地在 Markdown 中编写文档。&lt;/p&gt;
&lt;h3 id=&#34;9、通用工具类插件&#34;&gt;9、通用工具类插件&lt;/h3&gt;
&lt;h4 id=&#34;sftp：文件传输-【荐】&#34;&gt;sftp：文件传输 【荐】&lt;/h4&gt;
&lt;p&gt;如果你需要将本地文件通过 ftp 的形式上传到局域网的服务器，可以安装&lt;code&gt;sftp&lt;/code&gt;这个插件，很好用。在公司会经常用到。&lt;/p&gt;
&lt;p&gt;详细配置已经在上面讲过。&lt;/p&gt;
&lt;h4 id=&#34;Live-Server-【荐】&#34;&gt;Live Server 【荐】&lt;/h4&gt;
&lt;p&gt;在本地启动一个服务器，代码写完后可以实现「热更新」，实时地在网页中看到运行效果。就不需要每次都得手动刷新页面了。&lt;/p&gt;
&lt;p&gt;使用方式：安装插件后，开始写代码；代码写完后，右键选择「Open with Live Server」。&lt;/p&gt;
&lt;h4 id=&#34;open-in-browser&#34;&gt;open in browser&lt;/h4&gt;
&lt;p&gt;安装&lt;code&gt;open in browser&lt;/code&gt;插件后，在 HTML 文件中「右键选择 --&amp;gt; Open in Default Browser」，即可在浏览器中预览网页。&lt;/p&gt;
&lt;h4 id=&#34;Project-Manager&#34;&gt;Project Manager&lt;/h4&gt;
&lt;p&gt;工作中，我们经常会来回切换多个项目，每次都要找到对应项目的目录再打开，比较麻烦。Project Manager 插件可以解决这样的烦恼，它提供了专门的视图来展示你的项目，我们可以把常用的项目保存在这里，需要时一键切换，十分方便。&lt;/p&gt;
&lt;h4 id=&#34;WakaTime-【荐】&#34;&gt;WakaTime 【荐】&lt;/h4&gt;
&lt;p&gt;统计在 VS Code 里写代码的时间。统计效果如下：&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2022/03/1220220312200858.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;h4 id=&#34;Code-Time&#34;&gt;Code Time&lt;/h4&gt;
&lt;p&gt;&lt;code&gt;Code Time&lt;/code&gt;插件：记录编程时间，统计代码行数。&lt;/p&gt;
&lt;p&gt;安装该插件后，VS Code 底部的状态栏右下角可以看到时间统计。点击那个位置之后，选择「Code Time Dashboard」，即可查看统计结果。&lt;/p&gt;
&lt;p&gt;备注：团长试了一下这个 code time 插件，发现统计结果不是很准。&lt;/p&gt;
&lt;h4 id=&#34;File-Tree-to-Text-Generator：快速生成文件的目录树&#34;&gt;File Tree to Text Generator：快速生成文件的目录树&lt;/h4&gt;
&lt;p&gt;如题。&lt;/p&gt;
&lt;h4 id=&#34;Settings-Sync&#34;&gt;Settings Sync&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;地址：&lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://github.com/shanalikhan/code-settings-sync&#34;&gt;https://github.com/shanalikhan/code-settings-sync&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;作用：多台设备之间，同步 VS Code 配置。通过登录 GitHub 账号来使用这个同步工具。&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;同步的详细操作，下一段会讲。&lt;/p&gt;
&lt;p&gt;另外，北京时间的&lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://zhuanlan.zhihu.com/p/184868336&#34;&gt;2020年8月14日&lt;/a&gt;，微软发布 Visual Studio Code 1.48 稳定版。此版本&lt;strong&gt;原生&lt;/strong&gt;支持用户同步 VS Code的配置，只需要登录微软账号或者 GitHub账号即可。&lt;/p&gt;
&lt;h4 id=&#34;vscode-syncing&#34;&gt;vscode-syncing&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;地址：&lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://github.com/nonoroazoro/vscode-syncing&#34;&gt;https://github.com/nonoroazoro/vscode-syncing&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;作用：多台设备之间，同步 VS Code 配置。&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;minapp：小程序支持&#34;&gt;minapp：小程序支持&lt;/h4&gt;
&lt;p&gt;小程序开发必备插件。&lt;/p&gt;
&lt;h4 id=&#34;Search-node-modules&#34;&gt;Search node_modules&lt;/h4&gt;
&lt;p&gt;&lt;code&gt;node_modules&lt;/code&gt;模块里面的文件夹和模块实在是太多了，根本不好找。好在安装 &lt;code&gt;Search node_modules&lt;/code&gt; 这个插件后，输入快捷键「Cmd + Shift + P」，然后输入 &lt;code&gt;node_modules&lt;/code&gt;，在弹出的选项中选择 &lt;code&gt;Search node_modules&lt;/code&gt;，即可搜索 node_modules 里的模块。&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2022/03/1220220312200857.jpeg&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;h4 id=&#34;RemoteHub&#34;&gt;RemoteHub&lt;/h4&gt;
&lt;p&gt;不要惊讶，RemoteHub 和 GitLens 是同一个作者开发出来的。&lt;/p&gt;
&lt;p&gt;&lt;code&gt;RemoteHub&lt;/code&gt;插件的作用是：可以在本地查看 GitHub 网站上的代码，而不需要将代码下载到本地。&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2022/03/1220220312200857.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;这个插件目前使用的人还不多，赶紧安装起来尝尝鲜吧。&lt;/p&gt;
&lt;h4 id=&#34;Live-Share：实时编码分享&#34;&gt;Live Share：实时编码分享&lt;/h4&gt;
&lt;p&gt;&lt;code&gt;Live Share&lt;/code&gt;这个神奇的插件是由微软官方出品，它的作用是：&lt;strong&gt;实时编码分享&lt;/strong&gt;。也就是说，它可以实现你和你的同伴一起写代码。这绝对就是&lt;strong&gt;结对编程&lt;/strong&gt;的神器啊。&lt;/p&gt;
&lt;p&gt;安装方式：&lt;/p&gt;
&lt;p&gt;打开插件管理，搜索“live share”，安装。安装后重启 VS Code，在左侧会多出一个按钮：&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2022/03/1220220312201743.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;上图中，点击红框部分，登录后就可以分享你的工作空间了。&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2022/03/1220220312200850.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;h4 id=&#34;Import-Cost&#34;&gt;Import Cost&lt;/h4&gt;
&lt;p&gt;在项目开发过程中，我们会引入很多 npm 包，有时候可能只用到了某个包里的一个方法，却引入了整个包，导致代码体积增大很多。&lt;code&gt;Import Cost&lt;/code&gt;插件可以在代码中友好的提示我们，当前引入的包会增加多少体积，这很有助于帮我们优化代码的体积。&lt;/p&gt;
&lt;h3 id=&#34;10、主题插件&#34;&gt;10、主题插件&lt;/h3&gt;
&lt;p&gt;给你的 VS Code 换个皮肤吧，免费的那种。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Dracula Theme&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Material Theme&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Nebula Theme&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://marketplace.visualstudio.com/items?itemName=zhuangtongfa.Material-theme&#34;&gt;One Dark Pro&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;One Monokai Theme&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Monokai Pro&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Ayu&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://marketplace.visualstudio.com/items?itemName=akarlsten.vscode-snazzy-akarlsten&#34;&gt;Snazzy Plus&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://marketplace.visualstudio.com/items?itemName=alexanderte.dainty-vscode&#34;&gt;Dainty&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;SynthWave &#39;84&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;GitHub Plus Theme：白色主题&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Horizon Theme：红色主题&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;七、无缝切换：VS-Code-配置云同步&#34;&gt;七、无缝切换：VS Code 配置云同步&lt;/h2&gt;
&lt;p&gt;我们可以将配置云同步，这样的话，当我们换个电脑时，即可将配置一键同步到本地，就不需要重新安装插件了，也不需要重新配置软件。&lt;/p&gt;
&lt;p&gt;下面讲的两个同步方法，都可以，看你自己需要。方法1是 VS Code自带的同步功能，操作简单。方法2 需要安装插件，支持更多的自定义配置。&lt;/p&gt;
&lt;h3 id=&#34;方法1：使用-VS-Code-自带的同步功能&#34;&gt;方法1：使用 VS Code 自带的同步功能&lt;/h3&gt;
&lt;p&gt;1、&lt;strong&gt;配置同步&lt;/strong&gt;：&lt;/p&gt;
&lt;p&gt;（1）在菜单栏选择「 Code --&amp;gt; 首选项 --&amp;gt; 打开设置同步」：&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2022/03/1220220312201750.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;（2）选择需要同步的配置：&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2022/03/1220220312200843.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;（3）通过Microsoft或者GitHub账号登录。 上图中，点击“登录并打开”，然后弹出如下界面：&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2022/03/1220220312201757.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;上图中，使用  微软账号或者 GitHub账号登录：&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2022/03/1220220312201803.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;（4）同步完成后，菜单栏会显示“首先项同步已打开”，最左侧也会多出一个同步图标，如下图所示：&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2022/03/1220220312202032.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;2、&lt;strong&gt;管理同步&lt;/strong&gt;：&lt;/p&gt;
&lt;p&gt;（1）点击菜单栏「Code --&amp;gt; 首选项 --&amp;gt; 设置同步已打开」，会弹出如下界面，进行相应的同步管理即可：&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2022/03/1220220312200836.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;（2）换另外一个电脑时，登录相同的账号，即可完成同步。&lt;/p&gt;
&lt;p&gt;参考链接：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://blog.csdn.net/baidu_33340703/article/details/106967884&#34;&gt;VS Code原生的配置同步功能——Settings Sync&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;方法2：使用插件-settings-sync&#34;&gt;方法2：使用插件 &lt;code&gt;settings-sync&lt;/code&gt;&lt;/h3&gt;
&lt;p&gt;使用方法2，我们还可以把配置分享其他用户，也可以把其他用户的配置给自己用。&lt;/p&gt;
&lt;p&gt;1、&lt;strong&gt;配置同步&lt;/strong&gt;：（将自己本地的配置云同步到 GitHub）&lt;/p&gt;
&lt;p&gt;（1）安装插件 &lt;code&gt;settings-sync&lt;/code&gt;。&lt;/p&gt;
&lt;p&gt;（2）安装完插件后，在插件里使用 GitHub 账号登录。&lt;/p&gt;
&lt;p&gt;（3）登录后在 vscode 的界面中，可以选择一个别人的 gist；也可以忽略掉，然后创建一个属于自己的 gist。&lt;/p&gt;
&lt;p&gt;（4）使用快捷键 「Command + Shift + P」，在弹出的命令框中输入 sync，并选择「更新/上传配置」，这样就可以把最新的配置上传到 GitHub。&lt;/p&gt;
&lt;p&gt;2、&lt;strong&gt;管理同步&lt;/strong&gt;：（换另外一个电脑时，从云端同步配置到本地）&lt;/p&gt;
&lt;p&gt;（1）当我们换另外一台电脑时，可以先在 VS Code 中安装 &lt;code&gt;settings-sync&lt;/code&gt; 插件。&lt;/p&gt;
&lt;p&gt;（2）安装完插件后，在插件里使用 GitHub 账号登录。&lt;/p&gt;
&lt;p&gt;（3）登录之后，插件的界面上，会自动出现之前的同步记录：&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2022/03/1220220312200829.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;上图中，我们点击最新的那条记录，就可将云端的最新配置同步到本地：&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2022/03/1220220312200825.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;如果你远程的配置没有成功同步到本地，那可能是网络的问题，此时，可以使用快捷键 「Command + Shift + P」，在弹出的命令框中输入 sync，并选择「下载配置」，多试几次。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;使用其他人的配置&lt;/strong&gt;：&lt;/p&gt;
&lt;p&gt;如果我们想使用别人的配置，首先需要对方提供给你 gist。具体步骤如下：&lt;/p&gt;
&lt;p&gt;（1）安装插件 &lt;code&gt;settings-sync&lt;/code&gt;。&lt;/p&gt;
&lt;p&gt;（2）使用快捷键 「Command + Shift + P」，在弹出的命令框中输入 sync，并选择「下载配置」&lt;/p&gt;
&lt;p&gt;（3）在弹出的界面中，选择「Download Public Gist」，然后输入别人分享给你的 gist。注意，这一步不需要登录 GitHub 账号。&lt;/p&gt;
&lt;h2 id=&#34;最后一段&#34;&gt;最后一段&lt;/h2&gt;
&lt;p&gt;如果你还有什么推荐的 VS Code 插件，欢迎留言。&lt;/p&gt;
&lt;p&gt;大家完全不用担心这篇文章会过时，随着 VS Code 的版本更新和插件更新，本文也会随之更新。关于 VS Code 内容的后续更新，你可以关注我在 GitHub 上的前端入门项目，项目地址是：&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;https://github.com/qianguyihao/Web&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;一个超级详细和真诚的前端入门项目。&lt;/p&gt;
&lt;h2 id=&#34;todo&#34;&gt;todo&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://github.com/qianguyihao/Web/issues/84&#34;&gt;issues 84&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;参考链接&#34;&gt;参考链接&lt;/h2&gt;
&lt;h3 id=&#34;2021年&#34;&gt;2021年&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;中文版 Awesome VS Code：https://github.com/formulahendry/awesome-vscode-cn&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;2020年&#34;&gt;2020年&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://juejin.im/post/5ea40c6751882573b219777d&#34;&gt;VSCode 插件大全｜ VSCode 高级玩家之第二篇&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;http://www.supuwoerc.xyz/tools/vscode/plugins.html&#34;&gt;http://www.supuwoerc.xyz/tools/vscode/plugins.html&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://zhuanlan.zhihu.com/p/99462672&#34;&gt;如何让 VS Code 更好用 10 倍？这里有一份 VS Code 新手指南&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://lyreal666.com/%E9%82%A3%E4%BA%9B%E4%BD%A0%E5%BA%94%E8%AF%A5%E8%80%83%E8%99%91%E5%8D%B8%E8%BD%BD%E7%9A%84-VSCode-%E6%89%A9%E5%B1%95/#more&#34;&gt;那些你应该考虑卸载的 VSCode 扩展&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://juejin.im/post/5d74eb5c51882525017787d9&#34;&gt;VS Code 折腾记 - (16) 推荐一波实用的插件集&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://juejin.im/post/5db66672f265da4d0e009aad&#34;&gt;VSCode 前端必备插件，有可能你装了却不知道如何使用？&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://juejin.im/post/5a08d1d6f265da430f31950e&#34;&gt;能让你开发效率翻倍的 VSCode 插件配置（上）&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://segmentfault.com/a/1190000012811886&#34;&gt;https://segmentfault.com/a/1190000012811886&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://idoubi.cc/2019/07/08/vscode-sublime-theme/&#34;&gt;「Vscode」打造类 sublime 的高颜值编辑器&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://lsqy.tech/2020/03/14/20200314Mac-Vscode%E5%BF%AB%E6%8D%B7%E9%94%AE/&#34;&gt;Mac Vscode 快捷键&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://mp.weixin.qq.com/s?src=11&amp;amp;timestamp=1591581536&amp;amp;ver=2387&amp;amp;signature=i4xLZlLe1Gkl7OiBIhPO*VSeNB5lzFgTY-dgNW9E9ZbtIAv4bnJ1RdAAZdhvDw*cg-DmMcUa-V8NSUdV-tthmXZCq3ht4edCweq6v0QxKjnh8IuAxyyh5qymdRui*8iE&amp;amp;new=1&#34;&gt;使用 VSCode 的一些技巧&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;转载来源，[GitHub](https://github.com/qianguyihao/Web/blob/master/00-前端工具/01-VS Code的使用.md) 推荐关注star！&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;link rel=&#34;stylesheet&#34; href=&#34;/css/bilicard.css&#34; type=&#34;text/css&#34;&gt;</content>
        <category term="vscode" />
        <category term="插件" />
        <category term="编码" />
        <updated>2021-10-18T04:25:00.000Z</updated>
    </entry>
    <entry>
        <id>https://blog.17lai.site/posts/465d2738/</id>
        <title>如何使用Traefik V2 在Ubuntu20.04 上面来做 Dockers Containers 的反向代理</title>
        <link rel="alternate" href="https://blog.17lai.site/posts/465d2738/"/>
        <content type="html">&lt;p&gt;How To Use Traefik v2 as a Reverse Proxy for Docker Containers on Ubuntu 20.04&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Traefik 适合配合Dockers swarm 做服务， Dockers portainer 做管理，ELK集群做监控日志。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2021/10/1420211014200800.png&#34; alt=&#34;Traefik&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;traefik&lt;/code&gt; 与 &lt;code&gt;nginx&lt;/code&gt; 一样，是一款优秀的反向代理工具，或者叫 &lt;code&gt;Edge Router&lt;/code&gt;。至于使用它的原因则基于以下几点&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;无须重启即可更新配置&lt;/li&gt;
&lt;li&gt;自动的服务发现与负载均衡&lt;/li&gt;
&lt;li&gt;与 &lt;code&gt;docker&lt;/code&gt; 完美集成，基于 &lt;code&gt;container label&lt;/code&gt; 的配置&lt;/li&gt;
&lt;li&gt;漂亮的 &lt;code&gt;dashboard&lt;/code&gt; 界面&lt;/li&gt;
&lt;li&gt;&lt;code&gt;metrics&lt;/code&gt; 的支持，支持对 &lt;code&gt;prometheus&lt;/code&gt; 和 &lt;code&gt;k8s&lt;/code&gt; 集成&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;Introduction&#34;&gt;Introduction&lt;/h3&gt;
&lt;p&gt;&lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://www.docker.com/&#34;&gt;Docker&lt;/a&gt; can be an efficient way to run web applications in production, but you may want to run multiple applications on the same Docker host. In this situation, you’ll need to set up a reverse proxy. This is because you only want to expose ports &lt;code&gt;80&lt;/code&gt; and &lt;code&gt;443&lt;/code&gt; to the rest of the world.&lt;/p&gt;
&lt;p&gt;&lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://traefik.io/&#34;&gt;Traefik&lt;/a&gt; is a Docker-aware reverse proxy that includes a monitoring dashboard. Traefik v1 has been widely used for a while, and &lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://www.digitalocean.com/community/tutorials/how-to-use-traefik-as-a-reverse-proxy-for-docker-containers-on-ubuntu-20-04&#34;&gt;you can follow this earlier tutorial to install Traefik v1&lt;/a&gt;). But in this tutorial, you’ll install and configure Traefik v2, which includes quite a few differences.&lt;/p&gt;
&lt;p&gt;The biggest difference between Traefik v1 and v2 is that &lt;em&gt;frontends&lt;/em&gt; and &lt;em&gt;backends&lt;/em&gt; were removed and their combined functionality spread out across &lt;em&gt;routers&lt;/em&gt;, &lt;em&gt;middlewares&lt;/em&gt;, and &lt;em&gt;services&lt;/em&gt;. Previously a backend did the job of making modifications to requests and getting that request to whatever was supposed to handle it. Traefik v2 provides more separation of concerns by introducing middlewares that can modify requests before sending them to a service. Middlewares make it easier to specify a single modification step that might be used by a lot of different routes so that they can be reused (such as HTTP Basic Auth, which you’ll see later). A router can also use many different middlewares.&lt;/p&gt;
&lt;p&gt;In this tutorial you’ll configure Traefik v2 to route requests to two different web application containers: a &lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;http://wordpress.org/&#34;&gt;Wordpress&lt;/a&gt; container and an &lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://www.adminer.org/&#34;&gt;Adminer&lt;/a&gt; container, each talking to a &lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://www.mysql.com/&#34;&gt;MySQL&lt;/a&gt; database. You’ll configure Traefik to serve everything over HTTPS using &lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://letsencrypt.org/&#34;&gt;Let’s Encrypt&lt;/a&gt;.&lt;/p&gt;
&lt;h2 id=&#34;Prerequisites&#34;&gt;Prerequisites&lt;/h2&gt;
&lt;p&gt;To complete this tutorial, you will need the following:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://www.digitalocean.com/products/linux-distribution/ubuntu/&#34;&gt;One Ubuntu 20.04 server&lt;/a&gt; with a sudo non-root user and a firewall. You can set this up by following our &lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://www.digitalocean.com/community/tutorials/initial-server-setup-with-ubuntu-20-04&#34;&gt;Ubuntu 20.04 initial server setup guide&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;Docker installed on your server, which you can accomplish by following &lt;strong&gt;Steps 1 and 2&lt;/strong&gt; of &lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://www.digitalocean.com/community/tutorials/how-to-install-and-use-docker-on-ubuntu-20-04&#34;&gt;How to Install and Use Docker on Ubuntu 20.04&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;Docker Compose installed using the instructions from &lt;strong&gt;Step 1&lt;/strong&gt; of &lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://www.digitalocean.com/community/tutorials/how-to-install-and-use-docker-compose-on-ubuntu-20-04&#34;&gt;How to Install Docker Compose on Ubuntu 20.04&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;A domain and three A records, &lt;code&gt;db-admin.your_domain&lt;/code&gt;, &lt;code&gt;blog.your_domain&lt;/code&gt; and &lt;code&gt;monitor.your_domain&lt;/code&gt;. Each should point to the IP address of your server. You can learn how to point domains to DigitalOcean Droplets by reading through &lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://www.digitalocean.com/docs/networking/dns/&#34;&gt;DigitalOcean’s Domains and DNS documentation&lt;/a&gt;. Throughout this tutorial, substitute your domain for &lt;code&gt;your_domain&lt;/code&gt; in the configuration files and examples.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;Step-1-—-Configuring-and-Running-Traefik&#34;&gt;Step 1 — Configuring and Running Traefik&lt;/h2&gt;
&lt;p&gt;The Traefik project has an &lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://hub.docker.com/_/traefik&#34;&gt;official Docker image&lt;/a&gt;, so you will use that to run Traefik in a Docker container.&lt;/p&gt;
&lt;p&gt;But before you get your Traefik container up and running, you need to create a configuration file and set up an encrypted password so you can access the monitoring dashboard.&lt;/p&gt;
&lt;p&gt;You’ll use the &lt;code&gt;htpasswd&lt;/code&gt; utility to create this encrypted password. First, install the utility, which is included in the &lt;code&gt;apache2-utils&lt;/code&gt; package:&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-bash&#34; data-language=&#34;bash&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;&lt;span class=&#34;token function&#34;&gt;sudo&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;apt-get&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;install&lt;/span&gt; apache2-utils&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Then generate the password with &lt;code&gt;htpasswd&lt;/code&gt;. Substitute &lt;code&gt;secure_password&lt;/code&gt; with the password you’d like to use for the Traefik admin user:&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-bash&#34; data-language=&#34;bash&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;htpasswd -nb admin secure_password&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The output from the program will look like this:&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-none&#34;&gt;&lt;code class=&#34;language-none&#34;&gt;Outputadmin:$apr1$ruca84Hq$mbjdMZBAG.KWn7vfN/SNK/&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;You’ll use this output in the Traefik configuration file to set up HTTP Basic Authentication for the Traefik health check and monitoring dashboard. Copy the entire output line so you can paste it later.&lt;/p&gt;
&lt;p&gt;To configure the Traefik server, you’ll create two new configuration files called &lt;code&gt;traefik.toml&lt;/code&gt; and &lt;code&gt;traefik_dynamic.toml&lt;/code&gt; using the TOML format. &lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://github.com/toml-lang/toml&#34;&gt;TOML&lt;/a&gt; is a configuration language similar to INI files, but standardized. &lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://docs.traefik.io/providers/overview/&#34;&gt;These files let us configure the Traefik server and various integrations&lt;/a&gt;, or &lt;code&gt;providers&lt;/code&gt;, that you want to use. In this tutorial, you will use three of Traefik’s available providers: &lt;code&gt;api&lt;/code&gt;, &lt;code&gt;docker&lt;/code&gt;, and &lt;code&gt;acme&lt;/code&gt;. The last of these, &lt;code&gt;acme&lt;/code&gt;, supports TLS certificates using Let’s Encrypt.&lt;/p&gt;
&lt;p&gt;Create and open &lt;code&gt;traefik.toml&lt;/code&gt; using &lt;code&gt;nano&lt;/code&gt; or your preferred text editor:&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-bash&#34; data-language=&#34;bash&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;&lt;span class=&#34;token function&#34;&gt;nano&lt;/span&gt; traefik.toml&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;First, you want to specify the ports that Traefik should listen on using the &lt;code&gt;entryPoints&lt;/code&gt; section of your config file. You want two because you want to listen on port &lt;code&gt;80&lt;/code&gt; and &lt;code&gt;443&lt;/code&gt;. Let’s call these &lt;code&gt;web&lt;/code&gt; (port &lt;code&gt;80&lt;/code&gt;) and &lt;code&gt;websecure&lt;/code&gt; (port &lt;code&gt;443&lt;/code&gt;).&lt;/p&gt;
&lt;p&gt;Add the following configurations:&lt;/p&gt;
&lt;p&gt;traefik.toml&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-toml&#34; data-language=&#34;toml&#34;&gt;&lt;code class=&#34;language-toml&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;token table class-name&#34;&gt;entryPoints&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;
  &lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;token table class-name&#34;&gt;entryPoints.web&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;
    &lt;span class=&#34;token key property&#34;&gt;address&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;:80&#34;&lt;/span&gt;
    &lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;token table class-name&#34;&gt;entryPoints.web.http.redirections.entryPoint&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;
      &lt;span class=&#34;token key property&#34;&gt;to&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;websecure&#34;&lt;/span&gt;
      &lt;span class=&#34;token key property&#34;&gt;scheme&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;https&#34;&lt;/span&gt;

  &lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;token table class-name&#34;&gt;entryPoints.websecure&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;
    &lt;span class=&#34;token key property&#34;&gt;address&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;:443&#34;&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Note that you are also automatically redirecting traffic to be handled over TLS.&lt;/p&gt;
&lt;p&gt;Next, configure the Traefik &lt;code&gt;api&lt;/code&gt;, which gives you access to both the API and your dashboard interface. The heading of &lt;code&gt;[api]&lt;/code&gt; is all that you need because the dashboard is then enabled by default, but you’ll be explicit for the time being.&lt;/p&gt;
&lt;p&gt;Add the following code:&lt;/p&gt;
&lt;p&gt;traefik.toml&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-toml&#34; data-language=&#34;toml&#34;&gt;&lt;code class=&#34;language-toml&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;
&lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;token table class-name&#34;&gt;api&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;
  &lt;span class=&#34;token key property&#34;&gt;dashboard&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token boolean&#34;&gt;true&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;To finish securing your web requests you want to use Let’s Encrypt to generate valid TLS certificates. Traefik v2 supports Let’s Encrypt out of the box and you can configure it by creating a &lt;em&gt;certificates resolver&lt;/em&gt; of the type &lt;code&gt;acme&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Let’s configure your certificates resolver now using the name &lt;code&gt;lets-encrypt&lt;/code&gt;:&lt;/p&gt;
&lt;p&gt;traefik.toml&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-toml&#34; data-language=&#34;toml&#34;&gt;&lt;code class=&#34;language-toml&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;
&lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;token table class-name&#34;&gt;certificatesResolvers.lets-encrypt.acme&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;
  &lt;span class=&#34;token key property&#34;&gt;email&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;your_email@your_domain&#34;&lt;/span&gt;
  &lt;span class=&#34;token key property&#34;&gt;storage&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;acme.json&#34;&lt;/span&gt;
  &lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;token table class-name&#34;&gt;certificatesResolvers.lets-encrypt.acme.tlsChallenge&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;This section is called &lt;code&gt;acme&lt;/code&gt; because &lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://github.com/ietf-wg-acme/acme/&#34;&gt;ACME&lt;/a&gt; is the name of the protocol used to communicate with Let’s Encrypt to manage certificates. The Let’s Encrypt service requires registration with a valid email address, so to have Traefik generate certificates for your hosts, set the &lt;code&gt;email&lt;/code&gt; key to your email address. You then specify that you will store the information that you will receive from Let’s Encrypt in a JSON file called &lt;code&gt;acme.json&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;The &lt;code&gt;acme.tlsChallenge&lt;/code&gt; section allows us to specify how Let’s Encrypt can verify that the certificate. You’re configuring it to serve a file as part of the challenge over port &lt;code&gt;443&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Finally, you need to configure Traefik to work with Docker.&lt;/p&gt;
&lt;p&gt;Add the following configurations:&lt;/p&gt;
&lt;p&gt;traefik.toml&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-toml&#34; data-language=&#34;toml&#34;&gt;&lt;code class=&#34;language-toml&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;
&lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;token table class-name&#34;&gt;providers.docker&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;
  &lt;span class=&#34;token key property&#34;&gt;watch&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token boolean&#34;&gt;true&lt;/span&gt;
  &lt;span class=&#34;token key property&#34;&gt;network&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;web&#34;&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The &lt;code&gt;docker&lt;/code&gt; provider enables Traefik to act as a proxy in front of Docker containers. You’ve configured the provider to &lt;code&gt;watch&lt;/code&gt; for new containers on the &lt;code&gt;web&lt;/code&gt; network, which you’ll create soon.&lt;/p&gt;
&lt;p&gt;Our final configuration uses the &lt;code&gt;file&lt;/code&gt; provider. With Traefik v2, static and dynamic configurations can’t be mixed and matched. To get around this, you will use &lt;code&gt;traefik.toml&lt;/code&gt; to define your static configurations and then keep your dynamic configurations in another file, which you will call &lt;code&gt;traefik_dynamic.toml&lt;/code&gt;. Here you are using the &lt;code&gt;file&lt;/code&gt; provider to tell Traefik that it should read in dynamic configurations from a different file.&lt;/p&gt;
&lt;p&gt;Add the following &lt;code&gt;file&lt;/code&gt; provider:&lt;/p&gt;
&lt;p&gt;traefik.toml&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-bash&#34; data-language=&#34;bash&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;providers.file&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;
  filename &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;traefik_dynamic.toml&#34;&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Your completed &lt;code&gt;traefik.toml&lt;/code&gt; will look like this:&lt;/p&gt;
&lt;p&gt;traefik.toml&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-toml&#34; data-language=&#34;toml&#34;&gt;&lt;code class=&#34;language-toml&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;token table class-name&#34;&gt;entryPoints&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;
  &lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;token table class-name&#34;&gt;entryPoints.web&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;
    &lt;span class=&#34;token key property&#34;&gt;address&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;:80&#34;&lt;/span&gt;
    &lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;token table class-name&#34;&gt;entryPoints.web.http.redirections.entryPoint&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;
      &lt;span class=&#34;token key property&#34;&gt;to&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;websecure&#34;&lt;/span&gt;
      &lt;span class=&#34;token key property&#34;&gt;scheme&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;https&#34;&lt;/span&gt;

  &lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;token table class-name&#34;&gt;entryPoints.websecure&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;
    &lt;span class=&#34;token key property&#34;&gt;address&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;:443&#34;&lt;/span&gt;

&lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;token table class-name&#34;&gt;api&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;
  &lt;span class=&#34;token key property&#34;&gt;dashboard&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token boolean&#34;&gt;true&lt;/span&gt;

&lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;token table class-name&#34;&gt;certificatesResolvers.lets-encrypt.acme&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;
  &lt;span class=&#34;token key property&#34;&gt;email&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;your_email@your_domain&#34;&lt;/span&gt;
  &lt;span class=&#34;token key property&#34;&gt;storage&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;acme.json&#34;&lt;/span&gt;
  &lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;token table class-name&#34;&gt;certificatesResolvers.lets-encrypt.acme.tlsChallenge&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;

&lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;token table class-name&#34;&gt;providers.docker&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;
  &lt;span class=&#34;token key property&#34;&gt;watch&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token boolean&#34;&gt;true&lt;/span&gt;
  &lt;span class=&#34;token key property&#34;&gt;network&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;web&#34;&lt;/span&gt;

&lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;token table class-name&#34;&gt;providers.file&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;
  &lt;span class=&#34;token key property&#34;&gt;filename&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;traefik_dynamic.toml&#34;&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Save and close the file.&lt;/p&gt;
&lt;p&gt;Now let’s create &lt;code&gt;traefik_dynamic.toml&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;The dynamic configuration values that you need to keep in their own file are the &lt;em&gt;middlewares&lt;/em&gt; and the &lt;em&gt;routers&lt;/em&gt;. To put your dashboard behind a password you need to customize the API’s &lt;em&gt;router&lt;/em&gt; and configure a &lt;em&gt;middleware&lt;/em&gt; to handle HTTP basic authentication. Let’s start by setting up the middleware.&lt;/p&gt;
&lt;p&gt;The middleware is configured on a per-protocol basis and since you’re working with HTTP you’ll specify it as a section chained off of &lt;code&gt;http.middlewares&lt;/code&gt;. Next comes the name of your middleware so that you can reference it later, followed by the type of middleware that it is, which will be &lt;code&gt;basicAuth&lt;/code&gt; in this case. Let’s call your middleware &lt;code&gt;simpleAuth&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Create and open a new file called &lt;code&gt;traefik_dynamic.toml&lt;/code&gt;:&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-bash&#34; data-language=&#34;bash&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;&lt;span class=&#34;token function&#34;&gt;nano&lt;/span&gt; traefik_dynamic.toml&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Add the following code. This is where you’ll paste the output from the &lt;code&gt;htpasswd&lt;/code&gt; command:&lt;/p&gt;
&lt;p&gt;traefik_dynamic.toml&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-toml&#34; data-language=&#34;toml&#34;&gt;&lt;code class=&#34;language-toml&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;token table class-name&#34;&gt;http.middlewares.simpleAuth.basicAuth&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;
  &lt;span class=&#34;token key property&#34;&gt;users&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;
    &lt;span class=&#34;token string&#34;&gt;&#34;admin:$apr1$ruca84Hq$mbjdMZBAG.KWn7vfN/SNK/&#34;&lt;/span&gt;
  &lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;To configure the router for the api you’ll once again be chaining off of the protocol name, but instead of using &lt;code&gt;http.middlewares&lt;/code&gt;, you’ll use &lt;code&gt;http.routers&lt;/code&gt; followed by the name of the router. In this case, the &lt;code&gt;api&lt;/code&gt; provides its own named router that you can configure by using the &lt;code&gt;[http.routers.api]&lt;/code&gt; section. You’ll configure the domain that you plan on using with your dashboard also by setting the &lt;code&gt;rule&lt;/code&gt; key using a host match, the entrypoint to use &lt;code&gt;websecure&lt;/code&gt;, and the middlewares to include &lt;code&gt;simpleAuth&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Add the following configurations:&lt;/p&gt;
&lt;p&gt;traefik_dynamic.toml&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-toml&#34; data-language=&#34;toml&#34;&gt;&lt;code class=&#34;language-toml&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;
&lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;token table class-name&#34;&gt;http.routers.api&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;
  &lt;span class=&#34;token key property&#34;&gt;rule&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;Host(`monitor.your_domain`)&#34;&lt;/span&gt;
  &lt;span class=&#34;token key property&#34;&gt;entrypoints&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#34;websecure&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;
  &lt;span class=&#34;token key property&#34;&gt;middlewares&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#34;simpleAuth&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;
  &lt;span class=&#34;token key property&#34;&gt;service&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;api@internal&#34;&lt;/span&gt;
  &lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;token table class-name&#34;&gt;http.routers.api.tls&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;
    &lt;span class=&#34;token key property&#34;&gt;certResolver&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;lets-encrypt&#34;&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The &lt;code&gt;web&lt;/code&gt; entry point handles port &lt;code&gt;80&lt;/code&gt;, while the &lt;code&gt;websecure&lt;/code&gt; entry point uses port &lt;code&gt;443&lt;/code&gt; for TLS/SSL. You automatically redirect all of the traffic on port &lt;code&gt;80&lt;/code&gt; to the &lt;code&gt;websecure&lt;/code&gt; entry point to force secure connections for all requests.&lt;/p&gt;
&lt;p&gt;Notice the last three lines here configure a &lt;em&gt;service&lt;/em&gt;, enable tls, and configure &lt;code&gt;certResolver&lt;/code&gt; to &lt;code&gt;&#34;lets-encrypt&#34;&lt;/code&gt;. Services are the final step to determining where a request is finally handled. The &lt;code&gt;api@internal&lt;/code&gt; service is a built-in service that sits behind the API that you expose. Just like routers and middlewares, services can be configured in this file, but you won’t need to do that to achieve your desired result.&lt;/p&gt;
&lt;p&gt;Your completed &lt;code&gt;traefik_dynamic.toml&lt;/code&gt; file will look like this:&lt;/p&gt;
&lt;p&gt;traefik_dynamic.toml&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-toml&#34; data-language=&#34;toml&#34;&gt;&lt;code class=&#34;language-toml&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;token table class-name&#34;&gt;http.middlewares.simpleAuth.basicAuth&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;
  &lt;span class=&#34;token key property&#34;&gt;users&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;
    &lt;span class=&#34;token string&#34;&gt;&#34;admin:$apr1$ruca84Hq$mbjdMZBAG.KWn7vfN/SNK/&#34;&lt;/span&gt;
  &lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;

&lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;token table class-name&#34;&gt;http.routers.api&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;
  &lt;span class=&#34;token key property&#34;&gt;rule&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;Host(`monitor.your_domain`)&#34;&lt;/span&gt;
  &lt;span class=&#34;token key property&#34;&gt;entrypoints&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#34;websecure&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;
  &lt;span class=&#34;token key property&#34;&gt;middlewares&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#34;simpleAuth&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;
  &lt;span class=&#34;token key property&#34;&gt;service&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;api@internal&#34;&lt;/span&gt;
  &lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;token table class-name&#34;&gt;http.routers.api.tls&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;
    &lt;span class=&#34;token key property&#34;&gt;certResolver&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;lets-encrypt&#34;&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Save the file and exit the editor.&lt;/p&gt;
&lt;p&gt;With these configurations in place, you will now start Traefik.&lt;/p&gt;
&lt;h2 id=&#34;Step-2-–-Running-the-Traefik-Container&#34;&gt;Step 2 – Running the Traefik Container&lt;/h2&gt;
&lt;p&gt;In this step you will create a Docker network for the proxy to share with containers. You will then access the Traefik dashboard. The Docker network is necessary so that you can use it with applications that are run using Docker Compose.&lt;/p&gt;
&lt;p&gt;Create a new Docker network called &lt;code&gt;web&lt;/code&gt;:&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-bash&#34; data-language=&#34;bash&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;&lt;span class=&#34;token function&#34;&gt;docker&lt;/span&gt; network create web&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;When the Traefik container starts, you will add it to this network. Then you can add additional containers to this network later for Traefik to proxy to.&lt;/p&gt;
&lt;p&gt;Next, create an empty file that will hold your Let’s Encrypt information. You’ll share this into the container so Traefik can use it:&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-bash&#34; data-language=&#34;bash&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;&lt;span class=&#34;token function&#34;&gt;touch&lt;/span&gt; acme.json&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Traefik will only be able to use this file if the root user inside of the container has unique read and write access to it. To do this, lock down the permissions on &lt;code&gt;acme.json&lt;/code&gt; so that only the owner of the file has read and write permission.&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-bash&#34; data-language=&#34;bash&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;&lt;span class=&#34;token function&#34;&gt;chmod&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;600&lt;/span&gt; acme.json&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Once the file gets passed to Docker, the owner will automatically change to the &lt;strong&gt;root&lt;/strong&gt; user inside the container.&lt;/p&gt;
&lt;p&gt;Finally, create the Traefik container with this command:&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-bash&#34; data-language=&#34;bash&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;&lt;span class=&#34;token function&#34;&gt;docker&lt;/span&gt; run -d &lt;span class=&#34;token punctuation&#34;&gt;\&lt;/span&gt;
  -v /var/run/docker.sock:/var/run/docker.sock &lt;span class=&#34;token punctuation&#34;&gt;\&lt;/span&gt;
  -v &lt;span class=&#34;token environment constant&#34;&gt;$PWD&lt;/span&gt;/traefik.toml:/traefik.toml &lt;span class=&#34;token punctuation&#34;&gt;\&lt;/span&gt;
  -v &lt;span class=&#34;token environment constant&#34;&gt;$PWD&lt;/span&gt;/traefik_dynamic.toml:/traefik_dynamic.toml &lt;span class=&#34;token punctuation&#34;&gt;\&lt;/span&gt;
  -v &lt;span class=&#34;token environment constant&#34;&gt;$PWD&lt;/span&gt;/acme.json:/acme.json &lt;span class=&#34;token punctuation&#34;&gt;\&lt;/span&gt;
  -p &lt;span class=&#34;token number&#34;&gt;80&lt;/span&gt;:80 &lt;span class=&#34;token punctuation&#34;&gt;\&lt;/span&gt;
  -p &lt;span class=&#34;token number&#34;&gt;443&lt;/span&gt;:443 &lt;span class=&#34;token punctuation&#34;&gt;\&lt;/span&gt;
  --network web &lt;span class=&#34;token punctuation&#34;&gt;\&lt;/span&gt;
  --name traefik &lt;span class=&#34;token punctuation&#34;&gt;\&lt;/span&gt;
  traefik:v2.2&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;This command is a little long. Let’s break it down.&lt;/p&gt;
&lt;p&gt;You use the &lt;code&gt;-d&lt;/code&gt; flag to run the container in the background as a daemon. You then share your &lt;code&gt;docker.sock&lt;/code&gt; file into the container so that the Traefik process can listen for changes to containers. You also share the &lt;code&gt;traefik.toml&lt;/code&gt; and &lt;code&gt;traefik_dynamic.toml&lt;/code&gt; configuration files into the container, as well as &lt;code&gt;acme.json&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Next, you map ports &lt;code&gt;:80&lt;/code&gt; and &lt;code&gt;:443&lt;/code&gt; of your Docker host to the same ports in the Traefik container so Traefik receives all HTTP and HTTPS traffic to the server.&lt;/p&gt;
&lt;p&gt;You set the network of the container to &lt;code&gt;web&lt;/code&gt;, and you name the container &lt;code&gt;traefik&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Finally, you use the &lt;code&gt;traefik:v2.2&lt;/code&gt; image for this container so that you can guarantee that you’re not running a completely different version than this tutorial is written for.&lt;/p&gt;
&lt;p&gt;&lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://docs.docker.com/engine/reference/builder/#entrypoint&#34;&gt;A Docker image’s &lt;code&gt;ENTRYPOINT&lt;/code&gt; is a command that always runs when a container is created from the image&lt;/a&gt;. In this case, the command is the &lt;code&gt;traefik&lt;/code&gt; binary within the container. You can pass additional arguments to that command when you launch the container, but you’ve configured all of your settings in the &lt;code&gt;traefik.toml&lt;/code&gt; file.&lt;/p&gt;
&lt;p&gt;With the container started, you now have a dashboard you can access to see the health of your containers. You can also use this dashboard to visualize the routers, services, and middlewares that Traefik has registered. You can try to access the monitoring dashboard by pointing your browser to &lt;code&gt;https://monitor.your_domain/dashboard/&lt;/code&gt; (the trailing &lt;code&gt;/&lt;/code&gt; is required).&lt;/p&gt;
&lt;p&gt;You will be prompted for your username and password, which are &lt;strong&gt;admin&lt;/strong&gt; and the password you configured in Step 1.&lt;/p&gt;
&lt;p&gt;Once logged in, you’ll see the Traefik interface:&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2021/10/1420211014200207.png&#34; alt=&#34;Empty Traefik dashboard&#34;&gt;&lt;/p&gt;
&lt;p&gt;You will notice that there are already some routers and services registered, but those are the ones that come with Traefik and the router configuration that you wrote for the API.&lt;/p&gt;
&lt;p&gt;You now have your Traefik proxy running, and you’ve configured it to work with Docker and monitor other containers. In the next step you will start some containers for Traefik to proxy.&lt;/p&gt;
&lt;h2 id=&#34;Step-3-—-Registering-Containers-with-Traefik&#34;&gt;Step 3 — Registering Containers with Traefik&lt;/h2&gt;
&lt;p&gt;With the Traefik container running, you’re ready to run applications behind it. Let’s launch the following containers behind Traefik:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;A blog using the &lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://hub.docker.com/_/wordpress/&#34;&gt;official WordPress image&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;A database management server using the &lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://hub.docker.com/_/adminer/&#34;&gt;official Adminer image&lt;/a&gt;.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;You’ll manage both of these applications with Docker Compose using a &lt;code&gt;docker-compose.yml&lt;/code&gt; file.&lt;/p&gt;
&lt;p&gt;Create and open the &lt;code&gt;docker-compose.yml&lt;/code&gt; file in your editor:&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-bash&#34; data-language=&#34;bash&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;&lt;span class=&#34;token function&#34;&gt;nano&lt;/span&gt; docker-compose.yml&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Add the following lines to the file to specify the version and the networks you’ll use:&lt;/p&gt;
&lt;p&gt;docker-compose.yml&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-yaml&#34; data-language=&#34;yaml&#34;&gt;&lt;code class=&#34;language-yaml&#34;&gt;&lt;span class=&#34;token key atrule&#34;&gt;version&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;3&#34;&lt;/span&gt;

&lt;span class=&#34;token key atrule&#34;&gt;networks&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;
  &lt;span class=&#34;token key atrule&#34;&gt;web&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;
    &lt;span class=&#34;token key atrule&#34;&gt;external&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token boolean important&#34;&gt;true&lt;/span&gt;
  &lt;span class=&#34;token key atrule&#34;&gt;internal&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;
    &lt;span class=&#34;token key atrule&#34;&gt;external&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token boolean important&#34;&gt;false&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;You use Docker Compose version &lt;code&gt;3&lt;/code&gt; because it’s the newest major version of the Compose file format.&lt;/p&gt;
&lt;p&gt;For Traefik to recognize your applications, they must be part of the same network, and since you created the network manually, you pull it in by specifying the network name of &lt;code&gt;web&lt;/code&gt; and setting &lt;code&gt;external&lt;/code&gt; to &lt;code&gt;true&lt;/code&gt;. Then you define another network so that you can connect your exposed containers to a database container that you won’t expose through Traefik. You’ll call this network &lt;code&gt;internal&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Next, you’ll define each of your &lt;code&gt;services&lt;/code&gt;, one at a time. Let’s start with the &lt;code&gt;blog&lt;/code&gt; container, which you’ll base on the official WordPress image. Add this configuration to the bottom of the file:&lt;/p&gt;
&lt;p&gt;docker-compose.yml&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-yaml&#34; data-language=&#34;yaml&#34;&gt;&lt;code class=&#34;language-yaml&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;...&lt;/span&gt;

&lt;span class=&#34;token key atrule&#34;&gt;services&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;
  &lt;span class=&#34;token key atrule&#34;&gt;blog&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;
    &lt;span class=&#34;token key atrule&#34;&gt;image&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; wordpress&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;4.9.8&lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt;apache
    &lt;span class=&#34;token key atrule&#34;&gt;environment&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;
      &lt;span class=&#34;token key atrule&#34;&gt;WORDPRESS_DB_PASSWORD&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;
    &lt;span class=&#34;token key atrule&#34;&gt;labels&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;
      &lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt; traefik.http.routers.blog.rule=Host(`blog.your_domain`)
      &lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt; traefik.http.routers.blog.tls=true
      &lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt; traefik.http.routers.blog.tls.certresolver=lets&lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt;encrypt
      &lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt; traefik.port=80
    &lt;span class=&#34;token key atrule&#34;&gt;networks&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;
      &lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt; internal
      &lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt; web
    &lt;span class=&#34;token key atrule&#34;&gt;depends_on&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;
      &lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt; mysql&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The &lt;code&gt;environment&lt;/code&gt; key lets you specify environment variables that will be set inside of the container. By not setting a value for &lt;code&gt;WORDPRESS_DB_PASSWORD&lt;/code&gt;, you’re telling Docker Compose to get the value from your shell and pass it through when you create the container. You will define this environment variable in your shell before starting the containers. This way you don’t hard-code passwords into the configuration file.&lt;/p&gt;
&lt;p&gt;The &lt;code&gt;labels&lt;/code&gt; section is where you specify configuration values for Traefik. Docker labels don’t do anything by themselves, but Traefik reads these so it knows how to treat containers. Here’s what each of these labels does:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;traefik.http.routers.adminer.rule=Host(`````blog.your_domain`````)&lt;/code&gt; creates a new &lt;em&gt;router&lt;/em&gt; for your container and then specifies the routing rule used to determine if a request matches this container.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;traefik.routers.custom_name.tls=true&lt;/code&gt; specifies that this router should use TLS.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;traefik.routers.custom_name.tls.certResolver=lets-encrypt&lt;/code&gt; specifies that the certificates resolver that you created earlier called &lt;code&gt;lets-encrypt&lt;/code&gt; should be used to get a certificate for this route.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;traefik.port&lt;/code&gt; specifies the exposed port that Traefik should use to route traffic to this container.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;With this configuration, all traffic sent to your Docker host on port &lt;code&gt;80&lt;/code&gt; or &lt;code&gt;443&lt;/code&gt; with the domain of &lt;code&gt;blog.your_domain&lt;/code&gt; will be routed to the &lt;code&gt;blog&lt;/code&gt; container.&lt;/p&gt;
&lt;p&gt;You assign this container to two different networks so that Traefik can find it via the &lt;code&gt;web&lt;/code&gt; network and it can communicate with the database container through the &lt;code&gt;internal&lt;/code&gt; network.&lt;/p&gt;
&lt;p&gt;Lastly, the &lt;code&gt;depends_on&lt;/code&gt; key tells Docker Compose that this container needs to start &lt;em&gt;after&lt;/em&gt; its dependencies are running. Since WordPress needs a database to run, you must run your &lt;code&gt;mysql&lt;/code&gt; container before starting your &lt;code&gt;blog&lt;/code&gt; container.&lt;/p&gt;
&lt;p&gt;Next, configure the MySQL service:&lt;/p&gt;
&lt;p&gt;docker-compose.yml&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-yaml&#34; data-language=&#34;yaml&#34;&gt;&lt;code class=&#34;language-yaml&#34;&gt;&lt;span class=&#34;token key atrule&#34;&gt;services&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;
&lt;span class=&#34;token punctuation&#34;&gt;...&lt;/span&gt;
  &lt;span class=&#34;token key atrule&#34;&gt;mysql&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;
    &lt;span class=&#34;token key atrule&#34;&gt;image&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; mysql&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;5.7&lt;/span&gt;
    &lt;span class=&#34;token key atrule&#34;&gt;environment&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;
      &lt;span class=&#34;token key atrule&#34;&gt;MYSQL_ROOT_PASSWORD&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;
    &lt;span class=&#34;token key atrule&#34;&gt;networks&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;
      &lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt; internal
    &lt;span class=&#34;token key atrule&#34;&gt;labels&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;
      &lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt; traefik.enable=false&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;You’re using the official MySQL 5.7 image for this container. You’ll notice that you’re once again using an &lt;code&gt;environment&lt;/code&gt; item without a value. The &lt;code&gt;MYSQL_ROOT_PASSWORD&lt;/code&gt; and &lt;code&gt;WORDPRESS_DB_PASSWORD&lt;/code&gt; variables will need to be set to the same value to make sure that your WordPress container can communicate with the MySQL. You don’t want to expose the &lt;code&gt;mysql&lt;/code&gt; container to Traefik or the outside world, so you’re only assigning this container to the &lt;code&gt;internal&lt;/code&gt; network. Since Traefik has access to the Docker socket, the process will still expose a router for the &lt;code&gt;mysql&lt;/code&gt; container by default, so you’ll add the label &lt;code&gt;traefik.enable=false&lt;/code&gt; to specify that Traefik should not expose this container.&lt;/p&gt;
&lt;p&gt;Finally, define the Adminer container:&lt;/p&gt;
&lt;p&gt;docker-compose.yml&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-yaml&#34; data-language=&#34;yaml&#34;&gt;&lt;code class=&#34;language-yaml&#34;&gt;&lt;span class=&#34;token key atrule&#34;&gt;services&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;
&lt;span class=&#34;token punctuation&#34;&gt;...&lt;/span&gt;
  &lt;span class=&#34;token key atrule&#34;&gt;adminer&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;
    &lt;span class=&#34;token key atrule&#34;&gt;image&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; adminer&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;4.6.3&lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt;standalone
    &lt;span class=&#34;token key atrule&#34;&gt;labels&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;
      &lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt; traefik.http.routers.adminer.rule=Host(`db&lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt;admin.your_domain`)
      &lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt; traefik.http.routers.adminer.tls=true
      &lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt; traefik.http.routers.adminer.tls.certresolver=lets&lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt;encrypt
      &lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt; traefik.port=8080
    &lt;span class=&#34;token key atrule&#34;&gt;networks&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;
      &lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt; internal
      &lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt; web
    &lt;span class=&#34;token key atrule&#34;&gt;depends_on&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;
      &lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt; mysql&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;This container is based on the official Adminer image. The &lt;code&gt;network&lt;/code&gt; and &lt;code&gt;depends_on&lt;/code&gt; configuration for this container exactly match what you’re using for the &lt;code&gt;blog&lt;/code&gt; container.&lt;/p&gt;
&lt;p&gt;The line &lt;code&gt;traefik.http.routers.adminer.rule=Host(`````db-admin.your_domain`````)&lt;/code&gt; tells Traefik to examine the host requested. If it matches the pattern of &lt;code&gt;db-admin.your_domain&lt;/code&gt;, Traefik will route the traffic to the &lt;code&gt;adminer&lt;/code&gt; container over port &lt;code&gt;8080&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Your completed &lt;code&gt;docker-compose.yml&lt;/code&gt; file will look like this:&lt;/p&gt;
&lt;p&gt;docker-compose.yml&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-yaml&#34; data-language=&#34;yaml&#34;&gt;&lt;code class=&#34;language-yaml&#34;&gt;&lt;span class=&#34;token key atrule&#34;&gt;version&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;3&#34;&lt;/span&gt;

&lt;span class=&#34;token key atrule&#34;&gt;networks&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;
  &lt;span class=&#34;token key atrule&#34;&gt;web&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;
    &lt;span class=&#34;token key atrule&#34;&gt;external&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token boolean important&#34;&gt;true&lt;/span&gt;
  &lt;span class=&#34;token key atrule&#34;&gt;internal&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;
    &lt;span class=&#34;token key atrule&#34;&gt;external&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token boolean important&#34;&gt;false&lt;/span&gt;

&lt;span class=&#34;token key atrule&#34;&gt;services&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;
  &lt;span class=&#34;token key atrule&#34;&gt;blog&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;
    &lt;span class=&#34;token key atrule&#34;&gt;image&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; wordpress&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;4.9.8&lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt;apache
    &lt;span class=&#34;token key atrule&#34;&gt;environment&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;
      &lt;span class=&#34;token key atrule&#34;&gt;WORDPRESS_DB_PASSWORD&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;
    &lt;span class=&#34;token key atrule&#34;&gt;labels&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;
      &lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt; traefik.http.routers.blog.rule=Host(`blog.your_domain`)
      &lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt; traefik.http.routers.blog.tls=true
      &lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt; traefik.http.routers.blog.tls.certresolver=lets&lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt;encrypt
      &lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt; traefik.port=80
    &lt;span class=&#34;token key atrule&#34;&gt;networks&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;
      &lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt; internal
      &lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt; web
    &lt;span class=&#34;token key atrule&#34;&gt;depends_on&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;
      &lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt; mysql

  &lt;span class=&#34;token key atrule&#34;&gt;mysql&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;
    &lt;span class=&#34;token key atrule&#34;&gt;image&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; mysql&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;5.7&lt;/span&gt;
    &lt;span class=&#34;token key atrule&#34;&gt;environment&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;
      &lt;span class=&#34;token key atrule&#34;&gt;MYSQL_ROOT_PASSWORD&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;
    &lt;span class=&#34;token key atrule&#34;&gt;networks&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;
      &lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt; internal
    &lt;span class=&#34;token key atrule&#34;&gt;labels&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;
      &lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt; traefik.enable=false

  &lt;span class=&#34;token key atrule&#34;&gt;adminer&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;
    &lt;span class=&#34;token key atrule&#34;&gt;image&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; adminer&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;4.6.3&lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt;standalone
    &lt;span class=&#34;token key atrule&#34;&gt;labels&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;
    &lt;span class=&#34;token key atrule&#34;&gt;labels&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;
      &lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt; traefik.http.routers.adminer.rule=Host(`db&lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt;admin.your_domain`)
      &lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt; traefik.http.routers.adminer.tls=true
      &lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt; traefik.http.routers.adminer.tls.certresolver=lets&lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt;encrypt
      &lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt; traefik.port=8080
    &lt;span class=&#34;token key atrule&#34;&gt;networks&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;
      &lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt; internal
      &lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt; web
    &lt;span class=&#34;token key atrule&#34;&gt;depends_on&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;
      &lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt; mysql&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Save the file and exit the text editor.&lt;/p&gt;
&lt;p&gt;Next, set values in your shell for the &lt;code&gt;WORDPRESS_DB_PASSWORD&lt;/code&gt; and &lt;code&gt;MYSQL_ROOT_PASSWORD&lt;/code&gt; variables:&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-bash&#34; data-language=&#34;bash&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;&lt;span class=&#34;token builtin class-name&#34;&gt;export&lt;/span&gt; &lt;span class=&#34;token assign-left variable&#34;&gt;WORDPRESS_DB_PASSWORD&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;secure_database_password
&lt;span class=&#34;token builtin class-name&#34;&gt;export&lt;/span&gt; &lt;span class=&#34;token assign-left variable&#34;&gt;MYSQL_ROOT_PASSWORD&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;secure_database_password&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Substitute &lt;code&gt;secure_database_password&lt;/code&gt; with your desired database password. Remember to use the same password for both &lt;code&gt;WORDPRESS_DB_PASSWORD&lt;/code&gt; and &lt;code&gt;MYSQL_ROOT_PASSWORD&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;With these variables set, run the containers using &lt;code&gt;docker-compose&lt;/code&gt;:&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-bash&#34; data-language=&#34;bash&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;&lt;span class=&#34;token function&#34;&gt;docker-compose&lt;/span&gt; up -d&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Now watch the Traefik admin dashboard while it populates.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2021/10/1420211014200110.png&#34; alt=&#34;Populated Traefik dashboard&#34;&gt;&lt;/p&gt;
&lt;p&gt;If you explore the &lt;strong&gt;Routers&lt;/strong&gt; section you will find routers for &lt;code&gt;adminer&lt;/code&gt; and &lt;code&gt;blog&lt;/code&gt; configured with TLS:&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2021/10/1420211014200142.png&#34; alt=&#34;HTTP Routers w/ TLS&#34;&gt;&lt;/p&gt;
&lt;p&gt;Navigate to &lt;code&gt;blog.your_domain&lt;/code&gt;, substituting &lt;code&gt;your_domain&lt;/code&gt; with your domain. You’ll be redirected to a TLS connection and you can now complete the WordPress setup:&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2021/10/1420211014200114.png&#34; alt=&#34;WordPress setup screen&#34;&gt;&lt;/p&gt;
&lt;p&gt;Now access Adminer by visiting &lt;code&gt;db-admin.your_domain&lt;/code&gt; in your browser, again substituting &lt;code&gt;your_domain&lt;/code&gt; with your domain. The &lt;code&gt;mysql&lt;/code&gt; container isn’t exposed to the outside world, but the &lt;code&gt;adminer&lt;/code&gt; container has access to it through the &lt;code&gt;internal&lt;/code&gt; Docker network that they share using the &lt;code&gt;mysql&lt;/code&gt; container name as a hostname.&lt;/p&gt;
&lt;p&gt;On the Adminer login screen, enter &lt;code&gt;root&lt;/code&gt; for &lt;strong&gt;Username&lt;/strong&gt;, enter &lt;code&gt;mysql&lt;/code&gt; for &lt;strong&gt;Server&lt;/strong&gt;, and enter the value you set for &lt;code&gt;MYSQL_ROOT_PASSWORD&lt;/code&gt; for the &lt;strong&gt;Password&lt;/strong&gt;. Leave &lt;strong&gt;Database&lt;/strong&gt; empty. Now press &lt;strong&gt;Login&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;Once logged in, you’ll see the Adminer user interface.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2021/10/1420211014200132.png&#34; alt=&#34;Adminer connected to the MySQL database&#34;&gt;&lt;/p&gt;
&lt;p&gt;Both sites are now working, and you can use the dashboard at &lt;code&gt;monitor.your_domain&lt;/code&gt; to keep an eye on your applications.&lt;/p&gt;
&lt;h2 id=&#34;Conclusion&#34;&gt;Conclusion&lt;/h2&gt;
&lt;p&gt;In this tutorial, you configured Traefik v2 to proxy requests to other applications in Docker containers.&lt;/p&gt;
&lt;p&gt;Traefik’s declarative configuration at the application container level makes it easy to configure more services, and there’s no need to restart the &lt;code&gt;traefik&lt;/code&gt; container when you add new applications to proxy traffic to since Traefik notices the changes immediately through the Docker socket file it’s monitoring.&lt;/p&gt;
&lt;p&gt;To learn more about what you can do with Traefik v2, head over to &lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://doc.traefik.io/traefik/&#34;&gt;the official Traefik documentation&lt;/a&gt;.&lt;/p&gt;
&lt;h2 id=&#34;服务集群&#34;&gt;服务集群&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;k8s 太重了,虽然也有 k3s 之类的轻量级 k8s 解决方案，不过我还是选择了原生的 docker swarm。VPS 安装好 Docker 之后，不需要额外安装软件，就可以马上建立集群。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;pre class=&#34;line-numbers language-bash&#34; data-language=&#34;bash&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;&lt;span class=&#34;token comment&#34;&gt;# 集群初始化，节点成为 manager 节点&lt;/span&gt;
&lt;span class=&#34;token function&#34;&gt;docker&lt;/span&gt; swarm init --advertise-addr&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;x.x.x.x

&lt;span class=&#34;token comment&#34;&gt;# 集群丢失 Leader 时，强制重建集群&lt;/span&gt;
&lt;span class=&#34;token function&#34;&gt;docker&lt;/span&gt; swarm init --advertise-addr&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;x.x.x.x --force-new-cluster

&lt;span class=&#34;token comment&#34;&gt;# 获取作为 worker 节点加入集群的命令&lt;/span&gt;
&lt;span class=&#34;token function&#34;&gt;docker&lt;/span&gt; swarm join-token worker

&lt;span class=&#34;token comment&#34;&gt;# 获取作为 manager 节点加入集群的命令&lt;/span&gt;
&lt;span class=&#34;token function&#34;&gt;docker&lt;/span&gt; swarm join-token manager

&lt;span class=&#34;token comment&#34;&gt;# 加入集群&lt;/span&gt;
&lt;span class=&#34;token function&#34;&gt;docker&lt;/span&gt; swarm &lt;span class=&#34;token function&#34;&gt;join&lt;/span&gt; --token xxx x.x.x.x:xxx --advertise-addr&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;x.x.x.x
&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;参考：-2&#34;&gt;参考：&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://www.digitalocean.com/community/tutorials/how-to-use-traefik-v2-as-a-reverse-proxy-for-docker-containers-on-ubuntu-20-04&#34;&gt;digitalocean&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://shanyue.tech/op/traefik.html&#34;&gt;shanyue&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;系列教程-8&#34;&gt;&lt;strong&gt;系列教程&lt;/strong&gt;&lt;/h2&gt;
&lt;p&gt;&lt;a href=&#34;https://blog.17lai.site/atom.xml&#34;&gt;全部文章RSS订阅&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Docker系列&lt;/strong&gt; &lt;a href=&#34;https://blog.17lai.site/categories/docker/atom.xml&#34;&gt;&lt;strong&gt;Docker 分类 RSS 订阅&lt;/strong&gt;&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://blog.17lai.site/posts/42b6a86d/&#34;&gt;Docker使用简明教程&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://blog.17lai.site/posts/9912bd5d/&#34;&gt;使用jeckett,sonarr,iyuu,qt,emby打造全自动追剧流程&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://blog.17lai.site/posts/1802a8a7/&#34;&gt;为知笔记私有化Docker部署&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://blog.17lai.site/posts/593cc323/&#34;&gt;Earthly 一个更加强大的镜像构建工具&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://blog.17lai.site/posts/90e60aac/&#34;&gt;使用 Shell 脚本实现一个简单 Docker&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://blog.17lai.site/posts/465d2738/&#34;&gt;如何使用Traefik V2 在Ubuntu20.04 上面来做 Dockers&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://blog.17lai.site/posts/462f1e5c/&#34;&gt;通过IPV6访问Qnap NAS中Docker的服务&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;link rel=&#34;stylesheet&#34; href=&#34;/css/bilicard.css&#34; type=&#34;text/css&#34;&gt;</content>
        <category term="docker" />
        <category term="traefik" />
        <category term="proxy" />
        <category term="swarm" />
        <category term="ubuntu" />
        <updated>2021-10-14T11:25:00.000Z</updated>
    </entry>
    <entry>
        <id>https://blog.17lai.site/posts/462f1e5c/</id>
        <title>通过IPV6访问Qnap NAS中Docker的服务</title>
        <link rel="alternate" href="https://blog.17lai.site/posts/462f1e5c/"/>
        <content type="html">&lt;h2 id=&#34;环境&#34;&gt;环境&lt;/h2&gt;
&lt;p&gt;系统：QTS 4.3.6&lt;br&gt;
网络：IPV4 &amp;amp; IPV6&lt;br&gt;
Docker: 由Container Station提供&lt;/p&gt;
&lt;h2 id=&#34;问题-2&#34;&gt;问题&lt;/h2&gt;
&lt;p&gt;通过ipv6地址可以打开NAS的管理页面，但是无法访问Docker对应端口的服务。&lt;/p&gt;
&lt;h2 id=&#34;排查&#34;&gt;排查&lt;/h2&gt;
&lt;p&gt;QTS中Docker使用的虚拟交换机网络没有启动IPV6，且无法在虚拟交换机设置中手动启动。&lt;br&gt;
这样一来，Docker只监听了tcp4的端口，对于主机上tcp6的端口的访问无法映射到docker容器上。&lt;/p&gt;
&lt;h2 id=&#34;解决方案-2&#34;&gt;解决方案&lt;/h2&gt;
&lt;p&gt;在主机上开一个tcp6的端口，将其转发到主机上与docker关联的tcp4端口。&lt;br&gt;
即：&lt;br&gt;
docker(tcp4)–&amp;gt;host(tcp4)–&amp;gt;host(tcp6)&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;在qts上安装包管理器：Entware. https://github.com/Entware/Entware/wiki/Install-on-QNAP-NAS&lt;/li&gt;
&lt;li&gt;执行opkg update,更新&lt;/li&gt;
&lt;li&gt;安装端口转发工具，这里使用socat：opkg install socat&lt;/li&gt;
&lt;li&gt;设置转发host(tcp6)–&amp;gt;host(tcp4):(socat TCP6-LISTEN:6880,reuseaddr,fork TCP4:127.0.0.1:7880 &amp;amp;)&lt;/li&gt;
&lt;li&gt;大功告成&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;系列教程-7&#34;&gt;&lt;strong&gt;系列教程&lt;/strong&gt;&lt;/h2&gt;
&lt;p&gt;&lt;a href=&#34;https://blog.17lai.site/atom.xml&#34;&gt;全部文章RSS订阅&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Docker系列&lt;/strong&gt; &lt;a href=&#34;https://blog.17lai.site/categories/docker/atom.xml&#34;&gt;&lt;strong&gt;Docker 分类 RSS 订阅&lt;/strong&gt;&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://blog.17lai.site/posts/42b6a86d/&#34;&gt;Docker使用简明教程&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://blog.17lai.site/posts/9912bd5d/&#34;&gt;使用jeckett,sonarr,iyuu,qt,emby打造全自动追剧流程&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://blog.17lai.site/posts/1802a8a7/&#34;&gt;为知笔记私有化Docker部署&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://blog.17lai.site/posts/593cc323/&#34;&gt;Earthly 一个更加强大的镜像构建工具&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://blog.17lai.site/posts/90e60aac/&#34;&gt;使用 Shell 脚本实现一个简单 Docker&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://blog.17lai.site/posts/465d2738/&#34;&gt;如何使用Traefik V2 在Ubuntu20.04 上面来做 Dockers&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://blog.17lai.site/posts/462f1e5c/&#34;&gt;通过IPV6访问Qnap NAS中Docker的服务&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;link rel=&#34;stylesheet&#34; href=&#34;/css/bilicard.css&#34; type=&#34;text/css&#34;&gt;</content>
        <category term="qnap" />
        <category term="nas" />
        <category term="docker" />
        <category term="ipv6" />
        <updated>2021-10-12T05:42:55.000Z</updated>
    </entry>
    <entry>
        <id>https://blog.17lai.site/posts/495db4d3/</id>
        <title>CMake快速入门教程</title>
        <link rel="alternate" href="https://blog.17lai.site/posts/495db4d3/"/>
        <content type="html">&lt;h2 id=&#34;1-cmake简介&#34;&gt;1.cmake简介&lt;/h2&gt;
&lt;p&gt;cmake是跨平台的makefile文件生成工具,是为了解决各个平台下面make工具不同造成的makefile文件格式不同的问题.也就是cmake是用来解决跨平台编译问题的.常见的还有autotool工具集，该工具集用于GNU软件协议的makefile文件生成，方便GNU包的编译和安装。&lt;/p&gt;
&lt;h2 id=&#34;2-cmake文件编辑规则&#34;&gt;2.cmake文件编辑规则&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;1)&lt;strong&gt;命令不区分大小写，但是变量区分大小写&lt;/strong&gt;。&lt;/li&gt;
&lt;li&gt;2)&lt;strong&gt;注释&lt;/strong&gt;使用#符号&lt;/li&gt;
&lt;li&gt;3)命令如果有多个参数，互相之间用空格隔开&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;3-cmake保留变量&#34;&gt;3.cmake保留变量&lt;/h2&gt;
&lt;p&gt;cmake里面有很多的预定义变量,是程序环境固有的,比如CUDA_NVCC_FLAGS,不同的变量有固定的作用,比如CUDA_NVCC_FLAGS是nvcc的参数list,变量可以使用set命令和list命令进行赋值和追加值,要注意的是变量可能可以有多个值,值与值之间用分号分开,可以使用set(var a b c)给var赋值a b c,还可以使用list命令给var追加删除插入值等,不同的变量有不同的值域,需要查阅&lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://cmake.org/documentation/&#34;&gt;手册&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&#34;4-cmake变量引用&#34;&gt;4.cmake变量引用&lt;/h2&gt;
&lt;p&gt;cmake里面变量的取值引用要使用${var}的形式,但是在赋值的时候是不需要的,和shell命令有点相似.&lt;/p&gt;
&lt;h2 id=&#34;5-cmake指定Debug和Release版本&#34;&gt;5.cmake指定Debug和Release版本&lt;/h2&gt;
&lt;p&gt;指定Debug和Release一共有三种方法：&lt;/p&gt;
&lt;p&gt;1.使用ADD_COMPILE_OPTIONS()加入-g指定Debug版本.&lt;/p&gt;
&lt;p&gt;2.使用SET( CMAKE_BUILD_TYPE Debug/Rrelease)指定Debug&lt;br&gt;
在下面加入：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-cmake&#34; data-language=&#34;cmake&#34;&gt;&lt;code class=&#34;language-cmake&#34;&gt;&lt;span class=&#34;token function&#34;&gt;SET&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token variable&#34;&gt;CMAKE_CXX_FLAGS_DEBUG&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;$ENV{CXXFLAGS} -O0 -Wall -g2 -ggdb&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;token function&#34;&gt;SET&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token variable&#34;&gt;CMAKE_CXX_FLAGS_RELEASE&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;$ENV{CXXFLAGS} -O3 -Wall&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;上面的设置C++编译选项，对于C语言，设置CMAKE_C_FLAGS_DEBUG、CMAKE_._FLAGS_RELEASE变量，一般来说最好两个都设置原因是CMake 中有一个变量 CMAKE_BUILD_TYPE ,可以的取值是 Debug Release等.当这个变量值为 Debug 的时候,CMake 会使用变量 CMAKE_CXX_FLAGS_DEBUG 和 CMAKE_C_FLAGS_DEBUG 中的字符串作为编译选项生成 Makefile&lt;/p&gt;
&lt;p&gt;编译动态库or静态库时，最好通过修改CXXFLAGS和CFLAGS，以支持-fPIC，这个选项有时是默认开启，有时默认关闭，但为了以后的应用，库文件最好都使用-fPIC编译&lt;/p&gt;
&lt;ol start=&#34;3&#34;&gt;
&lt;li&gt;在使用cmake命令时加上-DCMAKE_BUILD_TYPE=Debug/Release&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;5-cmake指定生成文件&#34;&gt;5.cmake指定生成文件&lt;/h2&gt;
&lt;p&gt;CUDA_ADD_LIBRARY()指明目标文件是库文件,CUDA_ADD_EXECUTABLE()指明生成的文件为可执行文件&lt;/p&gt;
&lt;h2 id=&#34;6-配置模板&#34;&gt;6.配置模板&lt;/h2&gt;
&lt;p&gt;通常我们要在工程目录下面创建include、src文件夹，include文件夹里面存放头文件，src文件夹里面存放源代码，注意这时候的源代码里面包含头文件的路径应该是“../include/xx.h”，然后在工程根目录下面创建CMakeLists.txt文件，里面写入命令.在编译的时候为了不搞乱工程目录，在工程根目录下面创建build文件夹，在里面使用“cmake ..”命令创建CMakefile,再make即可。&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-cmake&#34; data-language=&#34;cmake&#34;&gt;&lt;code class=&#34;language-cmake&#34;&gt;&lt;span class=&#34;token comment&#34;&gt;#指定cmake最低版本号&lt;/span&gt;
&lt;span class=&#34;token keyword&#34;&gt;cmake_minimum_required&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token property&#34;&gt;VERSION&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;3.2&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;

&lt;span class=&#34;token comment&#34;&gt;#指定项目名称&lt;/span&gt;
&lt;span class=&#34;token function&#34;&gt;PROJECT&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;Liner_Struct&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;

&lt;span class=&#34;token comment&#34;&gt;#指定头文件目录，不同目录用空格隔开,目录中有空格可用引号&lt;/span&gt;
&lt;span class=&#34;token comment&#34;&gt;#如果是相对路径，相对于CMakeLists.txt文件&lt;/span&gt;
&lt;span class=&#34;token property&#34;&gt;INCLUDE_DIRECTORIES&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;include&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;

&lt;span class=&#34;token comment&#34;&gt;#指定源文件目录，DIR_SRCS值自定义变量，下面的命令对其进行了赋值&lt;/span&gt;
&lt;span class=&#34;token function&#34;&gt;AUX_SOURCE_DIRECTORY&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;src DIR_SRCS&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;

&lt;span class=&#34;token comment&#34;&gt;#设置变量用于存放所有的编译文件，&lt;/span&gt;
&lt;span class=&#34;token comment&#34;&gt;#TEST_LINER_STRUCT是自定义变量，使用SET给其赋值&lt;/span&gt;
&lt;span class=&#34;token function&#34;&gt;SET&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;TEST_LINER_STRUCT &lt;span class=&#34;token punctuation&#34;&gt;${&lt;/span&gt;DIR_SRCS&lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;

&lt;span class=&#34;token comment&#34;&gt;#增加编译选项&lt;/span&gt;
&lt;span class=&#34;token comment&#34;&gt;#判断是否为gcc编译器，如果是，增加编译选项&lt;/span&gt;
&lt;span class=&#34;token comment&#34;&gt;#c99是c语言的标准，常用的还有c++标准c++11&lt;/span&gt;
&lt;span class=&#34;token comment&#34;&gt;#下面的命令判断是否编译器是gcc&lt;/span&gt;
&lt;span class=&#34;token comment&#34;&gt;#message命令是输出信息,例如下面的输出“optional:-std=c99”&lt;/span&gt;
&lt;span class=&#34;token keyword&#34;&gt;if&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token variable&#34;&gt;CMAKE_COMPILER_IS_GNUCXX&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;
    &lt;span class=&#34;token function&#34;&gt;ADD_COMPILE_OPTIONS&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;-std=c99&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;
    &lt;span class=&#34;token keyword&#34;&gt;message&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;STATUS &lt;span class=&#34;token string&#34;&gt;&#34;optional:-std=c99&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;token keyword&#34;&gt;endif&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token variable&#34;&gt;CMAKE_COMPILER_IS_GNUCXX&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;

&lt;span class=&#34;token comment&#34;&gt;#配置生成文件&lt;/span&gt;
&lt;span class=&#34;token comment&#34;&gt;#${PROJECT_NAME}是cmake自带变量，其值和PROJECT()命令指定的一样&lt;/span&gt;
&lt;span class=&#34;token comment&#34;&gt;#${TEST_LINER_STRUCT}是自定义变量，上文赋值的&lt;/span&gt;
&lt;span class=&#34;token function&#34;&gt;ADD_EXECUTABLE&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;token variable&#34;&gt;PROJECT_NAME&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;${&lt;/span&gt;TEST_LINER_STRUCT&lt;span class=&#34;token punctuation&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;7-if-else语句&#34;&gt;7.&lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://cmake.org/cmake/help/v3.0/command/if.html&#34;&gt;if-else&lt;/a&gt;语句&lt;/h2&gt;
&lt;p&gt;cmake中的if-else语句&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-cmake&#34; data-language=&#34;cmake&#34;&gt;&lt;code class=&#34;language-cmake&#34;&gt;&lt;span class=&#34;token keyword&#34;&gt;if&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;exp&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;
     cmdA
     cmdB
&lt;span class=&#34;token keyword&#34;&gt;elseif&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;exp&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;
      cmdC
&lt;span class=&#34;token keyword&#34;&gt;endif&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;exp&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;最简单得到一个应用&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-cmake&#34; data-language=&#34;cmake&#34;&gt;&lt;code class=&#34;language-cmake&#34;&gt;&lt;span class=&#34;token keyword&#34;&gt;if&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;ARM&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;
   &lt;span class=&#34;token comment&#34;&gt;#ARM平台&lt;/span&gt;
&lt;span class=&#34;token keyword&#34;&gt;else&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;
  &lt;span class=&#34;token comment&#34;&gt;#非ARM平台 &lt;/span&gt;
&lt;span class=&#34;token keyword&#34;&gt;endif&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;使用cmake -DARM=1 .. 时编译ARM代码，使用cmake -DAMR=0 ..编译非ARM代码&lt;/p&gt;
&lt;h2 id=&#34;8-与平台编译器的结合&#34;&gt;8.与平台编译器的结合&lt;/h2&gt;
&lt;h3 id=&#34;8-1windows&#34;&gt;8.1windows&lt;/h3&gt;
&lt;p&gt;在windows上运行cmake可以生成对应的VS的工程文件，然后使用相应的VS打开工程就可以进行编译。要注意的是如果使用VS2010及其以前的版本，C不支持C99，也就是变量的命名必须放在函数或者域的最前面，不能放在中间，特别麻烦。VS2015在安装后可能还需要打开VS，新建工程时选择VC&lt;ins&gt;可能相关组件还没有安装，如果这时候使用cmake会提示找不到C、C&lt;/ins&gt;编译器（类似yuNo CMAKE_CXX_COMPILER could be found）的错误。安装了相关的组件后cmake即不会有错误。&lt;/p&gt;
&lt;h3 id=&#34;8-2-为VS2015生成的项目&#34;&gt;8.2 为VS2015生成的项目&lt;/h3&gt;
&lt;p&gt;打开工程文件后可以看到有3个项目，其中只有一个和我们有直接关系，就是我们在CMakeLists.txt里面定义的PROJECT_NAME,剩下的两个是ALL_BUILD和ZERO_CHECK.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ZERO_CHECK&lt;/strong&gt;&lt;br&gt;
该目标会检查生成工程的 CMake 配置文件（ CMakeLists.txt ）是否更新。如更新，将运行 CMake 重新生成工程文件。&lt;/p&gt;
&lt;p&gt;如果确信 CMakeLists.txt 不会被更新，或者希望手工运行 CMake 重新生成工程文件，可以在 CMakeLists.txt 配置文件中添加 set(CMAKE_SUPPRESS_REGENERATION FALSE) 命令， ZERO_CHECK 目标将不会生成。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ALL_BUILD&lt;/strong&gt;&lt;br&gt;
该目标会导致工程中所有项目被构建，类似 Visual Studio 的 Build All 或者 make 的 make all命令。&lt;/p&gt;
&lt;p&gt;转载 &lt;a target=&#34;_blank&#34; rel=&#34;noopener&#34; href=&#34;https://lightzhan.xyz/index.php/2020/03/11/cmake-quick-tutorial/&#34;&gt;CMake快速入门教程&lt;/a&gt;&lt;/p&gt;
&lt;link rel=&#34;stylesheet&#34; href=&#34;/css/bilicard.css&#34; type=&#34;text/css&#34;&gt;</content>
        <category term="linux" />
        <category term="cmake" />
        <category term="develop" />
        <updated>2021-10-12T04:25:00.000Z</updated>
    </entry>
</feed>
