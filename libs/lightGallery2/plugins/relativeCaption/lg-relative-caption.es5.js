var __assign=function(){__assign=Object.assign||function e(t){for(var i,o=1,a=arguments.length;o<a;o++){i=arguments[o];for(var l in i)if(Object.prototype.hasOwnProperty.call(i,l))t[l]=i[l]}return t};return __assign.apply(this,arguments)};var lGEvents={afterAppendSlide:"lgAfterAppendSlide",init:"lgInit",hasVideo:"lgHasVideo",containerResize:"lgContainerResize",updateSlides:"lgUpdateSlides",afterAppendSubHtml:"lgAfterAppendSubHtml",beforeOpen:"lgBeforeOpen",afterOpen:"lgAfterOpen",slideItemLoad:"lgSlideItemLoad",beforeSlide:"lgBeforeSlide",afterSlide:"lgAfterSlide",posterClick:"lgPosterClick",dragStart:"lgDragStart",dragMove:"lgDragMove",dragEnd:"lgDragEnd",beforeNextSlide:"lgBeforeNextSlide",beforePrevSlide:"lgBeforePrevSlide",beforeClose:"lgBeforeClose",afterClose:"lgAfterClose",rotateLeft:"lgRotateLeft",rotateRight:"lgRotateRight",flipHorizontal:"lgFlipHorizontal",flipVertical:"lgFlipVertical",autoplay:"lgAutoplay",autoplayStart:"lgAutoplayStart",autoplayStop:"lgAutoplayStop"};var relativeCaptionSettings={relativeCaption:false};var RelativeCaption=function(){function e(e){this.core=e;var t={addClass:this.core.settings.addClass+" lg-relative-caption"};this.core.settings=__assign(__assign({},this.core.settings),t);this.settings=__assign(__assign(__assign({},relativeCaptionSettings),this.core.settings),t);return this}e.prototype.init=function(){var a=this;if(!this.settings.relativeCaption){return}this.core.LGel.on(lGEvents.slideItemLoad+".caption",function(e){var t=e.detail,i=t.index,o=t.delay;setTimeout(function(){if(i===a.core.index){a.setRelativeCaption(i)}},o)});this.core.LGel.on(lGEvents.afterSlide+".caption",function(e){var t=e.detail.index;setTimeout(function(){var e=a.core.getSlideItem(t);if(e.hasClass("lg-complete")){a.setRelativeCaption(t)}})});this.core.LGel.on(lGEvents.beforeSlide+".caption",function(e){var t=e.detail.index;setTimeout(function(){var e=a.core.getSlideItem(t);e.removeClass("lg-show-caption")})});this.core.LGel.on(lGEvents.containerResize+".caption",function(e){a.setRelativeCaption(a.core.index)})};e.prototype.setCaptionStyle=function(e,t,i){var o=this.core.getSlideItem(e).find(".lg-relative-caption-item");var a=this.core.getSlideItem(e).find(".lg-sub-html");a.css("width",t.width+"px").css("left",t.left+"px");var l=o.get().getBoundingClientRect();var n=i.bottom-t.bottom-l.height;a.css("top","auto").css("bottom",Math.max(n,0)+"px")};e.prototype.setRelativeCaption=function(e){var t=this.core.getSlideItem(e);if(t.hasClass("lg-current")){var i=this.core.getSlideItem(e).find(".lg-object").get().getBoundingClientRect();var o=this.core.getSlideItem(e).get().getBoundingClientRect();this.setCaptionStyle(e,i,o);t.addClass("lg-show-caption")}};e.prototype.destroy=function(){this.core.LGel.off(".caption")};return e}();export default RelativeCaption;