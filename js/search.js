var searchFunc=function(t,e,r){"use strict";$.ajax({url:t,dataType:"xml",success:function(t){var n=$("entry",t).map((function(){return{title:$("title",this).text(),content:$("content",this).text(),url:$("url",this).text()}})).get(),s=(t=document.getElementById(e),document.getElementById(r));t.addEventListener("input",(function(){var t,e='<ul class="search-result-list">',r=this.value.trim().toLowerCase().split(/[\s\-]+/);s.innerHTML="",this.value.trim().length<=0||(t=1,n.forEach((function(n){var s,a,i=!0,c=n.title.trim().toLowerCase(),l=n.content.trim().replace(/<[^>]+>/g,"").toLowerCase(),u=n.url,o=-1,h=-1;""!=c&&""!=l&&r.forEach((function(t,e){s=c.indexOf(t),o=l.indexOf(t),s<0&&o<0?i=!1:(o<0&&(o=0),0==e&&(h=o))})),i&&(e+="<li><a href='"+u+"' class='search-result-title'>"+String(t)+". "+c+"</a>",t+=1,u=n.content.trim().replace(/<[^>]+>/g,""),0<=h&&(n=h-20,a=u.substr(n=n<0?0:n,100),r.forEach((function(t){var e=new RegExp(t,"gi");a=a.replace(e,'<em class="search-keyword">'+t+"</em>")})),e+='<p class="search-result">'+a+"...</p>"),e+="</li>")})),e+="</ul>",e='<p class="search-result-summary">共找到'+String(t-1)+"条结果</p>"+e,s.innerHTML=e)}))}})};