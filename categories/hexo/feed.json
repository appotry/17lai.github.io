{
    "version": "https://jsonfeed.org/version/1",
    "title": "夜法之书 • All posts by \"hexo\" category",
    "description": "~软件驱动世界~",
    "home_page_url": "https://blog.17lai.site",
    "items": [
        {
            "id": "https://blog.17lai.site/posts/84b4059a/",
            "url": "https://blog.17lai.site/posts/84b4059a/",
            "title": "基于Hexo的matery主题搭建博客常见问题篇6",
            "date_published": "2022-03-27T07:28:46.000Z",
            "content_html": "<p><strong>Hexo系列</strong>  <a href=\"https://blog.17lai.site/categories/hexo/atom.xml\"><strong>HexoRSS分类订阅</strong></a></p>\n<p>[三万字教程]基于Hexo的matery主题搭建博客并深度优化完全一站式教程</p>\n<ul>\n<li>\n<p><a href=\"https://blog.17lai.site/posts/40300608/\">Hexo Docker环境与Hexo基础配置篇</a></p>\n</li>\n<li>\n<p><a href=\"https://blog.17lai.site/posts/4d8a0b22/\">hexo博客自定义修改篇</a></p>\n</li>\n<li>\n<p><a href=\"https://blog.17lai.site/posts/9b056c86/\">hexo博客网络优化篇</a></p>\n</li>\n<li>\n<p><a href=\"https://blog.17lai.site/posts/5311b619/\">hexo博客增强部署篇</a></p>\n</li>\n<li>\n<p><a href=\"https://blog.17lai.site/posts/4a2050e2/\">hexo博客个性定制篇</a></p>\n</li>\n<li>\n<p><a href=\"https://blog.17lai.site/posts/84b4059a/\">hexo博客常见问题篇</a></p>\n</li>\n<li>\n<p><a href=\"https://blog.17lai.site/posts/cf0f47fd/\">Hexo Markdown以及各种插件功能测试</a></p>\n</li>\n</ul>\n<blockquote>\n<ul>\n<li>markdown 各种其它语法插件</li>\n<li>latex公式支持</li>\n<li>mermaid图表</li>\n<li>plant uml图表</li>\n<li>URL卡片</li>\n<li>bilibili卡片</li>\n<li>github卡片</li>\n<li>豆瓣卡片</li>\n<li>插入音乐和视频</li>\n<li>插入脑图</li>\n</ul>\n</blockquote>\n<h2 id=\"出错了，怎么办？\">出错了，怎么办？</h2>\n<blockquote>\n<p>首先，学会搜索，最好实用Google，准确率比X毒高几个数量级。你遇到过的问题，90%以上其他人也遇到过，网上能找到现成的解决方案。</p>\n<ul>\n<li>个人独立博客文章质量最高，<a target=\"_blank\" rel=\"noopener\" href=\"https://stackoverflow.com\">stackoverflow</a>质量也很非常高，CSDN基本就是垃圾场，普通搜索文章能有50%准确率就非常不错了，独立博客和stackoverflow之类的80%以上的准确率！</li>\n</ul>\n</blockquote>\n<h2 id=\"如何调试博客\">如何调试博客</h2>\n<blockquote>\n<p>需要一定的web开发知识才能做。</p>\n<p>学会一些简单调试及基本html语言很容易，网上教程很多。</p>\n<p>按<code>F12</code>进入调试模式，元素，网络，控制台，是常用的页面。</p>\n</blockquote>\n<p><img src=\"https://cimg1.17lai.site/data/2022/03/2620220326142924.png\" alt=\"web debug\"></p>\n<p><img src=\"https://cimg1.17lai.site/data/2022/03/2620220326142626.png\" alt=\"如何网页调试\"></p>\n<h2 id=\"通过hexo-g-d部署时报Error-Spawn-failed错误\">通过<code>hexo g -d</code>部署时报<code>Error: Spawn failed</code>错误:</h2>\n<blockquote>\n<p>这是由于 git 本地记录的提交版本号与 github 上不一致导致的，通过<code>git reset --hard commitCode</code>即可解决。</p>\n</blockquote>\n<ul>\n<li>检查本地最近提交记录，获取最后一次提交记录的更新时间及标识，如<code>280a7fdd46fcfd7d34e652aec15523dcd247fac8</code></li>\n</ul>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token builtin class-name\">cd</span> .deploy_git\n<span class=\"token function\">cat</span> .git/logs/HEAD<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n<ul>\n<li>获取 github pages 服务所关联分支的最近一次提交记录，获取更新时间及标识。地址一般为：<code>https://github.com/用户名/仓库名/commits/分支名</code>，如<code>https://github.com/lxl80/blog/commits/gh-pages</code></li>\n<li>如果发现提交最新的提交时间/标识不一致，通过以下命令即可解决:</li>\n</ul>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">git</span> reset --hard f085038efdf79546c09641d37b2a2429c1ae8e60 <span class=\"token comment\">#github上最新的提交标识</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<h2 id=\"hexo-docker-本地访问内容没有更新\">hexo docker 本地访问内容没有更新</h2>\n<p>可能是node内部PM2模块的缓存机制导致的。pm2模块重启一下就可以了。</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">pm2 restart /hexo_run.js<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p><img src=\"https://cimg1.17lai.site/data/2022/03/2520220325143634.png\" alt=\"image-20220325143625352\"></p>\n<h2 id=\"fsevents报错\">fsevents报错</h2>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">npm</span> ERR<span class=\"token operator\">!</span> code EBADPLATFORM <span class=\"token function\">npm</span> ERR<span class=\"token operator\">!</span> notsup Unsupported platform <span class=\"token keyword\">for</span>\nfsevents@2.3.2: wanted <span class=\"token punctuation\">{</span><span class=\"token string\">\"os\"</span><span class=\"token builtin class-name\">:</span><span class=\"token string\">\"darwin\"</span>,<span class=\"token string\">\"arch\"</span><span class=\"token builtin class-name\">:</span><span class=\"token string\">\"any\"</span><span class=\"token punctuation\">}</span> <span class=\"token punctuation\">(</span>current:\n<span class=\"token punctuation\">{</span><span class=\"token string\">\"os\"</span><span class=\"token builtin class-name\">:</span><span class=\"token string\">\"win32\"</span>,<span class=\"token string\">\"arch\"</span><span class=\"token builtin class-name\">:</span><span class=\"token string\">\"x64\"</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span> <span class=\"token function\">npm</span> ERR<span class=\"token operator\">!</span> notsup Valid OS:    darwin <span class=\"token function\">npm</span>\nERR<span class=\"token operator\">!</span> notsup Valid Arch:  any <span class=\"token function\">npm</span> ERR<span class=\"token operator\">!</span> notsup Actual OS:   win32 <span class=\"token function\">npm</span>\nERR<span class=\"token operator\">!</span> notsup Actual Arch: x64<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<p>解决方法：修改package.json</p>\n<pre class=\"line-numbers language-javascript\" data-language=\"javascript\"><code class=\"language-javascript\"><span class=\"token string-property property\">\"optionalDependencies\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token string-property property\">\"fsevents\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"^2.3.2\"</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n<h2 id=\"关于百度无法爬取GitHub内容解决方案\">关于百度无法爬取GitHub内容解决方案</h2>\n<blockquote>\n<ul>\n<li>使用coding搭建一个可以被百度爬取到的代码托管平台</li>\n<li>使用vps搭建一个hexo 镜像访问，专门针对搜索引擎。</li>\n</ul>\n</blockquote>\n<blockquote>\n<p>Tips: 博主用了第二种方法，2个域名，前端域名用dnspod，采用cloudflare parter cname接入。dnspos有选路选择，针对搜索引擎进入vps搭建的blog，对于其它线路到cloudflare parter 加速过的github pages  cname。后端域名用cloudflare parter 以及免费版cloudflare管理。</p>\n</blockquote>\n<p>既然百度无法爬取GitHub，那么我们只需要找个可以被百度爬取到的代码托管平台即可（并且还提供pages服务），基本只有国内的平台了：<code>Gitee</code>和<code>Coding</code>！Gitee自定义域名要花钱（九十多，都可以买服务器了），而Coding是可以免费自定义域名的。这里推介大家使用企业版的Coding，因为企业版的Coding仓库服务器是在香港的，而普通版的服务器是在新加坡。地理原因，理论上企业版的更快一些！</p>\n<ol>\n<li>\n<p>将博客同时部署到两个仓库：GitHub和Coding</p>\n<pre class=\"line-numbers language-yaml\" data-language=\"yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">deploy</span><span class=\"token punctuation\">:</span>\n<span class=\"token punctuation\">-</span> <span class=\"token key atrule\">type</span><span class=\"token punctuation\">:</span> git\n  <span class=\"token key atrule\">repository</span><span class=\"token punctuation\">:</span> git@github.com<span class=\"token punctuation\">:</span>xxx/xxx.github.io.git\n  <span class=\"token key atrule\">branch</span><span class=\"token punctuation\">:</span> master\n\n<span class=\"token punctuation\">-</span> <span class=\"token key atrule\">type</span><span class=\"token punctuation\">:</span> git\n  <span class=\"token key atrule\">repository</span><span class=\"token punctuation\">:</span> git@e.coding.net<span class=\"token punctuation\">:</span>xxx/xxx.git\n  <span class=\"token key atrule\">branch</span><span class=\"token punctuation\">:</span> master<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n</li>\n<li>\n<p>在域名那里，配置两个解析</p>\n<blockquote>\n<p>线路类型作用：如果该值填“国内”，国内的IP就会去访问此项对应的<code>记录值地址</code></p>\n<p>同理，如果该值填写“国外”，国外的IP就会去访问“国外”对应的<code>记录值地址</code></p>\n</blockquote>\n<ol>\n<li><code>线路类型</code>为<code>百度</code>或者<code>国内</code>，记录值为<code>Coding仓库的地址</code></li>\n<li><code>线路类型</code>为<code>默认</code>或者<code>国外</code>，记录值为<code>GitHub仓库地址</code></li>\n</ol>\n<p><img src=\"https://cimg1.17lai.site/data/2021/09/1120210911170615.png\" alt=\"\"></p>\n</li>\n<li>\n<p>这样来自<code>百度的spider</code>就会去爬<code>国内Coding</code>的地址，而两个仓库的内容又都是一样的，如果请求IP来自国外，它又会去访问<code>国外的GitHub</code>，这样还有利于外国华侨和那些科学上网的用户访问，一石二鸟！（我真他妈天才！）</p>\n</li>\n<li>\n<p>如果你只用Coding仓库，那就不需要这么麻烦了</p>\n</li>\n<li>\n<p>测试百度Spider能不能爬你的域名</p>\n<ol>\n<li>\n<p>在任意目录下执行以下命令（将“你的域名”换成你的域名）</p>\n<pre class=\"line-numbers language-sh\" data-language=\"sh\"><code class=\"language-sh\">curl -A \"Mozilla/5.0 (compatible; Baiduspider/2.0; +http://www.baidu.com/search/spider.html)\" -o example.html 你的域名<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n</li>\n<li>\n<p>执行完命令，在该目录下会生成一个文件：<code>example.html</code>，打开它，如果显示</p>\n<ul>\n<li>\n<p><code>Moved Permanently</code>，说明301，被重定向了</p>\n</li>\n<li>\n<p><code>Found</code>，也就是爬到了</p>\n</li>\n<li>\n<p>如果打开是你的首页，说明爬取到的内容就是你的首页HTML内容。</p>\n</li>\n<li>\n<p>如果显示：</p>\n<p><img src=\"https://cimg1.17lai.site/data/2021/09/1120210911170621.png\" alt=\"\"></p>\n<p>说明域名是解析到GitHub的，403Forbidden访问禁止。</p>\n</li>\n</ul>\n</li>\n</ol>\n</li>\n</ol>\n<h2 id=\"busuanzi不蒜子计数显示异常，一闪就没\">busuanzi不蒜子计数显示异常，一闪就没</h2>\n<blockquote>\n<ol>\n<li>\n<p>原因可能有两种live2d看板娘和busuanzi不蒜子计数冲突</p>\n</li>\n<li>\n<p>busuanzi不蒜子网络访问异常。</p>\n</li>\n</ol>\n<blockquote>\n<ol>\n<li>\n<p>不在leancloud安全名单</p>\n</li>\n<li>\n<p>不是正常域名访问</p>\n</li>\n<li>\n<p>各种网络访问错误等等</p>\n</li>\n</ol>\n</blockquote>\n</blockquote>\n<p>近日安装了live2d看板娘插件，<a target=\"_blank\" rel=\"noopener\" href=\"https://github.com/EYHN/hexo-helper-live2d\">github项目地址</a>，安装后却意外发现busuanzi不蒜子计数失效了,在页面中不显示，但强制刷新后出现，再刷新又消失。经排查，未发现问题，但事实是网站源码出现了变化。</p>\n<blockquote>\n<p><em>正常时</em></p>\n</blockquote>\n<pre class=\"line-numbers language-HTML\" data-language=\"HTML\"><code class=\"language-HTML\">&lt;div id=\"busuanzi_container_page_pv\" class=\"info-break-policy\" style=\"display: inline;\"&gt;\n    &lt;i class=\"far fa-eye fa-fw\"&gt;&lt;/i&gt;阅读次数:&amp;nbsp;&amp;nbsp;\n    &lt;span id=\"busuanzi_value_page_pv\"&gt;433&lt;/span&gt;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n<blockquote>\n<p><em>异常时</em></p>\n</blockquote>\n<pre class=\"line-numbers language-HTML\" data-language=\"HTML\"><code class=\"language-HTML\">&lt;div id=\"busuanzi_container_page_pv\" class=\"info-break-policy\" style=\"display: none;\"&gt;\n    &lt;i class=\"far fa-eye fa-fw\"&gt;&lt;/i&gt;阅读次数:&amp;nbsp;&amp;nbsp;\n    &lt;span id=\"busuanzi_value_page_pv\"&gt;434&lt;/span&gt;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n<p>对比发现出现了多余的<code>style=\"display: none;</code>。<br>\n经过搜索主题源码，发现这个文件<code>themes\\matery\\source\\libs\\others\\busuanzi.pure.mini.js</code>控制显示。</p>\n<p>可以直接下载下面这个地址的js替换，来自个人blog的js   <a href=\"https://blog.17lai.site/libs/others/busuanzi.pure.mini.js\">busuanzi.pure.mini.js</a>，直接下载这个js替换即可。下面源码经过了展开美化，原始文件是压缩去空格版本的。<br>\n<strong>注意</strong>： 这是一种破坏性修复，没有解决根本问题，临时修复方案。</p>\n<pre class=\"line-numbers language-javascript\" data-language=\"javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">var</span> bszCaller<span class=\"token punctuation\">,</span> bszTag<span class=\"token punctuation\">;</span>\n<span class=\"token operator\">!</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">var</span> c<span class=\"token punctuation\">,</span> d<span class=\"token punctuation\">,</span> e<span class=\"token punctuation\">,</span> a <span class=\"token operator\">=</span> <span class=\"token operator\">!</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span>\n        b <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n    <span class=\"token function-variable function\">ready</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">c</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> a <span class=\"token operator\">||</span> <span class=\"token string\">\"interactive\"</span> <span class=\"token operator\">===</span> document<span class=\"token punctuation\">.</span>readyState <span class=\"token operator\">||</span> <span class=\"token string\">\"complete\"</span> <span class=\"token operator\">===</span> document<span class=\"token punctuation\">.</span>readyState <span class=\"token operator\">?</span> <span class=\"token function\">c</span><span class=\"token punctuation\">.</span><span class=\"token function\">call</span><span class=\"token punctuation\">(</span>document<span class=\"token punctuation\">)</span> <span class=\"token operator\">:</span>\n            b<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                <span class=\"token keyword\">return</span> <span class=\"token function\">c</span><span class=\"token punctuation\">.</span><span class=\"token function\">call</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">this</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token function-variable function\">d</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">var</span> a <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> c <span class=\"token operator\">=</span> b<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">;</span> c <span class=\"token operator\">&gt;</span> a<span class=\"token punctuation\">;</span> a<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> b<span class=\"token punctuation\">[</span>a<span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span><span class=\"token function\">apply</span><span class=\"token punctuation\">(</span>document<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        b <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token function-variable function\">e</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        a <span class=\"token operator\">||</span> <span class=\"token punctuation\">(</span>a <span class=\"token operator\">=</span> <span class=\"token operator\">!</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token function\">d</span><span class=\"token punctuation\">.</span><span class=\"token function\">call</span><span class=\"token punctuation\">(</span>window<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> document<span class=\"token punctuation\">.</span>removeEventListener <span class=\"token operator\">?</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">removeEventListener</span><span class=\"token punctuation\">(</span>\n            <span class=\"token string\">\"DOMContentLoaded\"</span><span class=\"token punctuation\">,</span> e<span class=\"token punctuation\">,</span> <span class=\"token operator\">!</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">:</span> document<span class=\"token punctuation\">.</span>attachEvent <span class=\"token operator\">&amp;&amp;</span> <span class=\"token punctuation\">(</span>document<span class=\"token punctuation\">.</span><span class=\"token function\">detachEvent</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"onreadystatechange\"</span><span class=\"token punctuation\">,</span>\n            e<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> window <span class=\"token operator\">==</span> window<span class=\"token punctuation\">.</span>top <span class=\"token operator\">&amp;&amp;</span> <span class=\"token punctuation\">(</span><span class=\"token function\">clearInterval</span><span class=\"token punctuation\">(</span>c<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> c <span class=\"token operator\">=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> document<span class=\"token punctuation\">.</span>addEventListener <span class=\"token operator\">?</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"DOMContentLoaded\"</span><span class=\"token punctuation\">,</span> e<span class=\"token punctuation\">,</span> <span class=\"token operator\">!</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">:</span> document<span class=\"token punctuation\">.</span>attachEvent <span class=\"token operator\">&amp;&amp;</span> <span class=\"token punctuation\">(</span>\n        document<span class=\"token punctuation\">.</span><span class=\"token function\">attachEvent</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"onreadystatechange\"</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">loaded|complete</span><span class=\"token regex-delimiter\">/</span></span><span class=\"token punctuation\">.</span><span class=\"token function\">test</span><span class=\"token punctuation\">(</span>document<span class=\"token punctuation\">.</span>readyState<span class=\"token punctuation\">)</span> <span class=\"token operator\">&amp;&amp;</span> <span class=\"token function\">e</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> window <span class=\"token operator\">==</span> window<span class=\"token punctuation\">.</span>top <span class=\"token operator\">&amp;&amp;</span> <span class=\"token punctuation\">(</span>c <span class=\"token operator\">=</span> <span class=\"token function\">setInterval</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">try</span> <span class=\"token punctuation\">{</span>\n                a <span class=\"token operator\">||</span> document<span class=\"token punctuation\">.</span>documentElement<span class=\"token punctuation\">.</span><span class=\"token function\">doScroll</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"left\"</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">}</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span>b<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                <span class=\"token keyword\">return</span>\n            <span class=\"token punctuation\">}</span>\n            <span class=\"token function\">e</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token number\">5</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> bszCaller <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function-variable function\">fetch</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">a<span class=\"token punctuation\">,</span> b</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">var</span> c <span class=\"token operator\">=</span> <span class=\"token string\">\"BusuanziCallback_\"</span> <span class=\"token operator\">+</span> Math<span class=\"token punctuation\">.</span><span class=\"token function\">floor</span><span class=\"token punctuation\">(</span><span class=\"token number\">1099511627776</span> <span class=\"token operator\">*</span> Math<span class=\"token punctuation\">.</span><span class=\"token function\">random</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        window<span class=\"token punctuation\">[</span>c<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">evalCall</span><span class=\"token punctuation\">(</span>b<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> a <span class=\"token operator\">=</span> a<span class=\"token punctuation\">.</span><span class=\"token function\">replace</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"=BusuanziCallback\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"=\"</span> <span class=\"token operator\">+</span> c<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> scriptTag <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">createElement</span><span class=\"token punctuation\">(</span>\n                <span class=\"token string\">\"SCRIPT\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> scriptTag<span class=\"token punctuation\">.</span>type <span class=\"token operator\">=</span> <span class=\"token string\">\"text/javascript\"</span><span class=\"token punctuation\">,</span> scriptTag<span class=\"token punctuation\">.</span>defer <span class=\"token operator\">=</span> <span class=\"token operator\">!</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> scriptTag<span class=\"token punctuation\">.</span>src <span class=\"token operator\">=</span> a<span class=\"token punctuation\">,</span>\n            document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementsByTagName</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"HEAD\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span><span class=\"token function\">appendChild</span><span class=\"token punctuation\">(</span>scriptTag<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token function-variable function\">evalCall</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">a</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">b</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token function\">ready</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                <span class=\"token keyword\">try</span> <span class=\"token punctuation\">{</span>\n                    <span class=\"token function\">a</span><span class=\"token punctuation\">(</span>b<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> scriptTag<span class=\"token punctuation\">.</span>parentElement<span class=\"token punctuation\">.</span><span class=\"token function\">removeChild</span><span class=\"token punctuation\">(</span>scriptTag<span class=\"token punctuation\">)</span>\n                <span class=\"token punctuation\">}</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span>c<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                    bszTag<span class=\"token punctuation\">.</span><span class=\"token function\">hides</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n                <span class=\"token punctuation\">}</span>\n            <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> bszCaller<span class=\"token punctuation\">.</span><span class=\"token function\">fetch</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"//busuanzi.ibruce.info/busuanzi?jsonpCallback=BusuanziCallback\"</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">a</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    bszTag<span class=\"token punctuation\">.</span><span class=\"token function\">texts</span><span class=\"token punctuation\">(</span>a<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> bszTag<span class=\"token punctuation\">.</span><span class=\"token function\">shows</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> bszTag <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token literal-property property\">bszs</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"site_pv\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"page_pv\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"site_uv\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n    <span class=\"token function-variable function\">texts</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">a</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>bszs<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">b</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">var</span> c <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"busuanzi_value_\"</span> <span class=\"token operator\">+</span> b<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            c <span class=\"token operator\">&amp;&amp;</span> <span class=\"token punctuation\">(</span>c<span class=\"token punctuation\">.</span>innerHTML <span class=\"token operator\">=</span> a<span class=\"token punctuation\">[</span>b<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token function-variable function\">hides</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>bszs<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">a</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">var</span> b <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"busuanzi_container_\"</span> <span class=\"token operator\">+</span> a<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            b <span class=\"token operator\">&amp;&amp;</span> <span class=\"token punctuation\">(</span>b<span class=\"token punctuation\">.</span>style<span class=\"token punctuation\">.</span>display <span class=\"token operator\">=</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token function-variable function\">shows</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>bszs<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">a</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">var</span> b <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"busuanzi_container_\"</span> <span class=\"token operator\">+</span> a<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            b <span class=\"token operator\">&amp;&amp;</span> <span class=\"token punctuation\">(</span>b<span class=\"token punctuation\">.</span>style<span class=\"token punctuation\">.</span>display <span class=\"token operator\">=</span> <span class=\"token string\">\"inline\"</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<p>替换的人请操作其实就是把其中的<code>b.style.display=\"none\"</code>中<code>none</code>去掉。</p>\n<h2 id=\"不蒜子-busuanzi-文章计数出错问题\">不蒜子 (busuanzi) 文章计数出错问题</h2>\n<p>出现这个原因，和 Chrome 85 版本 Referrer Policy 更改有关。什么是 Referrer，简单理解，就是请求 Web 服务器时，可以在 HTTP Request 的请求头 (header) 中加上当前页面的 URL，例如我们在浏览某个博客页面，需要加载一些图片，从服务器请求这些图片时，referrer 就是当前的博客页面 URL。从这里也可以看出，referrer 可能会暴露请求来源的某些信息或者隐私，有一定的隐私或安全风险。之前版本的 Chrome 浏览器，如果网站没有指定自己的 Referrer Policy，那么 Chrome 默认 policy 是 no-referrer-when-downgrade，在 Chrome 85 版本中，为了保护用户的隐私，默认的 Referrer Policy 则变成了 strict-origin-when-cross-origin。</p>\n<ul>\n<li>no-referrer-when-downgrade: 当两个网站的 http 协议安全等级相当，或者目的网站安全协议等级高于当前网站(HTTP –&gt; HTTP, HTTPS –&gt; HTTPS, HTTP –&gt; HTTPS)， referer 将会包含源网站的域名，路径，查询字符串；如果目的网站安全协议等级低于源网站 (HTTPS –&gt; HTTP)，将不会发送这些信息。</li>\n<li>strict-origin-when-cross-origin： 只有当做同一域名请求时 (源网址和目标网址是同一域名），才发送域名，路径和请求字符串，当两个网站安全协议相当时，发送源网站的域名(没有具体路径信息和查询字符串)，如果目标网站安全协议等级低于源网站，不发送 header 信息。</li>\n</ul>\n<p>不蒜子统计博客文章访问量就是通过 referer 来计算的，通过上面的分析，如果 Referrer Policy 是 strict-origin-when-cross-origin，不蒜子接收到的只有博客的域名，没有文章的具体路径，所以具体某个文章的 PV 统计会出现错误。</p>\n<p>修复方法：</p>\n<p>在主题文件夹下/layout/_partial/head.ejs中添加</p>\n<pre class=\"line-numbers language-markup\" data-language=\"markup\"><code class=\"language-markup\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>meta</span> <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>referrer<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">content</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>no-referrer-when-downgrade<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<h2 id=\"如何多个域名映射同一个github-pages\">如何多个域名映射同一个github pages</h2>\n<p>可能由于某种原因，换了一个域名，之前又有一些被搜索引擎收录，但是又不想让原来的链接失效，就需要让两个域名都映射到github pages中。本文介绍几种当前可能的方法。欢迎提出更多有效方法。</p>\n<h4 id=\"直接映射有什么问题？\">直接映射有什么问题？</h4>\n<p>你可能会想，两个域名都映射到github pages不就可以了？然而事实并非如此。首先当前github 的CNAME中只支持一个域名。因此CNAME文件中只能有一个域名，而如果在域名映射中将两个域名都映射到username.github.io，那么其中有一个会出现404错误。</p>\n<h4 id=\"前提\">前提</h4>\n<p>以下方法的前提是你已经明白如何为自己的github pages添加自定义域名。</p>\n<h4 id=\"需要注意什么？\">需要注意什么？</h4>\n<ul>\n<li>需要给各大网站提交新的域名网址，重新被收录</li>\n<li>域名变换前面网站的内容结构不能变，否则重定向也没有意义</li>\n<li>当前单纯的域名没有办法进行备案</li>\n<li>注意修改配置文件里的主域名为新的域名</li>\n<li>由于更换了新的域名，导致原来leancloud统计的访问数据需要重新计算，也就是网站访问量被清零了，leancloud也需要更新域名</li>\n<li>新的com域名可申请免费的SSL证书，保证https可访问，而不会提示不安全</li>\n<li>301重定向会将旧地址的权重转义到新地址上</li>\n<li>百度收录速度较慢</li>\n</ul>\n<h4 id=\"方法一：域名托管平台重定向\">方法一：域名托管平台重定向</h4>\n<p>有的域名服务商提供重定向功能，以阿里云为例，在域名映射添加记录的时候，可以选择显性URL或隐性URL。但是自己在尝试这种方法的时候，会提示我URL备案异常。可能是由于这个时候已经用新的域名映射了博客地址，但是新的域名实际上是没有备案的。更无奈的是，目前貌似没有办法单独对域名进行备案。因此本人放弃了该方法。</p>\n<p>如果你的博客也是部署在github上的，那么这种方法就不用尝试了，如果你的博客是部署在自己的服务器上的，那么网上都很多方法，这里就不介绍了。</p>\n<h4 id=\"方法二：部署两个仓库\">方法二：部署两个仓库</h4>\n<p>我们注意到，除了github pages，还有coding.net可用。它与github类似。原来的域名映射到这个地址就可以了。而在部署hexo的时候，是可以添加两个仓库地址的：</p>\n<pre class=\"line-numbers language-yaml\" data-language=\"yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">deploy</span><span class=\"token punctuation\">:</span>\n<span class=\"token punctuation\">-</span> <span class=\"token key atrule\">type</span><span class=\"token punctuation\">:</span> git\n  <span class=\"token key atrule\">repository</span><span class=\"token punctuation\">:</span> git@github.com<span class=\"token punctuation\">:</span>username/username.github.io.git\n  <span class=\"token key atrule\">branch</span><span class=\"token punctuation\">:</span> master\n<span class=\"token punctuation\">-</span> <span class=\"token key atrule\">type</span><span class=\"token punctuation\">:</span> git\n  <span class=\"token key atrule\">repository</span><span class=\"token punctuation\">:</span> git@git.coding.net<span class=\"token punctuation\">:</span>username/username.git\n  <span class=\"token key atrule\">branch</span><span class=\"token punctuation\">:</span> coding<span class=\"token punctuation\">-</span>pages<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<p>这两个仓库内容唯一的差别就是域名不一样，即CNAME中的记录值不一样。这样当访问两个不同的域名的时候，是访问不同的两个平台仓库。但是原来域名的权重不会转到新的域名中去。</p>\n<h4 id=\"方法三：新增项目重定向\">方法三：新增项目重定向</h4>\n<p>假如你已经有username.github.io项目，新建一个名为blog(名字自定义)的项目，在项目的setting中，开启github pages服务，并且将旧的域名映射到username.github.io。</p>\n<p>实际上，github pages并不是只能有一个，例如，你新创建的仓库访问地址为：username.github.io/blog。<br>\n由于旧的域名映射会导致404错误，那么在我们的新项目中增加一个404.html，在页面中进行跳转即可：</p>\n<pre class=\"line-numbers language-markup\" data-language=\"markup\"><code class=\"language-markup\"><span class=\"token doctype\"><span class=\"token punctuation\">&lt;!</span><span class=\"token doctype-tag\">DOCTYPE</span> <span class=\"token name\">html</span><span class=\"token punctuation\">&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>html</span><span class=\"token punctuation\">&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>head</span><span class=\"token punctuation\">&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>meta</span> <span class=\"token attr-name\">charset</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>utf-8<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>title</span><span class=\"token punctuation\">&gt;</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>title</span><span class=\"token punctuation\">&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>head</span><span class=\"token punctuation\">&gt;</span></span>\n <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span> <span class=\"token attr-name\">language</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>javascript<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span><span class=\"token script\"><span class=\"token language-javascript\">\n<span class=\"token keyword\">var</span> domain <span class=\"token operator\">=</span> <span class=\"token string\">\"换成你自己的新域名\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">var</span> src <span class=\"token operator\">=</span> window<span class=\"token punctuation\">.</span>location<span class=\"token punctuation\">.</span>href<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">var</span> prtc <span class=\"token operator\">=</span> src<span class=\"token punctuation\">.</span><span class=\"token function\">substring</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> src<span class=\"token punctuation\">.</span><span class=\"token function\">indexOf</span><span class=\"token punctuation\">(</span><span class=\"token string\">':'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">var</span> target <span class=\"token operator\">=</span> src<span class=\"token punctuation\">.</span><span class=\"token function\">substring</span><span class=\"token punctuation\">(</span>src<span class=\"token punctuation\">.</span><span class=\"token function\">indexOf</span><span class=\"token punctuation\">(</span><span class=\"token string\">'/'</span><span class=\"token punctuation\">,</span> src<span class=\"token punctuation\">.</span><span class=\"token function\">indexOf</span><span class=\"token punctuation\">(</span><span class=\"token string\">':'</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token number\">3</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nwindow<span class=\"token punctuation\">.</span>location<span class=\"token punctuation\">.</span>href <span class=\"token operator\">=</span> prtc <span class=\"token operator\">+</span> <span class=\"token string\">\"://\"</span> <span class=\"token operator\">+</span> domain <span class=\"token operator\">+</span> target<span class=\"token punctuation\">;</span>\nlocation<span class=\"token punctuation\">.</span>href<span class=\"token operator\">=</span>prtc <span class=\"token operator\">+</span> <span class=\"token string\">\"://\"</span> <span class=\"token operator\">+</span> domain <span class=\"token operator\">+</span> target<span class=\"token punctuation\">;</span>\n</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>body</span><span class=\"token punctuation\">&gt;</span></span>\n <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>h1</span><span class=\"token punctuation\">&gt;</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>h1</span><span class=\"token punctuation\">&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>body</span><span class=\"token punctuation\">&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>html</span><span class=\"token punctuation\">&gt;</span></span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<p>另外，需要利用google的地址更改功能，使得旧网址的权重往新网址转移。<br>\n找到search console中的地址更改工具（设置按钮中找到）。</p>\n<p>除了增加404页面外，还需要增加CNAME文件，里面的内容是你原先的域名。</p>\n<h2 id=\"参照\">参照</h2>\n<ul>\n<li><a target=\"_blank\" rel=\"noopener\" href=\"https://www.lixl.cn/2019/092856736.html\">基于Hexo的matery主题搭建博客并深度优化-悟尘记</a></li>\n<li><a target=\"_blank\" rel=\"noopener\" href=\"https://hexo.io/zh-cn/docs/\">hexo 官方文档</a></li>\n<li><a target=\"_blank\" rel=\"noopener\" href=\"https://blinkfox.github.io/2018/09/28/qian-duan/hexo-bo-ke-zhu-ti-zhi-hexo-theme-matery-de-jie-shao/\">闪烁之狐</a></li>\n<li><a target=\"_blank\" rel=\"noopener\" href=\"https://github.com/blinkfox/hexo-theme-matery/blob/develop/README_CN.md\">hexo-theme-matery</a></li>\n<li><a target=\"_blank\" rel=\"noopener\" href=\"https://blog.sky03.cn/posts/42790.html#toc-heading-1\">Hexo 进阶之各种优化</a></li>\n<li><a target=\"_blank\" rel=\"noopener\" href=\"https://www.cnblogs.com/Timesi/p/9556236.html\">Leancloud+Valine打造Hexo个人博客极简评论系统</a></li>\n<li><a target=\"_blank\" rel=\"noopener\" href=\"https://blog.sky03.cn/posts/42790.html\">Hexo进阶之各种优化</a></li>\n<li><a target=\"_blank\" rel=\"noopener\" href=\"https://sitoi.cn/posts/15908.html\">自动部署篇</a></li>\n<li><a target=\"_blank\" rel=\"noopener\" href=\"https://www.cnblogs.com/luoshuitianyi/p/10333928.html\">Hexo搭建(VPS)</a></li>\n<li><a target=\"_blank\" rel=\"noopener\" href=\"https://boyinthesun.cn/post/error-live2d-busuanzi/\">解决live2d看板娘和busuanzi不蒜子计数冲突</a></li>\n<li><a target=\"_blank\" rel=\"noopener\" href=\"https://www.yanbinghu.com/2019/03/29/25951.html\">多个域名映射同一个github pages</a></li>\n<li><a target=\"_blank\" rel=\"noopener\" href=\"https://segmentfault.com/a/1190000016286007\">hexo博客简单支持PWA</a></li>\n<li><a target=\"_blank\" rel=\"noopener\" href=\"https://blog.imlete.cn/article/hexo-seo-autopush.html\">Hexo 每天自动提交网站url到搜索引擎</a></li>\n<li><a target=\"_blank\" rel=\"noopener\" href=\"https://yafine-blog.cn/posts/ebb2.html\">Hexo 博客订阅文章通知功能</a></li>\n<li><a target=\"_blank\" rel=\"noopener\" href=\"https://yafine-blog.cn/posts/3b98.html\">修改 matery 原有主题相册</a></li>\n<li><a target=\"_blank\" rel=\"noopener\" href=\"https://small-rose.github.io/posts/a53a9069.html\">Matery主题新手常见问题</a></li>\n<li><a target=\"_blank\" rel=\"noopener\" href=\"https://hunterx.xyz/hexo-gitlab-cicd-conf.html\">hexo-gitlab-cicd-conf</a></li>\n<li><a target=\"_blank\" rel=\"noopener\" href=\"https://jxyblog.top/article/2da64065.html\">更改hexo的主题为Matery,并进行初步的优化</a></li>\n<li><a target=\"_blank\" rel=\"noopener\" href=\"http://luckyzmj.cn/posts/17fd92ae.html\">Hexo之渲染绕过</a></li>\n<li><a target=\"_blank\" rel=\"noopener\" href=\"https://wiki.jikexueyuan.com/project/gulp-book/chapter4.html\">使用 gulp 压缩图片</a></li>\n<li><a target=\"_blank\" rel=\"noopener\" href=\"https://sunhwee.com/posts/6e8839eb.html\">Hexo+Github博客搭建完全教程</a> <a target=\"_blank\" rel=\"noopener\" href=\"https://github.com/shw2018/hexo-blog-fly\">博客开源</a></li>\n<li><a target=\"_blank\" rel=\"noopener\" href=\"https://segmentfault.com/a/1190000021474516\">Hexo主题使用Valine-Admin管理评论和评论提醒</a></li>\n<li><a target=\"_blank\" rel=\"noopener\" href=\"https://m3df.xyz/2021/06/20/edd7462d/\">Hexo博客进阶：图片懒加载与代码压缩</a></li>\n<li><a target=\"_blank\" rel=\"noopener\" href=\"https://qvchuang.top/archives/d3c10307.html\">matery主题个性化定制</a></li>\n<li><a target=\"_blank\" rel=\"noopener\" href=\"https://crystalblog.xyz/\">crystalblog三部曲</a> <a target=\"_blank\" rel=\"noopener\" href=\"https://crystalblog.xyz/2021082944649.html\">1</a> <a target=\"_blank\" rel=\"noopener\" href=\"https://crystalblog.xyz/2021082917116.html\">2</a> <a target=\"_blank\" rel=\"noopener\" href=\"https://crystalblog.xyz/2021082965135.html\">3</a></li>\n<li><a target=\"_blank\" rel=\"noopener\" href=\"http://www.luckyzmj.cn/posts/e3e08109.html\">个人博客搭建</a> <a target=\"_blank\" rel=\"noopener\" href=\"https://github.com/LuckyZmj/LuckyBlog\">博客开源</a></li>\n<li><a target=\"_blank\" rel=\"noopener\" href=\"https://tellyouwhat.cn/p/pwa-your-blog-can-also-be-accessed-offline/\">PWA踩坑记-从零到一让你的博客也能离线访问</a></li>\n<li><a target=\"_blank\" rel=\"noopener\" href=\"https://www.islu.cn/posts/21369.html#\">Matery主题添加暗色模式</a> <a target=\"_blank\" rel=\"noopener\" href=\"https://dreamruins.gitee.io/tutorials/1121281946.html\">黑夜模式</a> <a target=\"_blank\" rel=\"noopener\" href=\"https://github.com/ialoe/hexo-themes-matery-pro\">开源代码hexo-themes-matery-pro</a></li>\n<li><a target=\"_blank\" rel=\"noopener\" href=\"https://www.islu.cn/posts/2687.html\">加载动画(吃豆豆)</a> <a target=\"_blank\" rel=\"noopener\" href=\"https://dreamruins.gitee.io/tutorials/1793947201.html\">加载动画旋转方块</a></li>\n<li><a target=\"_blank\" rel=\"noopener\" href=\"https://www.voidking.com/dev-hexo-gulp/\">优化<code>search.xml</code>大小</a></li>\n<li><a target=\"_blank\" rel=\"noopener\" href=\"https://akilar.top/posts/5b8f515f/\">更好的Live2d Widget</a></li>\n<li><a target=\"_blank\" rel=\"noopener\" href=\"https://easyhexo.com/\">easyhexo</a></li>\n<li><a target=\"_blank\" rel=\"noopener\" href=\"https://guanqr.com/tech/website/introduction-and-basic-setting-of-waline/\">Waline 评论系统的介绍与基础配置</a></li>\n<li><a target=\"_blank\" rel=\"noopener\" href=\"https://www.zywvvd.com/notes/hexo/theme/fluid/fluid-github-login/fluid-github-login/\">Waline 添加 GitHub 社交登录</a></li>\n<li><a target=\"_blank\" rel=\"noopener\" href=\"https://www.zywvvd.com/notes/hexo/theme/fluid/fluid-update/fluid-update/\">随机视频背景切换</a> <a target=\"_blank\" rel=\"noopener\" href=\"https://www.zywvvd.com/notes/hexo/theme/fluid/fluid-video-bg-fixed/fluid-video-bg-fixed/\">视频背景</a> <a target=\"_blank\" rel=\"noopener\" href=\"https://github.com/zywvvd/hexo-theme-fluid\">hexo-theme-fluid</a></li>\n</ul>\n<h2 id=\"系列教程-37\"><strong>系列教程</strong></h2>\n<p><a href=\"https://blog.17lai.site/atom.xml\">全部文章RSS订阅</a></p>\n<p><strong>Hexo系列</strong>  <a href=\"https://blog.17lai.site/categories/hexo/atom.xml\"><strong>HexoRSS分类订阅</strong></a></p>\n<p>[三万字教程]基于Hexo的matery主题搭建博客并深度优化完全一站式教程</p>\n<ul>\n<li>\n<p><a href=\"https://blog.17lai.site/posts/40300608/\">Hexo Docker环境与Hexo基础配置篇</a></p>\n</li>\n<li>\n<p><a href=\"https://blog.17lai.site/posts/4d8a0b22/\">hexo博客自定义修改篇</a></p>\n</li>\n<li>\n<p><a href=\"https://blog.17lai.site/posts/9b056c86/\">hexo博客网络优化篇</a></p>\n</li>\n<li>\n<p><a href=\"https://blog.17lai.site/posts/5311b619/\">hexo博客增强部署篇</a></p>\n</li>\n<li>\n<p><a href=\"https://blog.17lai.site/posts/4a2050e2/\">hexo博客个性定制篇</a></p>\n</li>\n<li>\n<p><a href=\"https://blog.17lai.site/posts/84b4059a/\">hexo博客常见问题篇</a></p>\n</li>\n<li>\n<p><a href=\"https://blog.17lai.site/posts/cf0f47fd/\">Hexo Markdown以及各种插件功能测试</a></p>\n</li>\n</ul>\n<blockquote>\n<ul>\n<li>markdown 各种其它语法插件</li>\n<li>latex公式支持</li>\n<li>mermaid图表</li>\n<li>plant uml图表</li>\n<li>URL卡片</li>\n<li>bilibili卡片</li>\n<li>github卡片</li>\n<li>豆瓣卡片</li>\n<li>插入音乐和视频</li>\n<li>插入脑图</li>\n</ul>\n</blockquote>\n<p><strong>笔记系列</strong>  <a href=\"https://blog.17lai.site/categories/note/atom.xml\"><strong>Note分类RSS订阅</strong></a></p>\n<ul>\n<li><a href=\"https://blog.17lai.site/posts/a8535f26/\">完美笔记进化论</a></li>\n</ul>\n<blockquote>\n<p>经历了很长时间，使用了各种各样的方案，最终选择了一种相对完美的方式。docker私有部署运行的joplin，使用markdown语法，github作为图床，picgo作为图像自动上传后端，pypora作为MD编辑器，Snipaste作为截图工具。后备gitlab ee selfhost备份，自建图床VPS多线负载均衡。cloudflare partner cdn加速，jsdelivr加速。</p>\n<ul>\n<li>pigo图床搭建与配置</li>\n<li>Joplin教程</li>\n<li>Snipaste截图工具</li>\n<li>Typora 作为Markdown编辑器最强</li>\n</ul>\n</blockquote>\n<ul>\n<li><a target=\"_blank\" rel=\"noopener\" href=\"https://blog.17lai.fun/posts/e6086437/\">Joplin入门指南&amp;实践方案</a></li>\n</ul>\n<blockquote>\n<ul>\n<li>Joplin和使用</li>\n<li>Joplin同步与备份</li>\n<li>Joplin导入与导出</li>\n</ul>\n</blockquote>\n<ul>\n<li><a target=\"_blank\" rel=\"noopener\" href=\"https://blog.17lai.fun/posts/45f878cd/\">替代Evernote免费开源笔记Joplin-网盘同步笔记历史版本Markdown可视化</a></li>\n</ul>\n<blockquote>\n<ul>\n<li>Joplin安装使用，调用外部编辑器，网盘同步等等</li>\n</ul>\n</blockquote>\n<ul>\n<li><a href=\"https://blog.17lai.site/posts/92d347d6/\">Joplin 插件以及其Markdown语法。All in One!</a></li>\n</ul>\n<blockquote>\n<ul>\n<li>Joplin简明教程</li>\n<li>markdown语法简明教程</li>\n</ul>\n</blockquote>\n<ul>\n<li><a href=\"https://blog.17lai.site/posts/e3ee7f8b/\">Joplin 插件使用推荐</a></li>\n</ul>\n<blockquote>\n<ul>\n<li>教你用各种插件打造一个强大的笔记工具。</li>\n</ul>\n</blockquote>\n<ul>\n<li><a href=\"https://blog.17lai.site/posts/1802a8a7/\">为知笔记私有化Docker部署</a></li>\n</ul>\n<blockquote>\n<ul>\n<li>如何部署自己私有的为知笔记。</li>\n<li>其实博主更推荐私有部署joplin</li>\n</ul>\n</blockquote>\n<p><strong>Gitbook使用系列</strong> <a href=\"https://blog.17lai.site/categories/gitbook/atom.xml\">Gitbook分类RSS订阅</a></p>\n<ul>\n<li>\n<p><a href=\"https://blog.17lai.site/posts/7fe86002/\">GitBook+GitLab撰写发布技术文档-Part1:GitBook篇</a></p>\n</li>\n<li>\n<p><a href=\"https://blog.17lai.site/posts/7790e989/\">GitBook+GitLab撰写发布技术文档-Part2:GitLab篇</a></p>\n</li>\n<li>\n<p><a href=\"https://blog.17lai.site/posts/d6bad1e5/\">自己动手制作电子书的最佳方式（支持PDF、ePub、mobi等格式）</a></p>\n</li>\n</ul>\n<p><strong>Gitlab 使用系列</strong>  <a href=\"https://blog.17lai.site/categories/gitlab/atom.xml\"><strong>Gitlab RSS 分类订阅</strong></a></p>\n<ul>\n<li><a href=\"https://blog.17lai.site/posts/acc13b70/\"><strong>Gitlab的安装及使用教程完全版</strong></a></li>\n<li><a href=\"https://blog.17lai.site/posts/29a820b3/\">破解Gitlab EE</a></li>\n<li><a href=\"https://blog.17lai.site/posts/d08eb7b/\">Gitlab的安装及使用</a></li>\n<li><a href=\"https://blog.17lai.site/posts/1879721e/\">CI/CD与Git Flow与GitLab</a></li>\n</ul>\n<link rel=\"stylesheet\" href=\"/css/bilicard.css\" type=\"text/css\">",
            "tags": [
                "github",
                "hexo",
                "matery",
                "cdn",
                "seo"
            ]
        },
        {
            "id": "https://blog.17lai.site/posts/4a2050e2/",
            "url": "https://blog.17lai.site/posts/4a2050e2/",
            "title": "基于Hexo的matery主题搭建博客个性定制篇5",
            "date_published": "2022-03-27T07:28:17.000Z",
            "content_html": "<p><strong>Hexo系列</strong>  <a href=\"https://blog.17lai.site/categories/hexo/atom.xml\"><strong>HexoRSS分类订阅</strong></a></p>\n<p>[三万字教程]基于Hexo的matery主题搭建博客并深度优化完全一站式教程</p>\n<ul>\n<li>\n<p><a href=\"https://blog.17lai.site/posts/40300608/\">Hexo Docker环境与Hexo基础配置篇</a></p>\n</li>\n<li>\n<p><a href=\"https://blog.17lai.site/posts/4d8a0b22/\">hexo博客自定义修改篇</a></p>\n</li>\n<li>\n<p><a href=\"https://blog.17lai.site/posts/9b056c86/\">hexo博客网络优化篇</a></p>\n</li>\n<li>\n<p><a href=\"https://blog.17lai.site/posts/5311b619/\">hexo博客增强部署篇</a></p>\n</li>\n<li>\n<p><a href=\"https://blog.17lai.site/posts/4a2050e2/\">hexo博客个性定制篇</a></p>\n</li>\n<li>\n<p><a href=\"https://blog.17lai.site/posts/84b4059a/\">hexo博客常见问题篇</a></p>\n</li>\n<li>\n<p><a href=\"https://blog.17lai.site/posts/cf0f47fd/\">Hexo Markdown以及各种插件功能测试</a></p>\n</li>\n</ul>\n<blockquote>\n<ul>\n<li>markdown 各种其它语法插件</li>\n<li>latex公式支持</li>\n<li>mermaid图表</li>\n<li>plant uml图表</li>\n<li>URL卡片</li>\n<li>bilibili卡片</li>\n<li>github卡片</li>\n<li>豆瓣卡片</li>\n<li>插入音乐和视频</li>\n<li>插入脑图</li>\n</ul>\n</blockquote>\n<h2 id=\"多种主题美化\">多种主题美化</h2>\n<h3 id=\"修改主题颜色\">修改主题颜色</h3>\n<p>配色包括导航栏，底部栏，a标签等，主题配色是绿色。</p>\n<p>修改themes\\Matery\\source\\css\\matery.css样式<br>\n快捷键ctrl+F查找到#4cbf30（浅绿色）和#0f9d58（深绿色）还有首页字体颜色，修改为你喜欢的颜色</p>\n<pre class=\"line-numbers language-css\" data-language=\"css\"><code class=\"language-css\"><span class=\"token comment\">/* 整体背景颜色，包括导航、移动端的导航、页尾、标签页等的背景颜色. */</span> \n<span class=\"token selector\">.bg-color</span> <span class=\"token punctuation\">{</span> \n\t<span class=\"token property\">background-image</span><span class=\"token punctuation\">:</span> <span class=\"token function\">linear-gradient</span><span class=\"token punctuation\">(</span>to right<span class=\"token punctuation\">,</span> #4cbf30 0%<span class=\"token punctuation\">,</span> #0f9d58 100%<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> \n<span class=\"token punctuation\">}</span> \n<span class=\"token comment\">/*如果想去掉banner图的颜色渐变效果，请将以下的css属性注释掉或者删除掉即可*/</span> \n<span class=\"token atrule\"><span class=\"token rule\">@-webkit-keyframes</span> rainbow</span> <span class=\"token punctuation\">{</span> \n\t<span class=\"token comment\">/* 动态切换背景颜色. */</span> \n<span class=\"token punctuation\">}</span> \n<span class=\"token atrule\"><span class=\"token rule\">@keyframes</span> rainbow</span> <span class=\"token punctuation\">{</span> \n\t<span class=\"token comment\">/* 动态切换背景颜色. */</span> \n<span class=\"token punctuation\">}</span>\n<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<h3 id=\"背景樱花飘落效果\">背景樱花飘落效果</h3>\n<p>在<code>themes/matery/source/js</code>目录下新建<code>sakura.js</code>文件，打开这个网址<a target=\"_blank\" rel=\"noopener\" href=\"https://cdn.jsdelivr.net/gh/Yafine/cdn@3.3.1/source/js/sakura.js\">传送门</a>，将内容复制粘贴到<code>sakura.js</code>即可。</p>\n<p>然后在<code>themes/matery/layout/layout.ejs</code>文件内添加下面的内容：</p>\n<pre class=\"line-numbers language-javascript\" data-language=\"javascript\"><code class=\"language-javascript\"><span class=\"token operator\">&lt;</span>script type<span class=\"token operator\">=</span><span class=\"token string\">\"text/javascript\"</span><span class=\"token operator\">&gt;</span>\n<span class=\"token comment\">//只在桌面版网页启用特效</span>\n<span class=\"token keyword\">var</span> windowWidth <span class=\"token operator\">=</span> <span class=\"token function\">$</span><span class=\"token punctuation\">(</span>window<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">width</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>windowWidth <span class=\"token operator\">&gt;</span> <span class=\"token number\">768</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    document<span class=\"token punctuation\">.</span><span class=\"token function\">write</span><span class=\"token punctuation\">(</span><span class=\"token string\">'&lt;script type=\"text/javascript\" src=\"/js/sakura.js\"&gt;&lt;\\/script&gt;'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>script<span class=\"token operator\">&gt;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<p><strong>修改花瓣的数量</strong></p>\n<p>因为普遍在使用的樱花背景效果花瓣数太多了，一些人不太喜欢。</p>\n<p>于是按不同花瓣数量做了几个新的 <code>js</code> ，并提供如下 <code>cdn</code> 形式的引用：</p>\n<pre class=\"line-numbers language-markup\" data-language=\"markup\"><code class=\"language-markup\">https://cdn.jsdelivr.net/gh/fz6m/Private-web@1.2/js/sakura/sakura-small.js<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p>以上为少量樱花效果，另提供几个不同数量的文件引用名：</p>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:left\">文件名</th>\n<th style=\"text-align:left\">说明</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:left\">sakura-small.js</td>\n<td style=\"text-align:left\">少量樱花</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">sakura-half.js</td>\n<td style=\"text-align:left\">樱花相对原效果数量减半</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">sakura-reduce.js</td>\n<td style=\"text-align:left\">樱花相对原效果减少1/4</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">sakura-original.js</td>\n<td style=\"text-align:left\">樱花数量不变（原效果）</td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"自定义鼠标样式\">自定义鼠标样式</h3>\n<p>首先将鼠标样式下载到本地，推荐大家一个网站：https://zhutix.com/ico/ori-cursors/</p>\n<p>以我的为例，我将鼠标指针样式放在了主题文件夹下的medias目录下，然后打开<code>themes\\matery\\source\\css</code>下的<strong>my.css</strong>文件，添加内容如下：</p>\n<pre class=\"line-numbers language-css\" data-language=\"css\"><code class=\"language-css\"><span class=\"token selector\">*</span><span class=\"token punctuation\">{</span>\n    <span class=\"token property\">cursor</span><span class=\"token punctuation\">:</span> <span class=\"token url\"><span class=\"token function\">url</span><span class=\"token punctuation\">(</span><span class=\"token string url\">\"/medias/imgs/zhengchang.ico\"</span><span class=\"token punctuation\">)</span></span><span class=\"token punctuation\">,</span>auto<span class=\"token important\">!important</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token selector\">:active</span><span class=\"token punctuation\">{</span>\n    <span class=\"token property\">cursor</span><span class=\"token punctuation\">:</span> <span class=\"token url\"><span class=\"token function\">url</span><span class=\"token punctuation\">(</span><span class=\"token string url\">\"/medias/imgs/dianji.ico\"</span><span class=\"token punctuation\">)</span></span><span class=\"token punctuation\">,</span>auto<span class=\"token important\">!important</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<h3 id=\"取消首页渐变颜色动画\">取消首页渐变颜色动画</h3>\n<p>在themes\\Matery\\source\\css\\matery.css，ctrl+F快捷键查找.bg-cover:after，注释掉即可。</p>\n<pre class=\"line-numbers language-css\" data-language=\"css\"><code class=\"language-css\"><span class=\"token comment\">/* .bg-cover:after {\n    -webkit-animation: rainbow 60s infinite;\n    animation: rainbow 60s infinite;\n} */</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n<h3 id=\"优化目录栏，透明化\">优化目录栏，透明化</h3>\n<p>目录样式竟然在：<code>themes\\Matery\\layout\\_partial\\post-detail-toc.ejs</code></p>\n<pre class=\"line-numbers language-css\" data-language=\"css\"><code class=\"language-css\"><span class=\"token selector\">.toc-widget</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">width</span><span class=\"token punctuation\">:</span> 345px<span class=\"token punctuation\">;</span>\n    <span class=\"token property\">padding-left</span><span class=\"token punctuation\">:</span> 20px<span class=\"token punctuation\">;</span>\n    <span class=\"token property\">background-color</span><span class=\"token punctuation\">:</span> <span class=\"token function\">rgb</span><span class=\"token punctuation\">(</span>255<span class=\"token punctuation\">,</span> 255<span class=\"token punctuation\">,</span> 255<span class=\"token punctuation\">,</span>0.7<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token property\">border-radius</span><span class=\"token punctuation\">:</span> 10px<span class=\"token punctuation\">;</span>\n    <span class=\"token property\">box-shadow</span><span class=\"token punctuation\">:</span> 0 10px 35px 2px <span class=\"token function\">rgba</span><span class=\"token punctuation\">(</span>0<span class=\"token punctuation\">,</span> 0<span class=\"token punctuation\">,</span> 0<span class=\"token punctuation\">,</span> .15<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> 0 5px 15px <span class=\"token function\">rgba</span><span class=\"token punctuation\">(</span>0<span class=\"token punctuation\">,</span> 0<span class=\"token punctuation\">,</span> 0<span class=\"token punctuation\">,</span> .07<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> 0 2px 5px -5px <span class=\"token function\">rgba</span><span class=\"token punctuation\">(</span>0<span class=\"token punctuation\">,</span> 0<span class=\"token punctuation\">,</span> 0<span class=\"token punctuation\">,</span> .1<span class=\"token punctuation\">)</span> <span class=\"token important\">!important</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<h3 id=\"增加点击跳转评论按钮\">增加点击跳转评论按钮</h3>\n<p>新建文件<code>themes\\Matery\\layout\\_partial\\back-comment.ejs</code>,粘贴如下代码</p>\n<p>我这里评论是valine，直接填写的valine的id——<code>href=\"#vcomments\"</code>,如果是其他评论，对应修改即可。</p>\n<pre class=\"line-numbers language-ejs\" data-language=\"ejs\"><code class=\"language-ejs\"><span class=\"token comment\">&lt;!-- 直达评论 --&gt;</span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>to_comment<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>comment-scroll<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>a</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>btn-floating btn-large waves-effect waves-light<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">href</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>#vcomments<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">title</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>直达评论<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>i</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>fas fa-comments<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>i</span><span class=\"token punctuation\">&gt;</span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>a</span><span class=\"token punctuation\">&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">&gt;</span></span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<p>在<code>themes\\Matery\\layout\\_partial\\valine.ejs</code>文末添加一条，引用第一步的内容；</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token operator\">&lt;</span>%- partial<span class=\"token punctuation\">(</span><span class=\"token string\">'_partial/back-comment.ejs'</span><span class=\"token punctuation\">)</span> %<span class=\"token operator\">&gt;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p>则只在valine存在的页面才显示直达评论，防止首页其他地方也出现按钮。其实还可以优化为浮动出现，有一点麻烦，我这里没有设置。</p>\n<p>增加样式在themes\\Matery\\source\\css\\matery.css添加内容如下：</p>\n<pre class=\"line-numbers language-css\" data-language=\"css\"><code class=\"language-css\"><span class=\"token comment\">/*直达评论按钮样式*/</span>\n<span class=\"token selector\">.comment-scroll</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">position</span><span class=\"token punctuation\">:</span> fixed<span class=\"token punctuation\">;</span>\n    <span class=\"token property\">right</span><span class=\"token punctuation\">:</span> 15px<span class=\"token punctuation\">;</span>\n    <span class=\"token property\">bottom</span><span class=\"token punctuation\">:</span> 135px<span class=\"token punctuation\">;</span>\n    <span class=\"token property\">padding-top</span><span class=\"token punctuation\">:</span> 15px<span class=\"token punctuation\">;</span>\n    <span class=\"token property\">margin-bottom</span><span class=\"token punctuation\">:</span> 0<span class=\"token punctuation\">;</span>\n    <span class=\"token property\">z-index</span><span class=\"token punctuation\">:</span> 998<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token selector\">.comment-scroll .btn-floating</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">background</span><span class=\"token punctuation\">:</span> <span class=\"token function\">linear-gradient</span><span class=\"token punctuation\">(</span>to bottom right<span class=\"token punctuation\">,</span> #FF9999 0%<span class=\"token punctuation\">,</span> #ff6666 100%<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token property\">width</span><span class=\"token punctuation\">:</span> 48px<span class=\"token punctuation\">;</span>\n    <span class=\"token property\">height</span><span class=\"token punctuation\">:</span> 48px<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token selector\">.comment-scroll .btn-floating i</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">line-height</span><span class=\"token punctuation\">:</span> 48px<span class=\"token punctuation\">;</span>\n    <span class=\"token property\">font-size</span><span class=\"token punctuation\">:</span> 1.8rem<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<p>bottom: 135px;是距离底部的高度，看看你是否需要修改。</p>\n<h3 id=\"修改滑动条\">修改滑动条</h3>\n<pre class=\"line-numbers language-css\" data-language=\"css\"><code class=\"language-css\"><span class=\"token comment\">/* 滚动条 */</span>\n<span class=\"token selector\">::-webkit-scrollbar-thumb</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">background-color</span><span class=\"token punctuation\">:</span> #FF2A68<span class=\"token punctuation\">;</span>\n    <span class=\"token property\">background-image</span><span class=\"token punctuation\">:</span> <span class=\"token function\">-webkit-linear-gradient</span><span class=\"token punctuation\">(</span>45deg<span class=\"token punctuation\">,</span><span class=\"token function\">rgba</span><span class=\"token punctuation\">(</span>255<span class=\"token punctuation\">,</span>255<span class=\"token punctuation\">,</span>255<span class=\"token punctuation\">,</span>.4<span class=\"token punctuation\">)</span> 25%<span class=\"token punctuation\">,</span>transparent 25%<span class=\"token punctuation\">,</span>transparent 50%<span class=\"token punctuation\">,</span><span class=\"token function\">rgba</span><span class=\"token punctuation\">(</span>255<span class=\"token punctuation\">,</span>255<span class=\"token punctuation\">,</span>255<span class=\"token punctuation\">,</span>.4<span class=\"token punctuation\">)</span> 50%<span class=\"token punctuation\">,</span><span class=\"token function\">rgba</span><span class=\"token punctuation\">(</span>255<span class=\"token punctuation\">,</span>255<span class=\"token punctuation\">,</span>255<span class=\"token punctuation\">,</span>.4<span class=\"token punctuation\">)</span> 75%<span class=\"token punctuation\">,</span>transparent 75%<span class=\"token punctuation\">,</span>transparent<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token property\">border-radius</span><span class=\"token punctuation\">:</span> 3em<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token selector\">::-webkit-scrollbar-track</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">background-color</span><span class=\"token punctuation\">:</span> #ffcacaff<span class=\"token punctuation\">;</span>\n    <span class=\"token property\">border-radius</span><span class=\"token punctuation\">:</span> 3em<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token selector\">::-webkit-scrollbar</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">width</span><span class=\"token punctuation\">:</span> 8px<span class=\"token punctuation\">;</span>\n    <span class=\"token property\">height</span><span class=\"token punctuation\">:</span> 15px<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<h2 id=\"添加博客看板娘\">添加博客看板娘</h2>\n<p>方法如下：</p>\n<p>安装插件：</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">npm</span> <span class=\"token function\">install</span> --save hexo-helper-live2d<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p>安装喜欢的模型：</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">$ <span class=\"token function\">npm</span> <span class=\"token function\">install</span> packagename\n<span class=\"token comment\">#安装下载动画人物库, 动画人物有很多, 可以网上查询资料, 下面推荐几种.</span>\n<span class=\"token function\">npm</span> <span class=\"token function\">install</span> --save live2d-widget-model-shizuku <span class=\"token comment\">#课桌女孩</span>\n<span class=\"token function\">npm</span> <span class=\"token function\">install</span> --save live2d-widget-model-hibiki  <span class=\"token comment\">#御姐</span>\n<span class=\"token function\">npm</span> <span class=\"token function\">install</span> --save live2d-widget-model-wanko   <span class=\"token comment\">#狗狗</span>\n<span class=\"token function\">npm</span> <span class=\"token function\">install</span> --save live2d-widget-model-haruto  <span class=\"token comment\">#海军服女孩</span>\n<span class=\"token function\">npm</span> <span class=\"token function\">install</span> --save live2d-widget-model-miku    <span class=\"token comment\">#萝莉</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<p>将packagename换成模型名字，如我使用的模型：</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">$ <span class=\"token function\">npm</span> <span class=\"token function\">install</span> live2d-widget-model-shizuku<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p>然后打开博客根目录下的 _config.yml文件，添加如下代码：</p>\n<p><strong>使用本地模型方式：</strong></p>\n<pre class=\"line-numbers language-yaml\" data-language=\"yaml\"><code class=\"language-yaml\"><span class=\"token comment\">## 添加动画live2d模块  npm install --save hexo-helper-live2d</span>\n<span class=\"token comment\">## 下载动画人物库 npm install live2d-widget-model-z16 -D</span>\n<span class=\"token key atrule\">live2d</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">enable</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span>\n  <span class=\"token key atrule\">scriptFrom</span><span class=\"token punctuation\">:</span> local <span class=\"token comment\"># 默认</span>\n  <span class=\"token key atrule\">pluginRootPath</span><span class=\"token punctuation\">:</span> live2dw/ <span class=\"token comment\"># 插件在站点上的根目录(相对路径)</span>\n  <span class=\"token key atrule\">pluginJsPath</span><span class=\"token punctuation\">:</span> lib/ <span class=\"token comment\"># 脚本文件相对与插件根目录路径</span>\n  <span class=\"token key atrule\">pluginModelPath</span><span class=\"token punctuation\">:</span> assets/ <span class=\"token comment\"># 模型文件相对与插件根目录路径</span>\n  <span class=\"token key atrule\">tagMode</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">false</span> <span class=\"token comment\"># 标签模式, 是否仅替换 live2d tag标签而非插入到所有页面中</span>\n  <span class=\"token key atrule\">debug</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">false</span> <span class=\"token comment\"># 调试, 是否在控制台输出日志</span>\n  <span class=\"token key atrule\">model</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">use</span><span class=\"token punctuation\">:</span> live2d<span class=\"token punctuation\">-</span>widget<span class=\"token punctuation\">-</span>model<span class=\"token punctuation\">-</span>miku\n  <span class=\"token key atrule\">display</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">position</span><span class=\"token punctuation\">:</span> right <span class=\"token comment\">#动画位置</span>\n    <span class=\"token key atrule\">width</span><span class=\"token punctuation\">:</span> <span class=\"token number\">150</span>\n    <span class=\"token key atrule\">height</span><span class=\"token punctuation\">:</span> <span class=\"token number\">190</span>\n    <span class=\"token comment\"># 位置配置，这个在左侧边栏位置很居中</span>\n    <span class=\"token key atrule\">hOffset</span><span class=\"token punctuation\">:</span> <span class=\"token number\">50</span>  <span class=\"token comment\"># 调节水平位置</span>\n    <span class=\"token key atrule\">vOffset</span><span class=\"token punctuation\">:</span> <span class=\"token number\">-5</span>  <span class=\"token comment\"># 调节垂直位置</span>\n  <span class=\"token key atrule\">mobile</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">show</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">false</span> <span class=\"token comment\"># 是否在移动设备上显示</span>\n    <span class=\"token key atrule\">scale</span><span class=\"token punctuation\">:</span> <span class=\"token number\">0.5</span> <span class=\"token comment\"># 移动设备上的缩放</span>\n  <span class=\"token key atrule\">react</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">opacityDefault</span><span class=\"token punctuation\">:</span> <span class=\"token number\">0.7</span>\n    <span class=\"token key atrule\">opacityOnHover</span><span class=\"token punctuation\">:</span> <span class=\"token number\">0.8</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<p><strong>使用网络模型方式：</strong></p>\n<pre class=\"line-numbers language-yaml\" data-language=\"yaml\"><code class=\"language-yaml\"><span class=\"token comment\"># Live2D</span>\n<span class=\"token comment\">## https://github.com/EYHN/hexo-helper-live2d</span>\n<span class=\"token key atrule\">live2d</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">enable</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span>\n  <span class=\"token comment\"># enable: false</span>\n  <span class=\"token key atrule\">pluginRootPath</span><span class=\"token punctuation\">:</span> live2dw/ <span class=\"token comment\"># Root path of plugin to be on the site (Relative)</span>\n  <span class=\"token key atrule\">pluginJsPath</span><span class=\"token punctuation\">:</span> lib/ <span class=\"token comment\"># JavaScript path related to plugin's root (Relative)</span>\n  <span class=\"token key atrule\">pluginModelPath</span><span class=\"token punctuation\">:</span> assets/ <span class=\"token comment\"># Relative model path related to plugin's root (Relative)</span>\n  <span class=\"token key atrule\">scriptFrom</span><span class=\"token punctuation\">:</span> local <span class=\"token comment\"># Default</span>\n  <span class=\"token comment\"># scriptFrom: jsdelivr # jsdelivr CDN</span>\n  <span class=\"token comment\"># scriptFrom: unpkg # unpkg CDN</span>\n  <span class=\"token comment\"># scriptFrom: https://cdn.jsdelivr.net/npm/live2d-widget@3.x/lib/L2Dwidget.min.js # Your custom url</span>\n  <span class=\"token key atrule\">tagMode</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">false</span> <span class=\"token comment\"># Whether only to replace live2d tag instead of inject to all pages</span>\n  <span class=\"token key atrule\">log</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">false</span> <span class=\"token comment\"># Whether to show logs in console</span>\n  <span class=\"token key atrule\">model</span><span class=\"token punctuation\">:</span>\n    <span class=\"token comment\">#use: live2d-widget-model-lwet # npm-module package name</span>\n    <span class=\"token comment\"># use: wanko # folder name in (hexo base dir)/live2d_models/</span>\n    <span class=\"token comment\"># use: ./wives/wanko # folder path relative to hexo base dir</span>\n    <span class=\"token comment\"># 模型：https://huaji8.top/post/live2d-plugin-2.0/</span>\n    <span class=\"token key atrule\">use</span><span class=\"token punctuation\">:</span> https<span class=\"token punctuation\">:</span>//cdn.jsdelivr.net/npm/live2d<span class=\"token punctuation\">-</span>widget<span class=\"token punctuation\">-</span>model<span class=\"token punctuation\">-</span>wanko@1.0.5/assets/wanko.model.json <span class=\"token comment\"># Your custom url</span>\n  <span class=\"token key atrule\">display</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">position</span><span class=\"token punctuation\">:</span> left\n    <span class=\"token key atrule\">width</span><span class=\"token punctuation\">:</span> <span class=\"token number\">300</span>\n    <span class=\"token key atrule\">height</span><span class=\"token punctuation\">:</span> <span class=\"token number\">400</span>\n    <span class=\"token key atrule\">hOffset</span><span class=\"token punctuation\">:</span> <span class=\"token number\">50</span>\n    <span class=\"token key atrule\">vOffset</span><span class=\"token punctuation\">:</span> <span class=\"token number\">10</span>\n  <span class=\"token key atrule\">mobile</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">show</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">false</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<p>见右下角</p>\n<p><img src=\"https://cimg1.17lai.site/data/2022/03/2720220327072647-1.png\" alt=\"Live2D看板娘\"></p>\n<h2 id=\"更强大的看板娘\">更强大的看板娘</h2>\n<blockquote>\n<p><strong><a target=\"_blank\" rel=\"noopener\" href=\"https://github.com/stevenjoezhang/live2d-widget\">live2d-widget</a></strong> <a target=\"_blank\" rel=\"noopener\" href=\"https://www.fghrsh.net/post/123.html\">原作者教程</a></p>\n<p>支持换装，模型切换，对话框，拍照，小游戏，眼神跟随，触摸对话，音频等。</p>\n<p>可以自建api，自定义各种模型，各种对话等。</p>\n</blockquote>\n<p><img src=\"https://cimg1.17lai.site/data/2022/03/2820220328202350.png\" alt=\"live2d看板娘\"></p>\n<p><img src=\"https://cimg1.17lai.site/data/2022/03/2820220328201742.png\" alt=\"live2d-widget效果图\"></p>\n<h3 id=\"依赖-Font-Awesome\">依赖  Font Awesome</h3>\n<p>请在 <code>&lt;head&gt;</code> 中加入。在Matery中自带，这一步跳过。</p>\n<pre class=\"line-numbers language-javascript\" data-language=\"javascript\"><code class=\"language-javascript\"><span class=\"token operator\">&lt;</span>link rel<span class=\"token operator\">=</span><span class=\"token string\">\"stylesheet\"</span> href<span class=\"token operator\">=</span><span class=\"token string\">\"https://cdn.jsdelivr.net/npm/font-awesome/css/font-awesome.min.css\"</span><span class=\"token operator\">&gt;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<h3 id=\"使用-Usage\">使用 Usage</h3>\n<p>将这一行代码加入 <code>&lt;head&gt;</code> 或 <code>&lt;body&gt;</code>，即可展现出效果：</p>\n<pre class=\"line-numbers language-javascript\" data-language=\"javascript\"><code class=\"language-javascript\"><span class=\"token operator\">&lt;</span>script src<span class=\"token operator\">=</span><span class=\"token string\">\"https://cdn.jsdelivr.net/gh/17lai/live2d-widget@latest/autoload.js\"</span><span class=\"token operator\">&gt;</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>script<span class=\"token operator\">&gt;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<h3 id=\"后端-API\">后端 API</h3>\n<p><code>initWidget</code> 方法接受名为 <code>apiPath</code> 和 <code>cdnPath</code> 的参数，两者设置其中一项即可。其中 <code>apiPath</code> 为后端 API 的 URL，可以自行搭建，并增加模型（需要修改的内容比较多，此处不再赘述）。而 <code>cdnPath</code> 则是通过 jsDelivr 这样的 CDN 服务加载资源，更加稳定。</p>\n<h3 id=\"目录结构-Files\">目录结构 Files</h3>\n<ul>\n<li><code>waifu-tips.js</code> 包含了按钮和对话框的逻辑；</li>\n<li><code>waifu-tips.json</code> 中定义了触发条件（<code>selector</code>，CSS 选择器）和触发时显示的文字（<code>text</code>）；</li>\n<li><code>waifu.css</code> 是看板娘的样式表。</li>\n</ul>\n<blockquote>\n<p>使用 <code>waifu-tips.json</code> 自定义 <code>selector</code>触发提示文字框，可以用来做菜单，按钮的导航提示，终于是个合格的看板娘了！</p>\n<ul>\n<li>对所有菜单，常用按钮做了基本文字提示。鼠标去到处戳一下，看看触发提示！😄</li>\n<li>这是一个不小的工程，难度不高，趣味性很强。</li>\n</ul>\n</blockquote>\n<p><img src=\"https://cimg1.17lai.site/data/2022/03/2920220329182729.png\" alt=\"看板娘触发文字提示\"></p>\n<h2 id=\"添加夜间模式切换\">添加夜间模式切换</h2>\n<blockquote>\n<ul>\n<li>\n<p>下面这个还远未完善，只是基本可用，很多显示细节还需要调整。</p>\n</li>\n<li>\n<p>博主业余钻研ccs教程，慢慢修改完善中。</p>\n</li>\n</ul>\n</blockquote>\n<p>在主题目录下的<code>/layout/layout.ejs</code>文件添加夜间模式切换按钮:</p>\n<pre class=\"line-numbers language-markup\" data-language=\"markup\"><code class=\"language-markup\"><span class=\"token comment\">&lt;!-- 切换夜间/白天模式按钮 --&gt;</span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>a</span> <span class=\"token special-attr\"><span class=\"token attr-name\">onclick</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span><span class=\"token value javascript language-javascript\"><span class=\"token function\">switchNightMode</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></span><span class=\"token punctuation\">\"</span></span></span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>sma<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span> <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>i</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>fa fa-moon-o<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>nightMode<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">aria-hidden</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>true<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>i</span><span class=\"token punctuation\">&gt;</span></span> <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>a</span><span class=\"token punctuation\">&gt;</span></span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n<p>在主题目录下的<code>/source/js/matery.js</code>文件添加js代码:</p>\n<pre class=\"line-numbers language-javascript\" data-language=\"javascript\"><code class=\"language-javascript\"><span class=\"token comment\">// 深色模式按钮设置</span>\n<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>localStorage<span class=\"token punctuation\">.</span><span class=\"token function\">getItem</span><span class=\"token punctuation\">(</span><span class=\"token string\">'dark'</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">===</span> <span class=\"token string\">'1'</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    document<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span>classList<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span><span class=\"token string\">'dark'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">Date</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">getHours</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">&gt;=</span> <span class=\"token number\">22</span> <span class=\"token operator\">||</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Date</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">getHours</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">&lt;</span> <span class=\"token number\">7</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">/*定时开启暗色模式&lt;默认晚22点至早6点默认开启&gt;*/</span>\n    <span class=\"token comment\">// document.body.classList.add('dark');</span>\n    <span class=\"token comment\">// $(\"#nightMode\").removeClass(\"fa-moon-o\").addClass(\"fa-lightbulb\");</span>\n<span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token function\">matchMedia</span><span class=\"token punctuation\">(</span><span class=\"token string\">'(prefers-color-scheme: dark)'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>matches<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    document<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span>classList<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span><span class=\"token string\">'dark'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">// 深色模式设置</span>\n<span class=\"token keyword\">function</span> <span class=\"token function\">switchNightMode</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">var</span> body <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>body<span class=\"token punctuation\">.</span>classList<span class=\"token punctuation\">.</span><span class=\"token function\">contains</span><span class=\"token punctuation\">(</span><span class=\"token string\">'dark'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        document<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span>classList<span class=\"token punctuation\">.</span><span class=\"token function\">remove</span><span class=\"token punctuation\">(</span><span class=\"token string\">'dark'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        localStorage<span class=\"token punctuation\">.</span><span class=\"token function\">setItem</span><span class=\"token punctuation\">(</span><span class=\"token string\">'dark'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'0'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token function\">$</span><span class=\"token punctuation\">(</span><span class=\"token string\">'#nightMode'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">removeClass</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"fa-lightbulb\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">addClass</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"fa-moon-o\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">return</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n        document<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span>classList<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span><span class=\"token string\">'dark'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        localStorage<span class=\"token punctuation\">.</span><span class=\"token function\">setItem</span><span class=\"token punctuation\">(</span><span class=\"token string\">'dark'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'1'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token function\">$</span><span class=\"token punctuation\">(</span><span class=\"token string\">'#nightMode'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">removeClass</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"fa-moon-o\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">addClass</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"fa-lightbulb\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">return</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">/*提醒开启夜间模式功能*/</span>\n<span class=\"token function\">setTimeout</span><span class=\"token punctuation\">(</span>\n    <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">Date</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">getHours</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">&gt;=</span> <span class=\"token number\">19</span> <span class=\"token operator\">||</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Date</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">getHours</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">&lt;</span> <span class=\"token number\">7</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">&amp;&amp;</span> <span class=\"token operator\">!</span><span class=\"token function\">$</span><span class=\"token punctuation\">(</span><span class=\"token string\">'body'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">hasClass</span><span class=\"token punctuation\">(</span><span class=\"token string\">'DarkMode'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">let</span> toastHTML <span class=\"token operator\">=</span> <span class=\"token string\">'&lt;span style=\"color:#97b8b2;border-radius: 10px;&gt;'</span>\n                <span class=\"token operator\">+</span> <span class=\"token string\">'&lt;i class=\"fa fa-bell\" aria-hidden=\"true\"&gt;&lt;/i&gt;晚上使用深色模式阅读更好哦。(ﾟ▽ﾟ)/&lt;/span&gt;'</span>\n            <span class=\"token constant\">M</span><span class=\"token punctuation\">.</span><span class=\"token function\">toast</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span><span class=\"token literal-property property\">html</span><span class=\"token operator\">:</span> toastHTML<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2200</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<p>在主题目录下的<code>/source/css/matery.css</code>文件添加夜间模式切换的样式:</p>\n<pre class=\"line-numbers language-css\" data-language=\"css\"><code class=\"language-css\"><span class=\"token comment\">/******夜间模式切换样式 start*******/</span>\n<span class=\"token comment\">/* 深色模式按钮设置 */</span>\n<span class=\"token selector\">#sma</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">background</span><span class=\"token punctuation\">:</span> #000<span class=\"token punctuation\">;</span>\n    <span class=\"token property\">width</span><span class=\"token punctuation\">:</span> 38px<span class=\"token punctuation\">;</span>\n    <span class=\"token property\">height</span><span class=\"token punctuation\">:</span> 38px<span class=\"token punctuation\">;</span>\n    <span class=\"token property\">display</span><span class=\"token punctuation\">:</span> block<span class=\"token punctuation\">;</span>\n    <span class=\"token property\">position</span><span class=\"token punctuation\">:</span> fixed<span class=\"token punctuation\">;</span>\n    <span class=\"token property\">border-radius</span><span class=\"token punctuation\">:</span> 50%<span class=\"token punctuation\">;</span>\n    <span class=\"token property\">right</span><span class=\"token punctuation\">:</span> 15px<span class=\"token punctuation\">;</span>\n    <span class=\"token property\">bottom</span><span class=\"token punctuation\">:</span> 170px<span class=\"token punctuation\">;</span>\n    <span class=\"token property\">padding-top</span><span class=\"token punctuation\">:</span> 15px<span class=\"token punctuation\">;</span>\n    <span class=\"token property\">margin-bottom</span><span class=\"token punctuation\">:</span> 0<span class=\"token punctuation\">;</span>\n    <span class=\"token property\">z-index</span><span class=\"token punctuation\">:</span> 998<span class=\"token punctuation\">;</span>\n    <span class=\"token property\">cursor</span><span class=\"token punctuation\">:</span> pointer<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token selector\">#sma .fa-moon-o</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">position</span><span class=\"token punctuation\">:</span> absolute<span class=\"token punctuation\">;</span>\n    <span class=\"token property\">right</span><span class=\"token punctuation\">:</span> 8px<span class=\"token punctuation\">;</span>\n    <span class=\"token property\">bottom</span><span class=\"token punctuation\">:</span> 8px<span class=\"token punctuation\">;</span>\n    <span class=\"token property\">font-size</span><span class=\"token punctuation\">:</span> 1.48rem <span class=\"token important\">!important</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token selector\">#sma .fa-lightbulb</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">position</span><span class=\"token punctuation\">:</span> absolute<span class=\"token punctuation\">;</span>\n    <span class=\"token property\">right</span><span class=\"token punctuation\">:</span> 13px<span class=\"token punctuation\">;</span>\n    <span class=\"token property\">bottom</span><span class=\"token punctuation\">:</span> 8px<span class=\"token punctuation\">;</span>\n    <span class=\"token property\">font-size</span><span class=\"token punctuation\">:</span> 1.5rem <span class=\"token important\">!important</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token selector\">.fa-moon-o:before</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">content</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"\\f186\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token selector\">.fa-comments:before</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">content</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"\\f086\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">/* 深色模式设置 */</span> <span class=\"token comment\">/* 字体颜色变灰白色 */</span>\n<span class=\"token selector\">body.dark .fas,\nbody.dark .title,\nbody.dark .row .text,\nbody.dark article .article-content .summary,\nbody.dark .card .card-image .card-title,\nbody.dark .fa-moon-o:before,\nbody.dark .fa-lightbulb:before,\nbody.dark article .article-tags .chip,\nbody.dark .chip-container .tag-title,\nbody.dark div.jqcloud a,\nbody.dark .friends-container .tag-title,\nbody.dark .frind-ship .title h1,\nbody.dark .card .card-content p,\nbody.dark .v[data-class=v] .vcount,\nbody.dark .v[data-class=v] .vcount .vnum,\nbody.dark pre code,\nbody.dark h1,\nbody.dark h2,\nbody.dark h3, body.dark h4,\nbody.dark h5,\nbody.dark h6, body.dark li,\nbody.dark p,\nbody.dark header .side-nav .mobile-head .logo-name,\nbody.dark header .side-nav .mobile-head .logo-desc,\nbody.dark header .side-nav .menu-list a,\nbody.dark .bg-cover .post-title,\nbody.dark a</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">color</span><span class=\"token punctuation\">:</span> <span class=\"token function\">rgba</span><span class=\"token punctuation\">(</span>255<span class=\"token punctuation\">,</span> 255<span class=\"token punctuation\">,</span> 255<span class=\"token punctuation\">,</span> 0.6<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">/* 背景颜色变灰色 */</span>\n<span class=\"token selector\">body.dark .card,\nbody.dark .block-with-text:after</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">background-color</span><span class=\"token punctuation\">:</span> #282c34<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">/* 背景颜色变黑色 */</span>\n<span class=\"token selector\">body.dark,\nbody.dark .v[data-class=v] .vcount,\nbody.dark #rewardModal .modal-content,\nbody.dark .modal,\nbody.dark header .side-nav,\nbody.dark header .side-nav .menu-list .m-nav-show</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">background-color</span><span class=\"token punctuation\">:</span> #12121c<span class=\"token punctuation\">;</span>\n   <span class=\"token comment\">/**因为我的背景图导致部分页面无法全部切换成深色背景, 需要取消背景图片**/</span>\n    <span class=\"token property\">background-image</span><span class=\"token punctuation\">:</span> <span class=\"token url\"><span class=\"token function\">url</span><span class=\"token punctuation\">(</span>#<span class=\"token punctuation\">)</span></span><span class=\"token punctuation\">;</span> \n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">/* 改变透明度 */</span>\n<span class=\"token selector\">body.dark .aplayer</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">background</span><span class=\"token punctuation\">:</span> #2f3742 <span class=\"token important\">!important</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token selector\">body.dark img, body.dark strong</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">filter</span><span class=\"token punctuation\">:</span> <span class=\"token function\">brightness</span><span class=\"token punctuation\">(</span>.7<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token comment\">/******夜间模式切换样式 end*******/</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<h2 id=\"Tag标签外挂使用方法\">Tag标签外挂使用方法</h2>\n<pre class=\"line-numbers language-markdown\" data-language=\"markdown\"><code class=\"language-markdown\">Tag标签外挂使用方法\n\n{%r%}\n紅色\n{%endr%}\n{%g%}\n綠色\n{%endg%}\n{%y%}\n黃色\n{%endy%}<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<h2 id=\"图片懒加载\">图片懒加载</h2>\n<blockquote>\n<p>图片懒加载是提升网站性能和用户体验的一个非常很好方式，并且几乎所有的大型网站都使用到了，比如微博，仅把用户可见的部分显示图片，其余的都暂时不加载，做法就是：让所有图片元素src指向一个小的站位图片比如loading，并新增一个属性(如data-original)存放真实图片地址。每当页面加载（或者滚动条滚动），使用JS脚本将可视区域内的图片src替换回真实地址，并做请求重新加载。</p>\n<ul>\n<li>Don't worry about lazyload SEO problem, because Google supports it already.</li>\n</ul>\n</blockquote>\n<p>那么，赶快用起来吧！</p>\n<p>在站点根目录执行下面的命令：</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">npm</span> <span class=\"token function\">install</span> hexo-lazyload-image --save\n<span class=\"token comment\">#或者使用yarn</span>\n<span class=\"token function\">yarn</span> <span class=\"token function\">add</span> hexo-lazyload-image<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n<p>之后在站点配置文件下添加下面的代码</p>\n<pre class=\"line-numbers language-yaml\" data-language=\"yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">lazyload</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">enable</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span>  <span class=\"token comment\"># 是否开启图片懒加载</span>\n  <span class=\"token key atrule\">onlypost</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">false</span>  <span class=\"token comment\"># 是否只对文章的图片做懒加载</span>\n  <span class=\"token key atrule\">loadingImg</span><span class=\"token punctuation\">:</span> <span class=\"token comment\"># eg ./images/loading.gif</span>\n  <span class=\"token key atrule\">isSPA</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">false</span> <span class=\"token comment\"># optional. For performance considering, isSPA is added. If your theme is a SPA page, please set it as true</span>\n  <span class=\"token key atrule\">preloadRatio</span><span class=\"token punctuation\">:</span> <span class=\"token number\">3</span> <span class=\"token comment\"># optional, default is 1</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<p>最后执行 <code>hexo clean &amp;&amp; hexo g &amp;&amp; hexo s</code> 就可以看到效果了。</p>\n<p>存在问题：</p>\n<p>查看大图，发现全部为 loading 加载图，原因是因为懒加载插件与 lightgallery 插件冲突，解决办法如下：</p>\n<p>修改主题文件下的 matery.js，在 108 行左右添加以下代码：</p>\n<pre class=\"line-numbers language-javascript\" data-language=\"javascript\"><code class=\"language-javascript\"><span class=\"token function\">$</span><span class=\"token punctuation\">(</span>document<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">find</span><span class=\"token punctuation\">(</span><span class=\"token string\">'img[data-original]'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">each</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n        <span class=\"token function\">$</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">parent</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">attr</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"href\"</span><span class=\"token punctuation\">,</span> <span class=\"token function\">$</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">attr</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"data-original\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n<blockquote>\n<h3 id=\"specify-no-lazy-for-specify-image\">specify <strong>no-lazy</strong> for specify image</h3>\n<p>we can also disable the lazy process if specify a attribute on img tag in both markdown or html</p>\n<pre class=\"line-numbers language-markup\" data-language=\"markup\"><code class=\"language-markup\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>img</span> <span class=\"token attr-name\">no-lazy</span> <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>abc.png<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/&gt;</span></span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n</blockquote>\n<h2 id=\"外链跳转插件\">外链跳转插件</h2>\n<p>使用 npm 或者 yarn 安装</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token comment\">## npm 安装</span>\n<span class=\"token function\">npm</span> <span class=\"token function\">install</span> hexo-external-link --save\n<span class=\"token comment\">## yarn 安装</span>\n<span class=\"token function\">yarn</span> <span class=\"token function\">add</span> hexo-external-link<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n<p>之后在博客站点根目录下添加如下配置：</p>\n<pre class=\"line-numbers language-yaml\" data-language=\"yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">hexo_external_link</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">enable</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span>\n  <span class=\"token key atrule\">enable_base64_encode</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span>\n  <span class=\"token key atrule\">url_param_name</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'u'</span>\n  <span class=\"token key atrule\">html_file_name</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'go.html'</span>\n  <span class=\"token key atrule\">target_blank</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span>\n  <span class=\"token key atrule\">link_rel</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'external nofollow noopener noreferrer'</span>\n  <span class=\"token key atrule\">domain</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'your_domain'</span> <span class=\"token comment\"># 如果开启了防盗链，填写你的域名</span>\n  <span class=\"token key atrule\">safety_chain</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<h2 id=\"添加天气小插件\">添加天气小插件</h2>\n<p>首先去中国天气<a target=\"_blank\" rel=\"noopener\" href=\"https://cj.weather.com.cn/plugin/pc\">官网：</a>，配置自己的插件，选择自定义插件—&gt;自定义样式——&gt;生成代码，然后会生成一段代码，复制粘贴到 <code>themes/matery/layout/layout.ejs</code> 即可。</p>\n<h2 id=\"新增个人相册\">新增个人相册</h2>\n<h3 id=\"新建相册目录\">新建相册目录</h3>\n<p>执行下面的命令：</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">hexo new page galleries<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p>然后到站点根目录的 source 目录下找名称为 <strong>galleries</strong> 的目录，打开目录下的 **index.md ** 文档，在原有基础上添加一下配置：</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">type: <span class=\"token string\">\"galleries\"</span>\nlayout: <span class=\"token string\">\"galleries\"</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n<p>紧接着，在主题配置文件的 <code>menu</code> 属性添加关于相册的菜单</p>\n<pre class=\"line-numbers language-yaml\" data-language=\"yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">相册</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">url</span><span class=\"token punctuation\">:</span> /galleries \n  <span class=\"token key atrule\">icon</span><span class=\"token punctuation\">:</span> fas fa<span class=\"token punctuation\">-</span>image<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n<p>如果需要添加到二级菜单，添加格式为：</p>\n<pre class=\"line-numbers language-yaml\" data-language=\"yaml\"><code class=\"language-yaml\"><span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> 相册\n  <span class=\"token key atrule\">url</span><span class=\"token punctuation\">:</span> /galleries \n  <span class=\"token key atrule\">icon</span><span class=\"token punctuation\">:</span> fas fa<span class=\"token punctuation\">-</span>image<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n<h3 id=\"添加-ejs-文件和-css-文件\">添加 ejs 文件和 css 文件</h3>\n<p>首先新建 <code>gallery.css</code>，填写的代码内容如下：</p>\n<pre class=\"line-numbers language-css\" data-language=\"css\"><code class=\"language-css\"><span class=\"token selector\">.gallery-wrapper</span><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">padding-top</span><span class=\"token punctuation\">:</span> 30px<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token selector\">.gallery-wrapper .gallery-box</span><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">padding</span><span class=\"token punctuation\">:</span> 5px <span class=\"token important\">!important</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token selector\">.gallery-wrapper .gallery-item</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token property\">display</span><span class=\"token punctuation\">:</span> block<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">overflow</span><span class=\"token punctuation\">:</span> hidden<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">background-color</span><span class=\"token punctuation\">:</span> #fff<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">padding</span><span class=\"token punctuation\">:</span> 5px<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">padding-bottom</span><span class=\"token punctuation\">:</span> 0<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">position</span><span class=\"token punctuation\">:</span> relative<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">-moz-box-shadow</span><span class=\"token punctuation\">:</span> 0 1px 3px 0 <span class=\"token function\">rgba</span><span class=\"token punctuation\">(</span>0<span class=\"token punctuation\">,</span> 0<span class=\"token punctuation\">,</span> 0<span class=\"token punctuation\">,</span> 0.22<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token property\">-webkit-box-shadow</span><span class=\"token punctuation\">:</span> 0 1px 3px 0 <span class=\"token function\">rgba</span><span class=\"token punctuation\">(</span>0<span class=\"token punctuation\">,</span> 0<span class=\"token punctuation\">,</span> 0<span class=\"token punctuation\">,</span> 0.22<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token property\">box-shadow</span><span class=\"token punctuation\">:</span> 0 1px 3px 0 <span class=\"token function\">rgba</span><span class=\"token punctuation\">(</span>0<span class=\"token punctuation\">,</span> 0<span class=\"token punctuation\">,</span> 0<span class=\"token punctuation\">,</span> 0.22<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token selector\">.gallery-cover-box</span><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">width</span><span class=\"token punctuation\">:</span> 100%<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">padding-top</span><span class=\"token punctuation\">:</span> 60%<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">text-align</span><span class=\"token punctuation\">:</span> center<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">overflow</span><span class=\"token punctuation\">:</span> hidden<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">position</span><span class=\"token punctuation\">:</span> relative<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">background</span><span class=\"token punctuation\">:</span> center center no-repeat<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">-webkit-background-size</span><span class=\"token punctuation\">:</span> cover<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">background-size</span><span class=\"token punctuation\">:</span> cover<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token selector\">.gallery-cover-box .gallery-cover-img</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token property\">display</span><span class=\"token punctuation\">:</span> inline-block<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">width</span><span class=\"token punctuation\">:</span> 100%<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">position</span><span class=\"token punctuation\">:</span> absolute<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">left</span><span class=\"token punctuation\">:</span> 50%<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">top</span><span class=\"token punctuation\">:</span> 50%<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">transform</span><span class=\"token punctuation\">:</span> <span class=\"token function\">translate</span><span class=\"token punctuation\">(</span>-50%<span class=\"token punctuation\">,</span>-50%<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token selector\">.gallery-item .gallery-name</span><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">font-size</span><span class=\"token punctuation\">:</span> 14px<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">line-height</span><span class=\"token punctuation\">:</span> 24px<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">text-align</span><span class=\"token punctuation\">:</span> center<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">color</span><span class=\"token punctuation\">:</span> #666<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">margin</span><span class=\"token punctuation\">:</span> 0<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token selector\">.waterfall</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token property\">column-count</span><span class=\"token punctuation\">:</span> 3<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">column-gap</span><span class=\"token punctuation\">:</span> 1em<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token selector\">.photo-wrapper</span><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">padding-top</span><span class=\"token punctuation\">:</span> 20px<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token selector\">.photo-item</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token property\">display</span><span class=\"token punctuation\">:</span> block<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">padding</span><span class=\"token punctuation\">:</span> 10px<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">padding-bottom</span><span class=\"token punctuation\">:</span> 0<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">margin-bottom</span><span class=\"token punctuation\">:</span> 14px<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">font-size</span><span class=\"token punctuation\">:</span> 0<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">-moz-page-break-inside</span><span class=\"token punctuation\">:</span> avoid<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">-webkit-column-break-inside</span><span class=\"token punctuation\">:</span> avoid<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">break-inside</span><span class=\"token punctuation\">:</span> avoid<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">background</span><span class=\"token punctuation\">:</span> white<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">-moz-box-shadow</span><span class=\"token punctuation\">:</span> 0 1px 3px 0 <span class=\"token function\">rgba</span><span class=\"token punctuation\">(</span>0<span class=\"token punctuation\">,</span> 0<span class=\"token punctuation\">,</span> 0<span class=\"token punctuation\">,</span> 0.22<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token property\">-webkit-box-shadow</span><span class=\"token punctuation\">:</span> 0 1px 3px 0 <span class=\"token function\">rgba</span><span class=\"token punctuation\">(</span>0<span class=\"token punctuation\">,</span> 0<span class=\"token punctuation\">,</span> 0<span class=\"token punctuation\">,</span> 0.22<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token property\">box-shadow</span><span class=\"token punctuation\">:</span> 0 1px 3px 0 <span class=\"token function\">rgba</span><span class=\"token punctuation\">(</span>0<span class=\"token punctuation\">,</span> 0<span class=\"token punctuation\">,</span> 0<span class=\"token punctuation\">,</span> 0.22<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token selector\">.photo-item img</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token property\">width</span><span class=\"token punctuation\">:</span> 100%<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token selector\">.photo-item .photo-name</span><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">font-size</span><span class=\"token punctuation\">:</span> 14px<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">line-height</span><span class=\"token punctuation\">:</span> 30px<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">text-align</span><span class=\"token punctuation\">:</span> center<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">margin-top</span><span class=\"token punctuation\">:</span> 10px<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">margin-bottom</span><span class=\"token punctuation\">:</span> 10px<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">border-top</span><span class=\"token punctuation\">:</span> 1px solid #dddddd<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">/*适配移动端布局*/</span>\n<span class=\"token atrule\"><span class=\"token rule\">@media</span> <span class=\"token keyword\">only</span> screen <span class=\"token keyword\">and</span> <span class=\"token punctuation\">(</span><span class=\"token property\">max-width</span><span class=\"token punctuation\">:</span> 601px<span class=\"token punctuation\">)</span></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token selector\">.waterfall</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">column-count</span><span class=\"token punctuation\">:</span> 2<span class=\"token punctuation\">;</span>\n    <span class=\"token property\">column-gap</span><span class=\"token punctuation\">:</span> 1em<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<p>然后保存，将此文件放在主题目录下，路径为 <strong>matery/source/css</strong>。</p>\n<p>紧接着，新建 <code>galleries.ejs</code> 文件，添加以下代码：</p>\n<pre class=\"line-numbers language-javascript\" data-language=\"javascript\"><code class=\"language-javascript\"><span class=\"token operator\">&lt;</span>link rel<span class=\"token operator\">=</span><span class=\"token string\">\"stylesheet\"</span> href<span class=\"token operator\">=</span><span class=\"token string\">\"/css/gallery.css\"</span><span class=\"token operator\">&gt;</span>\n\n<span class=\"token operator\">&lt;</span><span class=\"token operator\">%</span><span class=\"token operator\">-</span> <span class=\"token function\">partial</span><span class=\"token punctuation\">(</span><span class=\"token string\">'_partial/bg-cover'</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">%</span><span class=\"token operator\">&gt;</span>\n\n<span class=\"token operator\">&lt;</span>main <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token string\">\"content\"</span><span class=\"token operator\">&gt;</span>\n    <span class=\"token operator\">&lt;</span>div <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token string\">\"container\"</span><span class=\"token operator\">&gt;</span>\n        <span class=\"token operator\">&lt;</span><span class=\"token operator\">%</span> <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>site<span class=\"token punctuation\">.</span>data <span class=\"token operator\">&amp;&amp;</span> site<span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">.</span>galleries<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token operator\">%</span><span class=\"token operator\">&gt;</span>\n        <span class=\"token operator\">&lt;</span><span class=\"token operator\">%</span> <span class=\"token keyword\">var</span> galleries <span class=\"token operator\">=</span> site<span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">.</span>galleries<span class=\"token punctuation\">;</span> <span class=\"token operator\">%</span><span class=\"token operator\">&gt;</span>\n        <span class=\"token operator\">&lt;</span>div <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token string\">\"gallery-wrapper row\"</span><span class=\"token operator\">&gt;</span>\n            <span class=\"token operator\">&lt;</span><span class=\"token operator\">%</span> <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">var</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> len <span class=\"token operator\">=</span> galleries<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> len<span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token operator\">%</span><span class=\"token operator\">&gt;</span>\n            <span class=\"token operator\">&lt;</span><span class=\"token operator\">%</span> <span class=\"token keyword\">var</span> gallery <span class=\"token operator\">=</span> galleries<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span> <span class=\"token operator\">%</span><span class=\"token operator\">&gt;</span>\n            <span class=\"token operator\">&lt;</span>div <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token string\">\"col s6 m4 l4 xl3 gallery-box\"</span><span class=\"token operator\">&gt;</span>\n                <span class=\"token operator\">&lt;</span>a href<span class=\"token operator\">=</span><span class=\"token string\">\"./&lt;%- gallery.name %&gt;\"</span> <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token string\">\"gallery-item\"</span> data<span class=\"token operator\">-</span>aos<span class=\"token operator\">=</span><span class=\"token string\">\"zoom-in-up\"</span><span class=\"token operator\">&gt;</span>\n                     <span class=\"token operator\">&lt;</span>div <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token string\">\"gallery-cover-box\"</span> style<span class=\"token operator\">=</span><span class=\"token string\">\"background-image: url(&lt;%- theme.jsDelivr.url %&gt;&lt;%- gallery.cover%&gt;);\"</span><span class=\"token operator\">&gt;</span>\n                    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">&gt;</span>\n                    <span class=\"token operator\">&lt;</span>p <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token string\">\"gallery-name\"</span><span class=\"token operator\">&gt;</span>\n                        <span class=\"token operator\">&lt;</span><span class=\"token operator\">%</span><span class=\"token operator\">-</span> gallery<span class=\"token punctuation\">.</span>name <span class=\"token operator\">%</span><span class=\"token operator\">&gt;</span>\n                    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>p<span class=\"token operator\">&gt;</span>\n                <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>a<span class=\"token operator\">&gt;</span>\n            <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">&gt;</span>\n            <span class=\"token operator\">&lt;</span><span class=\"token operator\">%</span> <span class=\"token punctuation\">}</span> <span class=\"token operator\">%</span><span class=\"token operator\">&gt;</span>\n        <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">&gt;</span>\n        <span class=\"token operator\">&lt;</span><span class=\"token operator\">%</span> <span class=\"token punctuation\">}</span> <span class=\"token operator\">%</span><span class=\"token operator\">&gt;</span>\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">&gt;</span>\n<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>main<span class=\"token operator\">&gt;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<p>将此文件放在 <strong>matery/layout</strong> 目录下，同时再此目录下接着新建 <code>gallery.ejs</code> 文件，添加以下代码：</p>\n<pre class=\"line-numbers language-javascript\" data-language=\"javascript\"><code class=\"language-javascript\"><span class=\"token operator\">&lt;</span>link rel<span class=\"token operator\">=</span><span class=\"token string\">\"stylesheet\"</span> href<span class=\"token operator\">=</span><span class=\"token string\">\"/css/gallery.css\"</span><span class=\"token operator\">&gt;</span>\n<span class=\"token operator\">&lt;</span>link type<span class=\"token operator\">=</span><span class=\"token string\">\"text/css\"</span> href<span class=\"token operator\">=</span><span class=\"token string\">\"/libs/fancybox/jquery.fancybox.css\"</span> rel<span class=\"token operator\">=</span><span class=\"token string\">\"stylesheet\"</span><span class=\"token operator\">&gt;</span>\n<span class=\"token operator\">&lt;</span>link type<span class=\"token operator\">=</span><span class=\"token string\">\"text/css\"</span> href<span class=\"token operator\">=</span><span class=\"token string\">\"/libs/justifiedGallery/justifiedGallery.min.css\"</span> rel<span class=\"token operator\">=</span><span class=\"token string\">\"stylesheet\"</span><span class=\"token operator\">&gt;</span>\n\n<span class=\"token operator\">&lt;</span><span class=\"token operator\">%</span><span class=\"token operator\">-</span> <span class=\"token function\">partial</span><span class=\"token punctuation\">(</span><span class=\"token string\">'_partial/post-cover'</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">%</span><span class=\"token operator\">&gt;</span>\n<span class=\"token operator\">&lt;</span><span class=\"token operator\">%</span>\n<span class=\"token keyword\">let</span> galleries <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>site<span class=\"token punctuation\">.</span>data <span class=\"token operator\">&amp;&amp;</span> site<span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">.</span>galleries<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    galleries <span class=\"token operator\">=</span> site<span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">.</span>galleries<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token keyword\">var</span> pageTitle <span class=\"token operator\">=</span> page<span class=\"token punctuation\">.</span>title<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">function</span> <span class=\"token function\">getCurrentGallery</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">galleries<span class=\"token punctuation\">,</span> pageTitle</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">let</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> galleries<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>galleries<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token string\">'name'</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">==</span> pageTitle<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">return</span> galleries<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token keyword\">var</span> currentGallery <span class=\"token operator\">=</span> <span class=\"token function\">getCurrentGallery</span><span class=\"token punctuation\">(</span>galleries<span class=\"token punctuation\">,</span> pageTitle<span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">var</span> photos <span class=\"token operator\">=</span> currentGallery<span class=\"token punctuation\">.</span>photos<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">var</span> galleryImageStr <span class=\"token operator\">=</span> theme<span class=\"token punctuation\">.</span>jsDelivr<span class=\"token punctuation\">.</span>url <span class=\"token operator\">?</span> theme<span class=\"token punctuation\">.</span>jsDelivr<span class=\"token punctuation\">.</span>url <span class=\"token operator\">:</span> <span class=\"token string\">''</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">let</span> imageStr <span class=\"token operator\">=</span> <span class=\"token string\">''</span>\n\n<span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">var</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> len <span class=\"token operator\">=</span> photos<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> len<span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">var</span> photo <span class=\"token operator\">=</span> photos<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n\n    imageStr <span class=\"token operator\">+=</span> <span class=\"token string\">\"&lt;a href=\\\"\"</span> <span class=\"token operator\">+</span> galleryImageStr <span class=\"token operator\">+</span> photo <span class=\"token operator\">+</span> <span class=\"token string\">\"\\\"\"</span> <span class=\"token operator\">+</span>\n            <span class=\"token string\">\"     class=\\\"photo-item\\\" rel=\\\"example_group\\\"\"</span> <span class=\"token operator\">+</span>\n            <span class=\"token string\">\"     data-fancybox=\\\"images\\\"&gt;\"</span> <span class=\"token operator\">+</span>\n            <span class=\"token string\">\"      &lt;img src=\\\"\"</span> <span class=\"token operator\">+</span> galleryImageStr <span class=\"token operator\">+</span> photo <span class=\"token operator\">+</span> <span class=\"token string\">\"\\\"\"</span> <span class=\"token operator\">+</span>\n            <span class=\"token string\">\"       alt=\"</span> <span class=\"token operator\">+</span> photo <span class=\"token operator\">+</span> <span class=\"token string\">\"&gt;\\n\"</span> <span class=\"token operator\">+</span>\n            <span class=\"token string\">\"    &lt;/a&gt;\"</span>\n\n<span class=\"token punctuation\">}</span>\n<span class=\"token operator\">%</span><span class=\"token operator\">&gt;</span>  \n\n<span class=\"token operator\">&lt;</span>div <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token string\">\"container\"</span><span class=\"token operator\">&gt;</span>\n    <span class=\"token operator\">&lt;</span>div <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token string\">\"photo-wrapper\"</span><span class=\"token operator\">&gt;</span>\n        <span class=\"token operator\">&lt;</span><span class=\"token operator\">%</span> <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>page<span class=\"token punctuation\">.</span>password <span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token operator\">%</span><span class=\"token operator\">&gt;</span>\n\n            <span class=\"token operator\">&lt;</span>script src<span class=\"token operator\">=</span><span class=\"token string\">\"/js/crypto-js.js\"</span><span class=\"token operator\">&gt;</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>script<span class=\"token operator\">&gt;</span>\n            <span class=\"token operator\">&lt;</span>script src<span class=\"token operator\">=</span><span class=\"token string\">\"/js/gallery-encrypt.js\"</span><span class=\"token operator\">&gt;</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>script<span class=\"token operator\">&gt;</span>\n            <span class=\"token operator\">&lt;</span>div id<span class=\"token operator\">=</span><span class=\"token string\">\"hbe-security\"</span><span class=\"token operator\">&gt;</span>\n                <span class=\"token operator\">&lt;</span>div <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token string\">\"hbe-input-container\"</span><span class=\"token operator\">&gt;</span>\n                    <span class=\"token operator\">&lt;</span>input type<span class=\"token operator\">=</span><span class=\"token string\">\"password\"</span> <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token string\">\"hbe-form-control\"</span> id<span class=\"token operator\">=</span><span class=\"token string\">\"pass\"</span>  placeholder<span class=\"token operator\">=</span><span class=\"token string\">\"请输入密码查看内容\"</span><span class=\"token operator\">/</span><span class=\"token operator\">&gt;</span>\n                    <span class=\"token operator\">&lt;</span>a href<span class=\"token operator\">=</span><span class=\"token string\">\"javascript:;\"</span> <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token string\">\"btn-decrypt\"</span> id<span class=\"token operator\">=</span><span class=\"token string\">\"btn_decrypt\"</span><span class=\"token operator\">&gt;</span>解密<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>a<span class=\"token operator\">&gt;</span>\n                <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">&gt;</span>\n            <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">&gt;</span>\n            <span class=\"token operator\">&lt;</span>div  id<span class=\"token operator\">=</span><span class=\"token string\">\"mygallery\"</span><span class=\"token operator\">&gt;</span>\n                <span class=\"token operator\">&lt;</span>div <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token string\">\"waterfall\"</span> id<span class=\"token operator\">=</span><span class=\"token string\">\"encrypt-blog\"</span> style<span class=\"token operator\">=</span><span class=\"token string\">\"display:none\"</span><span class=\"token operator\">&gt;</span>\n                    <span class=\"token operator\">&lt;</span><span class=\"token operator\">%</span><span class=\"token operator\">-</span> <span class=\"token function\">aes</span><span class=\"token punctuation\">(</span>imageStr<span class=\"token punctuation\">,</span> page<span class=\"token punctuation\">.</span>password<span class=\"token punctuation\">)</span> <span class=\"token operator\">%</span><span class=\"token operator\">&gt;</span>\n                <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">&gt;</span>\n            <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">&gt;</span>\n        <span class=\"token operator\">&lt;</span><span class=\"token operator\">%</span> <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span> <span class=\"token operator\">%</span><span class=\"token operator\">&gt;</span>\n            <span class=\"token operator\">&lt;</span>div <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token string\">\"waterfall\"</span> id<span class=\"token operator\">=</span><span class=\"token string\">\"encrypt-blog\"</span><span class=\"token operator\">&gt;</span>\n                <span class=\"token operator\">&lt;</span><span class=\"token operator\">%</span><span class=\"token operator\">-</span> imageStr <span class=\"token operator\">%</span><span class=\"token operator\">&gt;</span>\n            <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">&gt;</span>\n        <span class=\"token operator\">&lt;</span><span class=\"token operator\">%</span> <span class=\"token punctuation\">}</span> <span class=\"token operator\">%</span><span class=\"token operator\">&gt;</span>\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">&gt;</span>\n<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">&gt;</span>\n\n<span class=\"token operator\">&lt;</span>script src<span class=\"token operator\">=</span><span class=\"token string\">\"/libs/fancybox/fancybox.js\"</span><span class=\"token operator\">&gt;</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>script<span class=\"token operator\">&gt;</span>\n<span class=\"token operator\">&lt;</span>script src<span class=\"token operator\">=</span><span class=\"token string\">\"/libs/justifiedGallery/justifiedGallery.min.js\"</span><span class=\"token operator\">&gt;</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>script<span class=\"token operator\">&gt;</span>\n<span class=\"token operator\">&lt;</span>script<span class=\"token operator\">&gt;</span>\n\n  <span class=\"token function\">$</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"a[rel=example_group]\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">fancybox</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token function\">$</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"#encrypt-blog\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">justifiedGallery</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span><span class=\"token literal-property property\">margins</span><span class=\"token operator\">:</span> <span class=\"token number\">5</span><span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">rowHeight</span><span class=\"token operator\">:</span> <span class=\"token number\">150</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>script<span class=\"token operator\">&gt;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<p><strong>注意：</strong></p>\n<ol>\n<li>需要几个文件，我把文件地址放在下面，用浏览器打开链接，就会显示出代码，然后复制粘贴到文加中去就行。开头的是文件路径，如果没有的话，就新建一个就 OK 了。</li>\n</ol>\n<ul>\n<li>\n<p><strong>libs/fancybox/jquery.fancybox.css</strong>：</p>\n<p>https://blog.17lai.site/libs/fancybox/jquery.fancybox.css</p>\n</li>\n<li>\n<p>libs/justifiedGallery/justifiedGallery.min.css：</p>\n<p>https://blog.17lai.site/libs/justifiedGallery/justifiedGallery.min.css</p>\n</li>\n<li>\n<p><strong>matery/source/js/crypto-js.js：</strong></p>\n<p>https://blog.17lai.site/js/crypto-js.js</p>\n</li>\n<li>\n<p><strong>matery/source/js/gallery-encrypt.js：</strong></p>\n<p>https://blog.17lai.site/js/gallery-encrypt.js</p>\n</li>\n<li>\n<p><strong>libs/fancybox/fancybox.js：</strong></p>\n<p>https://blog.17lai.site/libs/fancybox/fancybox.js</p>\n</li>\n<li>\n<p>libs/justifiedGallery/justifiedGallery.min.js：</p>\n<p>https://blog.17lai.site/libs/justifiedGallery/justifiedGallery.min.js</p>\n</li>\n</ul>\n<h3 id=\"添加相册-json-配置文件\">添加相册 json 配置文件</h3>\n<p>在<code>站点</code>目录 <code>source/_data/</code> 下新建一个 <strong>galleries.json</strong> 的文件，<strong>json</strong> 代码如下：</p>\n<pre class=\"line-numbers language-json\" data-language=\"json\"><code class=\"language-json\"><span class=\"token punctuation\">[</span>\n    <span class=\"token punctuation\">{</span>\n      <span class=\"token property\">\"name\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"2020\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"cover\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"/medias_webp/images/01.webp\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"description\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"我的图床\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"photos\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n        <span class=\"token string\">\"/medias_webp/images/01.webp\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string\">\"/medias_webp/images/02.webp\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string\">\"/medias_webp/images/03.webp\"</span>\n      <span class=\"token punctuation\">]</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">{</span>\n      <span class=\"token property\">\"name\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"2021\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"cover\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"/medias_webp/featureimages/1.webp\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"description\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"featureimages 图片展示\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"photos\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n        <span class=\"token string\">\"/medias_webp/featureimages/1.webp\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string\">\"/medias_webp/featureimages/2.webp\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string\">\"/medias_webp/featureimages/3.webp\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string\">\"/medias_webp/featureimages/4.webp\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">]</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">{</span>\n      <span class=\"token property\">\"name\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"2022\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"cover\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"/medias_webp/banner/0.webp\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"description\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"banner 图片展示\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"photos\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n        <span class=\"token string\">\"/medias_webp/banner/0.webp\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string\">\"/medias_webp/banner/1.webp\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string\">\"/medias_webp/banner/2.webp\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">]</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">]</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<p>字段含义：</p>\n<ul>\n<li><code>name</code> 是相册标题</li>\n<li><code>cover</code> 是封面图片</li>\n<li><code>description</code> 是相册介绍</li>\n<li><code>photos</code> 是图片列表</li>\n</ul>\n<p>配置文件建好了之后还没完，只剩最后一个步骤了，在 <strong>galleries 目录</strong>下建立对应的相册名称目录和文件，比如我这个相册需要新建名称为 2020 目录，然后下面再分别新建 <code>index.md</code> 文件，<code>2020/index.md</code>文件内容为：</p>\n<pre class=\"line-numbers language-markdown\" data-language=\"markdown\"><code class=\"language-markdown\"><span class=\"token front-matter-block\"><span class=\"token punctuation\">---</span>\n<span class=\"token front-matter yaml language-yaml\"><span class=\"token key atrule\">title</span><span class=\"token punctuation\">:</span> <span class=\"token number\">2020</span>\n<span class=\"token key atrule\">date</span><span class=\"token punctuation\">:</span> <span class=\"token datetime number\">2021-10-13 10:51:50</span>\n<span class=\"token key atrule\">type</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"gallery\"</span>\n<span class=\"token key atrule\">layout</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"gallery\"</span></span>\n<span class=\"token punctuation\">---</span></span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<p><code>2021/index.md</code>，<code>2022/index.md</code>文件内容和上面一样，只是<code>title</code>修改不同而已</p>\n<p>galleries 目录结构</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">galleries\n├── 2020\n│&nbsp;&nbsp; └── index.md\n├── 2021\n│&nbsp;&nbsp; └── index.md\n├── 2022\n│&nbsp;&nbsp; └── index.md\n├── index.md<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<h3 id=\"查看效果\">查看效果</h3>\n<p>完成以上步骤，执行命令，在本地查看效果：</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">hexo clean <span class=\"token operator\">&amp;&amp;</span> hexo g <span class=\"token operator\">&amp;&amp;</span> hexo s<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<h3 id=\"我的效果\">我的<a href=\"https://blog.17lai.site/galleries\">效果</a></h3>\n<p><img src=\"https://cimg1.17lai.site/data/2021/10/1320211013084134.png\" alt=\"\"></p>\n<h2 id=\"新增折叠功能\">新增折叠功能</h2>\n<blockquote>\n<p>这里利用<code>hexo-sliding-spoiler</code>插件间接实现折叠功能，在matery主题中零修改源代码实现折叠功能。</p>\n<p>另一种修改代码实现折叠效果，参考<a target=\"_blank\" rel=\"noopener\" href=\"https://www.cnblogs.com/woshimrf/p/hexo-fold-block.html\">Hexo next博客添加折叠块功能添加折叠代码块</a>。</p>\n</blockquote>\n<h3 id=\"安装插件-3\">安装插件</h3>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">npm</span> <span class=\"token function\">install</span> hexo-sliding-spoiler --save<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<h3 id=\"配置插件\">配置插件</h3>\n<p>根目录配置文件<code>_config.yml</code>中添加</p>\n<pre class=\"line-numbers language-yaml\" data-language=\"yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">plugin</span><span class=\"token punctuation\">:</span>\n<span class=\"token punctuation\">-</span> hexo<span class=\"token punctuation\">-</span>sliding<span class=\"token punctuation\">-</span>spoiler<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n<p>到这里已经实现折叠功能了。</p>\n<h3 id=\"进一步完善美化\">进一步完善美化</h3>\n<p>修改node_modules_hexo-sliding-spoiler@1.2.1@hexo-sliding-spoiler\\assets\\spoiler.css</p>\n<pre class=\"line-numbers language-css\" data-language=\"css\"><code class=\"language-css\"><span class=\"token selector\">.spoiler</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">margin</span><span class=\"token punctuation\">:</span> 20px 0<span class=\"token punctuation\">;</span>\n    <span class=\"token property\">padding</span><span class=\"token punctuation\">:</span> 15px<span class=\"token punctuation\">;</span>\n    <span class=\"token property\">border</span><span class=\"token punctuation\">:</span> 1px solid #E5E5E5<span class=\"token punctuation\">;</span>\n    <span class=\"token property\">background</span><span class=\"token punctuation\">:</span> #E5E5E5<span class=\"token punctuation\">;</span>\n    <span class=\"token property\">position</span><span class=\"token punctuation\">:</span> relative<span class=\"token punctuation\">;</span>\n    <span class=\"token property\">clear</span><span class=\"token punctuation\">:</span> both<span class=\"token punctuation\">;</span>\n    <span class=\"token property\">border-radius</span><span class=\"token punctuation\">:</span> 3px<span class=\"token punctuation\">;</span>\n    <span class=\"token property\">transition</span><span class=\"token punctuation\">:</span>all .6s\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token selector\">.spoiler .spoiler-title</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">margin</span><span class=\"token punctuation\">:</span> 0 -15px<span class=\"token punctuation\">;</span>\n    <span class=\"token property\">padding</span><span class=\"token punctuation\">:</span> 5px 15px<span class=\"token punctuation\">;</span>\n    <span class=\"token property\">color</span><span class=\"token punctuation\">:</span> #353535<span class=\"token punctuation\">;</span>\n    <span class=\"token property\">font-weight</span><span class=\"token punctuation\">:</span> bold<span class=\"token punctuation\">;</span>\n    <span class=\"token property\">font-size</span><span class=\"token punctuation\">:</span> 18px<span class=\"token punctuation\">;</span>\n    <span class=\"token property\">display</span><span class=\"token punctuation\">:</span> block<span class=\"token punctuation\">;</span>\n    <span class=\"token property\">cursor</span><span class=\"token punctuation\">:</span> pointer<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token selector\">.spoiler.collapsed .spoiler-title:before</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">content</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"▶ \"</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token selector\">.spoiler.expanded .spoiler-title:before</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">content</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"▼ \"</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<p>使用方法</p>\n<pre class=\"line-numbers language-markdown\" data-language=\"markdown\"><code class=\"language-markdown\">{% spoiler title %}\ncontent\n{% endspoiler %}<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n<p>实例</p>\n<pre class=\"line-numbers language-markdown\" data-language=\"markdown\"><code class=\"language-markdown\">{% spoiler 点击显/隐内容 %}\n\n内容测试\n\n{% endspoiler %}\n\n{% spoiler 点击显/隐内容 %}\n\n内容测试\n\n{% endspoiler %}<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<p><img src=\"https://cimg1.17lai.site/data/2021/10/1220211012105432.png\" alt=\"\"></p>\n<h2 id=\"让Hexo博客支持通知功能\">让Hexo博客支持通知功能</h2>\n<blockquote>\n<p>更新文章后，自动发消息给订阅用户的浏览器！</p>\n<p>国外非常火的低成本客户召回方式，增加用户粘性。</p>\n<p>Tips: 如果访问不了订阅服务器，就不可用这个通知功能了！</p>\n</blockquote>\n<h3 id=\"安装插件-4\">安装插件</h3>\n<p>插件的 GitHub 仓库<a target=\"_blank\" rel=\"noopener\" href=\"https://github.com/glazec/hexo-web-push-notification\"> hexo-web-push-notification</a></p>\n<p>在你的博客站点目录执行下面的命令：</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">npm</span> i hexo-web-push-notification --save<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p>如果你安装了 <code>cnpm</code> 或者 <code>yarn</code> 等可执行下面的命令，安装依赖包的速度更快：</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">cnpm i hexo-web-push-notification --save <span class=\"token comment\">#安装cnpm的执行这个命令</span>\n<span class=\"token function\">yarn</span> <span class=\"token function\">add</span> hexo-web-push-notification <span class=\"token comment\">#安装yarn的执行这个命令</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n<p>紧接着再你的博客站点目录下的配置文件，而不是<em>主题配置文件</em>，添加以下配置：</p>\n<pre class=\"line-numbers language-yaml\" data-language=\"yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">webPushNotification</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">webpushrKey</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"your webpushr rest api key\"</span>\n  <span class=\"token key atrule\">webpushrAuthToken</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"your webpushr authorize token\"</span>\n  <span class=\"token key atrule\">trackingCode</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"AEGlpbdgvBCWXqXI6PtsUzobY7TLV9gwJU8bzMktrwfrSERg_xnLVbjpCw8x2GmFmi1ZcLTz0ni6OnX5MAwoM88\"</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n<p>其中 <code>webpushrKey</code>,<code>webpushrAuthToken</code> 和 <code>trackingCode</code> 的值在官网注册得到。</p>\n<h3 id=\"官网注册\">官网注册</h3>\n<p>点击右边的图标即可进入👉 ： <a target=\"_blank\" rel=\"noopener\" href=\"https://app.webpushr.com/signup\">传送门</a></p>\n<p>注册完之后，然后会让你重新登录，登录之后，然后填写相关的信息即可。</p>\n<ol>\n<li>填写图中所显示的相关网站信息，填写完之后，点击下一步</li>\n</ol>\n<p><img src=\"https://cimg1.17lai.site/data/2021/10/1220211012112936.png\" alt=\"\"></p>\n<blockquote>\n<p><code>Web push notications</code> 仅支持 HTTPS 的网站，不支持 HTTP 的网站</p>\n</blockquote>\n<p>根据网站类型，并根据网站指引进行操作，以 <code>Hexo</code> 为例</p>\n<p><img src=\"https://cimg1.17lai.site/data/2021/10/1220211012114232.png\" alt=\"\"></p>\n<blockquote>\n<p>info， 其中将第二步中所指的代码复制粘贴到你的 <code>footer.ejs</code> 或者 <code>layout.ejs</code>，对于 hexo 用户，建议将其加入 <code>index.ejs</code> 即可。因为主题的不同，所以代码添加的位置不同，简单的说，就是放在网站的 <code>&lt;/body&gt;</code> 标签之前，根据你的主题而言，自己添加。</p>\n</blockquote>\n<p>接着将以下代码插入到网页中就可以了。确保每一个你想要询问用户接受通知的页面都要包含以下代码。</p>\n<p>其中，上图步骤二中的代码有 <code>trackingCode</code> 的值，如下图中所标明的一长串字母。</p>\n<p><img src=\"https://cimg1.17lai.site/data/2021/10/1220211012114333.png\" alt=\"\"></p>\n<p>验证安装</p>\n<p><img src=\"https://cimg1.17lai.site/data/2021/10/1220211012114406.png\" alt=\"安装成功\"></p>\n<p>部署之后可能会遇到无法正常发送通知的情况.</p>\n<p>进入目录<code> node_modules/hexo-web-push-notification/index.js文件中第22行'summary': util.stripHTML(newPost.excerpt)</code>,这里取值取的是excerpt，改成summary即可。</p>\n<p>修改前</p>\n<pre class=\"line-numbers language-javascript\" data-language=\"javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">var</span> JSONFeed <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token string-property property\">'title'</span><span class=\"token operator\">:</span> newPost<span class=\"token punctuation\">.</span>title<span class=\"token punctuation\">,</span>\n        <span class=\"token string-property property\">'id'</span><span class=\"token operator\">:</span> newPost<span class=\"token punctuation\">.</span>path<span class=\"token punctuation\">,</span>\n        <span class=\"token string-property property\">'date_published'</span><span class=\"token operator\">:</span> newPost<span class=\"token punctuation\">.</span>date<span class=\"token punctuation\">.</span><span class=\"token function\">format</span><span class=\"token punctuation\">(</span><span class=\"token string\">'L'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string-property property\">'summary'</span><span class=\"token operator\">:</span> util<span class=\"token punctuation\">.</span><span class=\"token function\">stripHTML</span><span class=\"token punctuation\">(</span>newPost<span class=\"token punctuation\">.</span>excerpt<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string-property property\">'url'</span><span class=\"token operator\">:</span> newPost<span class=\"token punctuation\">.</span>permalink<span class=\"token punctuation\">,</span>\n        <span class=\"token string-property property\">'tags'</span><span class=\"token operator\">:</span> newPost<span class=\"token punctuation\">.</span>tags<span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">v</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token keyword\">return</span> v<span class=\"token punctuation\">.</span>name <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string-property property\">'categories'</span><span class=\"token operator\">:</span> newPost<span class=\"token punctuation\">.</span>categories<span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">v</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token keyword\">return</span> v<span class=\"token punctuation\">.</span>name <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<pre class=\"line-numbers language-javascript\" data-language=\"javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">var</span> JSONFeed <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token string-property property\">'title'</span><span class=\"token operator\">:</span> newPost<span class=\"token punctuation\">.</span>title<span class=\"token punctuation\">,</span>\n        <span class=\"token string-property property\">'id'</span><span class=\"token operator\">:</span> newPost<span class=\"token punctuation\">.</span>path<span class=\"token punctuation\">,</span>\n        <span class=\"token string-property property\">'date_published'</span><span class=\"token operator\">:</span> newPost<span class=\"token punctuation\">.</span>date<span class=\"token punctuation\">.</span><span class=\"token function\">format</span><span class=\"token punctuation\">(</span><span class=\"token string\">'L'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string-property property\">'summary'</span><span class=\"token operator\">:</span> util<span class=\"token punctuation\">.</span><span class=\"token function\">stripHTML</span><span class=\"token punctuation\">(</span>newPost<span class=\"token punctuation\">.</span>summary<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string-property property\">'url'</span><span class=\"token operator\">:</span> newPost<span class=\"token punctuation\">.</span>permalink<span class=\"token punctuation\">,</span>\n        <span class=\"token string-property property\">'tags'</span><span class=\"token operator\">:</span> newPost<span class=\"token punctuation\">.</span>tags<span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">v</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token keyword\">return</span> v<span class=\"token punctuation\">.</span>name <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string-property property\">'categories'</span><span class=\"token operator\">:</span> newPost<span class=\"token punctuation\">.</span>categories<span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">v</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token keyword\">return</span> v<span class=\"token punctuation\">.</span>name <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<h2 id=\"客服聊天窗口\">客服聊天窗口</h2>\n<p>1、在官网注册账号</p>\n<p>官网地址：<a target=\"_blank\" rel=\"noopener\" href=\"https://app.crisp.chat/initiate/signup/\">点我去crisp官网注册</a></p>\n<p>2、注册完成后设置</p>\n<p>登录刚才注册的账户——设置——网站设置——添加网站。</p>\n<p>添加完成之后就多了一行网站信息。点网站整合，就有不同的站的整合方式。</p>\n<p>比如：html方式</p>\n<p>就是复制JS代码片段到你的到<code>head</code>标签里。</p>\n<pre class=\"line-numbers language-javascript\" data-language=\"javascript\"><code class=\"language-javascript\"><span class=\"token operator\">&lt;</span>script type<span class=\"token operator\">=</span><span class=\"token string\">\"text/javascript\"</span><span class=\"token operator\">&gt;</span>window<span class=\"token punctuation\">.</span>$crisp<span class=\"token operator\">=</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>window<span class=\"token punctuation\">.</span><span class=\"token constant\">CRISP_WEBSITE_ID</span><span class=\"token operator\">=</span><span class=\"token string\">\"xxxxxxx-097e-402f-bb6b-xxxxxxx\"</span><span class=\"token punctuation\">;</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>d<span class=\"token operator\">=</span>document<span class=\"token punctuation\">;</span>s<span class=\"token operator\">=</span>d<span class=\"token punctuation\">.</span><span class=\"token function\">createElement</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"script\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>s<span class=\"token punctuation\">.</span>src<span class=\"token operator\">=</span><span class=\"token string\">\"https://client.crisp.chat/l.js\"</span><span class=\"token punctuation\">;</span>s<span class=\"token punctuation\">.</span>async<span class=\"token operator\">=</span><span class=\"token number\">1</span><span class=\"token punctuation\">;</span>d<span class=\"token punctuation\">.</span><span class=\"token function\">getElementsByTagName</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"head\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span><span class=\"token function\">appendChild</span><span class=\"token punctuation\">(</span>s<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>script<span class=\"token operator\">&gt;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p>3、其他的设置也<br>\n登录刚才注册的账户——设置——网站设置。<br>\n网站信息行——设置，自己根据需要设置即可，比如显示位置，颜色，自己的头像等。</p>\n<p>整个使用非常简单的。</p>\n<h2 id=\"使用Valine-Admin管理评论和评论提醒\">使用Valine-Admin管理评论和评论提醒</h2>\n<h3 id=\"使用\">使用</h3>\n<p>首先其他的不错说了，在阅读本篇文章之前你最好已经整合了<code>Valine</code>留言。</p>\n<p>由于我已经整合过了所以前面几个步骤的图片来源自@Valine-Admin</p>\n<p>首先登陆账号，找到云引擎在点击设置。</p>\n<blockquote>\n<p>推荐使用这个 <a target=\"_blank\" rel=\"noopener\" href=\"https://github.com/HCLonely/Valine-Admin.git\">HCLonely/Valine-Admin</a></p>\n<p>复制仓库地址：<a target=\"_blank\" rel=\"noopener\" href=\"https://github.com/DesertsP/Valine-Admin\">DesertsP/Valine-Admin</a></p>\n</blockquote>\n<p><img src=\"https://cimg1.17lai.site/data/2021/10/1920211019004314.png\" alt=\"img\"></p>\n<p>把git仓库地址房子代码库输入框中。</p>\n<p>切换到部署标签页，分支使用 master，点击部署。</p>\n<p><img src=\"https://cimg1.17lai.site/data/2021/10/1920211019005041.png\" alt=\"img\"></p>\n<p>接下来输入分支为<code>master</code></p>\n<p><img src=\"https://cimg1.17lai.site/data/2021/10/1920211019005044.png\" alt=\"img\"></p>\n<p>部署完成之后就是设置环境变量</p>\n<h3 id=\"环境变量\">环境变量</h3>\n<p>点击设置，找到自定义环境变量点击新增变量</p>\n<p><img src=\"https://cimg1.17lai.site/data/2021/10/1920211019005055.png\" alt=\"img\"></p>\n<ul>\n<li><code>SITE_NAME</code> : 网站名称。</li>\n<li><code>SITE_URL</code> : 网站地址, <strong>最后不要加 <code>/</code> 。</strong></li>\n<li><code>SMTP_USER</code> : SMTP 服务用户名，一般为邮箱地址。</li>\n<li><code>SMTP_PASS</code> : SMTP 密码，一般为授权码，而不是邮箱的登陆密码，请自行查询对应邮件服务商的获取方式</li>\n<li><code>SMTP_SERVICE</code> : 邮件服务提供商，支持 <code>QQ</code>、<code>163</code>、<code>126</code>、<code>Gmail</code>、<code>\"Yahoo\"</code>、<code>......</code> ，全部支持请参考 : <a target=\"_blank\" rel=\"noopener\" href=\"https://link.segmentfault.com/?enc=rwjb6jO8Z6x5%2FZZ1q6w%2FaQ%3D%3D.c2CTXx8YrmrN3w%2BVCYtYe%2FsUgGzhUYn%2F%2BbjgGgV2S51GBFVQiTGaYl5o5UaNumJuwdhJ%2FnoFgOTGclNq8Noalw%3D%3D\">Nodemailer Supported services</a>。 — <em>如这里没有你使用的邮件提供商，请查看<a target=\"_blank\" rel=\"noopener\" href=\"https://link.segmentfault.com/?enc=oVf5otkSfg0SdXBBeouLJA%3D%3D.0hcduHENfwuLs%2BpqYrgereNYPsZQ8kcfWmApG6UOpW2OmWOpqe8zkNwbXW9e7luhj6rGequwkCAxtpvF7Gyy9PwnwqwQ5vJrYfxsl%2FPocUV4bFVAFieliaIgGegSBiRXBRqzzewoxolE7zsPuIMxsNSs9EsJDNkovE4qn4Bk2Bv4KZs6ctloQUQGK0BxiN26\">自定义邮件服务器</a></em></li>\n<li><code>SENDER_NAME</code> : 寄件人名称。</li>\n<li><code>TO_EMAIL</code>：这个是填收邮件提醒的邮箱地址，若没有这个字段，则将邮件发到<code>SMTP_USER</code>。</li>\n<li><code>TEMPLATE_NAME</code>：设置提醒邮件的主题，目前内置了两款主题，分别为 <code>default</code> 与 <code>rainbow</code>。默认为 <code>default</code></li>\n</ul>\n<p>设置好以上变量之后 点击实例</p>\n<p><img src=\"https://cimg1.17lai.site/data/2021/10/1920211019005407.png\" alt=\"img\"></p>\n<p>然后重启项目，注意任何变动都要重启项目</p>\n<p>然后看一下效果</p>\n<p><img src=\"https://cimg1.17lai.site/data/2021/10/1920211019005102.png\" alt=\"img\"></p>\n<p>还不错</p>\n<h3 id=\"自定义后台\">自定义后台</h3>\n<blockquote>\n<p>首先需要设置管理员信息。访问管理员注册页面<code>https://云引擎域名/sign-up</code>，注册管理员登录信息，如：https://deserts-io.avosapps.us/sign-up</p>\n</blockquote>\n<p>点击设置然后点击Web主机域名找到自己的后台地址</p>\n<p><img src=\"https://cimg1.17lai.site/data/2021/10/1920211019005103.png\" alt=\"img\"></p>\n<p>然后在Usee表中增加账号， 只需要填写 <code>email</code>、<code>password</code>、<code>username</code> 其中邮箱必须设置为你的上面环境变量的邮箱</p>\n<p>设置完之后登录就能在你的后台管理评论</p>\n<h3 id=\"更多设置\">更多设置</h3>\n<h3 id=\"邮件通知模板\">邮件通知模板</h3>\n<blockquote>\n<p><a target=\"_blank\" rel=\"noopener\" href=\"https://github.com/HCLonely/Valine-Admin.git\">HCLonely/Valine-Admin</a> 时使用这个</p>\n</blockquote>\n<p><img src=\"https://cimg1.17lai.site/data/2022/03/2920220329103059.png\" alt=\"邮件通知演示\"></p>\n<p><strong>评论通知模板</strong></p>\n<pre class=\"line-numbers language-markup\" data-language=\"markup\"><code class=\"language-markup\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span>\n                            <span class=\"token special-attr\"><span class=\"token attr-name\">style</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>\n                                border-radius: 10px 10px 10px 10px;\n                                font-size: 13px;\n                                color: #555555;\n                                width: 666px;\n                                font-family: <span class=\"token punctuation\">'</span>Century Gothic<span class=\"token punctuation\">'</span>, <span class=\"token punctuation\">'</span>Trebuchet MS<span class=\"token punctuation\">'</span>, <span class=\"token punctuation\">'</span>Hiragino Sans GB<span class=\"token punctuation\">'</span>, 微软雅黑, <span class=\"token punctuation\">'</span>Microsoft Yahei<span class=\"token punctuation\">'</span>, Tahoma, Helvetica,\n                                    Arial, <span class=\"token punctuation\">'</span>SimSun<span class=\"token punctuation\">'</span>, sans-serif;\n                                margin: 50px auto;\n                                border: 1px solid #eee;\n                                max-width: 100%;\n                                background: #ffffff repeating-linear-gradient(-45deg, #fff, #fff 1.125rem, transparent 1.125rem, transparent 2.25rem);\n                                box-shadow: 0 1px 5px rgba(0, 0, 0, 0.15);\n                            <span class=\"token punctuation\">\"</span></span></span>\n                        <span class=\"token punctuation\">&gt;</span></span>\n                            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span>\n                                <span class=\"token special-attr\"><span class=\"token attr-name\">style</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>\n                                    width: 100%;\n                                    background: #49bdad;\n                                    color: #ffffff;\n                                    border-radius: 10px 10px 0 0;\n                                    background-image: -moz-linear-gradient(0deg, rgb(67, 198, 184), rgb(255, 209, 244));\n                                    background-image: -webkit-linear-gradient(0deg, rgb(67, 198, 184), rgb(255, 209, 244));\n                                    height: 66px;\n                                <span class=\"token punctuation\">\"</span></span></span>\n                            <span class=\"token punctuation\">&gt;</span></span>\n                                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span>\n                                    <span class=\"token special-attr\"><span class=\"token attr-name\">style</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>\n                                        font-size: 15px;\n                                        word-break: break-all;\n                                        padding: 23px 32px;\n                                        margin: 0;\n                                        background-color: hsla(0, 0%, 100%, 0.4);\n                                        border-radius: 10px 10px 0 0;\n                                    <span class=\"token punctuation\">\"</span></span></span>\n                                <span class=\"token punctuation\">&gt;</span></span>\n                                    您在<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>a</span> <span class=\"token special-attr\"><span class=\"token attr-name\">style</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span><span class=\"token value css language-css\"><span class=\"token property\">text-decoration</span><span class=\"token punctuation\">:</span> none<span class=\"token punctuation\">;</span> <span class=\"token property\">color</span><span class=\"token punctuation\">:</span> #ffffff</span><span class=\"token punctuation\">\"</span></span></span> <span class=\"token attr-name\">href</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>&lt;%=siteUrl%&gt;<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span> &lt;%=siteName%&gt; <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>a</span><span class=\"token punctuation\">&gt;</span></span>上的留言有新回复啦！\n                                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">&gt;</span></span>\n                            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">&gt;</span></span>\n                            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token special-attr\"><span class=\"token attr-name\">style</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span><span class=\"token value css language-css\"><span class=\"token property\">margin</span><span class=\"token punctuation\">:</span> 40px auto<span class=\"token punctuation\">;</span> <span class=\"token property\">width</span><span class=\"token punctuation\">:</span> 90%</span><span class=\"token punctuation\">\"</span></span></span><span class=\"token punctuation\">&gt;</span></span>\n                                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span><span class=\"token punctuation\">&gt;</span></span>&lt;%=pname%&gt; 同学，您曾在文章上发表评论：<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">&gt;</span></span>\n                                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span>\n                                    <span class=\"token special-attr\"><span class=\"token attr-name\">style</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>\n                                        background: #fafafa\n                                            repeating-linear-gradient(-45deg, #fff, #fff 1.125rem, transparent 1.125rem, transparent 2.25rem);\n                                        box-shadow: 0 2px 5px rgba(0, 0, 0, 0.15);\n                                        margin: 20px 0px;\n                                        padding: 15px;\n                                        border-radius: 5px;\n                                        font-size: 14px;\n                                        color: #555555;\n                                    <span class=\"token punctuation\">\"</span></span></span>\n                                <span class=\"token punctuation\">&gt;</span></span>\n                                    &lt;%-ptext%&gt;\n                                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">&gt;</span></span>\n                                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span><span class=\"token punctuation\">&gt;</span></span>&lt;%=name%&gt; 给您的回复如下：<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">&gt;</span></span>\n                                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span>\n                                    <span class=\"token special-attr\"><span class=\"token attr-name\">style</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>\n                                        background: #fafafa\n                                            repeating-linear-gradient(-45deg, #fff, #fff 1.125rem, transparent 1.125rem, transparent 2.25rem);\n                                        box-shadow: 0 2px 5px rgba(0, 0, 0, 0.15);\n                                        margin: 20px 0px;\n                                        padding: 15px;\n                                        border-radius: 5px;\n                                        font-size: 14px;\n                                        color: #555555;\n                                    <span class=\"token punctuation\">\"</span></span></span>\n                                <span class=\"token punctuation\">&gt;</span></span>\n                                    &lt;%-text%&gt;\n                                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">&gt;</span></span>\n                                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span><span class=\"token punctuation\">&gt;</span></span>\n                                    您可以点击 <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>a</span> <span class=\"token special-attr\"><span class=\"token attr-name\">style</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span><span class=\"token value css language-css\"><span class=\"token property\">text-decoration</span><span class=\"token punctuation\">:</span> none<span class=\"token punctuation\">;</span> <span class=\"token property\">color</span><span class=\"token punctuation\">:</span> #12addb</span><span class=\"token punctuation\">\"</span></span></span> <span class=\"token attr-name\">href</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>&lt;%=url%&gt;<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>查看回复的完整內容 <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>a</span><span class=\"token punctuation\">&gt;</span></span>，欢迎再次光临\n                                    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>a</span> <span class=\"token special-attr\"><span class=\"token attr-name\">style</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span><span class=\"token value css language-css\"><span class=\"token property\">text-decoration</span><span class=\"token punctuation\">:</span> none<span class=\"token punctuation\">;</span> <span class=\"token property\">color</span><span class=\"token punctuation\">:</span> #12addb</span><span class=\"token punctuation\">\"</span></span></span> <span class=\"token attr-name\">href</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>&lt;%=siteUrl%&gt;<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span> &lt;%=siteName%&gt; <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>a</span><span class=\"token punctuation\">&gt;</span></span>。\n                                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">&gt;</span></span>\n                                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>style</span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>text/css<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span><span class=\"token style\"><span class=\"token language-css\">\n                                    <span class=\"token selector\">a:link</span> <span class=\"token punctuation\">{</span>\n                                        <span class=\"token property\">text-decoration</span><span class=\"token punctuation\">:</span> none<span class=\"token punctuation\">;</span>\n                                    <span class=\"token punctuation\">}</span>\n                                    <span class=\"token selector\">a:visited</span> <span class=\"token punctuation\">{</span>\n                                        <span class=\"token property\">text-decoration</span><span class=\"token punctuation\">:</span> none<span class=\"token punctuation\">;</span>\n                                    <span class=\"token punctuation\">}</span>\n                                    <span class=\"token selector\">a:hover</span> <span class=\"token punctuation\">{</span>\n                                        <span class=\"token property\">text-decoration</span><span class=\"token punctuation\">:</span> none<span class=\"token punctuation\">;</span>\n                                    <span class=\"token punctuation\">}</span>\n                                    <span class=\"token selector\">a:active</span> <span class=\"token punctuation\">{</span>\n                                        <span class=\"token property\">text-decoration</span><span class=\"token punctuation\">:</span> none<span class=\"token punctuation\">;</span>\n                                    <span class=\"token punctuation\">}</span>\n                                </span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>style</span><span class=\"token punctuation\">&gt;</span></span>\n                            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">&gt;</span></span>\n                        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">&gt;</span></span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<p><strong>博主回复通知模板</strong></p>\n<pre class=\"line-numbers language-markup\" data-language=\"markup\"><code class=\"language-markup\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span>\n                            <span class=\"token special-attr\"><span class=\"token attr-name\">style</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>\n                                border-radius: 10px 10px 10px 10px;\n                                font-size: 13px;\n                                color: #555555;\n                                width: 666px;\n                                font-family: <span class=\"token punctuation\">'</span>Century Gothic<span class=\"token punctuation\">'</span>, <span class=\"token punctuation\">'</span>Trebuchet MS<span class=\"token punctuation\">'</span>, <span class=\"token punctuation\">'</span>Hiragino Sans GB<span class=\"token punctuation\">'</span>, 微软雅黑, <span class=\"token punctuation\">'</span>Microsoft Yahei<span class=\"token punctuation\">'</span>, Tahoma, Helvetica,\n                                    Arial, <span class=\"token punctuation\">'</span>SimSun<span class=\"token punctuation\">'</span>, sans-serif;\n                                margin: 50px auto;\n                                border: 1px solid #eee;\n                                max-width: 100%;\n                                background: #ffffff repeating-linear-gradient(-45deg, #fff, #fff 1.125rem, transparent 1.125rem, transparent 2.25rem);\n                                box-shadow: 0 1px 5px rgba(0, 0, 0, 0.15);\n                            <span class=\"token punctuation\">\"</span></span></span>\n                        <span class=\"token punctuation\">&gt;</span></span>\n                            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span>\n                                <span class=\"token special-attr\"><span class=\"token attr-name\">style</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>\n                                    width: 100%;\n                                    background: #49bdad;\n                                    color: #ffffff;\n                                    border-radius: 10px 10px 0 0;\n                                    background-image: -moz-linear-gradient(0deg, rgb(67, 198, 184), rgb(255, 209, 244));\n                                    background-image: -webkit-linear-gradient(0deg, rgb(67, 198, 184), rgb(255, 209, 244));\n                                    height: 66px;\n                                <span class=\"token punctuation\">\"</span></span></span>\n                            <span class=\"token punctuation\">&gt;</span></span>\n                                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span>\n                                    <span class=\"token special-attr\"><span class=\"token attr-name\">style</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>\n                                        font-size: 15px;\n                                        word-break: break-all;\n                                        padding: 23px 32px;\n                                        margin: 0;\n                                        background-color: hsla(0, 0%, 100%, 0.4);\n                                        border-radius: 10px 10px 0 0;\n                                    <span class=\"token punctuation\">\"</span></span></span>\n                                <span class=\"token punctuation\">&gt;</span></span>\n                                    您的<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>a</span> <span class=\"token special-attr\"><span class=\"token attr-name\">style</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span><span class=\"token value css language-css\"><span class=\"token property\">text-decoration</span><span class=\"token punctuation\">:</span> none<span class=\"token punctuation\">;</span> <span class=\"token property\">color</span><span class=\"token punctuation\">:</span> #ffffff</span><span class=\"token punctuation\">\"</span></span></span> <span class=\"token attr-name\">href</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>&lt;%=siteUrl%&gt;<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span> &lt;%=siteName%&gt; <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>a</span><span class=\"token punctuation\">&gt;</span></span>上有新的评论啦！\n                                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">&gt;</span></span>\n                            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">&gt;</span></span>\n                            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token special-attr\"><span class=\"token attr-name\">style</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span><span class=\"token value css language-css\"><span class=\"token property\">margin</span><span class=\"token punctuation\">:</span> 40px auto<span class=\"token punctuation\">;</span> <span class=\"token property\">width</span><span class=\"token punctuation\">:</span> 90%</span><span class=\"token punctuation\">\"</span></span></span><span class=\"token punctuation\">&gt;</span></span>\n                                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span><span class=\"token punctuation\">&gt;</span></span>&lt;%=name%&gt; 发表评论：<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">&gt;</span></span>\n                                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span>\n                                    <span class=\"token special-attr\"><span class=\"token attr-name\">style</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>\n                                        background: #fafafa\n                                            repeating-linear-gradient(-45deg, #fff, #fff 1.125rem, transparent 1.125rem, transparent 2.25rem);\n                                        box-shadow: 0 2px 5px rgba(0, 0, 0, 0.15);\n                                        margin: 20px 0px;\n                                        padding: 15px;\n                                        border-radius: 5px;\n                                        font-size: 14px;\n                                        color: #555555;\n                                    <span class=\"token punctuation\">\"</span></span></span>\n                                <span class=\"token punctuation\">&gt;</span></span>\n                                    &lt;%-text%&gt;\n                                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">&gt;</span></span>\n                                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span><span class=\"token punctuation\">&gt;</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>a</span> <span class=\"token special-attr\"><span class=\"token attr-name\">style</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span><span class=\"token value css language-css\"><span class=\"token property\">text-decoration</span><span class=\"token punctuation\">:</span> none<span class=\"token punctuation\">;</span> <span class=\"token property\">color</span><span class=\"token punctuation\">:</span> #12addb</span><span class=\"token punctuation\">\"</span></span></span> <span class=\"token attr-name\">href</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>&lt;%=url%&gt;<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">target</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>_blank<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>[查看评论]<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>a</span><span class=\"token punctuation\">&gt;</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">&gt;</span></span>\n                                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>style</span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>text/css<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span><span class=\"token style\"><span class=\"token language-css\">\n                                    <span class=\"token selector\">a:link</span> <span class=\"token punctuation\">{</span>\n                                        <span class=\"token property\">text-decoration</span><span class=\"token punctuation\">:</span> none<span class=\"token punctuation\">;</span>\n                                    <span class=\"token punctuation\">}</span>\n                                    <span class=\"token selector\">a:visited</span> <span class=\"token punctuation\">{</span>\n                                        <span class=\"token property\">text-decoration</span><span class=\"token punctuation\">:</span> none<span class=\"token punctuation\">;</span>\n                                    <span class=\"token punctuation\">}</span>\n                                    <span class=\"token selector\">a:hover</span> <span class=\"token punctuation\">{</span>\n                                        <span class=\"token property\">text-decoration</span><span class=\"token punctuation\">:</span> none<span class=\"token punctuation\">;</span>\n                                    <span class=\"token punctuation\">}</span>\n                                    <span class=\"token selector\">a:active</span> <span class=\"token punctuation\">{</span>\n                                        <span class=\"token property\">text-decoration</span><span class=\"token punctuation\">:</span> none<span class=\"token punctuation\">;</span>\n                                    <span class=\"token punctuation\">}</span>\n                                </span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>style</span><span class=\"token punctuation\">&gt;</span></span>\n                            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">&gt;</span></span>\n                        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">&gt;</span></span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<blockquote>\n<p>使用 <a target=\"_blank\" rel=\"noopener\" href=\"https://github.com/DesertsP/Valine-Admin\">DesertsP/Valine-Admin</a> 时使用下面配置</p>\n</blockquote>\n<p>邮件通知模板在云引擎环境变量中设定，可自定义通知邮件标题及内容模板。</p>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:left\">环境变量</th>\n<th style=\"text-align:left\">示例</th>\n<th style=\"text-align:left\">说明</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:left\"><code>MAIL_SUBJECT</code></td>\n<td style=\"text-align:left\"><code>${PARENT_NICK}，您在${SITE_NAME}上的评论收到了回复</code></td>\n<td style=\"text-align:left\">[可选]@通知邮件主题（标题）模板</td>\n</tr>\n<tr>\n<td style=\"text-align:left\"><code>MAIL_TEMPLATE</code></td>\n<td style=\"text-align:left\">见下文</td>\n<td style=\"text-align:left\">[可选]@通知邮件内容模板</td>\n</tr>\n<tr>\n<td style=\"text-align:left\"><code>MAIL_SUBJECT_ADMIN</code></td>\n<td style=\"text-align:left\"><code>${SITE_NAME}上有新评论了</code></td>\n<td style=\"text-align:left\">[可选]博主邮件通知主题模板</td>\n</tr>\n<tr>\n<td style=\"text-align:left\"><code>MAIL_TEMPLATE_ADMIN</code></td>\n<td style=\"text-align:left\">见下文</td>\n<td style=\"text-align:left\">[可选]博主邮件通知内容模板</td>\n</tr>\n</tbody>\n</table>\n<p>邮件通知包含两种，分别是被@通知和博主通知，这两种模板都可以完全自定义。默认使用经典的蓝色风格模板（样式来源未知）。</p>\n<p>默认被@通知邮件内容模板如下：</p>\n<pre class=\"line-numbers language-markup\" data-language=\"markup\"><code class=\"language-markup\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token special-attr\"><span class=\"token attr-name\">style</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span><span class=\"token value css language-css\"><span class=\"token property\">border-top</span><span class=\"token punctuation\">:</span>2px solid #12ADDB<span class=\"token punctuation\">;</span><span class=\"token property\">box-shadow</span><span class=\"token punctuation\">:</span>0 1px 3px #AAAAAA<span class=\"token punctuation\">;</span><span class=\"token property\">line-height</span><span class=\"token punctuation\">:</span>180%<span class=\"token punctuation\">;</span><span class=\"token property\">padding</span><span class=\"token punctuation\">:</span>0 15px 12px<span class=\"token punctuation\">;</span><span class=\"token property\">margin</span><span class=\"token punctuation\">:</span>50px auto<span class=\"token punctuation\">;</span><span class=\"token property\">font-size</span><span class=\"token punctuation\">:</span>12px<span class=\"token punctuation\">;</span></span><span class=\"token punctuation\">\"</span></span></span><span class=\"token punctuation\">&gt;</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>h2</span> <span class=\"token special-attr\"><span class=\"token attr-name\">style</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span><span class=\"token value css language-css\"><span class=\"token property\">border-bottom</span><span class=\"token punctuation\">:</span>1px solid #DDD<span class=\"token punctuation\">;</span><span class=\"token property\">font-size</span><span class=\"token punctuation\">:</span>14px<span class=\"token punctuation\">;</span><span class=\"token property\">font-weight</span><span class=\"token punctuation\">:</span>normal<span class=\"token punctuation\">;</span><span class=\"token property\">padding</span><span class=\"token punctuation\">:</span>13px 0 10px 8px<span class=\"token punctuation\">;</span></span><span class=\"token punctuation\">\"</span></span></span><span class=\"token punctuation\">&gt;</span></span>您在<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>a</span> <span class=\"token special-attr\"><span class=\"token attr-name\">style</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span><span class=\"token value css language-css\"><span class=\"token property\">text-decoration</span><span class=\"token punctuation\">:</span>none<span class=\"token punctuation\">;</span><span class=\"token property\">color</span><span class=\"token punctuation\">:</span> #12ADDB<span class=\"token punctuation\">;</span></span><span class=\"token punctuation\">\"</span></span></span> <span class=\"token attr-name\">href</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>${SITE_URL}<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">target</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>_blank<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>            ${SITE_NAME}<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>a</span><span class=\"token punctuation\">&gt;</span></span>上的评论有了新的回复<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>h2</span><span class=\"token punctuation\">&gt;</span></span> ${PARENT_NICK} 同学，您曾发表评论：<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token special-attr\"><span class=\"token attr-name\">style</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span><span class=\"token value css language-css\"><span class=\"token property\">padding</span><span class=\"token punctuation\">:</span>0 12px 0 12px<span class=\"token punctuation\">;</span><span class=\"token property\">margin-top</span><span class=\"token punctuation\">:</span>18px</span><span class=\"token punctuation\">\"</span></span></span><span class=\"token punctuation\">&gt;</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token special-attr\"><span class=\"token attr-name\">style</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span><span class=\"token value css language-css\"><span class=\"token property\">background-color</span><span class=\"token punctuation\">:</span> #f5f5f5<span class=\"token punctuation\">;</span><span class=\"token property\">padding</span><span class=\"token punctuation\">:</span> 10px 15px<span class=\"token punctuation\">;</span><span class=\"token property\">margin</span><span class=\"token punctuation\">:</span>18px 0<span class=\"token punctuation\">;</span><span class=\"token property\">word-wrap</span><span class=\"token punctuation\">:</span>break-word<span class=\"token punctuation\">;</span></span><span class=\"token punctuation\">\"</span></span></span><span class=\"token punctuation\">&gt;</span></span>            ${PARENT_COMMENT}<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">&gt;</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span><span class=\"token punctuation\">&gt;</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>strong</span><span class=\"token punctuation\">&gt;</span></span>${NICK}<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>strong</span><span class=\"token punctuation\">&gt;</span></span>回复说：<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">&gt;</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token special-attr\"><span class=\"token attr-name\">style</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span><span class=\"token value css language-css\"><span class=\"token property\">background-color</span><span class=\"token punctuation\">:</span> #f5f5f5<span class=\"token punctuation\">;</span><span class=\"token property\">padding</span><span class=\"token punctuation\">:</span> 10px 15px<span class=\"token punctuation\">;</span><span class=\"token property\">margin</span><span class=\"token punctuation\">:</span>18px 0<span class=\"token punctuation\">;</span><span class=\"token property\">word-wrap</span><span class=\"token punctuation\">:</span>break-word<span class=\"token punctuation\">;</span></span><span class=\"token punctuation\">\"</span></span></span><span class=\"token punctuation\">&gt;</span></span> ${COMMENT}<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">&gt;</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span><span class=\"token punctuation\">&gt;</span></span>您可以点击<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>a</span> <span class=\"token special-attr\"><span class=\"token attr-name\">style</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span><span class=\"token value css language-css\"><span class=\"token property\">text-decoration</span><span class=\"token punctuation\">:</span>none<span class=\"token punctuation\">;</span> <span class=\"token property\">color</span><span class=\"token punctuation\">:</span>#12addb</span><span class=\"token punctuation\">\"</span></span></span> <span class=\"token attr-name\">href</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>${POST_URL}<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">target</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>_blank<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>查看回复的完整內容<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>a</span><span class=\"token punctuation\">&gt;</span></span>，欢迎再次光临<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>a</span> <span class=\"token special-attr\"><span class=\"token attr-name\">style</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span><span class=\"token value css language-css\"><span class=\"token property\">text-decoration</span><span class=\"token punctuation\">:</span>none<span class=\"token punctuation\">;</span> <span class=\"token property\">color</span><span class=\"token punctuation\">:</span>#12addb</span><span class=\"token punctuation\">\"</span></span></span> <span class=\"token attr-name\">href</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>${SITE_URL}<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">target</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>_blank<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>${SITE_NAME}<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>a</span><span class=\"token punctuation\">&gt;</span></span>。<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>br</span><span class=\"token punctuation\">&gt;</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">&gt;</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">&gt;</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">&gt;</span></span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p>效果如下图：</p>\n<p><img src=\"https://cimg1.17lai.site/data/2021/10/1920211019005650.png\" alt=\"mail-blue-template\"></p>\n<p><strong>mail-blue-template</strong></p>\n<p>@通知模板中的可用变量如下（注，这是邮件模板变量，是指嵌入到HTML邮件模板中的变量，请勿与云引擎环境变量混淆）：</p>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:left\">模板变量</th>\n<th style=\"text-align:left\">说明</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:left\">SITE_NAME</td>\n<td style=\"text-align:left\">博客名称</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">SITE_URL</td>\n<td style=\"text-align:left\">博客首页地址</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">POST_URL</td>\n<td style=\"text-align:left\">文章地址（完整路径）</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">PARENT_NICK</td>\n<td style=\"text-align:left\">收件人昵称（被@者，父级评论人）</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">PARENT_COMMENT</td>\n<td style=\"text-align:left\">父级评论内容</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">NICK</td>\n<td style=\"text-align:left\">新评论者昵称</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">COMMENT</td>\n<td style=\"text-align:left\">新评论内容</td>\n</tr>\n</tbody>\n</table>\n<p>默认博主通知邮件内容模板如下：</p>\n<pre class=\"line-numbers language-markup\" data-language=\"markup\"><code class=\"language-markup\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token special-attr\"><span class=\"token attr-name\">style</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span><span class=\"token value css language-css\"><span class=\"token property\">border-top</span><span class=\"token punctuation\">:</span>2px solid #12ADDB<span class=\"token punctuation\">;</span><span class=\"token property\">box-shadow</span><span class=\"token punctuation\">:</span>0 1px 3px #AAAAAA<span class=\"token punctuation\">;</span><span class=\"token property\">line-height</span><span class=\"token punctuation\">:</span>180%<span class=\"token punctuation\">;</span><span class=\"token property\">padding</span><span class=\"token punctuation\">:</span>0 15px 12px<span class=\"token punctuation\">;</span><span class=\"token property\">margin</span><span class=\"token punctuation\">:</span>50px auto<span class=\"token punctuation\">;</span><span class=\"token property\">font-size</span><span class=\"token punctuation\">:</span>12px<span class=\"token punctuation\">;</span></span><span class=\"token punctuation\">\"</span></span></span><span class=\"token punctuation\">&gt;</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>h2</span> <span class=\"token special-attr\"><span class=\"token attr-name\">style</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span><span class=\"token value css language-css\"><span class=\"token property\">border-bottom</span><span class=\"token punctuation\">:</span>1px solid #DDD<span class=\"token punctuation\">;</span><span class=\"token property\">font-size</span><span class=\"token punctuation\">:</span>14px<span class=\"token punctuation\">;</span><span class=\"token property\">font-weight</span><span class=\"token punctuation\">:</span>normal<span class=\"token punctuation\">;</span><span class=\"token property\">padding</span><span class=\"token punctuation\">:</span>13px 0 10px 8px<span class=\"token punctuation\">;</span></span><span class=\"token punctuation\">\"</span></span></span><span class=\"token punctuation\">&gt;</span></span>您在<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>a</span> <span class=\"token special-attr\"><span class=\"token attr-name\">style</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span><span class=\"token value css language-css\"><span class=\"token property\">text-decoration</span><span class=\"token punctuation\">:</span>none<span class=\"token punctuation\">;</span><span class=\"token property\">color</span><span class=\"token punctuation\">:</span> #12ADDB<span class=\"token punctuation\">;</span></span><span class=\"token punctuation\">\"</span></span></span> <span class=\"token attr-name\">href</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>${SITE_URL}<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">target</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>_blank<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>${SITE_NAME}<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>a</span><span class=\"token punctuation\">&gt;</span></span>上的文章有了新的评论<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>h2</span><span class=\"token punctuation\">&gt;</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span><span class=\"token punctuation\">&gt;</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>strong</span><span class=\"token punctuation\">&gt;</span></span>${NICK}<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>strong</span><span class=\"token punctuation\">&gt;</span></span>回复说：<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">&gt;</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token special-attr\"><span class=\"token attr-name\">style</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span><span class=\"token value css language-css\"><span class=\"token property\">background-color</span><span class=\"token punctuation\">:</span> #f5f5f5<span class=\"token punctuation\">;</span><span class=\"token property\">padding</span><span class=\"token punctuation\">:</span> 10px 15px<span class=\"token punctuation\">;</span><span class=\"token property\">margin</span><span class=\"token punctuation\">:</span>18px 0<span class=\"token punctuation\">;</span><span class=\"token property\">word-wrap</span><span class=\"token punctuation\">:</span>break-word<span class=\"token punctuation\">;</span></span><span class=\"token punctuation\">\"</span></span></span><span class=\"token punctuation\">&gt;</span></span> ${COMMENT}<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">&gt;</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span><span class=\"token punctuation\">&gt;</span></span>您可以点击<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>a</span> <span class=\"token special-attr\"><span class=\"token attr-name\">style</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span><span class=\"token value css language-css\"><span class=\"token property\">text-decoration</span><span class=\"token punctuation\">:</span>none<span class=\"token punctuation\">;</span> <span class=\"token property\">color</span><span class=\"token punctuation\">:</span>#12addb</span><span class=\"token punctuation\">\"</span></span></span> <span class=\"token attr-name\">href</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>${POST_URL}<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">target</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>_blank<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>查看回复的完整內容<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>a</span><span class=\"token punctuation\">&gt;</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>br</span><span class=\"token punctuation\">&gt;</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">&gt;</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">&gt;</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">&gt;</span></span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p>博主通知邮件模板中的可用变量与@通知中的基本一致，<strong><code>PARENT_NICK</code> 和 <code>PARENT_COMMENT</code> 变量不再可用。</strong></p>\n<p>这里还提供一个彩虹风格的@通知邮件模板代码：</p>\n<pre class=\"line-numbers language-markup\" data-language=\"markup\"><code class=\"language-markup\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token special-attr\"><span class=\"token attr-name\">style</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span><span class=\"token value css language-css\"><span class=\"token property\">border-radius</span><span class=\"token punctuation\">:</span> 10px 10px 10px 10px<span class=\"token punctuation\">;</span><span class=\"token property\">font-size</span><span class=\"token punctuation\">:</span>13px<span class=\"token punctuation\">;</span>    <span class=\"token property\">color</span><span class=\"token punctuation\">:</span> #555555<span class=\"token punctuation\">;</span><span class=\"token property\">width</span><span class=\"token punctuation\">:</span> 666px<span class=\"token punctuation\">;</span><span class=\"token property\">font-family</span><span class=\"token punctuation\">:</span><span class=\"token string\">'Century Gothic'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'Trebuchet MS'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'Hiragino Sans GB'</span><span class=\"token punctuation\">,</span>微软雅黑<span class=\"token punctuation\">,</span><span class=\"token string\">'Microsoft Yahei'</span><span class=\"token punctuation\">,</span>Tahoma<span class=\"token punctuation\">,</span>Helvetica<span class=\"token punctuation\">,</span>Arial<span class=\"token punctuation\">,</span><span class=\"token string\">'SimSun'</span><span class=\"token punctuation\">,</span>sans-serif<span class=\"token punctuation\">;</span><span class=\"token property\">margin</span><span class=\"token punctuation\">:</span>50px auto<span class=\"token punctuation\">;</span><span class=\"token property\">border</span><span class=\"token punctuation\">:</span>1px solid #eee<span class=\"token punctuation\">;</span><span class=\"token property\">max-width</span><span class=\"token punctuation\">:</span>100%<span class=\"token punctuation\">;</span><span class=\"token property\">background</span><span class=\"token punctuation\">:</span> #ffffff <span class=\"token function\">repeating-linear-gradient</span><span class=\"token punctuation\">(</span>-45deg<span class=\"token punctuation\">,</span>#fff<span class=\"token punctuation\">,</span>#fff 1.125rem<span class=\"token punctuation\">,</span>transparent 1.125rem<span class=\"token punctuation\">,</span>transparent 2.25rem<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span class=\"token property\">box-shadow</span><span class=\"token punctuation\">:</span> 0 1px 5px <span class=\"token function\">rgba</span><span class=\"token punctuation\">(</span>0<span class=\"token punctuation\">,</span> 0<span class=\"token punctuation\">,</span> 0<span class=\"token punctuation\">,</span> 0.15<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></span><span class=\"token punctuation\">\"</span></span></span><span class=\"token punctuation\">&gt;</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token special-attr\"><span class=\"token attr-name\">style</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span><span class=\"token value css language-css\"><span class=\"token property\">width</span><span class=\"token punctuation\">:</span>100%<span class=\"token punctuation\">;</span><span class=\"token property\">background</span><span class=\"token punctuation\">:</span>#49BDAD<span class=\"token punctuation\">;</span><span class=\"token property\">color</span><span class=\"token punctuation\">:</span>#ffffff<span class=\"token punctuation\">;</span><span class=\"token property\">border-radius</span><span class=\"token punctuation\">:</span> 10px 10px 0 0<span class=\"token punctuation\">;</span><span class=\"token property\">background-image</span><span class=\"token punctuation\">:</span> <span class=\"token function\">-moz-linear-gradient</span><span class=\"token punctuation\">(</span>0deg<span class=\"token punctuation\">,</span> <span class=\"token function\">rgb</span><span class=\"token punctuation\">(</span>67<span class=\"token punctuation\">,</span> 198<span class=\"token punctuation\">,</span> 184<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token function\">rgb</span><span class=\"token punctuation\">(</span>255<span class=\"token punctuation\">,</span> 209<span class=\"token punctuation\">,</span> 244<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span class=\"token property\">background-image</span><span class=\"token punctuation\">:</span> <span class=\"token function\">-webkit-linear-gradient</span><span class=\"token punctuation\">(</span>0deg<span class=\"token punctuation\">,</span> <span class=\"token function\">rgb</span><span class=\"token punctuation\">(</span>67<span class=\"token punctuation\">,</span> 198<span class=\"token punctuation\">,</span> 184<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token function\">rgb</span><span class=\"token punctuation\">(</span>255<span class=\"token punctuation\">,</span> 209<span class=\"token punctuation\">,</span> 244<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span class=\"token property\">height</span><span class=\"token punctuation\">:</span> 66px<span class=\"token punctuation\">;</span></span><span class=\"token punctuation\">\"</span></span></span><span class=\"token punctuation\">&gt;</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span> <span class=\"token special-attr\"><span class=\"token attr-name\">style</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span><span class=\"token value css language-css\"><span class=\"token property\">font-size</span><span class=\"token punctuation\">:</span>15px<span class=\"token punctuation\">;</span><span class=\"token property\">word-break</span><span class=\"token punctuation\">:</span>break-all<span class=\"token punctuation\">;</span><span class=\"token property\">padding</span><span class=\"token punctuation\">:</span> 23px 32px<span class=\"token punctuation\">;</span><span class=\"token property\">margin</span><span class=\"token punctuation\">:</span>0<span class=\"token punctuation\">;</span><span class=\"token property\">background-color</span><span class=\"token punctuation\">:</span> <span class=\"token function\">hsla</span><span class=\"token punctuation\">(</span>0<span class=\"token punctuation\">,</span>0%<span class=\"token punctuation\">,</span>100%<span class=\"token punctuation\">,</span>.4<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span class=\"token property\">border-radius</span><span class=\"token punctuation\">:</span> 10px 10px 0 0<span class=\"token punctuation\">;</span></span><span class=\"token punctuation\">\"</span></span></span><span class=\"token punctuation\">&gt;</span></span>您在<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>a</span> <span class=\"token special-attr\"><span class=\"token attr-name\">style</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span><span class=\"token value css language-css\"><span class=\"token property\">text-decoration</span><span class=\"token punctuation\">:</span>none<span class=\"token punctuation\">;</span><span class=\"token property\">color</span><span class=\"token punctuation\">:</span> #ffffff<span class=\"token punctuation\">;</span></span><span class=\"token punctuation\">\"</span></span></span> <span class=\"token attr-name\">href</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>${SITE_URL}<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span> ${SITE_NAME}<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>a</span><span class=\"token punctuation\">&gt;</span></span>上的留言有新回复啦！<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">&gt;</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">&gt;</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token special-attr\"><span class=\"token attr-name\">style</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span><span class=\"token value css language-css\"><span class=\"token property\">margin</span><span class=\"token punctuation\">:</span>40px auto<span class=\"token punctuation\">;</span><span class=\"token property\">width</span><span class=\"token punctuation\">:</span>90%</span><span class=\"token punctuation\">\"</span></span></span><span class=\"token punctuation\">&gt;</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span><span class=\"token punctuation\">&gt;</span></span>${PARENT_NICK} 同学，您曾在文章上发表评论：<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">&gt;</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token special-attr\"><span class=\"token attr-name\">style</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span><span class=\"token value css language-css\"><span class=\"token property\">background</span><span class=\"token punctuation\">:</span> #fafafa <span class=\"token function\">repeating-linear-gradient</span><span class=\"token punctuation\">(</span>-45deg<span class=\"token punctuation\">,</span>#fff<span class=\"token punctuation\">,</span>#fff 1.125rem<span class=\"token punctuation\">,</span>transparent 1.125rem<span class=\"token punctuation\">,</span>transparent 2.25rem<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span class=\"token property\">box-shadow</span><span class=\"token punctuation\">:</span> 0 2px 5px <span class=\"token function\">rgba</span><span class=\"token punctuation\">(</span>0<span class=\"token punctuation\">,</span> 0<span class=\"token punctuation\">,</span> 0<span class=\"token punctuation\">,</span> 0.15<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span class=\"token property\">margin</span><span class=\"token punctuation\">:</span>20px 0px<span class=\"token punctuation\">;</span><span class=\"token property\">padding</span><span class=\"token punctuation\">:</span>15px<span class=\"token punctuation\">;</span><span class=\"token property\">border-radius</span><span class=\"token punctuation\">:</span>5px<span class=\"token punctuation\">;</span><span class=\"token property\">font-size</span><span class=\"token punctuation\">:</span>14px<span class=\"token punctuation\">;</span><span class=\"token property\">color</span><span class=\"token punctuation\">:</span>#555555<span class=\"token punctuation\">;</span></span><span class=\"token punctuation\">\"</span></span></span><span class=\"token punctuation\">&gt;</span></span>${PARENT_COMMENT}<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">&gt;</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span><span class=\"token punctuation\">&gt;</span></span>${NICK} 给您的回复如下：<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">&gt;</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token special-attr\"><span class=\"token attr-name\">style</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span><span class=\"token value css language-css\"><span class=\"token property\">background</span><span class=\"token punctuation\">:</span> #fafafa <span class=\"token function\">repeating-linear-gradient</span><span class=\"token punctuation\">(</span>-45deg<span class=\"token punctuation\">,</span>#fff<span class=\"token punctuation\">,</span>#fff 1.125rem<span class=\"token punctuation\">,</span>transparent 1.125rem<span class=\"token punctuation\">,</span>transparent 2.25rem<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span class=\"token property\">box-shadow</span><span class=\"token punctuation\">:</span> 0 2px 5px <span class=\"token function\">rgba</span><span class=\"token punctuation\">(</span>0<span class=\"token punctuation\">,</span> 0<span class=\"token punctuation\">,</span> 0<span class=\"token punctuation\">,</span> 0.15<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span class=\"token property\">margin</span><span class=\"token punctuation\">:</span>20px 0px<span class=\"token punctuation\">;</span><span class=\"token property\">padding</span><span class=\"token punctuation\">:</span>15px<span class=\"token punctuation\">;</span><span class=\"token property\">border-radius</span><span class=\"token punctuation\">:</span>5px<span class=\"token punctuation\">;</span><span class=\"token property\">font-size</span><span class=\"token punctuation\">:</span>14px<span class=\"token punctuation\">;</span><span class=\"token property\">color</span><span class=\"token punctuation\">:</span>#555555<span class=\"token punctuation\">;</span></span><span class=\"token punctuation\">\"</span></span></span><span class=\"token punctuation\">&gt;</span></span>${COMMENT}<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">&gt;</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span><span class=\"token punctuation\">&gt;</span></span>您可以点击<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>a</span> <span class=\"token special-attr\"><span class=\"token attr-name\">style</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span><span class=\"token value css language-css\"><span class=\"token property\">text-decoration</span><span class=\"token punctuation\">:</span>none<span class=\"token punctuation\">;</span> <span class=\"token property\">color</span><span class=\"token punctuation\">:</span>#12addb</span><span class=\"token punctuation\">\"</span></span></span> <span class=\"token attr-name\">href</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>${POST_URL}#comments<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>查看回复的完整內容<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>a</span><span class=\"token punctuation\">&gt;</span></span>，欢迎再次光临<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>a</span> <span class=\"token special-attr\"><span class=\"token attr-name\">style</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span><span class=\"token value css language-css\"><span class=\"token property\">text-decoration</span><span class=\"token punctuation\">:</span>none<span class=\"token punctuation\">;</span> <span class=\"token property\">color</span><span class=\"token punctuation\">:</span>#12addb</span><span class=\"token punctuation\">\"</span></span></span>                <span class=\"token attr-name\">href</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>${SITE_URL}<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span> ${SITE_NAME}<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>a</span><span class=\"token punctuation\">&gt;</span></span>。<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">&gt;</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>style</span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>text/css<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span><span class=\"token style\"><span class=\"token language-css\"><span class=\"token selector\">a:link</span><span class=\"token punctuation\">{</span><span class=\"token property\">text-decoration</span><span class=\"token punctuation\">:</span>none<span class=\"token punctuation\">}</span><span class=\"token selector\">a:visited</span><span class=\"token punctuation\">{</span><span class=\"token property\">text-decoration</span><span class=\"token punctuation\">:</span>none<span class=\"token punctuation\">}</span><span class=\"token selector\">a:hover</span><span class=\"token punctuation\">{</span><span class=\"token property\">text-decoration</span><span class=\"token punctuation\">:</span>none<span class=\"token punctuation\">}</span><span class=\"token selector\">a:active</span><span class=\"token punctuation\">{</span><span class=\"token property\">text-decoration</span><span class=\"token punctuation\">:</span>none<span class=\"token punctuation\">}</span></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>style</span><span class=\"token punctuation\">&gt;</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">&gt;</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">&gt;</span></span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p>效果如图：</p>\n<p><img src=\"https://cimg1.17lai.site/data/2021/10/1920211019005726.png\" alt=\"彩虹模板\"></p>\n<p><strong>彩虹模板</strong></p>\n<h3 id=\"垃圾评论检测\">垃圾评论检测</h3>\n<blockquote>\n<p>Akismet (Automattic Kismet)是应用广泛的一个垃圾留言过滤系统，其作者是大名鼎鼎的WordPress 创始人 Matt Mullenweg，Akismet也是WordPress默认安装的插件，其使用非常广泛，设计目标便是帮助博客网站来过滤留言Spam。有了Akismet之后，基本上不用担心垃圾留言的烦恼了。 启用Akismet后，当博客再收到留言会自动将其提交到Akismet并与Akismet上的黑名单进行比对，如果名列该黑名单中，则该条留言会被标记为垃圾评论且不会发布。</p>\n</blockquote>\n<p>如果还没有Akismet Key，你可以去 <a target=\"_blank\" rel=\"noopener\" href=\"https://akismet.com/development/\"><code>AKISMET FOR DEVELOPERS</code> 免费申请一个</a>； <strong>当<code>AKISMET_KEY</code>设为<code>MANUAL_REVIEW</code>时，开启人工审核模式；</strong> 如果你不需要反垃圾评论，<code>Akismet Key</code> 环境变量可以忽略。</p>\n<p><strong>为了实现较为精准的垃圾评论识别，采集的判据除了评论内容、邮件地址和网站地址外，还包括评论者的IP地址、浏览器信息等，但仅在云引擎后台使用这些数据，确保隐私和安全。</strong></p>\n<p><strong>如果使用了本站最新的<code>Valine</code>和<code>Valine Admin</code>，并设置了<code>Akismet Key</code>，可以有效地拦截垃圾评论。被标为垃圾的评论可以在管理页面取消标注。</strong></p>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:left\">环境变量</th>\n<th style=\"text-align:left\">示例</th>\n<th style=\"text-align:left\">说明</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:left\"><code>AKISMET_KEY</code></td>\n<td style=\"text-align:left\">xxxxxxxxxxxx</td>\n<td style=\"text-align:left\">[可选]<code>Akismet Key</code> 用于垃圾评论检测</td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"手动配置邮件服务器\">手动配置邮件服务器</h3>\n<ul>\n<li>自定义邮件服务器地址和端口信息，删除SMTP_SERVICE环境变量，新增以下变量：</li>\n</ul>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:left\">变量</th>\n<th style=\"text-align:left\">示例</th>\n<th style=\"text-align:left\">说明</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:left\"><code>SMTP_HOST</code></td>\n<td style=\"text-align:left\"><code>smtp.qq.com</code></td>\n<td style=\"text-align:left\">[可选]<code>SMTP_SERVICE</code>留空时，自定义<code>SMTP</code>服务器地址</td>\n</tr>\n<tr>\n<td style=\"text-align:left\"><code>SMTP_PORT</code></td>\n<td style=\"text-align:left\">465</td>\n<td style=\"text-align:left\">[可选]<code>SMTP_SERVICE</code>留空时，自定义<code>SMTP</code>端口</td>\n</tr>\n<tr>\n<td style=\"text-align:left\"><code>SMTP_SECURE</code></td>\n<td style=\"text-align:left\"><code>true</code></td>\n<td style=\"text-align:left\">[可选]使用TLS</td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"Troubleshooting\">Troubleshooting</h3>\n<ul>\n<li>\n<p>部署失败，请在评论中附图，或去Github发起Issue</p>\n</li>\n<li>\n<p>邮件发送失败，确保环境变量都没问题后，重启云引擎</p>\n<p><img src=\"https://cimg1.17lai.site/data/2021/10/1920211019005749.png\" alt=\"重启云引擎\"></p>\n<p><strong>重启云引擎</strong></p>\n</li>\n<li>\n<p>博主通知模板中不要出现<code>PARENT*</code>相关参数（请勿混用模板）</p>\n</li>\n<li>\n<p>点击邮件中的链接跳转至相应评论，这一细节实现需要在Web前端添加一点额外的代码：</p>\n</li>\n</ul>\n<pre class=\"line-numbers language-markup\" data-language=\"markup\"><code class=\"language-markup\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span><span class=\"token punctuation\">&gt;</span></span><span class=\"token script\"><span class=\"token language-javascript\">\n    <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>window<span class=\"token punctuation\">.</span>location<span class=\"token punctuation\">.</span>hash<span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">var</span> checkExist <span class=\"token operator\">=</span> <span class=\"token function\">setInterval</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n           <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token function\">$</span><span class=\"token punctuation\">(</span>window<span class=\"token punctuation\">.</span>location<span class=\"token punctuation\">.</span>hash<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n              <span class=\"token function\">$</span><span class=\"token punctuation\">(</span><span class=\"token string\">'html, body'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">animate</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span><span class=\"token literal-property property\">scrollTop</span><span class=\"token operator\">:</span> <span class=\"token function\">$</span><span class=\"token punctuation\">(</span>window<span class=\"token punctuation\">.</span>location<span class=\"token punctuation\">.</span>hash<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">offset</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>top<span class=\"token operator\">-</span><span class=\"token number\">90</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n              <span class=\"token function\">clearInterval</span><span class=\"token punctuation\">(</span>checkExist<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n           <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token number\">100</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">&gt;</span></span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<p>@邮件通知效果：</p>\n<pre class=\"line-numbers language-ejs\" data-language=\"ejs\"><code class=\"language-ejs\">您在[ ${SITE_NAME}](https://blog.17lai.site/posts/40300608/${SITE_URL})上的留言有新回复啦！\n\n${PARENT_NICK} 同学，您曾在文章上发表评论：\n\n${PARENT_COMMENT}\n\n${NICK} 给您的回复如下：\n\n${COMMENT}\n\n您可以点击查看回复的完整內容${POST_URL}#comments，欢迎再次光临 ${SITE_NAME}${SITE_URL}。<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<p>@邮件通知模板代码：</p>\n<pre class=\"line-numbers language-markup\" data-language=\"markup\"><code class=\"language-markup\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token special-attr\"><span class=\"token attr-name\">style</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span><span class=\"token value css language-css\"><span class=\"token property\">border-radius</span><span class=\"token punctuation\">:</span> 10px 10px 10px 10px<span class=\"token punctuation\">;</span><span class=\"token property\">font-size</span><span class=\"token punctuation\">:</span>13px<span class=\"token punctuation\">;</span> <span class=\"token property\">color</span><span class=\"token punctuation\">:</span> #555555<span class=\"token punctuation\">;</span><span class=\"token property\">width</span><span class=\"token punctuation\">:</span> 666px<span class=\"token punctuation\">;</span><span class=\"token property\">font-family</span><span class=\"token punctuation\">:</span><span class=\"token string\">'Century Gothic'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'Trebuchet MS'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'Hiragino Sans GB'</span><span class=\"token punctuation\">,</span>微软雅黑<span class=\"token punctuation\">,</span><span class=\"token string\">'Microsoft Yahei'</span><span class=\"token punctuation\">,</span>Tahoma<span class=\"token punctuation\">,</span>Helvetica<span class=\"token punctuation\">,</span>Arial<span class=\"token punctuation\">,</span><span class=\"token string\">'SimSun'</span><span class=\"token punctuation\">,</span>sans-serif<span class=\"token punctuation\">;</span><span class=\"token property\">margin</span><span class=\"token punctuation\">:</span>50px auto<span class=\"token punctuation\">;</span><span class=\"token property\">border</span><span class=\"token punctuation\">:</span>1px solid #eee<span class=\"token punctuation\">;</span><span class=\"token property\">max-width</span><span class=\"token punctuation\">:</span>100%<span class=\"token punctuation\">;</span><span class=\"token property\">background</span><span class=\"token punctuation\">:</span> #ffffff <span class=\"token function\">repeating-linear-gradient</span><span class=\"token punctuation\">(</span>-45deg<span class=\"token punctuation\">,</span>#fff<span class=\"token punctuation\">,</span>#fff 1.125rem<span class=\"token punctuation\">,</span>transparent 1.125rem<span class=\"token punctuation\">,</span>transparent 2.25rem<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span class=\"token property\">box-shadow</span><span class=\"token punctuation\">:</span> 0 1px 5px <span class=\"token function\">rgba</span><span class=\"token punctuation\">(</span>0<span class=\"token punctuation\">,</span> 0<span class=\"token punctuation\">,</span> 0<span class=\"token punctuation\">,</span> 0.15<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></span><span class=\"token punctuation\">\"</span></span></span><span class=\"token punctuation\">&gt;</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token special-attr\"><span class=\"token attr-name\">style</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span><span class=\"token value css language-css\"><span class=\"token property\">width</span><span class=\"token punctuation\">:</span>100%<span class=\"token punctuation\">;</span><span class=\"token property\">background</span><span class=\"token punctuation\">:</span>#49BDAD<span class=\"token punctuation\">;</span><span class=\"token property\">color</span><span class=\"token punctuation\">:</span>#ffffff<span class=\"token punctuation\">;</span><span class=\"token property\">border-radius</span><span class=\"token punctuation\">:</span> 10px 10px 0 0<span class=\"token punctuation\">;</span><span class=\"token property\">background-image</span><span class=\"token punctuation\">:</span> <span class=\"token function\">-moz-linear-gradient</span><span class=\"token punctuation\">(</span>0deg<span class=\"token punctuation\">,</span> <span class=\"token function\">rgb</span><span class=\"token punctuation\">(</span>67<span class=\"token punctuation\">,</span> 198<span class=\"token punctuation\">,</span> 184<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token function\">rgb</span><span class=\"token punctuation\">(</span>255<span class=\"token punctuation\">,</span> 209<span class=\"token punctuation\">,</span> 244<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span class=\"token property\">background-image</span><span class=\"token punctuation\">:</span> <span class=\"token function\">-webkit-linear-gradient</span><span class=\"token punctuation\">(</span>0deg<span class=\"token punctuation\">,</span> <span class=\"token function\">rgb</span><span class=\"token punctuation\">(</span>67<span class=\"token punctuation\">,</span> 198<span class=\"token punctuation\">,</span> 184<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token function\">rgb</span><span class=\"token punctuation\">(</span>255<span class=\"token punctuation\">,</span> 209<span class=\"token punctuation\">,</span> 244<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span class=\"token property\">height</span><span class=\"token punctuation\">:</span> 66px<span class=\"token punctuation\">;</span></span><span class=\"token punctuation\">\"</span></span></span><span class=\"token punctuation\">&gt;</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span> <span class=\"token special-attr\"><span class=\"token attr-name\">style</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span><span class=\"token value css language-css\"><span class=\"token property\">font-size</span><span class=\"token punctuation\">:</span>15px<span class=\"token punctuation\">;</span><span class=\"token property\">word-break</span><span class=\"token punctuation\">:</span>break-all<span class=\"token punctuation\">;</span><span class=\"token property\">padding</span><span class=\"token punctuation\">:</span> 23px 32px<span class=\"token punctuation\">;</span><span class=\"token property\">margin</span><span class=\"token punctuation\">:</span>0<span class=\"token punctuation\">;</span><span class=\"token property\">background-color</span><span class=\"token punctuation\">:</span> <span class=\"token function\">hsla</span><span class=\"token punctuation\">(</span>0<span class=\"token punctuation\">,</span>0%<span class=\"token punctuation\">,</span>100%<span class=\"token punctuation\">,</span>.4<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span class=\"token property\">border-radius</span><span class=\"token punctuation\">:</span> 10px 10px 0 0<span class=\"token punctuation\">;</span></span><span class=\"token punctuation\">\"</span></span></span><span class=\"token punctuation\">&gt;</span></span>您在<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>a</span> <span class=\"token special-attr\"><span class=\"token attr-name\">style</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span><span class=\"token value css language-css\"><span class=\"token property\">text-decoration</span><span class=\"token punctuation\">:</span>none<span class=\"token punctuation\">;</span><span class=\"token property\">color</span><span class=\"token punctuation\">:</span> #ffffff<span class=\"token punctuation\">;</span></span><span class=\"token punctuation\">\"</span></span></span> <span class=\"token attr-name\">href</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>${SITE_URL}<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span> ${SITE_NAME}<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>a</span><span class=\"token punctuation\">&gt;</span></span>上的留言有新回复啦！<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">&gt;</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">&gt;</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token special-attr\"><span class=\"token attr-name\">style</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span><span class=\"token value css language-css\"><span class=\"token property\">margin</span><span class=\"token punctuation\">:</span>40px auto<span class=\"token punctuation\">;</span><span class=\"token property\">width</span><span class=\"token punctuation\">:</span>90%</span><span class=\"token punctuation\">\"</span></span></span><span class=\"token punctuation\">&gt;</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span><span class=\"token punctuation\">&gt;</span></span>${PARENT_NICK} 同学，您曾在文章上发表评论：<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">&gt;</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token special-attr\"><span class=\"token attr-name\">style</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span><span class=\"token value css language-css\"><span class=\"token property\">background</span><span class=\"token punctuation\">:</span> #fafafa <span class=\"token function\">repeating-linear-gradient</span><span class=\"token punctuation\">(</span>-45deg<span class=\"token punctuation\">,</span>#fff<span class=\"token punctuation\">,</span>#fff 1.125rem<span class=\"token punctuation\">,</span>transparent 1.125rem<span class=\"token punctuation\">,</span>transparent 2.25rem<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span class=\"token property\">box-shadow</span><span class=\"token punctuation\">:</span> 0 2px 5px <span class=\"token function\">rgba</span><span class=\"token punctuation\">(</span>0<span class=\"token punctuation\">,</span> 0<span class=\"token punctuation\">,</span> 0<span class=\"token punctuation\">,</span> 0.15<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span class=\"token property\">margin</span><span class=\"token punctuation\">:</span>20px 0px<span class=\"token punctuation\">;</span><span class=\"token property\">padding</span><span class=\"token punctuation\">:</span>15px<span class=\"token punctuation\">;</span><span class=\"token property\">border-radius</span><span class=\"token punctuation\">:</span>5px<span class=\"token punctuation\">;</span><span class=\"token property\">font-size</span><span class=\"token punctuation\">:</span>14px<span class=\"token punctuation\">;</span><span class=\"token property\">color</span><span class=\"token punctuation\">:</span>#555555<span class=\"token punctuation\">;</span></span><span class=\"token punctuation\">\"</span></span></span><span class=\"token punctuation\">&gt;</span></span>${PARENT_COMMENT}<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">&gt;</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span><span class=\"token punctuation\">&gt;</span></span>${NICK} 给您的回复如下：<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">&gt;</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token special-attr\"><span class=\"token attr-name\">style</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span><span class=\"token value css language-css\"><span class=\"token property\">background</span><span class=\"token punctuation\">:</span> #fafafa <span class=\"token function\">repeating-linear-gradient</span><span class=\"token punctuation\">(</span>-45deg<span class=\"token punctuation\">,</span>#fff<span class=\"token punctuation\">,</span>#fff 1.125rem<span class=\"token punctuation\">,</span>transparent 1.125rem<span class=\"token punctuation\">,</span>transparent 2.25rem<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span class=\"token property\">box-shadow</span><span class=\"token punctuation\">:</span> 0 2px 5px <span class=\"token function\">rgba</span><span class=\"token punctuation\">(</span>0<span class=\"token punctuation\">,</span> 0<span class=\"token punctuation\">,</span> 0<span class=\"token punctuation\">,</span> 0.15<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span class=\"token property\">margin</span><span class=\"token punctuation\">:</span>20px 0px<span class=\"token punctuation\">;</span><span class=\"token property\">padding</span><span class=\"token punctuation\">:</span>15px<span class=\"token punctuation\">;</span><span class=\"token property\">border-radius</span><span class=\"token punctuation\">:</span>5px<span class=\"token punctuation\">;</span><span class=\"token property\">font-size</span><span class=\"token punctuation\">:</span>14px<span class=\"token punctuation\">;</span><span class=\"token property\">color</span><span class=\"token punctuation\">:</span>#555555<span class=\"token punctuation\">;</span></span><span class=\"token punctuation\">\"</span></span></span><span class=\"token punctuation\">&gt;</span></span>${COMMENT}<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">&gt;</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span><span class=\"token punctuation\">&gt;</span></span>您可以点击<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>a</span> <span class=\"token special-attr\"><span class=\"token attr-name\">style</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span><span class=\"token value css language-css\"><span class=\"token property\">text-decoration</span><span class=\"token punctuation\">:</span>none<span class=\"token punctuation\">;</span> <span class=\"token property\">color</span><span class=\"token punctuation\">:</span>#12addb</span><span class=\"token punctuation\">\"</span></span></span> <span class=\"token attr-name\">href</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>${POST_URL}#comments<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>查看回复的完整內容<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>a</span><span class=\"token punctuation\">&gt;</span></span>，欢迎再次光临<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>a</span> <span class=\"token special-attr\"><span class=\"token attr-name\">style</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span><span class=\"token value css language-css\"><span class=\"token property\">text-decoration</span><span class=\"token punctuation\">:</span>none<span class=\"token punctuation\">;</span> <span class=\"token property\">color</span><span class=\"token punctuation\">:</span>#12addb</span><span class=\"token punctuation\">\"</span></span></span> <span class=\"token attr-name\">href</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>${SITE_URL}<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span> ${SITE_NAME}<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>a</span><span class=\"token punctuation\">&gt;</span></span>。<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">&gt;</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>style</span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>text/css<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span><span class=\"token style\"><span class=\"token language-css\"><span class=\"token selector\">a:link</span><span class=\"token punctuation\">{</span><span class=\"token property\">text-decoration</span><span class=\"token punctuation\">:</span>none<span class=\"token punctuation\">}</span><span class=\"token selector\">a:visited</span><span class=\"token punctuation\">{</span><span class=\"token property\">text-decoration</span><span class=\"token punctuation\">:</span>none<span class=\"token punctuation\">}</span><span class=\"token selector\">a:hover</span><span class=\"token punctuation\">{</span><span class=\"token property\">text-decoration</span><span class=\"token punctuation\">:</span>none<span class=\"token punctuation\">}</span><span class=\"token selector\">a:active</span><span class=\"token punctuation\">{</span><span class=\"token property\">text-decoration</span><span class=\"token punctuation\">:</span>none<span class=\"token punctuation\">}</span></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>style</span><span class=\"token punctuation\">&gt;</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">&gt;</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token special-attr\"><span class=\"token attr-name\">style</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span><span class=\"token value css language-css\"><span class=\"token property\">width</span><span class=\"token punctuation\">:</span>100%<span class=\"token punctuation\">;</span><span class=\"token property\">background</span><span class=\"token punctuation\">:</span>#49BDAD<span class=\"token punctuation\">;</span><span class=\"token property\">color</span><span class=\"token punctuation\">:</span>#ffffff<span class=\"token punctuation\">;</span><span class=\"token property\">border-radius</span><span class=\"token punctuation\">:</span> 0 0 10px 10px<span class=\"token punctuation\">;</span><span class=\"token property\">background-image</span><span class=\"token punctuation\">:</span> <span class=\"token function\">-moz-linear-gradient</span><span class=\"token punctuation\">(</span>0deg<span class=\"token punctuation\">,</span> <span class=\"token function\">rgb</span><span class=\"token punctuation\">(</span>67<span class=\"token punctuation\">,</span> 198<span class=\"token punctuation\">,</span> 184<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token function\">rgb</span><span class=\"token punctuation\">(</span>255<span class=\"token punctuation\">,</span> 209<span class=\"token punctuation\">,</span> 244<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span class=\"token property\">background-image</span><span class=\"token punctuation\">:</span> <span class=\"token function\">-webkit-linear-gradient</span><span class=\"token punctuation\">(</span>0deg<span class=\"token punctuation\">,</span><span class=\"token function\">rgb</span><span class=\"token punctuation\">(</span>67<span class=\"token punctuation\">,</span> 198<span class=\"token punctuation\">,</span> 184<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token function\">rgb</span><span class=\"token punctuation\">(</span>255<span class=\"token punctuation\">,</span> 209<span class=\"token punctuation\">,</span> 244<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span class=\"token property\">height</span><span class=\"token punctuation\">:</span> 66px<span class=\"token punctuation\">;</span></span><span class=\"token punctuation\">\"</span></span></span><span class=\"token punctuation\">&gt;</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">&gt;</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">&gt;</span></span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p>博主通知效果：</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">您在[${SITE_NAME}${SITE_URL}上的文章有了新的评论！\n**${NICK}** 同学，发表评论说：\n${COMMENT}\n您可以点击查看回复的完整內容${POST_URL}#comments)。<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n<pre class=\"line-numbers language-markup\" data-language=\"markup\"><code class=\"language-markup\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token special-attr\"><span class=\"token attr-name\">style</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span><span class=\"token value css language-css\"><span class=\"token property\">border-radius</span><span class=\"token punctuation\">:</span> 10px 10px 10px 10px<span class=\"token punctuation\">;</span><span class=\"token property\">font-size</span><span class=\"token punctuation\">:</span>13px<span class=\"token punctuation\">;</span> <span class=\"token property\">color</span><span class=\"token punctuation\">:</span> #555555<span class=\"token punctuation\">;</span><span class=\"token property\">width</span><span class=\"token punctuation\">:</span> 666px<span class=\"token punctuation\">;</span><span class=\"token property\">font-family</span><span class=\"token punctuation\">:</span><span class=\"token string\">'Century Gothic'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'Trebuchet MS'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'Hiragino Sans GB'</span><span class=\"token punctuation\">,</span>微软雅黑<span class=\"token punctuation\">,</span><span class=\"token string\">'Microsoft Yahei'</span><span class=\"token punctuation\">,</span>Tahoma<span class=\"token punctuation\">,</span>Helvetica<span class=\"token punctuation\">,</span>Arial<span class=\"token punctuation\">,</span><span class=\"token string\">'SimSun'</span><span class=\"token punctuation\">,</span>sans-serif<span class=\"token punctuation\">;</span><span class=\"token property\">margin</span><span class=\"token punctuation\">:</span>50px auto<span class=\"token punctuation\">;</span><span class=\"token property\">border</span><span class=\"token punctuation\">:</span>1px solid #eee<span class=\"token punctuation\">;</span><span class=\"token property\">max-width</span><span class=\"token punctuation\">:</span>100%<span class=\"token punctuation\">;</span><span class=\"token property\">background</span><span class=\"token punctuation\">:</span> #ffffff <span class=\"token function\">repeating-linear-gradient</span><span class=\"token punctuation\">(</span>-45deg<span class=\"token punctuation\">,</span>#fff<span class=\"token punctuation\">,</span>#fff 1.125rem<span class=\"token punctuation\">,</span>transparent 1.125rem<span class=\"token punctuation\">,</span>transparent 2.25rem<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span class=\"token property\">box-shadow</span><span class=\"token punctuation\">:</span> 0 1px 5px <span class=\"token function\">rgba</span><span class=\"token punctuation\">(</span>0<span class=\"token punctuation\">,</span> 0<span class=\"token punctuation\">,</span> 0<span class=\"token punctuation\">,</span> 0.15<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></span><span class=\"token punctuation\">\"</span></span></span><span class=\"token punctuation\">&gt;</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token special-attr\"><span class=\"token attr-name\">style</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span><span class=\"token value css language-css\"><span class=\"token property\">width</span><span class=\"token punctuation\">:</span>100%<span class=\"token punctuation\">;</span><span class=\"token property\">background</span><span class=\"token punctuation\">:</span>#49BDAD<span class=\"token punctuation\">;</span><span class=\"token property\">color</span><span class=\"token punctuation\">:</span>#ffffff<span class=\"token punctuation\">;</span><span class=\"token property\">border-radius</span><span class=\"token punctuation\">:</span> 10px 10px 0 0<span class=\"token punctuation\">;</span><span class=\"token property\">background-image</span><span class=\"token punctuation\">:</span> <span class=\"token function\">-moz-linear-gradient</span><span class=\"token punctuation\">(</span>0deg<span class=\"token punctuation\">,</span> <span class=\"token function\">rgb</span><span class=\"token punctuation\">(</span>67<span class=\"token punctuation\">,</span> 198<span class=\"token punctuation\">,</span> 184<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token function\">rgb</span><span class=\"token punctuation\">(</span>255<span class=\"token punctuation\">,</span> 209<span class=\"token punctuation\">,</span> 244<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span class=\"token property\">background-image</span><span class=\"token punctuation\">:</span> <span class=\"token function\">-webkit-linear-gradient</span><span class=\"token punctuation\">(</span>0deg<span class=\"token punctuation\">,</span> <span class=\"token function\">rgb</span><span class=\"token punctuation\">(</span>67<span class=\"token punctuation\">,</span> 198<span class=\"token punctuation\">,</span> 184<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token function\">rgb</span><span class=\"token punctuation\">(</span>255<span class=\"token punctuation\">,</span> 209<span class=\"token punctuation\">,</span> 244<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span class=\"token property\">height</span><span class=\"token punctuation\">:</span> 66px<span class=\"token punctuation\">;</span></span><span class=\"token punctuation\">\"</span></span></span><span class=\"token punctuation\">&gt;</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span> <span class=\"token special-attr\"><span class=\"token attr-name\">style</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span><span class=\"token value css language-css\"><span class=\"token property\">font-size</span><span class=\"token punctuation\">:</span>15px<span class=\"token punctuation\">;</span><span class=\"token property\">word-break</span><span class=\"token punctuation\">:</span>break-all<span class=\"token punctuation\">;</span><span class=\"token property\">padding</span><span class=\"token punctuation\">:</span> 23px 32px<span class=\"token punctuation\">;</span><span class=\"token property\">margin</span><span class=\"token punctuation\">:</span>0<span class=\"token punctuation\">;</span><span class=\"token property\">background-color</span><span class=\"token punctuation\">:</span> <span class=\"token function\">hsla</span><span class=\"token punctuation\">(</span>0<span class=\"token punctuation\">,</span>0%<span class=\"token punctuation\">,</span>100%<span class=\"token punctuation\">,</span>.4<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span class=\"token property\">border-radius</span><span class=\"token punctuation\">:</span> 10px 10px 0 0<span class=\"token punctuation\">;</span></span><span class=\"token punctuation\">\"</span></span></span><span class=\"token punctuation\">&gt;</span></span>您在<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>a</span> <span class=\"token special-attr\"><span class=\"token attr-name\">style</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span><span class=\"token value css language-css\"><span class=\"token property\">text-decoration</span><span class=\"token punctuation\">:</span>none<span class=\"token punctuation\">;</span><span class=\"token property\">color</span><span class=\"token punctuation\">:</span> #ffffff<span class=\"token punctuation\">;</span></span><span class=\"token punctuation\">\"</span></span></span> <span class=\"token attr-name\">href</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>${SITE_URL}<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span> ${SITE_NAME}<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>a</span><span class=\"token punctuation\">&gt;</span></span>上的文章有了新的评论！<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">&gt;</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">&gt;</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token special-attr\"><span class=\"token attr-name\">style</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span><span class=\"token value css language-css\"><span class=\"token property\">margin</span><span class=\"token punctuation\">:</span>40px auto<span class=\"token punctuation\">;</span><span class=\"token property\">width</span><span class=\"token punctuation\">:</span>90%</span><span class=\"token punctuation\">\"</span></span></span><span class=\"token punctuation\">&gt;</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span><span class=\"token punctuation\">&gt;</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>strong</span><span class=\"token punctuation\">&gt;</span></span>${NICK}<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>strong</span><span class=\"token punctuation\">&gt;</span></span> 同学，发表评论说：<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">&gt;</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token special-attr\"><span class=\"token attr-name\">style</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span><span class=\"token value css language-css\"><span class=\"token property\">background</span><span class=\"token punctuation\">:</span> #fafafa <span class=\"token function\">repeating-linear-gradient</span><span class=\"token punctuation\">(</span>-45deg<span class=\"token punctuation\">,</span>#fff<span class=\"token punctuation\">,</span>#fff 1.125rem<span class=\"token punctuation\">,</span>transparent 1.125rem<span class=\"token punctuation\">,</span>transparent 2.25rem<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span class=\"token property\">box-shadow</span><span class=\"token punctuation\">:</span> 0 2px 5px <span class=\"token function\">rgba</span><span class=\"token punctuation\">(</span>0<span class=\"token punctuation\">,</span> 0<span class=\"token punctuation\">,</span> 0<span class=\"token punctuation\">,</span> 0.15<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span class=\"token property\">margin</span><span class=\"token punctuation\">:</span>20px 0px<span class=\"token punctuation\">;</span><span class=\"token property\">padding</span><span class=\"token punctuation\">:</span>15px<span class=\"token punctuation\">;</span><span class=\"token property\">border-radius</span><span class=\"token punctuation\">:</span>5px<span class=\"token punctuation\">;</span><span class=\"token property\">font-size</span><span class=\"token punctuation\">:</span>14px<span class=\"token punctuation\">;</span><span class=\"token property\">color</span><span class=\"token punctuation\">:</span>#555555<span class=\"token punctuation\">;</span></span><span class=\"token punctuation\">\"</span></span></span><span class=\"token punctuation\">&gt;</span></span>${COMMENT}<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">&gt;</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span><span class=\"token punctuation\">&gt;</span></span>您可以点击<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>a</span> <span class=\"token special-attr\"><span class=\"token attr-name\">style</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span><span class=\"token value css language-css\"><span class=\"token property\">text-decoration</span><span class=\"token punctuation\">:</span>none<span class=\"token punctuation\">;</span> <span class=\"token property\">color</span><span class=\"token punctuation\">:</span>#12addb</span><span class=\"token punctuation\">\"</span></span></span> <span class=\"token attr-name\">href</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>${POST_URL}#comments<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>查看回复的完整內容<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>a</span><span class=\"token punctuation\">&gt;</span></span>。<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">&gt;</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>style</span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>text/css<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span><span class=\"token style\"><span class=\"token language-css\"><span class=\"token selector\">a:link</span><span class=\"token punctuation\">{</span><span class=\"token property\">text-decoration</span><span class=\"token punctuation\">:</span>none<span class=\"token punctuation\">}</span><span class=\"token selector\">a:visited</span><span class=\"token punctuation\">{</span><span class=\"token property\">text-decoration</span><span class=\"token punctuation\">:</span>none<span class=\"token punctuation\">}</span><span class=\"token selector\">a:hover</span><span class=\"token punctuation\">{</span><span class=\"token property\">text-decoration</span><span class=\"token punctuation\">:</span>none<span class=\"token punctuation\">}</span><span class=\"token selector\">a:active</span><span class=\"token punctuation\">{</span><span class=\"token property\">text-decoration</span><span class=\"token punctuation\">:</span>none<span class=\"token punctuation\">}</span></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>style</span><span class=\"token punctuation\">&gt;</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">&gt;</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token special-attr\"><span class=\"token attr-name\">style</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span><span class=\"token value css language-css\"><span class=\"token property\">width</span><span class=\"token punctuation\">:</span>100%<span class=\"token punctuation\">;</span><span class=\"token property\">background</span><span class=\"token punctuation\">:</span>#49BDAD<span class=\"token punctuation\">;</span><span class=\"token property\">color</span><span class=\"token punctuation\">:</span>#ffffff<span class=\"token punctuation\">;</span><span class=\"token property\">border-radius</span><span class=\"token punctuation\">:</span> 0 0 10px 10px <span class=\"token punctuation\">;</span><span class=\"token property\">background-image</span><span class=\"token punctuation\">:</span> <span class=\"token function\">-moz-linear-gradient</span><span class=\"token punctuation\">(</span>0deg<span class=\"token punctuation\">,</span> <span class=\"token function\">rgb</span><span class=\"token punctuation\">(</span>67<span class=\"token punctuation\">,</span> 198<span class=\"token punctuation\">,</span> 184<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token function\">rgb</span><span class=\"token punctuation\">(</span>255<span class=\"token punctuation\">,</span> 209<span class=\"token punctuation\">,</span> 244<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span class=\"token property\">background-image</span><span class=\"token punctuation\">:</span> <span class=\"token function\">-webkit-linear-gradient</span><span class=\"token punctuation\">(</span>0deg<span class=\"token punctuation\">,</span><span class=\"token function\">rgb</span><span class=\"token punctuation\">(</span>67<span class=\"token punctuation\">,</span> 198<span class=\"token punctuation\">,</span> 184<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token function\">rgb</span><span class=\"token punctuation\">(</span>255<span class=\"token punctuation\">,</span> 209<span class=\"token punctuation\">,</span> 244<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span class=\"token property\">height</span><span class=\"token punctuation\">:</span> 66px<span class=\"token punctuation\">;</span></span><span class=\"token punctuation\">\"</span></span></span><span class=\"token punctuation\">&gt;</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">&gt;</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">&gt;</span></span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<h3 id=\"解决休眠\">解决休眠</h3>\n<p>免费版的 LeanCloud 容器，是有强制性休眠策略的，不能 24 小时运行：</p>\n<ul>\n<li>每天必须休眠 6 个小时</li>\n<li>30 分钟内没有外部请求，则休眠。</li>\n<li>休眠后如果有新的外部请求实例则马上启动（但激活时此次发送邮件会失败）。</li>\n</ul>\n<p>也就是如果服务器休眠了的话用户第一次评论是提醒不了的。</p>\n<p>参考了Valine-Admin官网找到了解决办法。</p>\n<p>首先在环境变量增加服务器地址，就是你的后台服务器地址</p>\n<p><img src=\"https://cimg1.17lai.site/data/2021/10/1920211019005144.png\" alt=\"img\"></p>\n<p>下面是你的服务器地址，可以自定义</p>\n<p>同样登录后台</p>\n<p>找到定时任务</p>\n<p><img src=\"https://cimg1.17lai.site/data/2021/10/1920211019005147.png\" alt=\"img\"></p>\n<p>然后点击创建任务，上面是我创建好的</p>\n<p><img src=\"https://cimg1.17lai.site/data/2021/10/1920211019005153.png\" alt=\"img\"></p>\n<p>选择self_wake函数，然后运行时间使用cron表达式</p>\n<blockquote>\n<p>0 0/30 7-23 ? 表示每天6点到11点 每30分钟叫醒服务器一次</p>\n</blockquote>\n<p>这样就完美的解决了服务器休眠的问题</p>\n<p>那如果用户不在时间范围内发留言了怎么办？我们也可以创建一个捡漏的定时任务</p>\n<p><img src=\"https://cimg1.17lai.site/data/2021/10/1920211019005159.png\" alt=\"img\"></p>\n<p>创建捡漏定时任务</p>\n<p>然后运行函数选择resend_mails,同样使用cron表达式</p>\n<blockquote>\n<p>0 0 8 ?</p>\n</blockquote>\n<p>表示每八个小时进行捡漏一次，这样如果有留言遗漏的话就能即使的提醒。</p>\n<h3 id=\"WakeLeanCloud\"><a target=\"_blank\" rel=\"noopener\" href=\"https://github.com/Ysnsn/WakeLeanCloud\">WakeLeanCloud</a></h3>\n<p>这个项目主要是用来解决LeanCloud通过定时任务唤醒机器时被流控的问题。</p>\n<p><strong>如何使用</strong></p>\n<ol>\n<li>Fork此项目</li>\n<li>添加一个名为<code>GITHUB_TOKEN</code>的Token，并为赋予<code>repo</code>，<code>admin:repo_hook</code> ， <code>workflow</code>的权限</li>\n<li>添加名为<code>SITE</code>的Secrets，内容为自己管理后台地址。多个请用英文逗号分隔</li>\n</ol>\n<p>详细教程请参考<a target=\"_blank\" rel=\"noopener\" href=\"https://www.antmoe.com/posts/ff6aef7b/index.html#%E5%BC%80%E5%A7%8B%E5%B0%9D%E8%AF%95\">优雅解决LeanCloud流控问题</a></p>\n<h2 id=\"让hexo支持pwa\">让hexo支持pwa</h2>\n<blockquote>\n<p>pwa中文叫渐进式网页应用，pwa网站可以直接添加网址站到桌面，就相当于在系统中直接安装了一个app，打开的效果也和app差不多，加载速度也很快，部分功能可以直接离线使用。Google的Workbox标准，目前来看需要Chrome支持</p>\n<ul>\n<li>hexo-pwa 很久没更新，看到资料都是支持4.x版本hexo。</li>\n<li>hexo-offline 亲自验证，支持最新5.x的hexo。</li>\n</ul>\n</blockquote>\n<h3 id=\"安装hexo-offline\">安装hexo-offline</h3>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">npm install hexo-offline --save<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p>关于这个插件的详细使用方法可以看下面这里</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">https://github.com/JLHwung/hexo-offline<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<h3 id=\"配置hexo-offline\">配置hexo-offline</h3>\n<p>之后我们在站点根目录_config.yml如下配置</p>\n<pre class=\"line-numbers language-yaml\" data-language=\"yaml\"><code class=\"language-yaml\"><span class=\"token comment\"># offline config passed to sw-precache.</span>\n<span class=\"token key atrule\">service_worker</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">maximumFileSizeToCacheInBytes</span><span class=\"token punctuation\">:</span> <span class=\"token number\">5242880</span>\n  <span class=\"token key atrule\">staticFileGlobs</span><span class=\"token punctuation\">:</span>\n  <span class=\"token punctuation\">-</span> /<span class=\"token important\">**/*.</span><span class=\"token punctuation\">{</span>js<span class=\"token punctuation\">,</span>html<span class=\"token punctuation\">,</span>css<span class=\"token punctuation\">,</span>png<span class=\"token punctuation\">,</span>jpg<span class=\"token punctuation\">,</span>gif<span class=\"token punctuation\">,</span>svg<span class=\"token punctuation\">,</span>eot<span class=\"token punctuation\">,</span>ttf<span class=\"token punctuation\">,</span>woff<span class=\"token punctuation\">,</span>woff2<span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">-</span> /lib/<span class=\"token important\">**/*.js</span>\n  <span class=\"token punctuation\">-</span> /lib/<span class=\"token important\">**/*.css</span>\n  <span class=\"token punctuation\">-</span> /images/*\n  <span class=\"token punctuation\">-</span> /js/src/<span class=\"token important\">**/*.js</span>\n  <span class=\"token key atrule\">stripPrefix</span><span class=\"token punctuation\">:</span> public\n  <span class=\"token key atrule\">verbose</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span>\n  <span class=\"token key atrule\">runtimeCaching</span><span class=\"token punctuation\">:</span>\n    <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">urlPattern</span><span class=\"token punctuation\">:</span> /*\n      <span class=\"token key atrule\">handler</span><span class=\"token punctuation\">:</span> cacheFirst\n      <span class=\"token key atrule\">options</span><span class=\"token punctuation\">:</span>\n        <span class=\"token key atrule\">origin</span><span class=\"token punctuation\">:</span> cdn.bootcss.com<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<p>注意哦不是主题的_config.yml文件</p>\n<p>之后生成manifest.json文件，可以在<a target=\"_blank\" rel=\"noopener\" href=\"https://app-manifest.firebaseapp.com/\"><strong>这个网站</strong></a>在线生成。</p>\n<p>填入相关的参数，如下</p>\n<p><img src=\"https://cimg1.17lai.site/data/2021/09/1820210918204544.png\" alt=\"\"></p>\n<blockquote>\n<p>Tips: 一定需要一个512x512的icon！</p>\n</blockquote>\n<p>之后点击generate.zip 把配置都下载过来</p>\n<p>把manifest.json和images文件夹直接复制到hexo下source文件夹中，最后我们编辑主题，在head里添加</p>\n<pre class=\"line-numbers language-markup\" data-language=\"markup\"><code class=\"language-markup\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>link</span> <span class=\"token attr-name\">rel</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>manifest<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">href</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>/manifest.json<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p>如果使用的是hexo next主题，在</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">themes/next/layout/_partials/head/head.swig<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p>如果使用的是hexo matery主题，在</p>\n<pre class=\"line-numbers language-javascript\" data-language=\"javascript\"><code class=\"language-javascript\">themes<span class=\"token operator\">/</span>matery<span class=\"token operator\">/</span>layout<span class=\"token operator\">/</span>_partial<span class=\"token operator\">/</span>head<span class=\"token punctuation\">.</span>ejs<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p><img src=\"https://cimg1.17lai.site/data/2021/09/1820210918220357.png\" alt=\"\"></p>\n<p>这个文件中添加上面这句话即可，最后直接重新生成站点，部署即可</p>\n<h3 id=\"验证和使用\">验证和使用</h3>\n<p>需要https访问，看到这个齿轮</p>\n<p><img src=\"https://cimg1.17lai.site/data/2021/09/1820210918222354.png\" alt=\"F12 sources\"></p>\n<p>然后在浏览器地址栏可以看到应用标志</p>\n<blockquote>\n<p>Tips: offline 需要https才能正常使用</p>\n</blockquote>\n<p><img src=\"https://cimg1.17lai.site/data/2021/09/1820210918231523.png\" alt=\"地址栏\"></p>\n<p>点击打开，会看到如下结果，试一下？</p>\n<p><img src=\"https://cimg1.17lai.site/data/2021/09/1820210918231644.png\" alt=\"离线博客\"></p>\n<h2 id=\"valine-的使用与升级到1-4\">valine 的使用与升级到1.4</h2>\n<h3 id=\"一、valine启用\">一、valine启用</h3>\n<h4 id=\"1、主要流程\">1、主要流程</h4>\n<p>valine和miniValine使用基本类似。</p>\n<p>（1）去 <a target=\"_blank\" rel=\"noopener\" href=\"https://leancloud.cn/dashboard/login.html#/signup\">Leancloud</a>注册。</p>\n<p>注意事项：</p>\n<p>节点选择：华东节点、华北节点、国际版。</p>\n<p>如果你的域名没有备案，建议选择国际版。 因为华东或华北节点在安装评论系统之后访问要求域名备案。</p>\n<p>（2）在“设置“，”应用 Keys”，找到你的<code>appid</code>和<code>appkey</code>，配置到主题中<code>valine</code>配置的地方，启用<code>valine</code>。</p>\n<p>（3）在“设置“，”安全中心”，”Web 安全域名”，添加自己的域名。</p>\n<p>（4）在“设置“，”安全中心”，”服务开关”，数据存储要打开。</p>\n<p>（5）在“存储“，”用量统计”，”HTTP状态码”，启用，方便后续报错查错误码。</p>\n<p>（6）重新编译部署<code>hexo clean &amp; hexo g &amp; hexo d</code></p>\n<h4 id=\"2、遇到问题\">2、遇到问题</h4>\n<p>搞这个东西采坑不少，有些坑都是自己不小心造成的。我在网上查了，交流群里也咨询请教了，没有人能解决这个问题，毕竟这个坑是自己造成的。</p>\n<p>常见Code 403问题：</p>\n<pre class=\"line-numbers language-txt\" data-language=\"txt\"><code class=\"language-txt\">Code 403: 访问被api域名白名单拒绝，请检查你的安全域名设置.<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p>网上多数的说法是在web安全域名中添加自己的域名。可是如果添加之后还是这个问题呢？</p>\n<p>其实一般不会有这个问题，我有这个问题是我改了权限造成了。</p>\n<p>官方给的解释：</p>\n<blockquote>\n<p>应用在控制台中的相关服务选项未打开，如 Class 关闭了权限，或是 User 缺失了 session 信息等情况下，云端会统一地返回 403 错误码及不同的错误信息，代表当前请求因权限不够而被拒。例如：</p>\n<p>信息 - Forbidden to read/write by class permissions<br>\n含义 - 操作被禁止，因为 Class 表没有打开「读」或者「写」的权限。进入 控制台 &gt; 存储，点击相应的 Class，从右侧选择 其他 下拉菜单，进入 权限管理 来调整。</p>\n<p>信息 - The user cannot be altered by a client without the session.<br>\n含义 - 用户没有登录，无法修改用户信息。</p>\n</blockquote>\n<p>解决：</p>\n<p>（1）首次使用，添加一条评论，一般添加之后就会好了。</p>\n<p>（2）后续使用，403，请检查<code>comment</code>表的add_fields/create/find权限开放。</p>\n<p>（3）如果还是不行将<code>_use</code>表的add_fields/create/find权限开放。</p>\n<p>（4）如果还是不行，到“存储“，”用量统计”，”HTTP状态码”处，检查你的错误码，然后去<a target=\"_blank\" rel=\"noopener\" href=\"https://leancloud.cn/docs/error_code.html#hash1392104\">LeanCloud的错误</a>找应用的错误码，排查原因吧。</p>\n<h3 id=\"二、valine升级\">二、valine升级</h3>\n<h4 id=\"1、引入1-4版的js文件\">1、引入1.4版的js文件</h4>\n<p>（1）修改主题配置文件</p>\n<pre class=\"line-numbers language-yaml\" data-language=\"yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">js</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">valine</span><span class=\"token punctuation\">:</span> https<span class=\"token punctuation\">:</span>//unpkg.com/valine/dist/Valine.min.js <span class=\"token comment\">#/libs/valine/Valine.min.js </span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n<p>（2）将文件放你自己的仓库</p>\n<p>下载我的 <code>Valine.min.js</code> 文件，直接替换你主题目录 <code>/source/libs/valine/</code> 下的 <code>Valine.min.js</code> 文件。</p>\n<p>注意，如果你担心替换有问题，可以先备份一下你自己的 <code>Valine.min.js</code> 文件。</p>\n<h4 id=\"2、增加valine的配置：\">2、增加valine的配置：</h4>\n<p>1.4的版本有些属性调整了，主题下的<code>_config.yml</code>valine属性如下：</p>\n<pre class=\"line-numbers language-yaml\" data-language=\"yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">valine</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">enable</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span>\n  <span class=\"token key atrule\">appId</span><span class=\"token punctuation\">:</span> iTxfqh5e9IaRfiiVOTbIWoKa<span class=\"token punctuation\">-</span>XXXXXX\n  <span class=\"token key atrule\">appKey</span><span class=\"token punctuation\">:</span> C5s5xGFErD1EtXXXXXXXX\n  <span class=\"token key atrule\">verify</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span>  <span class=\"token comment\"># 是否启用防垃圾验证</span>\n  <span class=\"token key atrule\">notify</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span>  <span class=\"token comment\"># 是否开启邮件提醒(https://valine.js.org/notify.html)</span>\n  <span class=\"token key atrule\">visitor</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span>\n  <span class=\"token key atrule\">avatar</span><span class=\"token punctuation\">:</span> monsterid  <span class=\"token comment\"># 头像样式(https://valine.js.org/avatar.html) </span>\n  <span class=\"token key atrule\">pageSize</span><span class=\"token punctuation\">:</span> <span class=\"token number\">10</span>\n  <span class=\"token key atrule\">placeholder</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'ヾﾉ≧∀≦)o来啊，快活啊!'</span> <span class=\"token comment\"># Comment Box placeholder</span>\n  <span class=\"token key atrule\">background</span><span class=\"token punctuation\">:</span> /medias/comment_bg.png <span class=\"token comment\">#背景图</span>\n  <span class=\"token key atrule\">count</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span>\n  <span class=\"token key atrule\">enableQQ</span><span class=\"token punctuation\">:</span> <span class=\"token number\">970175021</span>\n  <span class=\"token key atrule\">recordIP</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span>\n  <span class=\"token key atrule\">requiredFields</span><span class=\"token punctuation\">:</span> \n    <span class=\"token punctuation\">-</span> nick\n    <span class=\"token punctuation\">-</span> mail\n  <span class=\"token key atrule\">guest_info</span><span class=\"token punctuation\">:</span> \n    <span class=\"token punctuation\">-</span> nick\n    <span class=\"token punctuation\">-</span> mail\n    <span class=\"token punctuation\">-</span> link\n  <span class=\"token key atrule\">master</span><span class=\"token punctuation\">:</span> \n    <span class=\"token punctuation\">-</span> 123abc508165c8eba9a77f872xxxx046  <span class=\"token comment\"># md5加密后的博主邮箱</span>\n  <span class=\"token key atrule\">metaPlaceholder</span><span class=\"token punctuation\">:</span>  <span class=\"token comment\"># 输入框的背景文字</span>\n    <span class=\"token key atrule\">nick</span><span class=\"token punctuation\">:</span> 昵称/QQ号(必填)\n    <span class=\"token key atrule\">mail</span><span class=\"token punctuation\">:</span> 邮箱(必填)\n    <span class=\"token key atrule\">link</span><span class=\"token punctuation\">:</span> 网址(https<span class=\"token punctuation\">:</span>//)\n  <span class=\"token key atrule\">lang</span><span class=\"token punctuation\">:</span> zh<span class=\"token punctuation\">-</span>CN\n  <span class=\"token key atrule\">tagMeta</span><span class=\"token punctuation\">:</span> <span class=\"token comment\"># The String Array of Words to show Flag.[Just Only xCss Style mode]</span>\n    <span class=\"token punctuation\">-</span> 博主\n    <span class=\"token punctuation\">-</span> 小伙伴\n    <span class=\"token punctuation\">-</span> 访客\n  <span class=\"token key atrule\">friends</span><span class=\"token punctuation\">:</span> <span class=\"token comment\"># The MD5 String Array of friends Email to show friends Flag.[Just Only xCss Style mode]</span>\n    <span class=\"token punctuation\">-</span> c08508165c8eba9a77f8c2853xxxx09e\n    <span class=\"token punctuation\">-</span> 901345d4c91ddfd8db0f175bbcfff0c8\n    <span class=\"token punctuation\">-</span> 1512958e18378c98b498d5effe3e76ff<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<p>复制代码注意缩进对齐，不对齐可能会报错，请自行检查对齐。</p>\n<h4 id=\"3、修改valine-ejs：\">3、修改<code>valine.ejs</code>：</h4>\n<p>Matery 主题使用的<code>ejs</code>模板预编译，如果你使用了<code>pug</code>或者<code>swig</code>等其他的模板语言，请修改成对应语言语法即可。</p>\n<p>原始的<code>valine.ejs</code></p>\n<pre class=\"line-numbers language-ejs\" data-language=\"ejs\"><code class=\"language-ejs\">new Valine({\n        el: '#vcomments',\n        appId: '<span class=\"token ejs language-ejs\"><span class=\"token delimiter punctuation\">&lt;%-</span><span class=\"token language-javascript\"> theme<span class=\"token punctuation\">.</span>valine<span class=\"token punctuation\">.</span>appId </span><span class=\"token delimiter punctuation\">%&gt;</span></span>',\n        appKey: '<span class=\"token ejs language-ejs\"><span class=\"token delimiter punctuation\">&lt;%-</span><span class=\"token language-javascript\"> theme<span class=\"token punctuation\">.</span>valine<span class=\"token punctuation\">.</span>appKey </span><span class=\"token delimiter punctuation\">%&gt;</span></span>',\n        notify: '<span class=\"token ejs language-ejs\"><span class=\"token delimiter punctuation\">&lt;%-</span><span class=\"token language-javascript\"> theme<span class=\"token punctuation\">.</span>valine<span class=\"token punctuation\">.</span>notify </span><span class=\"token delimiter punctuation\">%&gt;</span></span>' === 'true',\n        verify: '<span class=\"token ejs language-ejs\"><span class=\"token delimiter punctuation\">&lt;%-</span><span class=\"token language-javascript\"> theme<span class=\"token punctuation\">.</span>valine<span class=\"token punctuation\">.</span>verify </span><span class=\"token delimiter punctuation\">%&gt;</span></span>' === 'true',\n        visitor: '<span class=\"token ejs language-ejs\"><span class=\"token delimiter punctuation\">&lt;%-</span><span class=\"token language-javascript\"> theme<span class=\"token punctuation\">.</span>valine<span class=\"token punctuation\">.</span>visitor </span><span class=\"token delimiter punctuation\">%&gt;</span></span>' === 'true',\n        avatar: '<span class=\"token ejs language-ejs\"><span class=\"token delimiter punctuation\">&lt;%-</span><span class=\"token language-javascript\"> theme<span class=\"token punctuation\">.</span>valine<span class=\"token punctuation\">.</span>avatar </span><span class=\"token delimiter punctuation\">%&gt;</span></span>',\n        pageSize: '<span class=\"token ejs language-ejs\"><span class=\"token delimiter punctuation\">&lt;%-</span><span class=\"token language-javascript\"> theme<span class=\"token punctuation\">.</span>valine<span class=\"token punctuation\">.</span>pageSize </span><span class=\"token delimiter punctuation\">%&gt;</span></span>',\n        lang: '<span class=\"token ejs language-ejs\"><span class=\"token delimiter punctuation\">&lt;%</span><span class=\"token language-javascript\"> <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>config<span class=\"token punctuation\">.</span>language <span class=\"token operator\">==</span> <span class=\"token string\">\"zh-CN\"</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>  </span><span class=\"token delimiter punctuation\">%&gt;</span></span>zh-cn<span class=\"token ejs language-ejs\"><span class=\"token delimiter punctuation\">&lt;%</span><span class=\"token language-javascript\"> <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span> </span><span class=\"token delimiter punctuation\">%&gt;</span></span>en<span class=\"token ejs language-ejs\"><span class=\"token delimiter punctuation\">&lt;%</span><span class=\"token language-javascript\"> <span class=\"token punctuation\">}</span> </span><span class=\"token delimiter punctuation\">%&gt;</span></span>',\n        placeholder: '<span class=\"token ejs language-ejs\"><span class=\"token delimiter punctuation\">&lt;%=</span><span class=\"token language-javascript\"> theme<span class=\"token punctuation\">.</span>valine<span class=\"token punctuation\">.</span>placeholder </span><span class=\"token delimiter punctuation\">%&gt;</span></span>'\n    });<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<p>升级后的<code>valine.ejs</code></p>\n<pre class=\"line-numbers language-ejs\" data-language=\"ejs\"><code class=\"language-ejs\">let metaPlaceholder = <span class=\"token ejs language-ejs\"><span class=\"token delimiter punctuation\">&lt;%-</span><span class=\"token language-javascript\">  <span class=\"token constant\">JSON</span><span class=\"token punctuation\">.</span><span class=\"token function\">stringify</span><span class=\"token punctuation\">(</span>theme<span class=\"token punctuation\">.</span>valine<span class=\"token punctuation\">.</span>metaPlaceholder<span class=\"token punctuation\">)</span> </span><span class=\"token delimiter punctuation\">%&gt;</span></span> ;\n//这里要换行\nnew Valine({\n        el: '#vcomments',\n        appId: '<span class=\"token ejs language-ejs\"><span class=\"token delimiter punctuation\">&lt;%-</span><span class=\"token language-javascript\"> theme<span class=\"token punctuation\">.</span>valine<span class=\"token punctuation\">.</span>appId </span><span class=\"token delimiter punctuation\">%&gt;</span></span>',\n        appKey: '<span class=\"token ejs language-ejs\"><span class=\"token delimiter punctuation\">&lt;%-</span><span class=\"token language-javascript\"> theme<span class=\"token punctuation\">.</span>valine<span class=\"token punctuation\">.</span>appKey </span><span class=\"token delimiter punctuation\">%&gt;</span></span>',\n        notify: '<span class=\"token ejs language-ejs\"><span class=\"token delimiter punctuation\">&lt;%-</span><span class=\"token language-javascript\"> theme<span class=\"token punctuation\">.</span>valine<span class=\"token punctuation\">.</span>notify </span><span class=\"token delimiter punctuation\">%&gt;</span></span>' === 'true',\n        verify: '<span class=\"token ejs language-ejs\"><span class=\"token delimiter punctuation\">&lt;%-</span><span class=\"token language-javascript\"> theme<span class=\"token punctuation\">.</span>valine<span class=\"token punctuation\">.</span>verify </span><span class=\"token delimiter punctuation\">%&gt;</span></span>' === 'true',\n        visitor: '<span class=\"token ejs language-ejs\"><span class=\"token delimiter punctuation\">&lt;%-</span><span class=\"token language-javascript\"> theme<span class=\"token punctuation\">.</span>valine<span class=\"token punctuation\">.</span>visitor </span><span class=\"token delimiter punctuation\">%&gt;</span></span>' === 'true',\n        avatar: '<span class=\"token ejs language-ejs\"><span class=\"token delimiter punctuation\">&lt;%-</span><span class=\"token language-javascript\"> theme<span class=\"token punctuation\">.</span>valine<span class=\"token punctuation\">.</span>avatar </span><span class=\"token delimiter punctuation\">%&gt;</span></span>',\n        pageSize: '<span class=\"token ejs language-ejs\"><span class=\"token delimiter punctuation\">&lt;%-</span><span class=\"token language-javascript\"> theme<span class=\"token punctuation\">.</span>valine<span class=\"token punctuation\">.</span>pageSize </span><span class=\"token delimiter punctuation\">%&gt;</span></span>',\n        lang: '<span class=\"token ejs language-ejs\"><span class=\"token delimiter punctuation\">&lt;%-</span><span class=\"token language-javascript\"> theme<span class=\"token punctuation\">.</span>valine<span class=\"token punctuation\">.</span>lang </span><span class=\"token delimiter punctuation\">%&gt;</span></span>',\n        placeholder: '<span class=\"token ejs language-ejs\"><span class=\"token delimiter punctuation\">&lt;%=</span><span class=\"token language-javascript\"> theme<span class=\"token punctuation\">.</span>valine<span class=\"token punctuation\">.</span>placeholder </span><span class=\"token delimiter punctuation\">%&gt;</span></span>',\n        meta: <span class=\"token ejs language-ejs\"><span class=\"token delimiter punctuation\">&lt;%-</span><span class=\"token language-javascript\"> <span class=\"token string\">'[\"'</span> <span class=\"token operator\">+</span> theme<span class=\"token punctuation\">.</span>valine<span class=\"token punctuation\">.</span>guest_info<span class=\"token punctuation\">.</span><span class=\"token function\">join</span><span class=\"token punctuation\">(</span><span class=\"token string\">'\", \"'</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token string\">'\"]'</span> </span><span class=\"token delimiter punctuation\">%&gt;</span></span>,\n        recordIP: '<span class=\"token ejs language-ejs\"><span class=\"token delimiter punctuation\">&lt;%-</span><span class=\"token language-javascript\"> theme<span class=\"token punctuation\">.</span>valine<span class=\"token punctuation\">.</span>recordIP </span><span class=\"token delimiter punctuation\">%&gt;</span></span>' === 'true',\n        enableQQ: '<span class=\"token ejs language-ejs\"><span class=\"token delimiter punctuation\">&lt;%-</span><span class=\"token language-javascript\"> theme<span class=\"token punctuation\">.</span>valine<span class=\"token punctuation\">.</span>avatar </span><span class=\"token delimiter punctuation\">%&gt;</span></span>',\n        requiredFields: <span class=\"token ejs language-ejs\"><span class=\"token delimiter punctuation\">&lt;%-</span><span class=\"token language-javascript\"> <span class=\"token string\">'[\"'</span> <span class=\"token operator\">+</span> theme<span class=\"token punctuation\">.</span>valine<span class=\"token punctuation\">.</span>master<span class=\"token punctuation\">.</span><span class=\"token function\">join</span><span class=\"token punctuation\">(</span><span class=\"token string\">'\", \"'</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token string\">'\"]'</span> </span><span class=\"token delimiter punctuation\">%&gt;</span></span>,\n        master: <span class=\"token ejs language-ejs\"><span class=\"token delimiter punctuation\">&lt;%-</span><span class=\"token language-javascript\"> <span class=\"token string\">'[\"'</span> <span class=\"token operator\">+</span> theme<span class=\"token punctuation\">.</span>valine<span class=\"token punctuation\">.</span>master<span class=\"token punctuation\">.</span><span class=\"token function\">join</span><span class=\"token punctuation\">(</span><span class=\"token string\">'\", \"'</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token string\">'\"]'</span> </span><span class=\"token delimiter punctuation\">%&gt;</span></span>,\n        friends: <span class=\"token ejs language-ejs\"><span class=\"token delimiter punctuation\">&lt;%-</span><span class=\"token language-javascript\"> <span class=\"token string\">'[\"'</span> <span class=\"token operator\">+</span> theme<span class=\"token punctuation\">.</span>valine<span class=\"token punctuation\">.</span>friends<span class=\"token punctuation\">.</span><span class=\"token function\">join</span><span class=\"token punctuation\">(</span><span class=\"token string\">'\", \"'</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token string\">'\"]'</span> </span><span class=\"token delimiter punctuation\">%&gt;</span></span>,\n        tagMeta: <span class=\"token ejs language-ejs\"><span class=\"token delimiter punctuation\">&lt;%-</span><span class=\"token language-javascript\"> <span class=\"token string\">'[\"'</span> <span class=\"token operator\">+</span> theme<span class=\"token punctuation\">.</span>valine<span class=\"token punctuation\">.</span>tagMeta<span class=\"token punctuation\">.</span><span class=\"token function\">join</span><span class=\"token punctuation\">(</span><span class=\"token string\">'\", \"'</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token string\">'\"]'</span> </span><span class=\"token delimiter punctuation\">%&gt;</span></span>,\n        metaPlaceholder: metaPlaceholder,\n\n    });<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<p>如果需要验证昵称和邮箱可以加上以下代码：</p>\n<pre class=\"line-numbers language-markup\" data-language=\"markup\"><code class=\"language-markup\">document.body.addEventListener('click', function(e) {\n    if (e.target.classList.contains('vsubmit')) {\n        const email = document.querySelector('input[type=email]');\n        const nick = document.querySelector('input[name=nick]');\n        const reg = /^[A-Za-z0-9_-\\u4e00-\\u9fa5]+@[a-zA-Z0-9_-]+(\\.[a-zA-Z0-9_-]+)+$/;\n        if (!email.value || !nick.value || !reg.test(email.value)) {\n            const str = `<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>valert txt-center<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>vtext<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>请填写正确的昵称和邮箱！<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">&gt;</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">&gt;</span></span>`;\n            const vmark = document.querySelector('.vmark');\n            vmark.innerHTML = str;\n            vmark.style.display = 'block';\n\n            e.stopPropagation();\n\n            setTimeout(function() {\n                vmark.style.display = 'none';\n                vmark.innerHTML = '';\n            }, 2500);\n        }\n    }\n    }, true);<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<p>说明：代码非原创，JS正则验证本身也不难。</p>\n<p>好了可以部署之后自己测试一下。</p>\n<p>顺便说一下，填写昵称邮箱和网址的地方如果折行了就按我的样式改一下就好：</p>\n<p>在 <code>valine.ejs</code> 是上面对着改一下就好了：</p>\n<pre class=\"line-numbers language-css\" data-language=\"css\"><code class=\"language-css\"><span class=\"token selector\">.v[data-class=\"v\"] .vwrap .vheader .vinput</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token property\">width</span><span class=\"token punctuation\">:</span> 32%<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">border-bottom</span><span class=\"token punctuation\">:</span> 1px dashed #dedede<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n<h2 id=\"新建文章自动打开本地Markdown编辑器\">新建文章自动打开本地Markdown编辑器</h2>\n<blockquote>\n<p>写新文章时，需要控制台执行hexo new “文章名字”生成一篇新文章，但需要手动打开，挺麻烦，我们可以设置在生成之后自动打开</p>\n</blockquote>\n<p>在站点根目录下新建scripts目录，然后在新建<code>auto_open.js</code>，在文件填入一下内容</p>\n<pre class=\"line-numbers language-javascript\" data-language=\"javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">var</span> spawn <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'child_process'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>exec<span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// Hexo 2.x 用户复制这段</span>\n<span class=\"token comment\">//hexo.on('new', function(path){</span>\n  <span class=\"token comment\">//spawn('start  \"markdown编辑器绝对路径.exe\" ' + path);</span>\n<span class=\"token comment\">//});</span>\n\n<span class=\"token comment\">// Hexo 3 用户复制这段</span>\nhexo<span class=\"token punctuation\">.</span><span class=\"token function\">on</span><span class=\"token punctuation\">(</span><span class=\"token string\">'new'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">data</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n  <span class=\"token function\">spawn</span><span class=\"token punctuation\">(</span><span class=\"token string\">'start  \"D:\\Program Files\\Typora\\Typora.exe\" '</span> <span class=\"token operator\">+</span> data<span class=\"token punctuation\">.</span>path<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<blockquote>\n<p>其中”D:\\Program Files\\Typora\\Typora.exe”是我本地编辑器的路径，只需要改为你本地编辑器的路径即可，然后在执行<code>hexo cl &amp;&amp; hexo g -d</code>，部署到GitHub即可，以后在新建文章就会自动打开编辑器.</p>\n</blockquote>\n<h2 id=\"系列教程-36\"><strong>系列教程</strong></h2>\n<p><a href=\"https://blog.17lai.site/atom.xml\">全部文章RSS订阅</a></p>\n<p><strong>Hexo系列</strong>  <a href=\"https://blog.17lai.site/categories/hexo/atom.xml\"><strong>HexoRSS分类订阅</strong></a></p>\n<p>[三万字教程]基于Hexo的matery主题搭建博客并深度优化完全一站式教程</p>\n<ul>\n<li>\n<p><a href=\"https://blog.17lai.site/posts/40300608/\">Hexo Docker环境与Hexo基础配置篇</a></p>\n</li>\n<li>\n<p><a href=\"https://blog.17lai.site/posts/4d8a0b22/\">hexo博客自定义修改篇</a></p>\n</li>\n<li>\n<p><a href=\"https://blog.17lai.site/posts/9b056c86/\">hexo博客网络优化篇</a></p>\n</li>\n<li>\n<p><a href=\"https://blog.17lai.site/posts/5311b619/\">hexo博客增强部署篇</a></p>\n</li>\n<li>\n<p><a href=\"https://blog.17lai.site/posts/4a2050e2/\">hexo博客个性定制篇</a></p>\n</li>\n<li>\n<p><a href=\"https://blog.17lai.site/posts/84b4059a/\">hexo博客常见问题篇</a></p>\n</li>\n<li>\n<p><a href=\"https://blog.17lai.site/posts/cf0f47fd/\">Hexo Markdown以及各种插件功能测试</a></p>\n</li>\n</ul>\n<blockquote>\n<ul>\n<li>markdown 各种其它语法插件</li>\n<li>latex公式支持</li>\n<li>mermaid图表</li>\n<li>plant uml图表</li>\n<li>URL卡片</li>\n<li>bilibili卡片</li>\n<li>github卡片</li>\n<li>豆瓣卡片</li>\n<li>插入音乐和视频</li>\n<li>插入脑图</li>\n</ul>\n</blockquote>\n<p><strong>笔记系列</strong>  <a href=\"https://blog.17lai.site/categories/note/atom.xml\"><strong>Note分类RSS订阅</strong></a></p>\n<ul>\n<li><a href=\"https://blog.17lai.site/posts/a8535f26/\">完美笔记进化论</a></li>\n</ul>\n<blockquote>\n<p>经历了很长时间，使用了各种各样的方案，最终选择了一种相对完美的方式。docker私有部署运行的joplin，使用markdown语法，github作为图床，picgo作为图像自动上传后端，pypora作为MD编辑器，Snipaste作为截图工具。后备gitlab ee selfhost备份，自建图床VPS多线负载均衡。cloudflare partner cdn加速，jsdelivr加速。</p>\n<ul>\n<li>pigo图床搭建与配置</li>\n<li>Joplin教程</li>\n<li>Snipaste截图工具</li>\n<li>Typora 作为Markdown编辑器最强</li>\n</ul>\n</blockquote>\n<ul>\n<li><a target=\"_blank\" rel=\"noopener\" href=\"https://blog.17lai.fun/posts/e6086437/\">Joplin入门指南&amp;实践方案</a></li>\n</ul>\n<blockquote>\n<ul>\n<li>Joplin和使用</li>\n<li>Joplin同步与备份</li>\n<li>Joplin导入与导出</li>\n</ul>\n</blockquote>\n<ul>\n<li><a target=\"_blank\" rel=\"noopener\" href=\"https://blog.17lai.fun/posts/45f878cd/\">替代Evernote免费开源笔记Joplin-网盘同步笔记历史版本Markdown可视化</a></li>\n</ul>\n<blockquote>\n<ul>\n<li>Joplin安装使用，调用外部编辑器，网盘同步等等</li>\n</ul>\n</blockquote>\n<ul>\n<li><a href=\"https://blog.17lai.site/posts/92d347d6/\">Joplin 插件以及其Markdown语法。All in One!</a></li>\n</ul>\n<blockquote>\n<ul>\n<li>Joplin简明教程</li>\n<li>markdown语法简明教程</li>\n</ul>\n</blockquote>\n<ul>\n<li><a href=\"https://blog.17lai.site/posts/e3ee7f8b/\">Joplin 插件使用推荐</a></li>\n</ul>\n<blockquote>\n<ul>\n<li>教你用各种插件打造一个强大的笔记工具。</li>\n</ul>\n</blockquote>\n<ul>\n<li><a href=\"https://blog.17lai.site/posts/1802a8a7/\">为知笔记私有化Docker部署</a></li>\n</ul>\n<blockquote>\n<ul>\n<li>如何部署自己私有的为知笔记。</li>\n<li>其实博主更推荐私有部署joplin</li>\n</ul>\n</blockquote>\n<p><strong>Gitbook使用系列</strong> <a href=\"https://blog.17lai.site/categories/gitbook/atom.xml\">Gitbook分类RSS订阅</a></p>\n<ul>\n<li>\n<p><a href=\"https://blog.17lai.site/posts/7fe86002/\">GitBook+GitLab撰写发布技术文档-Part1:GitBook篇</a></p>\n</li>\n<li>\n<p><a href=\"https://blog.17lai.site/posts/7790e989/\">GitBook+GitLab撰写发布技术文档-Part2:GitLab篇</a></p>\n</li>\n<li>\n<p><a href=\"https://blog.17lai.site/posts/d6bad1e5/\">自己动手制作电子书的最佳方式（支持PDF、ePub、mobi等格式）</a></p>\n</li>\n</ul>\n<p><strong>Gitlab 使用系列</strong>  <a href=\"https://blog.17lai.site/categories/gitlab/atom.xml\"><strong>Gitlab RSS 分类订阅</strong></a></p>\n<ul>\n<li><a href=\"https://blog.17lai.site/posts/acc13b70/\"><strong>Gitlab的安装及使用教程完全版</strong></a></li>\n<li><a href=\"https://blog.17lai.site/posts/29a820b3/\">破解Gitlab EE</a></li>\n<li><a href=\"https://blog.17lai.site/posts/d08eb7b/\">Gitlab的安装及使用</a></li>\n<li><a href=\"https://blog.17lai.site/posts/1879721e/\">CI/CD与Git Flow与GitLab</a></li>\n</ul>\n<link rel=\"stylesheet\" href=\"/css/bilicard.css\" type=\"text/css\">",
            "tags": [
                "github",
                "hexo",
                "matery",
                "cdn",
                "seo"
            ]
        },
        {
            "id": "https://blog.17lai.site/posts/5311b619/",
            "url": "https://blog.17lai.site/posts/5311b619/",
            "title": "基于Hexo的matery主题搭建博客增强部署篇4",
            "date_published": "2022-03-27T07:27:48.000Z",
            "content_html": "<h2 id=\"Hexo-Docker-本地部署\">Hexo Docker 本地部署</h2>\n<p>在最前面的篇章介绍了Hexo Docker 环境的使用方法。具体使用方法见本文系列[<strong>Hexo Docker 环境篇</strong>]。</p>\n<p>优点：本地使用可定制化成都更高</p>\n<p>缺点：必须要有Docker 环境。异地使用麻烦，除非ssh,vpn等远程链接方法。</p>\n<h2 id=\"将Hexo部署到vps，实现自动发布\">[将Hexo部署到vps，实现自动发布][]</h2>\n<h3 id=\"搭建流程\">搭建流程</h3>\n<ol>\n<li>服务器环境配置，安装Git、Nginx配置、创建git用户</li>\n<li>本地hexo初始化</li>\n<li>使用Git自动部署并发布博客</li>\n</ol>\n<h3 id=\"服务器环境搭建\">服务器环境搭建</h3>\n<ul>\n<li><strong>安装Git和NodeJS(Centos环境)</strong></li>\n</ul>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">yum <span class=\"token function\">install</span> <span class=\"token function\">git</span>\n<span class=\"token comment\"># 安装NodeJS </span>\n<span class=\"token function\">curl</span> --silent --location https://rpm.nodesource.com/setup_5.x <span class=\"token operator\">|</span> <span class=\"token function\">bash</span> -<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n<ul>\n<li><strong>创建git账号</strong></li>\n</ul>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">adduser <span class=\"token function\">git</span>\n<span class=\"token function\">chmod</span> <span class=\"token number\">740</span> /etc/sudoers\n<span class=\"token function\">vim</span> /etc/sudoers<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n<ul>\n<li>添加内容<br>\n找到</li>\n</ul>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token comment\">## Allow root to run any commands anywhere</span>\nroot    <span class=\"token assign-left variable\">ALL</span><span class=\"token operator\">=</span><span class=\"token punctuation\">(</span>ALL<span class=\"token punctuation\">)</span>     ALL<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n<ul>\n<li>添加以下内容</li>\n</ul>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">git</span>     <span class=\"token assign-left variable\">ALL</span><span class=\"token operator\">=</span><span class=\"token punctuation\">(</span>ALL<span class=\"token punctuation\">)</span>     ALL<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<ul>\n<li>保存退出并改回权限</li>\n</ul>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">chmod</span> <span class=\"token number\">400</span> /etc/sudoers<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<ul>\n<li>设置git账号密码</li>\n</ul>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">sudo</span> <span class=\"token function\">passwd</span> <span class=\"token function\">git</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<ul>\n<li>使用<code>su git</code>切换到git用户，再执行下列操作：</li>\n</ul>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token comment\"># 切换到git用户目录</span>\n<span class=\"token builtin class-name\">cd</span> /home/git\n<span class=\"token comment\"># 创建.ssh文件夹</span>\n<span class=\"token function\">mkdir</span> ~/.ssh\n<span class=\"token comment\"># 创建authorized_keys文件并编辑</span>\n<span class=\"token function\">vim</span> ~/.ssh/authorized_keys\n<span class=\"token comment\"># 如果你还没有生成公钥，那么首先在本地电脑中执行 cat ~/.ssh/id_rsa.pub | pbcopy生成公钥</span>\n<span class=\"token comment\"># 再将公钥复制粘贴到authorized_keys</span>\n<span class=\"token comment\"># 保存关闭authorized_keys后，修改相应权限</span>\n<span class=\"token function\">chmod</span> <span class=\"token number\">600</span> ~/.ssh/authorized_keys\n<span class=\"token function\">chmod</span> <span class=\"token number\">700</span> ~/.ssh<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<ul>\n<li>然后可以通过本地Git Bash执行ssh命令测试是否可以免密登录</li>\n</ul>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">ssh</span> -v git@服务器ip地址<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p>这样git用户就添加好了。</p>\n<blockquote>\n<p>Tips: 将公钥拷贝到服务器的~/.ssh/authorized_keys文件中方法有如下几种：</p>\n<ol>\n<li>将公钥通过scp拷贝到服务器上，然后追加到~/.ssh/authorized_keys文件中，这种方式比较麻烦。scp -P 22 ~/.ssh/id_rsa.pub user@host:~/。</li>\n<li>通过ssh-copy-id程序，就是我演示的方法，ssh-copyid user@host即可</li>\n<li>可以通过cat ~/.ssh/id_rsa.pub | ssh -p 22 user@host ‘cat &gt;&gt; ~/.ssh/authorized_keys’，这个也是比较常用的方法，因为可以更改端口号。</li>\n</ol>\n</blockquote>\n<ul>\n<li><strong>安装Nginx</strong></li>\n<li>准备工作<br>\n首先由于nginx的一些模块依赖一些lib库，所以在安装nginx之前，必须先安装这些lib库，这些依赖库主要有g++、gcc、openssl-devel、pcre-devel和zlib-devel 所以执行如下命令安装</li>\n</ul>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">yum <span class=\"token function\">install</span> gcc-c++\nyum <span class=\"token function\">install</span> pcre pcre-devel\nyum <span class=\"token function\">install</span> zlib zlib-devel\nyum <span class=\"token function\">install</span> openssl openssl--devel<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n<p>Ubuntu系统安装命令如下：</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">sudo</span> <span class=\"token function\">apt-get</span> <span class=\"token function\">install</span> libpcre3 libpcre3-dev\n<span class=\"token function\">sudo</span> <span class=\"token function\">apt-get</span> <span class=\"token function\">install</span> zlib1g-dev\n<span class=\"token function\">sudo</span> <span class=\"token function\">apt-get</span> <span class=\"token function\">install</span> openssl libssl-dev<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n<ul>\n<li>安装Nginx<br>\n安装之前，最好检查一下是否已经安装有nginx</li>\n</ul>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">find</span> -name nginx<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p>如果系统已经安装了nginx，那么就先卸载</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">yum remove nginx<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p>然后开始安装<br>\n首先进入<code>/usr/local</code>目录</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token builtin class-name\">cd</span> /usr/local<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p>从官网下载最新版的nginx</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">wget</span> -c https://nginx.org/download/nginx-1.14.2.tar.gz <span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p>（注：版本号可更改，去官网查看最新版本号修改即可）</p>\n<p>解压nginx压缩包</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">tar</span> -zxvf nginx-1.14.2.tar.gz<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p>会产生一个nginx-1.14.2 目录，这时进入nginx-1.14.2 目录</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token builtin class-name\">cd</span>  nginx-1.14.2<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p>接下来安装，使用–prefix参数指定nginx安装的目录,make、make install安装</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">./configure<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p>（默认安装在/usr/local/nginx，推荐使用默认设置）</p>\n<p><img src=\"https://cimg1.17lai.site/data/2021/09/1220210912163925.png\" alt=\"\"></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">make<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p><img src=\"https://cimg1.17lai.site/data/2021/09/1220210912163918.png\" alt=\"\"></p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">make</span> <span class=\"token function\">install</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p><img src=\"https://cimg1.17lai.site/data/2021/09/1220210912163522.png\" alt=\"\"></p>\n<p>如果没有报错，顺利完成后，最好看一下nginx的安装目录</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">whereis</span> nginx<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p>（where和is要连这些，中间没有空格）</p>\n<p><img src=\"https://cimg1.17lai.site/data/2021/09/1220210912163515.png\" alt=\"\"></p>\n<ul>\n<li>启动和停止nginx</li>\n</ul>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token builtin class-name\">cd</span> /usr/local/nginx/sbin/\n./nginx \n./nginx -s stop\n./nginx -s quit\n./nginx -s reload\n./nginx -s quit: 此方式停止步骤是待nginx进程处理任务完毕进行停止。\n./nginx -s stop: 此方式相当于先查出nginx进程id再使用kill命令强制杀掉进程。<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<p>查询nginx进程：</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">ps</span> aux <span class=\"token operator\">|</span> <span class=\"token function\">grep</span> nginx<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p><img src=\"https://cimg1.17lai.site/data/2021/09/1220210912163454.png\" alt=\"\"></p>\n<ul>\n<li>重启 nginx</li>\n</ul>\n<ol>\n<li>先停止再启动（推荐）：<br>\n对 nginx 进行重启相当于先停止再启动，即先执行停止命令再执行启动命令。如下：</li>\n</ol>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">./nginx -s quit\n./nginx<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n<ol start=\"2\">\n<li>重新加载配置文件：<br>\n当 nginx 的配置文件 nginx.conf 修改后，要想让配置生效需要重启 nginx，使用 -s reload 不用先停止 nginx 再启动 nginx 即可将配置信息在 nginx 中生效，如下：</li>\n</ol>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">./nginx -s reload<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p>启动成功后，在浏览器可以看到如下页面：</p>\n<p><img src=\"https://cimg1.17lai.site/data/2021/09/1220210912163437.png\" alt=\"\"></p>\n<ul>\n<li>开机自启动</li>\n</ul>\n<p>即在rc.local增加启动代码就可以了。</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">vim</span> /etc/rc.local<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p>增加一行</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">/usr/local/nginx/sbin/nginx<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p>到这里，nginx安装完毕，启动、停止、重启操作也都完成。</p>\n<h3 id=\"建立git裸库\">建立git裸库</h3>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token comment\"># 回到git目录</span>\n<span class=\"token builtin class-name\">cd</span> /home/git\n<span class=\"token comment\"># 使用git用户创建git裸仓库，以blog.git为例</span>\n<span class=\"token function\">git</span> init --bare blog.git<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n<h3 id=\"检查用户组权限\">检查用户组权限</h3>\n<p>我们的git裸仓库已经建立好了，离成功又近了一步。为了以防万一，我们要检查一下之前的blog.git、.ssh、blog目录的用户组权限是否都为<code>git:git</code></p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token comment\"># 还记得/var/www/吗？这是之前配置nginx时，我们自己选定的网站根目录，请依据你自己的设置更改，如果没有的话自己</span>\nll -a /www/wwwroot/hexo\nll -a /home/git/<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n<p>如果有哪个不是，执行下面相应的命令后再查看</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">sudo</span> <span class=\"token function\">chown</span> -R git:git /www/wwwroot/hexo\n<span class=\"token function\">sudo</span> <span class=\"token function\">chmod</span> -R <span class=\"token number\">755</span> /www/wwwroot/hexo\n<span class=\"token function\">sudo</span> <span class=\"token function\">chown</span> git:git -R /home/git/blog.git<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n<h3 id=\"使用git-hooks同步网站根目录\">使用git-hooks同步网站根目录</h3>\n<p>简单来说，我们使用一个钩子文件：post-receive，每当git仓库接收到内容的时候，就会自动调用这个钩子，把内容同步到网站根目录。<br>\n在git用户下执行：</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token comment\"># 新建一个post-receive文件并编辑</span>\n<span class=\"token function\">vim</span> ~/blog.git/hooks/post-receive<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n<p>在里面输入以下内容，注意修改为自己的设置：</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token shebang important\">#!/bin/bash</span>\n<span class=\"token builtin class-name\">set</span> -e\n<span class=\"token assign-left variable\">GIT_REPO</span><span class=\"token operator\">=</span>/home/git/blog.git\n<span class=\"token assign-left variable\">TMP_GIT_CLONE</span><span class=\"token operator\">=</span>/tmp/blog\n<span class=\"token assign-left variable\">PUBLIC_WWW</span><span class=\"token operator\">=</span>/www/wwwroot/hexo\n<span class=\"token function\">rm</span> -rf <span class=\"token variable\">${TMP_GIT_CLONE}</span>\n<span class=\"token function\">git</span> clone -b main <span class=\"token variable\">$GIT_REPO</span> <span class=\"token variable\">$TMP_GIT_CLONE</span>\n<span class=\"token builtin class-name\">cd</span> <span class=\"token variable\">$TMP_GIT_CLONE</span>\n<span class=\"token comment\">#for b in `git branch -r | grep -v -- '-&gt;'`; do git branch --track ${b##origin/} $b; done</span>\n<span class=\"token comment\">#git checkout main</span>\n<span class=\"token function\">rm</span> -rf <span class=\"token variable\">${PUBLIC_WWW}</span>/*\n<span class=\"token function\">cp</span> -rf <span class=\"token variable\">${TMP_GIT_CLONE}</span>/* <span class=\"token variable\">${PUBLIC_WWW}</span>\n<span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"update web done!\"</span>\n<span class=\"token comment\">#ls -al ${PUBLIC_WWW}</span>\n<span class=\"token function\">rm</span> -rf <span class=\"token variable\">${TMP_GIT_CLONE}</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<p>保存退出后，执行以下赋予这个文件可执行权限。</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">chown</span> -R git:git ~/blog.git/hooks/post-receive\n<span class=\"token function\">chmod</span> +x ~/blog.git/hooks/post-receive<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n<p>好了，以上就是服务器端需要配置的内容。我们还差最后一步就可以完成整个部署了！</p>\n<h3 id=\"修改配置文件nginx-conf\">修改配置文件nginx.conf</h3>\n<p>修改上面的配置文件：</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">vim</span> /usr/local/nginx/conf/nginx_config<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<h3 id=\"然后修改其中两个部分，如下所示：\">然后修改其中两个部分，如下所示：</h3>\n<p><img src=\"https://cimg1.17lai.site/data/2021/09/1220210912163900.jpeg\" alt=\"\"></p>\n<p>然后<code>重启nginx</code>，方法见<code>nginx安装</code>部分。</p>\n<h3 id=\"配置本地Hexo的-config-yml\">配置本地Hexo的<code>_config.yml</code></h3>\n<p>非常简单，只需要找到本地Hexo博客的站点配置文件<code>_config.yml</code>，找到以下内容并修改：</p>\n<pre class=\"line-numbers language-yaml\" data-language=\"yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">deploy</span><span class=\"token punctuation\">:</span> \n  <span class=\"token key atrule\">type</span><span class=\"token punctuation\">:</span> git\n  <span class=\"token key atrule\">repo</span><span class=\"token punctuation\">:</span> git@你的服务器IP<span class=\"token punctuation\">:</span>/home/git/blog.git\n  <span class=\"token key atrule\">branch</span><span class=\"token punctuation\">:</span> master<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n<p>保存后，剩下的就是Hexo的日常操作了，这里就不赘述了，写完文章后，在你的本地博客根目录执行以下命令：</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">hexo c <span class=\"token operator\">&amp;&amp;</span> hexo g -d<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p>就可以实现线上博客的自动更新了！一切搞定！</p>\n<h2 id=\"Rsync同步部署静态文件方法\">Rsync同步部署静态文件方法</h2>\n<blockquote>\n<p>使用rsync同步</p>\n</blockquote>\n<p>本地生成静态文件后rsync同步到vps网页目录，lnap使用宝塔配置，这里只需要一个nginx。</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token comment\"># rsync [options] from_dir to_dir</span>\n<span class=\"token comment\"># 替换这里的ip为你的服务器ip</span>\n<span class=\"token function\">rsync</span> -avzP  /home/17lai.blog  root@8.8.8.8:/www/wwwroot/hexo<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n<h2 id=\"Hexo-Github-Action-自动部署\">Hexo Github Action 自动部署</h2>\n<h3 id=\"准备\">准备</h3>\n<ol>\n<li><code>Hexo</code> 博客源码的仓库，在 <code>GitHub</code> 上。</li>\n<li><code>ssh</code> 密钥，参考文章：<a target=\"_blank\" rel=\"noopener\" href=\"https://sitoi.cn/posts/43508.html\">Windows 下利用 Git 生成 SSH KEY 并配置到 GitHub</a></li>\n</ol>\n<h3 id=\"步骤\">步骤</h3>\n<ol>\n<li>为需要部署的平台添加密钥</li>\n<li>修改 <code>_config.yml</code> 中的 <code>deploy</code> 配置</li>\n<li>在 GitHub 上设置 <code>Secrets</code></li>\n<li>创建 GitHub Action</li>\n</ol>\n<h3 id=\"为需要部署的平台添加密钥\">为需要部署的平台添加密钥</h3>\n<p>按照之前的教程，只要你之前成功将 Hexo 的博客部署到 GitHub 上，那你电脑在 <code>~/.ssh</code> 目录下一定有以下三个文件：</p>\n<ul>\n<li><code>id_rsa</code>：私钥</li>\n<li><code>id_rsa.pub</code>：公钥</li>\n<li><code>known_hosts</code>：记录对所有用户都可信赖的远程主机的公钥</li>\n</ul>\n<p>将 <code>id_rsa.pub</code>（公钥）添加到不同平台中即可，参考文章：<a target=\"_blank\" rel=\"noopener\" href=\"https://sitoi.cn/posts/43508.html#%E6%9F%A5%E7%9C%8B-SSH-KEY\">Windows 下利用 Git 生成 SSH KEY 并配置到 GitHub</a></p>\n<p>下面是不同平台添加的地址：</p>\n<ul>\n<li><a target=\"_blank\" rel=\"noopener\" href=\"https://github.com/settings/ssh/new\">GitHub</a></li>\n<li><a target=\"_blank\" rel=\"noopener\" href=\"https://gitlab.com/profile/keys\">GitLab</a></li>\n<li><a target=\"_blank\" rel=\"noopener\" href=\"https://e.coding.net/\">Coding</a></li>\n<li><a target=\"_blank\" rel=\"noopener\" href=\"https://gitee.com/profile/sshkeys\">Gitee</a></li>\n</ul>\n<h3 id=\"修改-config-yml-中的-deploy-配置\">修改 <code>_config.yml</code> 中的 <code>deploy</code> 配置</h3>\n<p>请使用 <code>ssh</code> (即以 <code>git@</code> 开头的 <code>clone</code> 链接) 的连接方式，根据直接的实际地址填写。</p>\n<pre class=\"line-numbers language-yaml\" data-language=\"yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">deploy</span><span class=\"token punctuation\">:</span>\n  <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">type</span><span class=\"token punctuation\">:</span> git\n    <span class=\"token key atrule\">repo</span><span class=\"token punctuation\">:</span>\n      <span class=\"token key atrule\">github</span><span class=\"token punctuation\">:</span> git@github.com<span class=\"token punctuation\">:</span>Sitoi/Sitoi.github.io.git\n      <span class=\"token key atrule\">coding</span><span class=\"token punctuation\">:</span> git@e.coding.net<span class=\"token punctuation\">:</span>Sitoi/Sitoi.git\n      <span class=\"token key atrule\">gitee</span><span class=\"token punctuation\">:</span> git@gitee.com<span class=\"token punctuation\">:</span>sitoi/sitoi.git\n      <span class=\"token key atrule\">gitlab</span><span class=\"token punctuation\">:</span> git@gitlab.com<span class=\"token punctuation\">:</span>Sitoi/sitoi.gitlab.io.git\n    <span class=\"token key atrule\">branch</span><span class=\"token punctuation\">:</span> master<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<h3 id=\"在-GitHub-上设置-Secrets\">在 GitHub 上设置 <code>Secrets</code></h3>\n<ol>\n<li>\n<p>进入到你在 <code>GitHub</code> 上面的源码仓库</p>\n</li>\n<li>\n<p>点击右上角的 <code>Settings</code></p>\n</li>\n</ol>\n<p><img src=\"https://cimg1.17lai.site/data/2021/10/1220211012133009.png\" alt=\"Settings\"></p>\n<p>Settings</p>\n<ol start=\"3\">\n<li>\n<p>点击左侧的 <code>Secrets</code></p>\n</li>\n<li>\n<p>点击右上角的 <code>New secret</code></p>\n</li>\n</ol>\n<p><img src=\"https://cimg1.17lai.site/data/2021/10/1220211012133002.png\" alt=\"New secret\"></p>\n<p>New secret</p>\n<ol start=\"5\">\n<li>在 <code>Name</code> 中输入 <code>HEXO_DEPLOY_PRI</code>，在 <code>Value</code> 中填入 <code>id_rsa</code>（私钥）的全部内容</li>\n</ol>\n<p><img src=\"https://cimg1.17lai.site/data/2021/10/1220211012132955.png\" alt=\"Add secret\"></p>\n<p>Add secret</p>\n<h3 id=\"创建-GitHub-Action\">创建 GitHub Action</h3>\n<ol>\n<li>点击项目上方的 <code>Action</code> 按钮</li>\n</ol>\n<p><img src=\"https://cimg1.17lai.site/data/2021/10/1220211012132954.png\" alt=\"Action\"></p>\n<p>Action</p>\n<ol start=\"2\">\n<li>点击 <code>set up a workflow yourself</code> 创建 <code>Workflow</code></li>\n</ol>\n<p><img src=\"https://cimg1.17lai.site/data/2021/10/1220211012132947.png\" alt=\"Workflow\"></p>\n<p>Workflow</p>\n<ol start=\"3\">\n<li>修改 <code>main.yaml</code> 的内容</li>\n</ol>\n<p><img src=\"https://cimg1.17lai.site/data/2021/10/1220211012132940.png\" alt=\"Create Workflow\"></p>\n<p>Create Workflow</p>\n<blockquote>\n<p>根据实际情况修改成你自己的内容</p>\n</blockquote>\n<ul>\n<li>Git 推送使用的用户名：git config –global user.name ‘sitoi’：</li>\n<li>Git 推送使用的邮箱：git config –global user.email ‘<a href=\"mailto:133397418@qq.com\">133397418@qq.com</a>‘</li>\n<li>Hexo 的版本：npm i <a href=\"mailto:hexo@4.1.1\">hexo@4.1.1</a> -g</li>\n</ul>\n<pre class=\"line-numbers language-yaml\" data-language=\"yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Hexo CI\n\n<span class=\"token key atrule\">on</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">push</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">branches</span><span class=\"token punctuation\">:</span>\n      <span class=\"token punctuation\">-</span> butterfly\n\n<span class=\"token key atrule\">jobs</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">butterfly-build</span><span class=\"token punctuation\">:</span>\n\n    <span class=\"token key atrule\">runs-on</span><span class=\"token punctuation\">:</span> ubuntu<span class=\"token punctuation\">-</span>latest\n\n    <span class=\"token key atrule\">strategy</span><span class=\"token punctuation\">:</span>\n      <span class=\"token key atrule\">matrix</span><span class=\"token punctuation\">:</span>\n        <span class=\"token key atrule\">node-version</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span>10.x<span class=\"token punctuation\">]</span>\n\n    <span class=\"token key atrule\">steps</span><span class=\"token punctuation\">:</span>\n      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">uses</span><span class=\"token punctuation\">:</span> actions/checkout@v1\n      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Use Node.js 10.x\n        <span class=\"token key atrule\">uses</span><span class=\"token punctuation\">:</span> actions/setup<span class=\"token punctuation\">-</span>node@v1\n        <span class=\"token key atrule\">with</span><span class=\"token punctuation\">:</span>\n          <span class=\"token key atrule\">node-version</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'10.x'</span>\n      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> env prepare\n        <span class=\"token key atrule\">env</span><span class=\"token punctuation\">:</span>\n          <span class=\"token key atrule\">HEXO_DEPLOY_PRI</span><span class=\"token punctuation\">:</span> $<span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> secrets.HEXO_DEPLOY_PRI <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\n        <span class=\"token key atrule\">run</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">|</span><span class=\"token scalar string\">\n          mkdir -p ~/.ssh/\n          echo \"$HEXO_DEPLOY_PRI\" &gt; ~/.ssh/id_rsa\n          chmod 600 ~/.ssh/id_rsa\n          ssh-keyscan github.com &gt;&gt; ~/.ssh/known_hosts\n          ssh-keyscan gitlab.com &gt;&gt; ~/.ssh/known_hosts\n          ssh-keyscan e.coding.net &gt;&gt; ~/.ssh/known_hosts\n          ssh-keyscan gitee.com &gt;&gt; ~/.ssh/known_hosts\n          git config --global user.name 'sito'\n          git config --global user.email '133397418@qq.com'\n          npm i\n          npm i hexo@4.1.1 -g</span>\n      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> gen\n        <span class=\"token key atrule\">run</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">|</span><span class=\"token scalar string\">\n          hexo clean\n          hexo generate\n          hexo deploy</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<ol start=\"4\">\n<li>将你的源码推送到 <code>GitHub</code> 上，你的博客一会就会自动更新了。</li>\n</ol>\n<h2 id=\"vercel-部署\">vercel 部署</h2>\n<h3 id=\"为什么使用-vercel\">为什么使用 vercel</h3>\n<ul>\n<li>国内 <code>Github Pages</code> 速度较慢。</li>\n<li><code>vercel</code> 速度快且能够自定义域名，能实现和 <code>Github Pages</code> 一样的效果</li>\n</ul>\n<blockquote>\n<p>vercel 官方地址：<a href=\"https://vercel.com%2F\">vercel.com/</a></p>\n</blockquote>\n<h3 id=\"如何部署\">如何部署</h3>\n<ul>\n<li>首先注册一个账号</li>\n<li>注册成功后进入页面，点击 <code>News Project</code></li>\n</ul>\n<p><img src=\"https://cimg1.17lai.site/data/2022/05/17/20220517205923.webp\" alt=\"img\"></p>\n<ul>\n<li>然后通过绑定的 <code>github</code> 或者 <code>gitlab</code> 导入需要部署的项目</li>\n</ul>\n<p><img src=\"https://cimg1.17lai.site/data/2022/05/17/20220517205923-1.webp\" alt=\"img\"></p>\n<ul>\n<li>如果导入的项目是打包好的静态页，在 <code>Build and Output Settings</code> 的 <code>override</code> 都勾上，表示不执行它的默认命令。</li>\n</ul>\n<p><img src=\"https://cimg1.17lai.site/data/2022/05/17/20220517205923-2.webp\" alt=\"img\"></p>\n<ul>\n<li>点击 <code>deployed</code> 进行部署，如果部署失败可以查看报错信息是不是上一步的某些选项没有覆盖。部署成功后会进入如图所示的界面</li>\n</ul>\n<p><img src=\"https://cimg1.17lai.site/data/2022/05/17/20220517211315.webp\" alt=\"img\"></p>\n<h3 id=\"如何自定义域名\">如何自定义域名</h3>\n<ul>\n<li>腾讯云域名地址：<a href=\"https://console.cloud.tencent.com%2Fdomain\">console.cloud.tencent.com/domain</a></li>\n<li><code>vercel</code> 静态页挂载地址：</li>\n<li>进入到 setting 中可对项目进行一些设置，如项目名称</li>\n</ul>\n<p><img src=\"https://cimg1.17lai.site/data/2022/05/17/20220517211622.webp\" alt=\"vercel 自定义域名\"></p>\n<ul>\n<li>下面演示如何自定义域名，默认情况下部署成功后 <code>vercel</code> 会给你生成一个默认的域名，如果想要修改成自己的域名可将域名名称修改成自己的。</li>\n<li>当选择修改成自己的域名名称后，<code>vercel</code> 会检查域名指向的 <code>DNS</code> 对不对，如果不对的话会提示你域名的 DNS 应该如何配置，按照 <code>vercel</code> 提示的 <code>DNS</code> 信息</li>\n</ul>\n<p>在自己的域名的 <code>DNS</code> 配置中进行配置，如图</p>\n<p><img src=\"https://cimg1.17lai.site/data/2022/05/17/20220517205923-5.webp\" alt=\"img\"></p>\n<h3 id=\"配置多个域名\">配置多个域名</h3>\n<p>对其他新增的域名选择重定向到自己的主域名即可</p>\n<p><img src=\"https://cimg1.17lai.site/data/2022/05/17/20220517211716.webp\" alt=\"vercel 多域名配置\"></p>\n<h2 id=\"cloudflare-Pages-部署\">cloudflare Pages 部署</h2>\n<blockquote>\n<p><strong>强烈推荐！</strong></p>\n<p>全球CDN，静态加速，可以说是最佳部署方案！就是有每日100000次请求限制！可以使用dnspod多线路负载均衡来帮助分流。</p>\n</blockquote>\n<blockquote>\n<p>官网 <a target=\"_blank\" rel=\"noopener\" href=\"https://dash.cloudflare.com/\">cloudflare </a> 首先注册一个账号</p>\n</blockquote>\n<p><img src=\"https://cimg1.17lai.site/data/2022/05/17/20220517210709.webp\" alt=\"cloudflare\"></p>\n<p><img src=\"https://cimg1.17lai.site/data/2022/05/17/20220517210803.webp\" alt=\"cloudflare page 连接 github\"></p>\n<p><img src=\"https://cimg1.17lai.site/data/2022/05/17/20220517210852.webp\" alt=\"cloudflare page 选择仓库\"></p>\n<p><img src=\"https://cimg1.17lai.site/data/2022/05/17/20220517211145.webp\" alt=\"cloudflare page 自定义域名\"></p>\n<h2 id=\"以-token-方式部署到-Github\">以 token 方式部署到 Github</h2>\n<pre class=\"line-numbers language-yaml\" data-language=\"yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">deploy</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">type</span><span class=\"token punctuation\">:</span> git\n  <span class=\"token key atrule\">repo</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">github</span><span class=\"token punctuation\">:</span>\n      <span class=\"token key atrule\">url</span><span class=\"token punctuation\">:</span> &lt;repository url<span class=\"token punctuation\">&gt;</span>\n      <span class=\"token key atrule\">branch</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span>branch<span class=\"token punctuation\">]</span>\n      <span class=\"token key atrule\">token</span><span class=\"token punctuation\">:</span> <span class=\"token string\">''</span>\n  <span class=\"token key atrule\">message</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span>message<span class=\"token punctuation\">]</span>\n  <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span>git user<span class=\"token punctuation\">]</span>\n  <span class=\"token key atrule\">email</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span>git email<span class=\"token punctuation\">]</span>\n  <span class=\"token key atrule\">extend_dirs</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span>extend directory<span class=\"token punctuation\">]</span>\n  <span class=\"token key atrule\">ignore_hidden</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">false</span> <span class=\"token comment\"># default is true</span>\n  <span class=\"token key atrule\">ignore_pattern</span><span class=\"token punctuation\">:</span> regexp  <span class=\"token comment\"># whatever file that matches the </span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<h2 id=\"travis-自动部署配置\">travis 自动部署配置</h2>\n<blockquote>\n<p>travis是第三方CICD服务，比action更加强大，下面只是参考，请查阅travis 文档，并结合自己的环境修改！</p>\n</blockquote>\n<pre class=\"line-numbers language-yaml\" data-language=\"yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">sudo</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">false</span>\n<span class=\"token key atrule\">language</span><span class=\"token punctuation\">:</span> node_js\n<span class=\"token key atrule\">node_js</span><span class=\"token punctuation\">:</span>\n<span class=\"token punctuation\">-</span> 10.16.3\n<span class=\"token key atrule\">cache</span><span class=\"token punctuation\">:</span> npm\n<span class=\"token key atrule\">branches</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">only</span><span class=\"token punctuation\">:</span>\n  <span class=\"token punctuation\">-</span> master <span class=\"token comment\"># build master branch only</span>\n\n<span class=\"token key atrule\">env</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">global</span><span class=\"token punctuation\">:</span>\n  <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">GIT_USER</span><span class=\"token punctuation\">:</span> appotry\n  <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">HEXO_BACKUP_REPO</span><span class=\"token punctuation\">:</span> github.com/appotry/hexo<span class=\"token punctuation\">-</span>backup.git\n  <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">HEXO_THEME_REPO</span><span class=\"token punctuation\">:</span> github.com/appotry/hexo<span class=\"token punctuation\">-</span>theme<span class=\"token punctuation\">-</span>matery.git\n  <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">GITHUB_PAGES_REPO</span><span class=\"token punctuation\">:</span> github.com/appotry/hexo.github.io.git\n  <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">APPOTRY_REPO</span><span class=\"token punctuation\">:</span> github.com/appotry/hexo.git\n\n<span class=\"token key atrule\">before_install</span><span class=\"token punctuation\">:</span>\n<span class=\"token punctuation\">-</span> export TZ='Asia/Shanghai'\n<span class=\"token punctuation\">-</span> npm install hexo <span class=\"token punctuation\">-</span>g\n<span class=\"token punctuation\">-</span> npm install gulp<span class=\"token punctuation\">-</span>cli <span class=\"token punctuation\">-</span>g\n\n<span class=\"token key atrule\">install</span><span class=\"token punctuation\">:</span>\n<span class=\"token punctuation\">-</span> npm install\n\n<span class=\"token key atrule\">script</span><span class=\"token punctuation\">:</span>\n<span class=\"token punctuation\">-</span> git clone https<span class=\"token punctuation\">:</span>//$<span class=\"token punctuation\">{</span>HEXO_THEME_REPO<span class=\"token punctuation\">}</span> themes/next\n<span class=\"token punctuation\">-</span> git clone https<span class=\"token punctuation\">:</span>//$<span class=\"token punctuation\">{</span>GIT_USER<span class=\"token punctuation\">}</span><span class=\"token punctuation\">:</span>$<span class=\"token punctuation\">{</span>GITHUB_TOKEN<span class=\"token punctuation\">}</span>@$<span class=\"token punctuation\">{</span>HEXO_BACKUP_REPO<span class=\"token punctuation\">}</span> hexo<span class=\"token punctuation\">-</span>backup\n<span class=\"token punctuation\">-</span> mv hexo<span class=\"token punctuation\">-</span>backup/source .\n<span class=\"token punctuation\">-</span> rm <span class=\"token punctuation\">-</span>rf source/private\n<span class=\"token punctuation\">-</span> npm run build\n\n<span class=\"token key atrule\">after_success</span><span class=\"token punctuation\">:</span>\n<span class=\"token punctuation\">-</span> git config <span class=\"token punctuation\">-</span><span class=\"token punctuation\">-</span>global user.name \"appotry\"\n<span class=\"token punctuation\">-</span> git config <span class=\"token punctuation\">-</span><span class=\"token punctuation\">-</span>global user.email \"email@qq.com\"\n<span class=\"token punctuation\">-</span> git clone https<span class=\"token punctuation\">:</span>//$<span class=\"token punctuation\">{</span>GIT_USER<span class=\"token punctuation\">}</span><span class=\"token punctuation\">:</span>$<span class=\"token punctuation\">{</span>GITHUB_TOKEN<span class=\"token punctuation\">}</span>@$<span class=\"token punctuation\">{</span>GITHUB_PAGES_REPO<span class=\"token punctuation\">}</span> voidking\n<span class=\"token punctuation\">-</span> unalias cp\n<span class=\"token punctuation\">-</span> cp <span class=\"token punctuation\">-</span>rf public/. 17lai.blog\n<span class=\"token punctuation\">-</span> cd 17lai.blog\n<span class=\"token punctuation\">-</span> git add .\n<span class=\"token punctuation\">-</span> git commit <span class=\"token punctuation\">-</span>m \"Travis CI Auto Builder\"\n<span class=\"token punctuation\">-</span> git push <span class=\"token punctuation\">-</span><span class=\"token punctuation\">-</span>force <span class=\"token punctuation\">-</span><span class=\"token punctuation\">-</span>quiet \"https<span class=\"token punctuation\">:</span>//$<span class=\"token punctuation\">{</span>GIT_USER<span class=\"token punctuation\">}</span><span class=\"token punctuation\">:</span>$<span class=\"token punctuation\">{</span>GITHUB_TOKEN<span class=\"token punctuation\">}</span>@$<span class=\"token punctuation\">{</span>GITHUB_PAGES_REPO<span class=\"token punctuation\">}</span>\" master<span class=\"token punctuation\">:</span>master<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<h2 id=\"利用-GitLab-实现-Hexo-博客的-CI-CD\">利用 GitLab 实现 Hexo 博客的 CI/CD</h2>\n<p>Portainer 提供了对服务在线更新的 WebHook，所以基于 GitLab 自带的 CI/CD 功能实现 Hexo 博客的持续部署，就非常轻松了。</p>\n<p>CI/CD 其实本质上是一套流程，流程规则可以自行定义。在本文研究的主题下，流程分为三步：第一步是编译 Hexo 博客并生成静态文件；第二步是将静态文件打包成可提供 Web 服务的镜像；第三步则是通过 Portainer 的钩子触发服务更新。</p>\n<p><code>.gitlab-ci.yml</code></p>\n<pre class=\"line-numbers language-yaml\" data-language=\"yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">stages</span><span class=\"token punctuation\">:</span>\n  <span class=\"token punctuation\">-</span> compile\n  <span class=\"token punctuation\">-</span> build\n  <span class=\"token punctuation\">-</span> deploy\n\n<span class=\"token comment\"># CONTAINER_RELEASE_IMAGE 根据自己的仓库名修改</span>\n<span class=\"token key atrule\">variables</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">DOCKER_HOST</span><span class=\"token punctuation\">:</span> tcp<span class=\"token punctuation\">:</span>//docker<span class=\"token punctuation\">:</span><span class=\"token number\">2375</span>\n  <span class=\"token key atrule\">DOCKER_DRIVER</span><span class=\"token punctuation\">:</span> overlay2\n  <span class=\"token key atrule\">CONTAINER_RELEASE_IMAGE</span><span class=\"token punctuation\">:</span> registry.gitlab.com/xxx/xxx<span class=\"token punctuation\">:</span>latest\n\n<span class=\"token key atrule\">compile</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">stage</span><span class=\"token punctuation\">:</span> compile\n  <span class=\"token key atrule\">image</span><span class=\"token punctuation\">:</span> node<span class=\"token punctuation\">:</span>lts<span class=\"token punctuation\">-</span>alpine\n  <span class=\"token key atrule\">script</span><span class=\"token punctuation\">:</span>\n    <span class=\"token punctuation\">-</span> npm install\n    <span class=\"token punctuation\">-</span> ./node_modules/hexo/bin/hexo generate\n  <span class=\"token key atrule\">artifacts</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">paths</span><span class=\"token punctuation\">:</span>\n      <span class=\"token punctuation\">-</span> public/\n    <span class=\"token key atrule\">expire_in</span><span class=\"token punctuation\">:</span> 20 minutes\n\n<span class=\"token key atrule\">build</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">stage</span><span class=\"token punctuation\">:</span> build\n  <span class=\"token key atrule\">image</span><span class=\"token punctuation\">:</span> docker<span class=\"token punctuation\">:</span>stable\n  <span class=\"token key atrule\">services</span><span class=\"token punctuation\">:</span>\n    <span class=\"token punctuation\">-</span> docker<span class=\"token punctuation\">:</span>dind\n  <span class=\"token key atrule\">script</span><span class=\"token punctuation\">:</span>\n    <span class=\"token punctuation\">-</span> docker login <span class=\"token punctuation\">-</span>u gitlab<span class=\"token punctuation\">-</span>ci<span class=\"token punctuation\">-</span>token <span class=\"token punctuation\">-</span>p $CI_JOB_TOKEN registry.gitlab.com\n    <span class=\"token punctuation\">-</span> docker info\n    <span class=\"token punctuation\">-</span> docker build <span class=\"token punctuation\">-</span>f ./Dockerfile <span class=\"token punctuation\">-</span>t $CONTAINER_RELEASE_IMAGE public\n    <span class=\"token punctuation\">-</span> docker push $CONTAINER_RELEASE_IMAGE\n\n<span class=\"token comment\"># 根据自己的钩子修改下方的 URL</span>\n<span class=\"token key atrule\">deploy</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">stage</span><span class=\"token punctuation\">:</span> deploy\n  <span class=\"token key atrule\">script</span><span class=\"token punctuation\">:</span>\n    <span class=\"token punctuation\">-</span> curl https<span class=\"token punctuation\">:</span>//xxx.xxx.xxx/api/webhooks/xxx <span class=\"token punctuation\">-</span>X POST\n<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<p>为了保证服务更新的成功率，可以在 <code>deploy</code> 环节加个错误判断和重试次数，具体的看 GitLab 官方文档即可。</p>\n<p>下面给出我的 Dockerfile 文件，供参考。</p>\n<pre class=\"line-numbers language-docker\" data-language=\"docker\"><code class=\"language-docker\"><span class=\"token instruction\"><span class=\"token keyword\">FROM</span> nginx:alpine</span>\n\n<span class=\"token instruction\"><span class=\"token keyword\">COPY</span> . /usr/share/nginx/html</span>\n\n<span class=\"token instruction\"><span class=\"token keyword\">RUN</span> chmod 777 /usr/share/nginx/html -R <span class=\"token operator\">\\</span>\n    &amp;&amp; sed -i <span class=\"token string\">'s/#error_page  404/error_page  404/'</span> /etc/nginx/conf.d/default.conf</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<h2 id=\"DNSPOD-多线路负载均衡\">DNSPOD 多线路负载均衡</h2>\n<blockquote>\n<p>DNSPOD官网 <a target=\"_blank\" rel=\"noopener\" href=\"https://console.dnspod.cn/dns/list\">console.dnspod.cn</a></p>\n</blockquote>\n<p><img src=\"https://cimg1.17lai.site/data/2022/05/17/20220517212142.webp\" alt=\"dnspod\"></p>\n<p><img src=\"https://cimg1.17lai.site/data/2022/05/17/20220517212323.webp\" alt=\"dnspod 多线路负载均衡\"></p>\n<blockquote>\n<p>dnspod对cname数目有限制。</p>\n<p>这里使用权重来分配各条线路访问比例！</p>\n</blockquote>\n<h2 id=\"系列教程-34\"><strong>系列教程</strong></h2>\n<p><a href=\"https://blog.17lai.site/atom.xml\">全部文章RSS订阅</a></p>\n<p><strong>Hexo系列</strong>  <a href=\"https://blog.17lai.site/categories/hexo/atom.xml\"><strong>HexoRSS分类订阅</strong></a></p>\n<p>[三万字教程]基于Hexo的matery主题搭建博客并深度优化完全一站式教程</p>\n<ul>\n<li>\n<p><a href=\"https://blog.17lai.site/posts/40300608/\">Hexo Docker环境与Hexo基础配置篇</a></p>\n</li>\n<li>\n<p><a href=\"https://blog.17lai.site/posts/4d8a0b22/\">hexo博客自定义修改篇</a></p>\n</li>\n<li>\n<p><a href=\"https://blog.17lai.site/posts/9b056c86/\">hexo博客网络优化篇</a></p>\n</li>\n<li>\n<p><a href=\"https://blog.17lai.site/posts/5311b619/\">hexo博客增强部署篇</a></p>\n</li>\n<li>\n<p><a href=\"https://blog.17lai.site/posts/4a2050e2/\">hexo博客个性定制篇</a></p>\n</li>\n<li>\n<p><a href=\"https://blog.17lai.site/posts/84b4059a/\">hexo博客常见问题篇</a></p>\n</li>\n<li>\n<p><a href=\"https://blog.17lai.site/posts/cf0f47fd/\">Hexo Markdown以及各种插件功能测试</a></p>\n</li>\n</ul>\n<blockquote>\n<ul>\n<li>markdown 各种其它语法插件</li>\n<li>latex公式支持</li>\n<li>mermaid图表</li>\n<li>plant uml图表</li>\n<li>URL卡片</li>\n<li>bilibili卡片</li>\n<li>github卡片</li>\n<li>豆瓣卡片</li>\n<li>插入音乐和视频</li>\n<li>插入脑图</li>\n</ul>\n</blockquote>\n<p><strong>笔记系列</strong>  <a href=\"https://blog.17lai.site/categories/note/atom.xml\"><strong>Note分类RSS订阅</strong></a></p>\n<ul>\n<li><a href=\"https://blog.17lai.site/posts/a8535f26/\">完美笔记进化论</a></li>\n</ul>\n<blockquote>\n<p>经历了很长时间，使用了各种各样的方案，最终选择了一种相对完美的方式。docker私有部署运行的joplin，使用markdown语法，github作为图床，picgo作为图像自动上传后端，pypora作为MD编辑器，Snipaste作为截图工具。后备gitlab ee selfhost备份，自建图床VPS多线负载均衡。cloudflare partner cdn加速，jsdelivr加速。</p>\n<ul>\n<li>pigo图床搭建与配置</li>\n<li>Joplin教程</li>\n<li>Snipaste截图工具</li>\n<li>Typora 作为Markdown编辑器最强</li>\n</ul>\n</blockquote>\n<ul>\n<li><a target=\"_blank\" rel=\"noopener\" href=\"https://blog.17lai.fun/posts/e6086437/\">Joplin入门指南&amp;实践方案</a></li>\n</ul>\n<blockquote>\n<ul>\n<li>Joplin和使用</li>\n<li>Joplin同步与备份</li>\n<li>Joplin导入与导出</li>\n</ul>\n</blockquote>\n<ul>\n<li><a target=\"_blank\" rel=\"noopener\" href=\"https://blog.17lai.fun/posts/45f878cd/\">替代Evernote免费开源笔记Joplin-网盘同步笔记历史版本Markdown可视化</a></li>\n</ul>\n<blockquote>\n<ul>\n<li>Joplin安装使用，调用外部编辑器，网盘同步等等</li>\n</ul>\n</blockquote>\n<ul>\n<li><a href=\"https://blog.17lai.site/posts/92d347d6/\">Joplin 插件以及其Markdown语法。All in One!</a></li>\n</ul>\n<blockquote>\n<ul>\n<li>Joplin简明教程</li>\n<li>markdown语法简明教程</li>\n</ul>\n</blockquote>\n<ul>\n<li><a href=\"https://blog.17lai.site/posts/e3ee7f8b/\">Joplin 插件使用推荐</a></li>\n</ul>\n<blockquote>\n<ul>\n<li>教你用各种插件打造一个强大的笔记工具。</li>\n</ul>\n</blockquote>\n<ul>\n<li><a href=\"https://blog.17lai.site/posts/1802a8a7/\">为知笔记私有化Docker部署</a></li>\n</ul>\n<blockquote>\n<ul>\n<li>如何部署自己私有的为知笔记。</li>\n<li>其实博主更推荐私有部署joplin</li>\n</ul>\n</blockquote>\n<p><strong>Gitbook使用系列</strong> <a href=\"https://blog.17lai.site/categories/gitbook/atom.xml\">Gitbook分类RSS订阅</a></p>\n<ul>\n<li>\n<p><a href=\"https://blog.17lai.site/posts/7fe86002/\">GitBook+GitLab撰写发布技术文档-Part1:GitBook篇</a></p>\n</li>\n<li>\n<p><a href=\"https://blog.17lai.site/posts/7790e989/\">GitBook+GitLab撰写发布技术文档-Part2:GitLab篇</a></p>\n</li>\n<li>\n<p><a href=\"https://blog.17lai.site/posts/d6bad1e5/\">自己动手制作电子书的最佳方式（支持PDF、ePub、mobi等格式）</a></p>\n</li>\n</ul>\n<p><strong>Gitlab 使用系列</strong>  <a href=\"https://blog.17lai.site/categories/gitlab/atom.xml\"><strong>Gitlab RSS 分类订阅</strong></a></p>\n<ul>\n<li><a href=\"https://blog.17lai.site/posts/acc13b70/\"><strong>Gitlab的安装及使用教程完全版</strong></a></li>\n<li><a href=\"https://blog.17lai.site/posts/29a820b3/\">破解Gitlab EE</a></li>\n<li><a href=\"https://blog.17lai.site/posts/d08eb7b/\">Gitlab的安装及使用</a></li>\n<li><a href=\"https://blog.17lai.site/posts/1879721e/\">CI/CD与Git Flow与GitLab</a></li>\n</ul>\n<link rel=\"stylesheet\" href=\"/css/bilicard.css\" type=\"text/css\">",
            "tags": [
                "github",
                "hexo",
                "matery",
                "cdn",
                "seo"
            ]
        },
        {
            "id": "https://blog.17lai.site/posts/9b056c86/",
            "url": "https://blog.17lai.site/posts/9b056c86/",
            "title": "基于Hexo的matery主题搭建博客网络优化篇3",
            "date_published": "2022-03-27T07:27:16.000Z",
            "content_html": "<p><strong>Hexo系列</strong>  <a href=\"https://blog.17lai.site/categories/hexo/atom.xml\"><strong>HexoRSS分类订阅</strong></a></p>\n<p>[三万字教程]基于Hexo的matery主题搭建博客并深度优化完全一站式教程</p>\n<ul>\n<li>\n<p><a href=\"https://blog.17lai.site/posts/40300608/\">Hexo Docker环境与Hexo基础配置篇</a></p>\n</li>\n<li>\n<p><a href=\"https://blog.17lai.site/posts/4d8a0b22/\">hexo博客自定义修改篇</a></p>\n</li>\n<li>\n<p><a href=\"https://blog.17lai.site/posts/9b056c86/\">hexo博客网络优化篇</a></p>\n</li>\n<li>\n<p><a href=\"https://blog.17lai.site/posts/5311b619/\">hexo博客增强部署篇</a></p>\n</li>\n<li>\n<p><a href=\"https://blog.17lai.site/posts/4a2050e2/\">hexo博客个性定制篇</a></p>\n</li>\n<li>\n<p><a href=\"https://blog.17lai.site/posts/84b4059a/\">hexo博客常见问题篇</a></p>\n</li>\n<li>\n<p><a href=\"https://blog.17lai.site/posts/cf0f47fd/\">Hexo Markdown以及各种插件功能测试</a></p>\n</li>\n</ul>\n<blockquote>\n<ul>\n<li>markdown 各种其它语法插件</li>\n<li>latex公式支持</li>\n<li>mermaid图表</li>\n<li>plant uml图表</li>\n<li>URL卡片</li>\n<li>bilibili卡片</li>\n<li>github卡片</li>\n<li>豆瓣卡片</li>\n<li>插入音乐和视频</li>\n<li>插入脑图</li>\n</ul>\n</blockquote>\n<blockquote>\n<p>经过一系列优化修改后，评分终于可以看了，对于一个web开发外行来说，可以满足了。😄</p>\n<ul>\n<li>各种CDN</li>\n<li>webp</li>\n<li>gulp 压缩</li>\n<li>cloudflare parter</li>\n<li>service worker</li>\n<li>部分资源异步加载</li>\n</ul>\n</blockquote>\n<p><img src=\"https://cimg1.17lai.site/data/2022/03/2820220328123137.png\" alt=\"page test\"></p>\n<p><img src=\"https://cimg1.17lai.site/data/2022/04/0220220402074306.png\" alt=\"page test\"></p>\n<blockquote>\n<p>经过多次优化之后，新版看板娘资源异步加载体积大拖累的性能分数。其它几乎都是满分了！</p>\n<p>保证了第二次打开几乎都是使用缓存，牺牲了第一次加载的体积，异步加载对第一次渲染速度影响不大。</p>\n</blockquote>\n<h2 id=\"加速NPM安装下载\">加速NPM安装下载</h2>\n<p><strong>安装淘宝镜像</strong></p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">npm</span> config <span class=\"token builtin class-name\">set</span> registry https://registry.npm.taobao.org<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p><strong>安装CNPM</strong></p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">npm</span> <span class=\"token function\">install</span> -g cnpm --registry<span class=\"token operator\">=</span>https://registry.npm.taobao.org<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<h2 id=\"CDN-加速\">CDN 加速</h2>\n<ul>\n<li><strong>为什么强烈建议启用CDN？</strong></li>\n</ul>\n<blockquote>\n<p>研究表明，用户最满意的打开网页时间，是在 2 秒以下。用户能够忍受的最长等待时间在 6～8 秒之间。就是说，8 秒是一个临界值，如果你的网站打开速度在 8 秒以上，那么你将失去大部分用户。研究显示，如果等待 12 秒以后，网页还是没有载入，那么 99% 以上的用户会选择关闭网页。</p>\n<p>Google 做过一个试验，10 条搜索结果的页面载入时间需要 0.4 秒，显示 30 条搜索结果的页面载入时间需要 0.9 秒，结果后者使得 Google 总的流量和收入减少了 20%。Google 地图上线的时候，首页大小有 100KB，后来下降到 70~80KB。结果，流量在第一个星期上升了 10%，接下来的 3 个星期又再上升了 25%。Amazon 的统计也显示了相近的结果，首页打开时间每增加 100 毫秒，网站销售量会减少 1%。</p>\n<p>以上数据说明了一个非常重要的问题，如果你的网站速度如果超过 2s 以上，那么你的客户可能在流失和离你而去了。这一点对于电商网站尤其重要，打开速度慢，那么将造成转化率降低，损失将会大量增加。</p>\n</blockquote>\n<p>放在 Github 的资源在国内加载速度比较慢，因此需要使用 CDN 加速来优化网站打开速度，<a target=\"_blank\" rel=\"noopener\" href=\"https://www.jsdelivr.com/\">jsDelivr</a> + Github 便是免费且好用的 CDN，非常适合博客网站使用。也可以选择主流云服务商提供的对象存储+CDN 来获得更快速及稳定的访问效果，费用低到几乎可忽略。</p>\n<p><strong>用法：</strong></p>\n<pre class=\"line-numbers language-http\" data-language=\"http\"><code class=\"language-http\"><span class=\"token header\"><span class=\"token header-name keyword\">https</span><span class=\"token punctuation\">:</span><span class=\"token header-value\">//cdn.jsdelivr.net/gh/{你的用户名}/{你的仓库名}@{发布的版本号}/{文件路径}</span></span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p><strong>例如：</strong></p>\n<pre class=\"line-numbers language-markup\" data-language=\"markup\"><code class=\"language-markup\">https://cdn.jsdelivr.net/gh/appotry/cloudimg@latest/data/2022/03/1120220311110247.webp<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p>注意：版本号不是必需的，是为了区分新旧资源，如果不使用版本号，将会直接引用最新资源。</p>\n<blockquote>\n<p>还可以配合 <a target=\"_blank\" rel=\"noopener\" href=\"https://github.com/Molunerfinn/PicGo\">PicGo</a>图床上传工具的<strong>自定义域名前缀</strong>来上传图片，使用极其方便。具体使用方法可参见我的另一篇文章: <a target=\"_blank\" rel=\"noopener\" href=\"https://www.lixl.cn/2019/120114500.html\">使用 Typora+iPic/PicGo 图床+CDN 实现高效 Markdown 创作</a></p>\n</blockquote>\n<h3 id=\"jsdelivr\">jsdelivr</h3>\n<p>jsdelivr 是还在目前还在国内运营的可以通过特殊方法免费使用的CDN。</p>\n<blockquote>\n<p>Github<mark>开源</mark>仓库发<mark>布版</mark>本才能使用jsdelivr，懂了怎么做了吧。</p>\n</blockquote>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">https://cdn.jsdelivr.net/gh/[name]/[repo]@latest/data/2022/03/1120220311110247.webp<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<h3 id=\"Cloudflare-CDN\">Cloudflare CDN</h3>\n<blockquote>\n<p>配置最简单的CDN方式了。在github  raw链接地址前面加<code>https://images.weserv.nl/?url=</code>, 就会自动使用cloudflare cdn来加速图片访问。使用发现无法加速gif。</p>\n</blockquote>\n<p>本blog主要使用这个方法，如下所示。</p>\n<ul>\n<li>未加速图片地址</li>\n</ul>\n<pre class=\"line-numbers language-markup\" data-language=\"markup\"><code class=\"language-markup\">https://raw.githubusercontent.com/appotry/cloudimg/main/data/2021/09/1020210910231815.png<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<ul>\n<li>Cloudflare加速图片地址</li>\n</ul>\n<pre class=\"line-numbers language-markup\" data-language=\"markup\"><code class=\"language-markup\"># 使用了cloudflare partner 加速\nhttps://cimg1.17lai.site/data/2021/09/1020210910231815.png<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n<h2 id=\"配置Service-worker\">配置Service worker</h2>\n<blockquote>\n<p>后篇文章<a href=\"https://blog.17lai.site/posts/4a2050e2/\">基于Hexo的matery主题搭建博客个性定制篇5</a>中提到的 <strong>让hexo支持pwa</strong> 就是使用的<code>Service worker</code> ，参考个性定制篇，把常用的大体积文件加入<code>Service worker</code> 缓存列表，可以极大的提高访问速度！</p>\n<p><strong>原理</strong>：在访问时，后台异步加载 SW 缓存文件列表，后面渲染网页，直接使用缓存中的文件，不再从网络中获取。你可以提前把所有常用的大体积资源放到缓存列表中，后面访问其它页面时，很多资源已经提前加载好了，可以极大的提高访问速度！</p>\n</blockquote>\n<h2 id=\"SEO-优化\">SEO 优化</h2>\n<blockquote>\n<ul>\n<li>\n<p>搜索引擎优化，又称为 SEO，即 Search Engine Optimization，它是一种通过分析搜索引擎的排名规律，了解各种搜索引擎怎样进行搜索、怎样抓取互联网页面、怎样确定特定关键词的搜索结果排名的技术。Google 自动收录效果还不错，百度就差得远了（<code>GitHub</code>不允许百度的<code>Spider</code>爬取<code>GitHub</code>上的内容）。</p>\n</li>\n<li>\n<p>如果<mark>没有备案，百度seo是不会收录的</mark>！所以如果你有国内vps，并且备案了，可以做百度seo，如果没有，百度seo内容都不需要看了。</p>\n</li>\n</ul>\n</blockquote>\n<h3 id=\"网域提交方式\">网域提交方式</h3>\n<ol>\n<li>\n<p>自动提交</p>\n<p>（分三种）</p>\n<ul>\n<li>主动推送</li>\n<li>自动推送</li>\n<li>sitemap（站点地图）</li>\n</ul>\n</li>\n<li>\n<p>手动提交</p>\n<ul>\n<li>即手动地将链接一次性提交给百度</li>\n</ul>\n</li>\n</ol>\n<p>一般自动提交比手动提交效果好一点，自动提交又从效率上来说：</p>\n<p><strong>主动推送&gt;自动推送&gt;sitemap</strong></p>\n<p><strong>自动提交的三种方式</strong>：</p>\n<ol>\n<li><code>主动推送</code>：最为快速的提交方式。将站点当天新产出链接通过此方式推送给百度，以保证新链接可以及时被百度收录。</li>\n<li><code>自动推送</code>：最为便捷的提交方式。将自动推送的JS代码部署在站点的每一个页面源代码中，当部署代码的页面在每次被浏览时，链接就会被自动推送给百度。可以与主动推送配合使用。</li>\n<li><code>sitemap</code>：您可以定期将网站链接放到<code>sitemap文件</code>中，然后将<code>sitemap文件</code>提交给百度。百度会周期性的抓取检查您提交的<code>sitemap</code>，对其中的链接进行处理，但收录速度慢于主动推送。</li>\n</ol>\n<h3 id=\"使用sitemap方式推送\">使用sitemap方式推送</h3>\n<p>安装 sitemap 插件生成站点地图文件:</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">npm</span> <span class=\"token function\">install</span> hexo-generator-sitemap --save\n<span class=\"token function\">npm</span> <span class=\"token function\">install</span> hexo-generator-baidu-sitemap --save  <span class=\"token comment\">#百度专用</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n<p>安装后直接执行 <code>hexo cl&amp;&amp;hexo g -d</code> 命令，就会在网站根目录生成 <code>sitemap.xml</code> 及 <code>baidusitemap.xml</code> 文件。</p>\n<ul>\n<li>在博客目录的_config.yml中添加如下代码</li>\n</ul>\n<pre class=\"line-numbers language-yaml\" data-language=\"yaml\"><code class=\"language-yaml\"><span class=\"token comment\"># 通用站点地图</span>\n<span class=\"token key atrule\">sitemap</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">path</span><span class=\"token punctuation\">:</span> sitemap.xml\n\n<span class=\"token comment\"># 百度站点地图</span>\n<span class=\"token key atrule\">baidusitemap</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">path</span><span class=\"token punctuation\">:</span> baidusitemap.xml<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<h3 id=\"百度优化\">百度优化</h3>\n<p>登录<a target=\"_blank\" rel=\"noopener\" href=\"https://ziyuan.baidu.com/\">百度搜索资源平台</a>， 登录成功之后在 用户中心 –&gt; 站点管理 页面中点击<a target=\"_blank\" rel=\"noopener\" href=\"https://ziyuan.baidu.com/site/siteadd\">添加网站</a>，按提示操作。</p>\n<p><img src=\"https://cimg1.17lai.site/data/2021/09/1020210910231752.png\" alt=\"添加网站\"></p>\n<p><strong>添加网站</strong></p>\n<blockquote>\n<p>提示：由于百度的 spider 是爬取不到 GitHub 的内容的，所以在第三步验证网站的时候，建议选择<code>CNAME验证</code>的方式。</p>\n</blockquote>\n<p>经过以上步骤，百度已经知道有我们网站的存在了，但是百度还不知道我们的网站上有什么内容，所以要向百度推送我们的内容。点击 网站支持 –&gt; 数据引入 –&gt; 链接提交菜单，提交站点地图：</p>\n<p><img src=\"https://cimg1.17lai.site/data/2021/09/1020210910231758.png\" alt=\"提交站点地图\"></p>\n<p><strong>提交站点地图</strong></p>\n<p>另外，<code>hexo-theme-matery</code>主题已经内置了 <code>自动推送</code> 的功能， 检查 <code>themes/hexo-theme-matery/_config.yml</code> 文件中如下配置:</p>\n<pre class=\"line-numbers language-yaml\" data-language=\"yaml\"><code class=\"language-yaml\"><span class=\"token comment\"># 百度搜索资源平台提交链接</span>\n<span class=\"token key atrule\">baiduPush</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n<p>自动推送的 JS 代码部署在站点的每一个页面源代码中，当页面在每次被浏览时，链接就会被自动推送给百度。</p>\n<h3 id=\"谷歌优化\">谷歌优化</h3>\n<p>登录 <a target=\"_blank\" rel=\"noopener\" href=\"https://search.google.com/search-console?hl=zh-CN\">Google Search Console</a>，点击添加资源，输入自己的域名，按提示操作。</p>\n<p><img src=\"https://cimg1.17lai.site/data/2021/09/1020210910231807.png\" alt=\"添加资源\"></p>\n<p><strong>添加资源</strong></p>\n<blockquote>\n<p>提示：需要进行 DNS 验证，进入 DNS 域名解析设置页面，按提示增加 TXT 记录，如下图:</p>\n<p><img src=\"https://cimg1.17lai.site/data/2021/09/1020210910231808.png\" alt=\"DNS验证内容填写示例\"></p>\n<p><strong>DNS验证内容填写示例</strong></p>\n</blockquote>\n<p>验证成功后，需要提交站点地图。参照下图提交，然后等待收录。</p>\n<p><img src=\"https://cimg1.17lai.site/data/2021/09/1020210910231815.png\" alt=\"提交站点地图\"></p>\n<p><strong>提交站点地图</strong></p>\n<blockquote>\n<p>注意：hexo 配置文件中的 url 一定要输入正确的域名，插件是根据 url 生成站点地图的。</p>\n</blockquote>\n<h3 id=\"其它搜索引擎\">其它搜索引擎</h3>\n<blockquote>\n<ul>\n<li><a target=\"_blank\" rel=\"noopener\" href=\"https://www.bing.com/webmasters/home\">Bing提交</a></li>\n<li><a target=\"_blank\" rel=\"noopener\" href=\"https://zhanzhang.sm.cn/open/detialPage\">神马站长</a></li>\n</ul>\n</blockquote>\n<h3 id=\"百度自动推送方式\">百度自动推送方式</h3>\n<p>只要每个需要被百度爬取的HTML页面中加入一段JS代码即可：</p>\n<pre class=\"line-numbers language-javascript\" data-language=\"javascript\"><code class=\"language-javascript\"><span class=\"token operator\">&lt;</span>script<span class=\"token operator\">&gt;</span>\n<span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">var</span> bp <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">createElement</span><span class=\"token punctuation\">(</span><span class=\"token string\">'script'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">var</span> curProtocol <span class=\"token operator\">=</span> window<span class=\"token punctuation\">.</span>location<span class=\"token punctuation\">.</span>protocol<span class=\"token punctuation\">.</span><span class=\"token function\">split</span><span class=\"token punctuation\">(</span><span class=\"token string\">':'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>curProtocol <span class=\"token operator\">===</span> <span class=\"token string\">'https'</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        bp<span class=\"token punctuation\">.</span>src <span class=\"token operator\">=</span> <span class=\"token string\">'https://zz.bdstatic.com/linksubmit/push.js'</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n        bp<span class=\"token punctuation\">.</span>src <span class=\"token operator\">=</span> <span class=\"token string\">'http://push.zhanzhang.baidu.com/push.js'</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token keyword\">var</span> s <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementsByTagName</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"script\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n    s<span class=\"token punctuation\">.</span>parentNode<span class=\"token punctuation\">.</span><span class=\"token function\">insertBefore</span><span class=\"token punctuation\">(</span>bp<span class=\"token punctuation\">,</span> s<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>script<span class=\"token operator\">&gt;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<p>我所使用的matery主题可以自动给每个页面加上这段代码，只需在主题配置文件中配置：</p>\n<pre class=\"line-numbers language-yaml\" data-language=\"yaml\"><code class=\"language-yaml\"><span class=\"token comment\"># 百度搜索资源平台提交链接</span>\n<span class=\"token key atrule\">baiduPush</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n<p>即可！</p>\n<p>其他主题一般都有这个功能的实现，如果没有的话，想办法在每个页面加入以上JS代码即可，原理是一样。</p>\n<h3 id=\"百度主动推送SEO方式\">百度主动推送SEO方式</h3>\n<blockquote>\n<ul>\n<li>配置文章自动推送到百度蜘蛛</li>\n</ul>\n</blockquote>\n<h4 id=\"获取百度推送密钥\">获取百度推送密钥</h4>\n<p>在 <a href=\"ziyuan.baidu.com/site\">百度资源</a> 注册你的网址，验证完后可在<code>站点管理-&gt;资源提交-&gt;链接提交-&gt;主动推送(实时)</code> 中找到你的推送密钥，下面说明中的 token= 后的内容即为推送密钥。</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">推送接口\n接口调用地址：http://data.zz.baidu.com/urls?site<span class=\"token operator\">=</span>https://ifibe.com<span class=\"token operator\">&amp;</span><span class=\"token assign-left variable\">token</span><span class=\"token operator\">=</span>xxxxxxxxxx<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n<h4 id=\"安装主动推送插件：hexo-baidu-url-submit\">安装主动推送插件：<a target=\"_blank\" rel=\"noopener\" href=\"https://github.com/huiwang/hexo-baidu-url-submit\">hexo-baidu-url-submit</a></h4>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">$ <span class=\"token function\">npm</span> <span class=\"token function\">install</span> hexo-baidu-url-submit --save<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<h4 id=\"然后打开hexo配置文件，在末尾加入以下配置：\">然后打开<code>hexo配置文件</code>，在末尾加入以下配置：</h4>\n<pre class=\"line-numbers language-yaml\" data-language=\"yaml\"><code class=\"language-yaml\"><span class=\"token comment\"># hexo-baidu-url-submit  百度主动推送</span>\n<span class=\"token key atrule\">baidu_url_submit</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">count</span><span class=\"token punctuation\">:</span> <span class=\"token number\">80</span> <span class=\"token comment\"># 提交最新的一个链接</span>\n  <span class=\"token key atrule\">host</span><span class=\"token punctuation\">:</span> https<span class=\"token punctuation\">:</span>//blog.17lai.site <span class=\"token comment\"># 在百度站长平台中注册的域名</span>\n  <span class=\"token key atrule\">token</span><span class=\"token punctuation\">:</span> xxxxxxx <span class=\"token comment\"># 请注意这是您的秘钥， 所以请不要把博客源代码发布在公众仓库里!</span>\n  <span class=\"token key atrule\">path</span><span class=\"token punctuation\">:</span> baidu_urls.txt <span class=\"token comment\"># 文本文档的地址， 新链接会保存在此文本文档里</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<p>密匙的获取是在百度的自动提交的主动推送那里。</p>\n<p><img src=\"https://cimg1.17lai.site/data/2021/09/1120210911153349.png\" alt=\"\"></p>\n<h4 id=\"再加入新的deploy：\">再加入新的<code>deploy</code>：</h4>\n<pre class=\"line-numbers language-yaml\" data-language=\"yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">deploy</span><span class=\"token punctuation\">:</span>\n<span class=\"token punctuation\">-</span> <span class=\"token key atrule\">type</span><span class=\"token punctuation\">:</span> baidu_url_submitter<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n<p>如图：</p>\n<p><img src=\"https://cimg1.17lai.site/data/2021/09/1120210911153357.png\" alt=\"\"></p>\n<p>这样每次执行 <code>hexo d</code> 的时候，新的链接就会被推送了。</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">$ hexo clean\n$ hexo g\n$ hexo d<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n<p>推送成功时,会有如下终端提示!</p>\n<p><img src=\"https://cimg1.17lai.site/data/2021/09/1820210918203209.png\" alt=\"baidu_url_submitter\"></p>\n<p>各种不同的推送反馈字段说明<a target=\"_blank\" rel=\"noopener\" href=\"https://ziyuan.baidu.com/college/courseinfo?id=267&amp;page=2#h2_article_title12\">点我</a>查看，一般来说，推送失败基本都是地址不相符造成的，我们只需对比<code>baidu_url_submit</code>在<code>public</code>中生成的<code>baidu_urls.txt</code>的地址,与自己填写在<code>host</code>字段中的地址对比看是否一样即可。</p>\n<h3 id=\"Github-Action-自动提交SEO方式\">Github Action 自动提交SEO方式</h3>\n<h4 id=\"安装插件-2\">安装插件</h4>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">npm</span> i hexo-seo-autopush --save<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<h4 id=\"配置-2\">配置</h4>\n<p>在hexo 的config.yml里添加</p>\n<p>hexo-seo-autopush配置</p>\n<pre class=\"line-numbers language-yaml\" data-language=\"yaml\"><code class=\"language-yaml\"><span class=\"token comment\"># enable: 开启/关闭 推送</span>\n<span class=\"token comment\"># count: 每次提交最新的10篇文章</span>\n<span class=\"token comment\"># https://github.com/lete114/hexo-seo-autopush</span>\n<span class=\"token key atrule\">hexo_seo_autopush</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">baidu</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">enable</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span>\n    <span class=\"token key atrule\">count</span><span class=\"token punctuation\">:</span> <span class=\"token number\">100</span>\n  <span class=\"token key atrule\">bing</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">enable</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span>\n    <span class=\"token key atrule\">count</span><span class=\"token punctuation\">:</span> <span class=\"token number\">10</span>\n  <span class=\"token key atrule\">google</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">enable</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span>\n    <span class=\"token key atrule\">count</span><span class=\"token punctuation\">:</span> <span class=\"token number\">10</span>\n    <span class=\"token key atrule\">google_file</span><span class=\"token punctuation\">:</span> google_service_account.json <span class=\"token comment\"># 谷歌服务账户</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<p>添加<code>Google Push</code>配置和解决push后没有GitHub Actions <code>.github\\workflows\\AutoPush.yml</code>文件的问题</p>\n<pre class=\"line-numbers language-yaml\" data-language=\"yaml\"><code class=\"language-yaml\"><span class=\"token comment\"># Deployment</span>\n<span class=\"token comment\">## Docs: https://hexo.io/docs/one-command-deployment</span>\n<span class=\"token key atrule\">deploy</span><span class=\"token punctuation\">:</span>\n   <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">type</span><span class=\"token punctuation\">:</span> git\n     <span class=\"token key atrule\">repo</span><span class=\"token punctuation\">:</span> https<span class=\"token punctuation\">:</span>//github.com/lete114/Test.git\n     <span class=\"token key atrule\">branch</span><span class=\"token punctuation\">:</span> main\n     <span class=\"token key atrule\">ignore_hidden</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">false</span>  <span class=\"token comment\"># 忽略隐藏文件及文件夹(目录)</span>\n   <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">type</span><span class=\"token punctuation\">:</span> GooglePush <span class=\"token comment\"># 谷歌提交</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<h3 id=\"获取站长平台密钥\">获取站长平台密钥</h3>\n<h4 id=\"Baidu-Key\">Baidu Key</h4>\n<ol>\n<li>打开百度站长平台，点击左侧的普通收录https://ziyuan.baidu.com/<br>\n<img src=\"https://cimg1.17lai.site/data/2021/09/2120210921065417.png\" alt=\"\"></li>\n</ol>\n<h4 id=\"Bing-Key\">Bing Key</h4>\n<ol>\n<li>打开Bing站长平台，https://www.bing.com/webmasters/home</li>\n<li>点击右上角头像 旁边的齿轮，跟着下图操作<br>\n<img src=\"https://cimg1.17lai.site/data/2021/09/2120210921065427.png\" alt=\"\"></li>\n</ol>\n<h4 id=\"Google-Key\">Google Key</h4>\n<blockquote>\n<p><a target=\"_blank\" rel=\"noopener\" href=\"https://cloud.google.com/docs/authentication/production?hl=zh-cn\">Google Wiki</a>， 使用参考。</p>\n</blockquote>\n<ol>\n<li>\n<p>打开Google indexing API<a target=\"_blank\" rel=\"noopener\" href=\"https://console.developers.google.com/flows/enableapi?apiid=indexing.googleapis.com&amp;credential=client_key\">官网</a></p>\n</li>\n<li>\n<p>选择创建项目，点击继续</p>\n</li>\n<li>\n<p>点击转到凭据页面</p>\n</li>\n<li>\n<p>跟着如下图片步骤</p>\n<p><img src=\"https://cimg1.17lai.site/data/2021/09/2120210921065438.png\" alt=\"GoogleProof\"></p>\n<p><img src=\"https://cimg1.17lai.site/data/2021/09/2120210921065446.png\" alt=\"GoogleAddProof\"></p>\n<p><img src=\"https://cimg1.17lai.site/data/2021/09/2120210921065512.png\" alt=\"GoogleNone\"></p>\n<p><img src=\"https://cimg1.17lai.site/data/2021/09/2120210921065454.png\" alt=\"GoogleKey\"></p>\n<p>json文件内的内容</p>\n<pre class=\"line-numbers language-javascript\" data-language=\"javascript\"><code class=\"language-javascript\"><span class=\"token punctuation\">{</span>\n  <span class=\"token string-property property\">\"type\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"service_account\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token string-property property\">\"project_id\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"elated-guild-298003\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token string-property property\">\"private_key_id\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"cf58d669c0e8c8e082b2c403ade5e2548078e384\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token string-property property\">\"private_key\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"-----BEGIN PRIVATE KEY-----\\nMIIEvgIBADANBgkqhkiG9w0BAQEFAASCBKgwggSkAgEAAoIBAQDEAJw89yeylRrA\\nB+bzOAfQQNgOCABIwEKCy5mMxWSaiXy2RktyCJWjMR2Pgz770NJgClQHPJjsFn0c\\nukHufpnuiX3VPlimLANPCRFdU/qp+yiaw4quIhYF1UZJkhmhL30anghUcvi+r9hQ\\nw+RwcKrgA4EUzqUJaPdvjtzSoo315PPGfR91ASD5S8gE02yVI8igtYMX7v2x1JYR\\n7PwHJwOVemiM9lot8ilvoUbV4BU0vSlwFoxKMJAbEXTmJjEKQi9992rcMW0GzXO8\\ncHldUUtURXkt3VFjYTH27KhHiTkTXw+uZRBu1rkubDJkS8lGIWN7Fc/r4HMMCVTu\\nXPS6HbJ/AgMBAAECggEANSS7OBaFd3jRL3cVCiZLjA5A5pEJzq/+eKtOn2oYDISx\\nwVRO+YTVWdGj47kg1zM4D11NikbGaeDxHFxuKwW9o/04lpyYebneTcw2Hpl6EiOs\\nz0WssOlCEmPQ8nrAI0GWiKSHuqoPwtg37TIoGsqZsjKRCby759DDokZYnm3/0sc+\\niEllT0ZyBZhGDzyguVLEdCIR2P02q/hQzLyd6ejWGGwZebImbGoILhmuOjVrco0p\\nV0JbrrNskjM5Epe7w+CpGftEASJ7Dxa8oj0qIT6cyAipra2AZAGnG9jrLcWpJuhu\\nvNeDIFnTfpNEac+khXZZE2++MIQfTX9wGJc8tox2vQKBgQD6yiNvAL7sxExiy6ER\\ntLtFQ3bvmMpKRFGvFOyPOtMbmjZ3D1GEtNNKGH4v1TI+tncEy7Q5Dm7nWwpi8yvL\\nbh8xKghelAc/CU1nw0xDEDCkMbAwpFg5A5ZDImy3LZsQh0kNXniIMy1vMSt5yLKS\\n80gXQKGCxG8t3rP8Qd/2a55g1QKBgQDIExP1nG9sHJaigmitEUwr0Ow6Shqr56Me\\nd7995gaV1oLWWCQzrXt/viWkb1W5ZGIxzcWNWz99m4CbvqfewRr598Eenald0csN\\nVcIEk+0C+6KqA+jU9Tfs2zow/C7JuKULP2N++o0EoSz/ngokP7f1yLOYbr507v/R\\n0cLElQBQAwKBgAbxDWYHKUG4dTzO0hiBXiWepm4fVooTtgcYlyunvywmapeFDwaT\\nUr3cS7HbPtbJiiXR1Z02rw8sT+9JN88brzVXKoAjrMer5D6ZA0Vf71i8H1pZUi/R\\nz5jwHP48/uvIMtdx4/gxInLPc5qdWYQDw90Q5ueNtF4aqfSzhhV2CR45AoGBAJN9\\nPOF6iMjx6jmyWOf8MGK8iOgPaMoA4Ea9j/SHdaNPlvPb1hQid0AcNDObv14Dmj+M\\nqW0jLxKxZ4VobufPAsvyz/J51zjKRx11cqldQwNH7QnYB/O1MZzxn1wtC3C5JTG9\\ncONSYFJhXoKxRliigEI3ye089jnNVdifAS1ZiflxAoGBANTX1fEMEeNuYU0v3rtd\\n5CkPZg4TNZ+y2MGl5xR1LdIgrJ8c9xKoW4rpp7SsOIvHpWX494f90D7o9uFEGSQ4\\nyQK53jVzJ0ekGV5BdPF3n3/2j2VEqFLHi7LL4CJSxr6ci7OfBoHOGE8odhevQCCK\\njnFzEin0QsBEgIC73fBh6XcH\\n-----END PRIVATE KEY-----\\n\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token string-property property\">\"client_email\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"googleindexing@elated-guild-298003.iam.gserviceaccount.com\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token string-property property\">\"client_id\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"103034240916368863393\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token string-property property\">\"auth_uri\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"https://accounts.google.com/o/oauth2/auth\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token string-property property\">\"token_uri\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"https://oauth2.googleapis.com/token\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token string-property property\">\"auth_provider_x509_cert_url\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"https://www.googleapis.com/oauth2/v1/certs\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token string-property property\">\"client_x509_cert_url\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"https://www.googleapis.com/robot/v1/metadata/x509/googleindexing%40elated-guild-298003.iam.gserviceaccount.com\"</span>\n<span class=\"token punctuation\">}</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n</li>\n<li>\n<p>打开<a target=\"_blank\" rel=\"noopener\" href=\"https://search.google.com/search-console\">谷歌站长平台</a><br>\n<img src=\"https://cimg1.17lai.site/data/2021/09/2120210921065520.png\" alt=\"GoogleAddUser\"><br>\n<img src=\"https://cimg1.17lai.site/data/2021/09/2120210921065527.png\" alt=\"GoogleAddEmail\"></p>\n</li>\n</ol>\n<h4 id=\"配置博客仓库\">配置博客仓库</h4>\n<ol>\n<li>\n<p>Name必须是<code>baidu_token</code>和<code>bing_apikey</code>(不区分大小写)</p>\n</li>\n<li>\n<p>添加完成后<br>\n<img src=\"https://cimg1.17lai.site/data/2021/09/2120210921065607.png\" alt=\"Secrets-token\"></p>\n</li>\n</ol>\n<h4 id=\"谷歌的一些问题\">谷歌的一些问题</h4>\n<p>触发谷歌提交的命令是<code>hexo d</code></p>\n<p>由于谷歌需要配合Google indexing API平台提供的json进行提交，而这个json格式不能泄露<br>\n为防止json泄露只能本地提交，将json放到hexo根目录可自定义重命名(必须对应插件的配置)<br>\n<code>如果你的使用Github Actions自动部署的话请把仓库设置为私有</code><br>\n<img src=\"https://cimg1.17lai.site/data/2021/09/2120210921065535.png\" alt=\"GoogleConfig\"></p>\n<h4 id=\"提交成功返回状态码\">提交成功返回状态码</h4>\n<p>以上步骤完成后即可<code>hexo d</code>部署了</p>\n<ol>\n<li>\n<p>看看Github仓库是否上传成功<br>\n<img src=\"https://cimg1.17lai.site/data/2021/09/2120210921065614.png\" alt=\"\"></p>\n</li>\n<li>\n<p>点击<code>Actions</code>查看是否执行<br>\n<img src=\"https://cimg1.17lai.site/data/2021/09/2120210921065616.png\" alt=\"\"></p>\n</li>\n<li>\n<p>点击 Auto Push—-&gt;build—–&gt;点击第2步 自动提交</p>\n<p>如图43行</p>\n<p><img src=\"https://cimg1.17lai.site/data/2021/09/2120210921065543.png\" alt=\"\"></p>\n<pre class=\"line-numbers language-json\" data-language=\"json\"><code class=\"language-json\"><span class=\"token comment\">// baidu返回的结果</span>\n<span class=\"token punctuation\">{</span>\n\t<span class=\"token property\">\"remain\"</span><span class=\"token operator\">:</span> <span class=\"token number\">2060</span><span class=\"token punctuation\">,</span>  <span class=\"token comment\">// 表示当天剩余的可推送url条数</span>\n\t<span class=\"token property\">\"success\"</span><span class=\"token operator\">:</span> <span class=\"token number\">47</span>    <span class=\"token comment\">// 成功推送的url条数</span>\n<span class=\"token punctuation\">}</span> \n<span class=\"token comment\">// bing返回结果(错误)</span>\n<span class=\"token punctuation\">{</span>\n\t<span class=\"token property\">\"ErrorCode\"</span><span class=\"token operator\">:</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span>  <span class=\"token comment\">// 错误 </span>\n\t<span class=\"token property\">\"Message\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"ERROR!!! Quota remaining for today: 2, Submitted: 47\"</span>\n    <span class=\"token comment\">// Message：表示 你目前只剩2个url推送，而你现在推送的是47条url</span>\n    <span class=\"token comment\">// bing新用户开始每日只有10个推送额，据我了解连续推送10天(这我也不确定)</span>\n    <span class=\"token comment\">// 如果出现这个错误的话，你就只能先手动添加等系统给你分配额了(分配9999)</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token comment\">// bing返回结果(成功)</span>\n<span class=\"token punctuation\">{</span><span class=\"token property\">\"d\"</span><span class=\"token operator\">:</span><span class=\"token null keyword\">null</span><span class=\"token punctuation\">}</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n</li>\n<li>\n<p>Google 返回状态码</p>\n<p>成功返回</p>\n<pre class=\"line-numbers language-json\" data-language=\"json\"><code class=\"language-json\">Google response<span class=\"token operator\">:</span>  <span class=\"token punctuation\">{</span>\n  urlNotificationMetadata<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    url<span class=\"token operator\">:</span> 'https<span class=\"token operator\">:</span><span class=\"token comment\">//blog.lete114.top/article/hexo-seo-autopush.html',</span>\n    latestUpdate<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      url<span class=\"token operator\">:</span> 'https<span class=\"token operator\">:</span><span class=\"token comment\">//blog.lete114.top/article/hexo-seo-autopush.html',</span>\n      type<span class=\"token operator\">:</span> 'URL_UPDATED'<span class=\"token punctuation\">,</span>\n      notifyTime<span class=\"token operator\">:</span> '<span class=\"token number\">2020</span><span class=\"token number\">-12</span>-08T02<span class=\"token operator\">:</span><span class=\"token number\">31</span><span class=\"token operator\">:</span><span class=\"token number\">32</span>.871417693Z'\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<p>出现此错误需要: 翻墙</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">FetchError: request to https://www.googleapis.com/oauth2/v4/token failed, reason: connect ETIMEDOUT <span class=\"token number\">172.217</span>.27.138:443\n    at ClientRequest.<span class=\"token operator\">&lt;</span>anonymous<span class=\"token operator\">&gt;</span> <span class=\"token punctuation\">(</span>D:<span class=\"token punctuation\">\\</span>Lete<span class=\"token punctuation\">\\</span>GitHub<span class=\"token punctuation\">\\</span>Hexo-Butterfly<span class=\"token punctuation\">\\</span>node_modules<span class=\"token punctuation\">\\</span>node-fetch<span class=\"token punctuation\">\\</span>lib<span class=\"token punctuation\">\\</span>index.js:1461:11<span class=\"token punctuation\">)</span>\n    at ClientRequest.emit <span class=\"token punctuation\">(</span>events.js:321:20<span class=\"token punctuation\">)</span>\n    at TLSSocket.socketErrorListener <span class=\"token punctuation\">(</span>_http_client.js:426:9<span class=\"token punctuation\">)</span>\n    at TLSSocket.emit <span class=\"token punctuation\">(</span>events.js:321:20<span class=\"token punctuation\">)</span>\n    at emitErrorNT <span class=\"token punctuation\">(</span>internal/streams/destroy.js:92:8<span class=\"token punctuation\">)</span>\n    at emitErrorAndCloseNT <span class=\"token punctuation\">(</span>internal/streams/destroy.js:60:3<span class=\"token punctuation\">)</span>\n    at processTicksAndRejections <span class=\"token punctuation\">(</span>internal/process/task_queues.js:84:21<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  message: <span class=\"token string\">'request to https://www.googleapis.com/oauth2/v4/token failed, reason: connect ETIMEDOUT 172.217.27.138:443'</span>,\n  type: <span class=\"token string\">'system'</span>,\n  errno: <span class=\"token string\">'ETIMEDOUT'</span>,\n  code: <span class=\"token string\">'ETIMEDOUT'</span>,\n  config: <span class=\"token punctuation\">{</span>\n    method: <span class=\"token string\">'POST'</span>,\n    url: <span class=\"token string\">'https://www.googleapis.com/oauth2/v4/token'</span>,\n    data: <span class=\"token punctuation\">{</span>\n      grant_type: <span class=\"token string\">'urn:ietf:params:oauth:grant-type:jwt-bearer'</span>,\n      assertion: 'eyJhbGciOiJSUzI1NiJ9.eyJpc3MiOiJnb29nbGVpbmRleGluZ0BzdGF0ZWx5LXRyYW5zaXQtMjk3NzE1LmlhbS5nc2VydmljZWFjY291bnQuY29tIiwic2NvcGUiOiJodHRwczovL3d3d<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n</li>\n</ol>\n<h3 id=\"本地主动提交SEO\">本地主动提交SEO</h3>\n<blockquote>\n<p><a target=\"_blank\" rel=\"noopener\" href=\"https://github.com/abnerwei/hexo-url-submission\">hexo-url-submission</a></p>\n<p><a target=\"_blank\" rel=\"noopener\" href=\"https://abnerwei.com/wiki/hexo/url-submission\">Wiki</a></p>\n</blockquote>\n<h4 id=\"安装方法\"><strong>安装方法</strong></h4>\n<ol>\n<li>在终端中输入：</li>\n</ol>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">npm</span> i hexo-url-submission<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<ol start=\"2\">\n<li>在 <code>blog/_config.yml</code> 文件中添加配置：</li>\n</ol>\n<pre class=\"line-numbers language-yaml\" data-language=\"yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">url_submission</span><span class=\"token punctuation\">:</span>\n   <span class=\"token key atrule\">enable</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span>\n   <span class=\"token key atrule\">type</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'latest'</span> <span class=\"token comment\"># latest or all( latest: modified pages; all: posts &amp; pages)</span>\n   <span class=\"token key atrule\">channel</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'baidu'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'bing'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'google'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'shenma'</span><span class=\"token punctuation\">]</span> <span class=\"token comment\"># Included channels are `baidu`, `google`, `bing`, `shenma`</span>\n   <span class=\"token key atrule\">prefix</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'/post'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'/wiki'</span><span class=\"token punctuation\">]</span> <span class=\"token comment\"># URL prefix</span>\n   <span class=\"token key atrule\">count</span><span class=\"token punctuation\">:</span> <span class=\"token number\">10</span> <span class=\"token comment\"># Submit limit</span>\n   <span class=\"token key atrule\">proxy</span><span class=\"token punctuation\">:</span> <span class=\"token string\">''</span> <span class=\"token comment\"># Set the proxy used to submit urls to Google</span>\n   <span class=\"token key atrule\">urls_path</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'submit_url.txt'</span> <span class=\"token comment\"># URL list file path</span>\n   <span class=\"token key atrule\">baidu_token</span><span class=\"token punctuation\">:</span> <span class=\"token string\">''</span> <span class=\"token comment\"># Baidu private key</span>\n   <span class=\"token key atrule\">bing_token</span><span class=\"token punctuation\">:</span> <span class=\"token string\">''</span> <span class=\"token comment\"># Bing private key</span>\n   <span class=\"token key atrule\">google_key</span><span class=\"token punctuation\">:</span> <span class=\"token string\">''</span> <span class=\"token comment\"># Google key path (e.g. `google_key.json` or `data/google_key.json`)</span>\n   <span class=\"token key atrule\">shenma_token</span><span class=\"token punctuation\">:</span> <span class=\"token string\">''</span> <span class=\"token comment\"># ShenMa private key</span>\n   <span class=\"token key atrule\">shenma_user</span><span class=\"token punctuation\">:</span> <span class=\"token string\">''</span> <span class=\"token comment\"># Username used when registering</span>\n   <span class=\"token key atrule\">sitemap</span><span class=\"token punctuation\">:</span> <span class=\"token string\">''</span> <span class=\"token comment\"># Sitemap path(e.g. the url is like this https://abnerwei.com/baidusitemap.xml, you can fill in `baidusitemap.xml`)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<h4 id=\"更新方法\"><strong>更新方法</strong></h4>\n<p>在站点根目录执行：</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">npm</span> update hexo-url-submission<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<h4 id=\"deploy\">deploy</h4>\n<pre class=\"line-numbers language-yaml\" data-language=\"yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">deploy</span><span class=\"token punctuation\">:</span>\n  <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">type</span><span class=\"token punctuation\">:</span> us_baidu_deployer\n  <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">type</span><span class=\"token punctuation\">:</span> us_bing_deployer\n  <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">type</span><span class=\"token punctuation\">:</span> us_google_deployer\n  <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">type</span><span class=\"token punctuation\">:</span> us_shenma_deployer<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<h4 id=\"good-job\">good job</h4>\n<p>Run:</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">hexo clean <span class=\"token operator\">&amp;&amp;</span> hexo g <span class=\"token operator\">&amp;&amp;</span> hexo d<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p>enjoy it!</p>\n<h2 id=\"提交-robots-txt\">提交 robots.txt</h2>\n<h2 id=\"robots-txt是干嘛的？\">robots.txt是干嘛的？</h2>\n<blockquote>\n<p><code>robots.txt</code> 是一种存放于网站根目录下的 <code>ASCII</code> 编码的文本文件，它的作用是告诉搜索引擎此网站中哪些内容是可以被爬取的，哪些是禁止爬取的。<br>\n<code>robots.txt</code> 要放在 <code>Hexo根目录</code> 下的 <code>source</code> 文件夹中。</p>\n</blockquote>\n<p>每个人站点目录可能不太一样，可以参考下我的 <code>robots.txt</code> 文件，内容如下：</p>\n<pre class=\"line-numbers language-yaml\" data-language=\"yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">User-agent</span><span class=\"token punctuation\">:</span> *\n<span class=\"token key atrule\">Allow</span><span class=\"token punctuation\">:</span> /\n<span class=\"token key atrule\">Allow</span><span class=\"token punctuation\">:</span> /posts/\n<span class=\"token key atrule\">Disallow</span><span class=\"token punctuation\">:</span> /about/\n<span class=\"token key atrule\">Disallow</span><span class=\"token punctuation\">:</span> /archives/\n<span class=\"token key atrule\">Disallow</span><span class=\"token punctuation\">:</span> /js/\n<span class=\"token key atrule\">Disallow</span><span class=\"token punctuation\">:</span> /css/\n<span class=\"token key atrule\">Disallow</span><span class=\"token punctuation\">:</span> /contact/\n<span class=\"token key atrule\">Disallow</span><span class=\"token punctuation\">:</span> /fonts/\n<span class=\"token key atrule\">Disallow</span><span class=\"token punctuation\">:</span> /friends/\n<span class=\"token key atrule\">Disallow</span><span class=\"token punctuation\">:</span> /libs/\n<span class=\"token key atrule\">Disallow</span><span class=\"token punctuation\">:</span> /medias/\n<span class=\"token key atrule\">Disallow</span><span class=\"token punctuation\">:</span> /page/\n<span class=\"token key atrule\">Disallow</span><span class=\"token punctuation\">:</span> /tags/\n<span class=\"token key atrule\">Disallow</span><span class=\"token punctuation\">:</span> /categories/<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<p>更多关于 <code>robots.txt</code> 的写法参见 https://blog.csdn.net/fanghua_vip/article/details/79535639</p>\n<p>编写完以上内容再重新部署一下，然后到百度资源平台的<code>数据监控</code>-&gt;<code>Robots</code>点击<code>检测并更新</code> 看能不能检测到。</p>\n<h2 id=\"配置-Nofollow\">配置 Nofollow</h2>\n<ul>\n<li>nofollow 是HTML页面中 <code>a标签</code> 的 属性值。</li>\n<li>这个属性的作用是：告诉搜索引擎的爬虫不要追踪该链接，为了对抗博客垃圾留言信息</li>\n</ul>\n<h2 id=\"URL优化\">URL优化</h2>\n<p>一般来说，SEO搜索引擎优化认为，网站的最佳结构是 <strong>用户从首页点击三次就可以到达任何一个页面</strong>，但是我们使用<code>Hexo</code>编译的站点结构的<code>URL</code>是：<code>域名/年/月/日/文章标题</code>四层的结构，这样的<code>URL</code>结构很不利于<code>SEO</code>，爬虫就会经常爬不到我们的文章，于是，我们需要优化一下网站文章的<code>URL</code></p>\n<p><strong>方案一</strong>：</p>\n<p>直接改成<code>域名/文章标题</code>的形式，在<code>Hexo配置文件</code>中修改<code>permalink</code>如下：</p>\n<pre class=\"line-numbers language-yaml\" data-language=\"yaml\"><code class=\"language-yaml\"><span class=\"token comment\"># URL</span>\n<span class=\"token comment\">## If your site is put in a subdirectory, set url as 'http://yoursite.com/child' and root as '/child/'</span>\n<span class=\"token key atrule\">url</span><span class=\"token punctuation\">:</span> https<span class=\"token punctuation\">:</span>//blog.sky03.cn\n<span class=\"token key atrule\">root</span><span class=\"token punctuation\">:</span> /\n<span class=\"token key atrule\">permalink</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">:</span>title.html\npermalink_defaults<span class=\"token punctuation\">:</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<p><strong>这个方式有个不好的地方：</strong></p>\n<p>直接以<code>文章的标题</code>作为URL，而我们所写的文章的标题一般都是中文，但是URL只能用字母数字和标点符号表示，所以中文的URL只能被转义成一堆符号，而且还特别长。</p>\n<p><strong>方案二</strong>：</p>\n<p>安装固定链接插件：<a target=\"_blank\" rel=\"noopener\" href=\"https://github.com/rozbo/hexo-abbrlink\">hexo-abbrlink</a></p>\n<p>插件作用：自动为每篇文章生成一串数字作每篇文章的URI地址。每篇文章的<code>Front-matter</code>中会自动增加一个配置项：<code>abbrlink: xxxxx</code>，该项的值就是当前文章的URI地址。</p>\n<ol>\n<li>\n<p>Hexo根目录执行：</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">npm</span> <span class=\"token function\">install</span> hexo-abbrlink --save<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n</li>\n<li>\n<p><code>Hexo配置文件</code>末尾加入以下配置：</p>\n<pre class=\"line-numbers language-yaml\" data-language=\"yaml\"><code class=\"language-yaml\"><span class=\"token comment\"># hexo-abbrlink config 、固定文章地址插件</span>\n<span class=\"token key atrule\">abbrlink</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">alg</span><span class=\"token punctuation\">:</span> crc16  <span class=\"token comment\">#算法选项：crc16、crc32，区别见之前的文章，这里默认为crc16丨crc32比crc16复杂一点，长一点</span>\n  <span class=\"token key atrule\">rep</span><span class=\"token punctuation\">:</span> dec    <span class=\"token comment\">#输出进制：十进制和十六进制，默认为10进制。丨dec为十进制，hex为十六进制</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n</li>\n<li>\n<p><code>Hexo配置文件</code>中修改<code>permalink</code>如下：</p>\n<pre class=\"line-numbers language-yaml\" data-language=\"yaml\"><code class=\"language-yaml\"><span class=\"token comment\"># URL</span>\n<span class=\"token comment\">## If your site is put in a subdirectory, set url as 'http://yoursite.com/child' and root as '/child/'</span>\n<span class=\"token key atrule\">url</span><span class=\"token punctuation\">:</span> https<span class=\"token punctuation\">:</span>//blog.17lai.site\n<span class=\"token key atrule\">root</span><span class=\"token punctuation\">:</span> /\n<span class=\"token key atrule\">permalink</span><span class=\"token punctuation\">:</span> posts/<span class=\"token punctuation\">:</span>abbrlink.html\npermalink_defaults<span class=\"token punctuation\">:</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n</li>\n</ol>\n<p>这样站点结构就变成了：<code>域名/posts/xxx.html</code></p>\n<h2 id=\"异步加载JS\">异步加载JS</h2>\n<p><strong>方法</strong>：将JS文件的引入，放到HTML的body结束标签的上方</p>\n<p><strong>例</strong>：</p>\n<pre class=\"line-numbers language-markup\" data-language=\"markup\"><code class=\"language-markup\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>html</span><span class=\"token punctuation\">&gt;</span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>head</span><span class=\"token punctuation\">&gt;</span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>title</span><span class=\"token punctuation\">&gt;</span></span>Hello World!<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>title</span><span class=\"token punctuation\">&gt;</span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>head</span><span class=\"token punctuation\">&gt;</span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>body</span><span class=\"token punctuation\">&gt;</span></span>\n        xxxxx....\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span> <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>xx/xx.js<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span><span class=\"token script\"></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">&gt;</span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>body</span><span class=\"token punctuation\">&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>html</span><span class=\"token punctuation\">&gt;</span></span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<p><strong>原理</strong>：首先要明白，HTML的加载是从上往下一行一行解释执行的，把js文件的引入放到下面，这样就会先把HTML页面展示出来，然后再加载js。这样看起来的效果就是，大体的页面先出来，而js让它慢慢加载执行，如果你把js放到网页的上方，效果就是必须要加载完js才能继续展示网页，体验极差。</p>\n<p><strong>注意</strong>：原主题的js文件尽量不要动，我们只需将自己增加的一些js按照异步加载的方式做即可，比如一些音乐js插件、实时在线聊天js插件等放到最后即可！因为这些文件要加载的东西很多。</p>\n<h2 id=\"字蛛压缩字体\">字蛛压缩字体</h2>\n<blockquote>\n<p>在上面我们介绍了如何在网站上引用自己喜欢的字体，但是这样会出现一个问题：字体文件太大！（尤其是中文，有时候为了几个字引入一个数十兆的字体文件，得不偿失），所有需要字体压缩！</p>\n</blockquote>\n<p><a target=\"_blank\" rel=\"noopener\" href=\"http://font-spider.org/\">官网</a> <a target=\"_blank\" rel=\"noopener\" href=\"https://github.com/aui/font-spider\">GitHub</a></p>\n<h3 id=\"使用场景\">使用场景</h3>\n<p>你的网站中需要自定义字体（额外添加一些普通电脑中没有的字体），但是一般字体是包含很多字符的，这就导致字体文件的体积很大</p>\n<h3 id=\"字蛛作用\">字蛛作用</h3>\n<p>字蛛就是自动检测网站的 CSS 与 HTML 文件中的自定义字体（额外加的字体），并将网站中<strong>用到的文字</strong>重新打包成一个新的字体文件，并自动引入；</p>\n<p>而<strong>没用到的文字</strong>就会删除，从而达到压缩字体文件体积的作用。</p>\n<h4 id=\"安装-5\">安装</h4>\n<pre class=\"line-numbers language-sh\" data-language=\"sh\"><code class=\"language-sh\">npm install font-spider -g<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<h3 id=\"在-CSS-中使用-WebFont：\">在 CSS 中使用 WebFont：</h3>\n<pre class=\"line-numbers language-css\" data-language=\"css\"><code class=\"language-css\"><span class=\"token comment\">/*声明 WebFont*/</span>\n<span class=\"token atrule\"><span class=\"token rule\">@font-face</span></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token property\">font-family</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'pinghei'</span><span class=\"token punctuation\">;</span>\n  <span class=\"token property\">src</span><span class=\"token punctuation\">:</span> <span class=\"token url\"><span class=\"token function\">url</span><span class=\"token punctuation\">(</span><span class=\"token string url\">'../font/pinghei.eot'</span><span class=\"token punctuation\">)</span></span><span class=\"token punctuation\">;</span>\n  <span class=\"token property\">src</span><span class=\"token punctuation\">:</span>\n    <span class=\"token url\"><span class=\"token function\">url</span><span class=\"token punctuation\">(</span><span class=\"token string url\">'../font/pinghei.eot?#font-spider'</span><span class=\"token punctuation\">)</span></span> <span class=\"token function\">format</span><span class=\"token punctuation\">(</span><span class=\"token string\">'embedded-opentype'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    <span class=\"token url\"><span class=\"token function\">url</span><span class=\"token punctuation\">(</span><span class=\"token string url\">'../font/pinghei.woff'</span><span class=\"token punctuation\">)</span></span> <span class=\"token function\">format</span><span class=\"token punctuation\">(</span><span class=\"token string\">'woff'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    <span class=\"token url\"><span class=\"token function\">url</span><span class=\"token punctuation\">(</span><span class=\"token string url\">'../font/pinghei.ttf'</span><span class=\"token punctuation\">)</span></span> <span class=\"token function\">format</span><span class=\"token punctuation\">(</span><span class=\"token string\">'truetype'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    <span class=\"token url\"><span class=\"token function\">url</span><span class=\"token punctuation\">(</span><span class=\"token string url\">'../font/pinghei.svg'</span><span class=\"token punctuation\">)</span></span> <span class=\"token function\">format</span><span class=\"token punctuation\">(</span><span class=\"token string\">'svg'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token property\">font-weight</span><span class=\"token punctuation\">:</span> normal<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">font-style</span><span class=\"token punctuation\">:</span> normal<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">/*使用选择器指定字体*/</span>\n<span class=\"token selector\">.home h1, .demo &gt; .test</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">font-family</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'pinghei'</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<blockquote>\n<ol>\n<li>@font-face 中的 src 定义的 .ttf 文件必须存在，其余的格式将由工具自动生成</li>\n<li>开发阶段请使用相对路径的 CSS 与 WebFont</li>\n</ol>\n</blockquote>\n<h3 id=\"运行-font-spider-命令：\">运行 font-spider 命令：</h3>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">font-spider ./demo/*.html<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<blockquote>\n<p>页面依赖的字体将会自动压缩好，原 .ttf 字体会备份</p>\n</blockquote>\n<h2 id=\"webp图像大小优化\">webp图像大小优化</h2>\n<blockquote>\n<p>把所有图像都转换为webp格式，可以极大减小图片体积，加快加载速度。</p>\n</blockquote>\n<h2 id=\"gulp-体积压缩\">gulp 体积压缩</h2>\n<blockquote>\n<ul>\n<li>减小体积，加快加载速度</li>\n<li>因为 hexo 生成的 html、css、js 等都有很多的空格或者换行，而空格和换行也是占用字节的，所以需要将空格换行去掉也就是我要进行的 “压缩”。</li>\n</ul>\n</blockquote>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">npm</span> <span class=\"token function\">install</span> gulp -g\n<span class=\"token comment\"># 安装各种小功能模块  执行这步的时候，可能会提示权限的问题，最好以管理员模式执行</span>\n<span class=\"token function\">npm</span> <span class=\"token function\">install</span> gulp gulp-htmlclean gulp-htmlmin gulp-minify-css gulp-uglify gulp-imagemin --save\n<span class=\"token comment\"># 额外的功能模块</span>\n<span class=\"token function\">npm</span> <span class=\"token function\">install</span> gulp-debug gulp-clean-css gulp-changed gulp-if gulp-plumber gulp-babel babel-preset-es2015 del @babel/core --save\n \n或者使用yarn \n \n<span class=\"token function\">yarn</span> global <span class=\"token function\">add</span> gulp\n<span class=\"token function\">yarn</span> <span class=\"token function\">add</span> gulp gulp-htmlclean gulp-htmlmin gulp-minify-css gulp-uglify gulp-imagemin\n<span class=\"token function\">yarn</span> <span class=\"token function\">add</span> gulp-debug gulp-clean-css gulp-changed gulp-if gulp-plumber gulp-babel babel-preset-es2015 del @babel/core<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<blockquote>\n<ul>\n<li>npm下载太慢怎么办？ 修改国内淘宝源加速，<a href=\"https://blog.17lai.site/posts/40300608/#npm%E4%B8%8B%E8%BD%BD%E5%8A%A0%E9%80%9F\">戳</a></li>\n</ul>\n</blockquote>\n<p>然后，在根目录新增 <code>gulpfile.js</code> :</p>\n<pre class=\"line-numbers language-yaml\" data-language=\"yaml\"><code class=\"language-yaml\">var gulp = require(\"gulp\");\nvar debug = require(\"gulp<span class=\"token punctuation\">-</span>debug\");\nvar cleancss = require(\"gulp<span class=\"token punctuation\">-</span>clean<span class=\"token punctuation\">-</span>css\"); //css压缩组件\nvar uglify = require(\"gulp<span class=\"token punctuation\">-</span>uglify\"); //js压缩组件\nvar htmlmin = require(\"gulp<span class=\"token punctuation\">-</span>htmlmin\"); //html压缩组件\nvar htmlclean = require(\"gulp<span class=\"token punctuation\">-</span>htmlclean\"); //html清理组件\nvar imagemin = require(\"gulp<span class=\"token punctuation\">-</span>imagemin\"); //图片压缩组件\nvar changed = require(\"gulp<span class=\"token punctuation\">-</span>changed\"); //文件更改校验组件\nvar gulpif = require(\"gulp<span class=\"token punctuation\">-</span>if\"); //任务 帮助调用组件\nvar plumber = require(\"gulp<span class=\"token punctuation\">-</span>plumber\"); //容错组件（发生错误不跳出任务，并报出错误内容）\nvar isScriptAll = true; //是否处理所有文件，(true<span class=\"token punctuation\">|</span>处理所有文件)(false<span class=\"token punctuation\">|</span>只处理有更改的文件)\nvar isDebug = true; //是否调试显示 编译通过的文件\nvar gulpBabel = require(\"gulp<span class=\"token punctuation\">-</span>babel\");\nvar es2015Preset = require(\"babel<span class=\"token punctuation\">-</span>preset<span class=\"token punctuation\">-</span>es2015\");\nvar del = require(\"del\");\nvar Hexo = require(\"hexo\");\nvar hexo = new Hexo(process.cwd()<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>); // 初始化一个hexo对象\n\n// 清除public文件夹\ngulp.task(\"clean\"<span class=\"token punctuation\">,</span> function () <span class=\"token punctuation\">{</span>\n    return del(<span class=\"token punctuation\">[</span><span class=\"token string\">\"public/**/*\"</span><span class=\"token punctuation\">]</span>);\n<span class=\"token punctuation\">}</span>);\n\n// 下面几个跟hexo有关的操作，主要通过hexo.call()去执行，注意return\n// 创建静态页面 （等同 hexo generate）\ngulp.task(\"generate\"<span class=\"token punctuation\">,</span> function () <span class=\"token punctuation\">{</span>\n    return hexo.init().then(function () <span class=\"token punctuation\">{</span>\n        return hexo\n            .call(\"generate\"<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\n                <span class=\"token key atrule\">watch</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">false</span>\n            <span class=\"token punctuation\">}</span>)\n            .then(function () <span class=\"token punctuation\">{</span>\n                return hexo.exit();\n            <span class=\"token punctuation\">}</span>)\n            .catch(function (err) <span class=\"token punctuation\">{</span>\n                return hexo.exit(err);\n            <span class=\"token punctuation\">}</span>);\n    <span class=\"token punctuation\">}</span>);\n<span class=\"token punctuation\">}</span>);\n\n// 启动Hexo服务器\ngulp.task(\"server\"<span class=\"token punctuation\">,</span> function () <span class=\"token punctuation\">{</span>\n    return hexo\n        .init()\n        .then(function () <span class=\"token punctuation\">{</span>\n            return hexo.call(\"server\"<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>);\n        <span class=\"token punctuation\">}</span>)\n        .catch(function (err) <span class=\"token punctuation\">{</span>\n            console.log(err);\n        <span class=\"token punctuation\">}</span>);\n<span class=\"token punctuation\">}</span>);\n\n// 部署到服务器\ngulp.task(\"deploy\"<span class=\"token punctuation\">,</span> function () <span class=\"token punctuation\">{</span>\n    return hexo.init().then(function () <span class=\"token punctuation\">{</span>\n        return hexo\n            .call(\"deploy\"<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\n                <span class=\"token key atrule\">watch</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">false</span>\n            <span class=\"token punctuation\">}</span>)\n            .then(function () <span class=\"token punctuation\">{</span>\n                return hexo.exit();\n            <span class=\"token punctuation\">}</span>)\n            .catch(function (err) <span class=\"token punctuation\">{</span>\n                return hexo.exit(err);\n            <span class=\"token punctuation\">}</span>);\n    <span class=\"token punctuation\">}</span>);\n<span class=\"token punctuation\">}</span>);\n\n// 压缩public目录下的js文件\ngulp.task(\"compressJs\"<span class=\"token punctuation\">,</span> function () <span class=\"token punctuation\">{</span>\n    return gulp\n        .src(<span class=\"token punctuation\">[</span><span class=\"token string\">\"./public/**/*.js\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"!./public/libs/**\"</span><span class=\"token punctuation\">]</span>) //排除的js\n        .pipe(gulpif(<span class=\"token tag\">!isScriptAll</span><span class=\"token punctuation\">,</span> changed(\"./public\")))\n        .pipe(gulpif(isDebug<span class=\"token punctuation\">,</span> debug(<span class=\"token punctuation\">{</span> <span class=\"token key atrule\">title</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"Compress JS:\"</span> <span class=\"token punctuation\">}</span>)))\n        .pipe(plumber())\n        .pipe(\n            gulpBabel(<span class=\"token punctuation\">{</span>\n                <span class=\"token key atrule\">presets</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span>es2015Preset<span class=\"token punctuation\">]</span> // es5检查机制\n            <span class=\"token punctuation\">}</span>)\n        )\n        .pipe(uglify()) //调用压缩组件方法uglify()<span class=\"token punctuation\">,</span>对合并的文件进行压缩\n        .pipe(gulp.dest(\"./public\")); //输出到目标目录\n<span class=\"token punctuation\">}</span>);\n\n// 压缩public目录下的css文件\ngulp.task(\"compressCss\"<span class=\"token punctuation\">,</span> function () <span class=\"token punctuation\">{</span>\n    var option = <span class=\"token punctuation\">{</span>\n        <span class=\"token key atrule\">rebase</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">false</span><span class=\"token punctuation\">,</span>\n        <span class=\"token key atrule\">//advanced</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span><span class=\"token punctuation\">,</span> //类型：Boolean 默认：true <span class=\"token punctuation\">[</span>是否开启高级优化（合并选择器等）<span class=\"token punctuation\">]</span>\n        <span class=\"token key atrule\">compatibility</span><span class=\"token punctuation\">:</span> \"ie7\" //保留ie7及以下兼容写法 类型：String 默认：''or'<span class=\"token important\">*'</span> <span class=\"token punctuation\">[</span>启用兼容模式； 'ie7'：IE7兼容模式，'ie8'：IE8兼容模式，'<span class=\"token important\">*'：IE9+兼容模式</span><span class=\"token punctuation\">]</span>\n        <span class=\"token key atrule\">//keepBreaks</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span><span class=\"token punctuation\">,</span> //类型：Boolean 默认：false <span class=\"token punctuation\">[</span>是否保留换行<span class=\"token punctuation\">]</span>\n        <span class=\"token key atrule\">//keepSpecialComments</span><span class=\"token punctuation\">:</span> '<span class=\"token important\">*'</span> //保留所有特殊前缀 当你用autoprefixer生成的浏览器前缀，如果不加这个参数，有可能将会删除你的部分前缀\n    <span class=\"token punctuation\">}</span>;\n    return gulp\n        .src(<span class=\"token punctuation\">[</span><span class=\"token string\">\"./public/**/*.css\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"!./public/**/*.min.css\"</span><span class=\"token punctuation\">]</span>) //排除的css\n        .pipe(gulpif(<span class=\"token tag\">!isScriptAll</span><span class=\"token punctuation\">,</span> changed(\"./public\")))\n        .pipe(gulpif(isDebug<span class=\"token punctuation\">,</span> debug(<span class=\"token punctuation\">{</span> <span class=\"token key atrule\">title</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"Compress CSS:\"</span> <span class=\"token punctuation\">}</span>)))\n        .pipe(plumber())\n        .pipe(cleancss(option))\n        .pipe(gulp.dest(\"./public\"));\n<span class=\"token punctuation\">}</span>);\n\n// 压缩public目录下的html文件\ngulp.task(\"compressHtml\"<span class=\"token punctuation\">,</span> function () <span class=\"token punctuation\">{</span>\n    var cleanOptions = <span class=\"token punctuation\">{</span>\n        <span class=\"token key atrule\">protect</span><span class=\"token punctuation\">:</span> /&lt;\\<span class=\"token tag\">!--%fooTemplate</span>\\b.<span class=\"token important\">*?%--&gt;/g</span><span class=\"token punctuation\">,</span> //忽略处理\n        <span class=\"token key atrule\">unprotect</span><span class=\"token punctuation\">:</span> /&lt;script <span class=\"token punctuation\">[</span>^<span class=\"token punctuation\">&gt;</span><span class=\"token punctuation\">]</span><span class=\"token important\">*\\btype=\"text\\/x-handlebars-template\"</span><span class=\"token punctuation\">[</span>\\s\\S<span class=\"token punctuation\">]</span>+<span class=\"token punctuation\">?</span>&lt;\\/script<span class=\"token punctuation\">&gt;</span>/gi //特殊处理\n    <span class=\"token punctuation\">}</span>;\n    var minOption = <span class=\"token punctuation\">{</span>\n        <span class=\"token key atrule\">collapseWhitespace</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span><span class=\"token punctuation\">,</span> //压缩HTML\n        <span class=\"token key atrule\">collapseBooleanAttributes</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span><span class=\"token punctuation\">,</span> //省略布尔属性的值 &lt;input checked=\"true\"/<span class=\"token punctuation\">&gt;</span> ==<span class=\"token punctuation\">&gt;</span> &lt;input /<span class=\"token punctuation\">&gt;</span>\n        <span class=\"token key atrule\">removeEmptyAttributes</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span><span class=\"token punctuation\">,</span> //删除所有空格作属性值 &lt;input id=\"\" /<span class=\"token punctuation\">&gt;</span> ==<span class=\"token punctuation\">&gt;</span> &lt;input /<span class=\"token punctuation\">&gt;</span>\n        <span class=\"token key atrule\">removeScriptTypeAttributes</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span><span class=\"token punctuation\">,</span> //删除&lt;script<span class=\"token punctuation\">&gt;</span>的type=\"text/javascript\"\n        <span class=\"token key atrule\">removeStyleLinkTypeAttributes</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span><span class=\"token punctuation\">,</span> //删除&lt;style<span class=\"token punctuation\">&gt;</span>和&lt;link<span class=\"token punctuation\">&gt;</span>的type=\"text/css\"\n        <span class=\"token key atrule\">removeComments</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span><span class=\"token punctuation\">,</span> //清除HTML注释\n        <span class=\"token key atrule\">minifyJS</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span><span class=\"token punctuation\">,</span> //压缩页面JS\n        <span class=\"token key atrule\">minifyCSS</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span><span class=\"token punctuation\">,</span> //压缩页面CSS\n        <span class=\"token key atrule\">minifyURLs</span><span class=\"token punctuation\">:</span> true //替换页面URL\n    <span class=\"token punctuation\">}</span>;\n    return gulp\n        .src(\"./public/<span class=\"token important\">**/*.html\")</span>\n        .pipe(gulpif(isDebug<span class=\"token punctuation\">,</span> debug(<span class=\"token punctuation\">{</span> <span class=\"token key atrule\">title</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"Compress HTML:\"</span> <span class=\"token punctuation\">}</span>)))\n        .pipe(plumber())\n        .pipe(htmlclean(cleanOptions))\n        .pipe(htmlmin(minOption))\n        .pipe(gulp.dest(\"./public\"));\n<span class=\"token punctuation\">}</span>);\n\n// 压缩 public/medias 目录内图片\ngulp.task(\"compressImage\"<span class=\"token punctuation\">,</span> function () <span class=\"token punctuation\">{</span>\n    var option = <span class=\"token punctuation\">{</span>\n        <span class=\"token key atrule\">optimizationLevel</span><span class=\"token punctuation\">:</span> <span class=\"token number\">5</span><span class=\"token punctuation\">,</span> //类型：Number 默认：3 取值范围：0<span class=\"token punctuation\">-</span>7（优化等级）\n        <span class=\"token key atrule\">progressive</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span><span class=\"token punctuation\">,</span> //类型：Boolean 默认：false 无损压缩jpg图片\n        <span class=\"token key atrule\">interlaced</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">false</span><span class=\"token punctuation\">,</span> //类型：Boolean 默认：false 隔行扫描gif进行渲染\n        <span class=\"token key atrule\">multipass</span><span class=\"token punctuation\">:</span> false //类型：Boolean 默认：false 多次优化svg直到完全优化\n    <span class=\"token punctuation\">}</span>;\n    return gulp\n        .src(\"./public/medias/<span class=\"token important\">**/*.*\")</span>\n        .pipe(gulpif(<span class=\"token tag\">!isScriptAll</span><span class=\"token punctuation\">,</span> changed(\"./public/medias\")))\n        .pipe(gulpif(isDebug<span class=\"token punctuation\">,</span> debug(<span class=\"token punctuation\">{</span> <span class=\"token key atrule\">title</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"Compress Images:\"</span> <span class=\"token punctuation\">}</span>)))\n        .pipe(plumber())\n        .pipe(imagemin(option))\n        .pipe(gulp.dest(\"./public\"));\n<span class=\"token punctuation\">}</span>);\n// 执行顺序： 清除public目录 <span class=\"token punctuation\">-</span><span class=\"token punctuation\">&gt;</span> 产生原始博客内容 <span class=\"token punctuation\">-</span><span class=\"token punctuation\">&gt;</span> 执行压缩混淆 <span class=\"token punctuation\">-</span><span class=\"token punctuation\">&gt;</span> 部署到服务器\ngulp.task(\n    \"cicd\"<span class=\"token punctuation\">,</span>\n    gulp.series(\n        \"clean\"<span class=\"token punctuation\">,</span>\n        <span class=\"token string\">\"generate\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string\">\"compressHtml\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string\">\"compressCss\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string\">\"compressJs\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string\">\"compressImage\"</span><span class=\"token punctuation\">,</span>\n        gulp.parallel(\"deploy\")\n    )\n);\ngulp.task(\n    \"ci\"<span class=\"token punctuation\">,</span>\n    gulp.series(\n        \"clean\"<span class=\"token punctuation\">,</span>\n        <span class=\"token string\">\"generate\"</span><span class=\"token punctuation\">,</span>\n        gulp.parallel(\"compressHtml\"<span class=\"token punctuation\">,</span> <span class=\"token string\">\"compressCss\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"compressJs\"</span><span class=\"token punctuation\">,</span>\"compressImage\")\n    )\n);\n// 默认任务\ngulp.task(\n    \"default\"<span class=\"token punctuation\">,</span>\n    gulp.series(\n        gulp.parallel(\"compressHtml\"<span class=\"token punctuation\">,</span> <span class=\"token string\">\"compressCss\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"compressJs\"</span><span class=\"token punctuation\">,</span>\"compressImage\")\n    )\n);\n//Gulp4最大的一个改变就是gulp.task函数现在只支持两个参数，分别是任务名和运行任务的函数<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<p>运行：</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">hexo clean <span class=\"token operator\">&amp;&amp;</span> hexo g <span class=\"token operator\">&amp;&amp;</span> gulp <span class=\"token operator\">&amp;&amp;</span>  hexo g<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p>直接在 <code>Hexo</code> 根目录执行 <code>gulp ci</code>，这个命令相当于 hexo cl&amp;&amp;hexo g 并且再把代码和图片压缩。 在 Hexo 根目录执行 gulp cicd ，这个命令与 <code>gulp ci</code>相比是：在最后又加了个 hexo d ，等于说生成、压缩文件后又帮你自动部署了</p>\n<p>如果不想用图片压缩可以把\"compressImage\" 去掉即可</p>\n<h2 id=\"Docker版Imagin\"><code>Docker</code>版<code>Imagin</code></h2>\n<blockquote>\n<p>使用Docker版本的imagemin来压缩图片！一行命令搞定！</p>\n<p>gulp-imagemin相关的依赖，以及配置太TMD复杂了，博主新的Docker里面配置很久没搞定，虽然以前搞定过，囧rz! 如是去找了一下Docker镜像，立马搞定！</p>\n<p><code>docker run -v `pwd`:/work mitakeck/imagemin</code></p>\n<p>源代码 <a target=\"_blank\" rel=\"noopener\" href=\"https://github.com/mitakeck/docker-imagemin\">mitakeck/docker-imagemin</a></p>\n</blockquote>\n<h2 id=\"Python图片无损压缩\">Python图片无损压缩</h2>\n<blockquote>\n<p><code>git@github.com:xinlin-z/smally.git</code></p>\n<p>说明去项目主页看。有中文说明。</p>\n<p>有些小bug，压缩<code>jpeg</code>时遇到<code>webp</code>文件会退出。个人解决方法是硬链接到另一个目录，然后删除所有其它格式的图片，再进行压缩，嗯，完美！</p>\n</blockquote>\n<h2 id=\"本地搜索优化\">本地搜索优化</h2>\n<p>html、css和js都压缩了，很开心。但是，还有一个大文件没有压缩，就是本地搜索的DB文件search.xml。这个search.xml文件的大小为7.5M，很大。<br>\n打开search.xml文件，发现里面不止包含文章内容，还包含html标签。参考hexo-generator-searchdb，发现可以设置不生成标签。</p>\n<ul>\n<li>修改hexo/_config.yml的localsearch配置为：</li>\n</ul>\n<pre class=\"line-numbers language-yaml\" data-language=\"yaml\"><code class=\"language-yaml\"><span class=\"token comment\"># local search</span>\n<span class=\"token key atrule\">search</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">path</span><span class=\"token punctuation\">:</span> search.xml\n  <span class=\"token key atrule\">field</span><span class=\"token punctuation\">:</span> post\n  <span class=\"token key atrule\">format</span><span class=\"token punctuation\">:</span> striptags\n  <span class=\"token key atrule\">limit</span><span class=\"token punctuation\">:</span> <span class=\"token number\">10000</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<ul>\n<li>重新生成search.xml文件</li>\n</ul>\n<blockquote>\n<ul>\n<li>还可以给search.xml添加上jsdelivr cdn 加速！</li>\n</ul>\n</blockquote>\n<h2 id=\"系列教程-35\"><strong>系列教程</strong></h2>\n<p><a href=\"https://blog.17lai.site/atom.xml\">全部文章RSS订阅</a></p>\n<p><strong>Hexo系列</strong>  <a href=\"https://blog.17lai.site/categories/hexo/atom.xml\"><strong>HexoRSS分类订阅</strong></a></p>\n<p>[三万字教程]基于Hexo的matery主题搭建博客并深度优化完全一站式教程</p>\n<ul>\n<li>\n<p><a href=\"https://blog.17lai.site/posts/40300608/\">Hexo Docker环境与Hexo基础配置篇</a></p>\n</li>\n<li>\n<p><a href=\"https://blog.17lai.site/posts/4d8a0b22/\">hexo博客自定义修改篇</a></p>\n</li>\n<li>\n<p><a href=\"https://blog.17lai.site/posts/9b056c86/\">hexo博客网络优化篇</a></p>\n</li>\n<li>\n<p><a href=\"https://blog.17lai.site/posts/5311b619/\">hexo博客增强部署篇</a></p>\n</li>\n<li>\n<p><a href=\"https://blog.17lai.site/posts/4a2050e2/\">hexo博客个性定制篇</a></p>\n</li>\n<li>\n<p><a href=\"https://blog.17lai.site/posts/84b4059a/\">hexo博客常见问题篇</a></p>\n</li>\n<li>\n<p><a href=\"https://blog.17lai.site/posts/cf0f47fd/\">Hexo Markdown以及各种插件功能测试</a></p>\n</li>\n</ul>\n<blockquote>\n<ul>\n<li>markdown 各种其它语法插件</li>\n<li>latex公式支持</li>\n<li>mermaid图表</li>\n<li>plant uml图表</li>\n<li>URL卡片</li>\n<li>bilibili卡片</li>\n<li>github卡片</li>\n<li>豆瓣卡片</li>\n<li>插入音乐和视频</li>\n<li>插入脑图</li>\n</ul>\n</blockquote>\n<p><strong>笔记系列</strong>  <a href=\"https://blog.17lai.site/categories/note/atom.xml\"><strong>Note分类RSS订阅</strong></a></p>\n<ul>\n<li><a href=\"https://blog.17lai.site/posts/a8535f26/\">完美笔记进化论</a></li>\n</ul>\n<blockquote>\n<p>经历了很长时间，使用了各种各样的方案，最终选择了一种相对完美的方式。docker私有部署运行的joplin，使用markdown语法，github作为图床，picgo作为图像自动上传后端，pypora作为MD编辑器，Snipaste作为截图工具。后备gitlab ee selfhost备份，自建图床VPS多线负载均衡。cloudflare partner cdn加速，jsdelivr加速。</p>\n<ul>\n<li>pigo图床搭建与配置</li>\n<li>Joplin教程</li>\n<li>Snipaste截图工具</li>\n<li>Typora 作为Markdown编辑器最强</li>\n</ul>\n</blockquote>\n<ul>\n<li><a target=\"_blank\" rel=\"noopener\" href=\"https://blog.17lai.fun/posts/e6086437/\">Joplin入门指南&amp;实践方案</a></li>\n</ul>\n<blockquote>\n<ul>\n<li>Joplin和使用</li>\n<li>Joplin同步与备份</li>\n<li>Joplin导入与导出</li>\n</ul>\n</blockquote>\n<ul>\n<li><a target=\"_blank\" rel=\"noopener\" href=\"https://blog.17lai.fun/posts/45f878cd/\">替代Evernote免费开源笔记Joplin-网盘同步笔记历史版本Markdown可视化</a></li>\n</ul>\n<blockquote>\n<ul>\n<li>Joplin安装使用，调用外部编辑器，网盘同步等等</li>\n</ul>\n</blockquote>\n<ul>\n<li><a href=\"https://blog.17lai.site/posts/92d347d6/\">Joplin 插件以及其Markdown语法。All in One!</a></li>\n</ul>\n<blockquote>\n<ul>\n<li>Joplin简明教程</li>\n<li>markdown语法简明教程</li>\n</ul>\n</blockquote>\n<ul>\n<li><a href=\"https://blog.17lai.site/posts/e3ee7f8b/\">Joplin 插件使用推荐</a></li>\n</ul>\n<blockquote>\n<ul>\n<li>教你用各种插件打造一个强大的笔记工具。</li>\n</ul>\n</blockquote>\n<ul>\n<li><a href=\"https://blog.17lai.site/posts/1802a8a7/\">为知笔记私有化Docker部署</a></li>\n</ul>\n<blockquote>\n<ul>\n<li>如何部署自己私有的为知笔记。</li>\n<li>其实博主更推荐私有部署joplin</li>\n</ul>\n</blockquote>\n<p><strong>Gitbook使用系列</strong> <a href=\"https://blog.17lai.site/categories/gitbook/atom.xml\">Gitbook分类RSS订阅</a></p>\n<ul>\n<li>\n<p><a href=\"https://blog.17lai.site/posts/7fe86002/\">GitBook+GitLab撰写发布技术文档-Part1:GitBook篇</a></p>\n</li>\n<li>\n<p><a href=\"https://blog.17lai.site/posts/7790e989/\">GitBook+GitLab撰写发布技术文档-Part2:GitLab篇</a></p>\n</li>\n<li>\n<p><a href=\"https://blog.17lai.site/posts/d6bad1e5/\">自己动手制作电子书的最佳方式（支持PDF、ePub、mobi等格式）</a></p>\n</li>\n</ul>\n<p><strong>Gitlab 使用系列</strong>  <a href=\"https://blog.17lai.site/categories/gitlab/atom.xml\"><strong>Gitlab RSS 分类订阅</strong></a></p>\n<ul>\n<li><a href=\"https://blog.17lai.site/posts/acc13b70/\"><strong>Gitlab的安装及使用教程完全版</strong></a></li>\n<li><a href=\"https://blog.17lai.site/posts/29a820b3/\">破解Gitlab EE</a></li>\n<li><a href=\"https://blog.17lai.site/posts/d08eb7b/\">Gitlab的安装及使用</a></li>\n<li><a href=\"https://blog.17lai.site/posts/1879721e/\">CI/CD与Git Flow与GitLab</a></li>\n</ul>\n<link rel=\"stylesheet\" href=\"/css/bilicard.css\" type=\"text/css\">",
            "tags": [
                "github",
                "hexo",
                "matery",
                "cdn",
                "seo"
            ]
        },
        {
            "id": "https://blog.17lai.site/posts/4d8a0b22/",
            "url": "https://blog.17lai.site/posts/4d8a0b22/",
            "title": "基于Hexo的matery主题搭建博客自定义修改篇2",
            "date_published": "2022-03-27T07:25:33.000Z",
            "content_html": "<p><strong>Hexo系列</strong>  <a href=\"https://blog.17lai.site/categories/hexo/atom.xml\"><strong>HexoRSS分类订阅</strong></a></p>\n<p>[三万字教程]基于Hexo的matery主题搭建博客并深度优化完全一站式教程</p>\n<ul>\n<li>\n<p><a href=\"https://blog.17lai.site/posts/40300608/\">Hexo Docker环境与Hexo基础配置篇</a></p>\n</li>\n<li>\n<p><a href=\"https://blog.17lai.site/posts/4d8a0b22/\">hexo博客自定义修改篇</a></p>\n</li>\n<li>\n<p><a href=\"https://blog.17lai.site/posts/9b056c86/\">hexo博客网络优化篇</a></p>\n</li>\n<li>\n<p><a href=\"https://blog.17lai.site/posts/5311b619/\">hexo博客增强部署篇</a></p>\n</li>\n<li>\n<p><a href=\"https://blog.17lai.site/posts/4a2050e2/\">hexo博客个性定制篇</a></p>\n</li>\n<li>\n<p><a href=\"https://blog.17lai.site/posts/84b4059a/\">hexo博客常见问题篇</a></p>\n</li>\n<li>\n<p><a href=\"https://blog.17lai.site/posts/cf0f47fd/\">Hexo Markdown以及各种插件功能测试</a></p>\n</li>\n</ul>\n<blockquote>\n<ul>\n<li>markdown 各种其它语法插件</li>\n<li>latex公式支持</li>\n<li>mermaid图表</li>\n<li>plant uml图表</li>\n<li>URL卡片</li>\n<li>bilibili卡片</li>\n<li>github卡片</li>\n<li>豆瓣卡片</li>\n<li>插入音乐和视频</li>\n<li>插入脑图</li>\n</ul>\n</blockquote>\n<p>如果本主题中的诸多功能和主题色彩你不满意，可以在主题中自定义修改，很多更自由的功能和细节点的修改难以在主题的 <code>_config.yml</code> 中完成，需要修改源代码才来完成。以下列出了可能有用的地方：</p>\n<h2 id=\"更换字体\">更换字体</h2>\n<p>一般网站的web字体都可以直接从<a target=\"_blank\" rel=\"noopener\" href=\"https://fonts.google.com/\">Google-Font</a>获取资源，这样不用担心字体商业带来的法律问题。</p>\n<p>常见的开源字体有：</p>\n<p>思源黑体 、 文泉驿 、 文鼎开放字体 、 柳体 、 cwTeX中文字体 、 濑户字体、江西拙楷体等。</p>\n<p>1）创建web字体引用</p>\n<pre class=\"line-numbers language-css\" data-language=\"css\"><code class=\"language-css\"><span class=\"token atrule\"><span class=\"token rule\">@font-face</span></span><span class=\"token punctuation\">{</span>\n    <span class=\"token property\">font-family</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'引用的字体名称'</span><span class=\"token punctuation\">;</span>\n    <span class=\"token property\">src</span><span class=\"token punctuation\">:</span> <span class=\"token url\"><span class=\"token function\">url</span><span class=\"token punctuation\">(</span><span class=\"token string url\">'谷歌字体路径（或者其他什么字体引用）'</span><span class=\"token punctuation\">)</span></span><span class=\"token punctuation\">;</span>   \n<span class=\"token punctuation\">}</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n<p>2）在网页合适的位置进行字体引用</p>\n<p>①利用浏览器检查元素，获取需要定义字体的部分</p>\n<p>②在主体的配置文件中(hexo-theme-matery/layout/…)找到对应的渲染(.ejs)文件，查找需要修改的部分</p>\n<p>①演示一下利用浏览器获取定义字体的部分</p>\n<p><img src=\"https://cimg1.17lai.site/data/2021/10/1720211017105637.jpeg\" alt=\"\"></p>\n<p>对获取到的<code>id选择器：#artDetail</code>进行css渲染</p>\n<pre class=\"line-numbers language-css\" data-language=\"css\"><code class=\"language-css\"><span class=\"token selector\">#artDetail</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">font-family</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'引用的web字体'</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n<p>②利用主体的ejs渲染文件找出需要修饰的部分（加入自定义类）</p>\n<p><img src=\"https://cimg1.17lai.site/data/2021/10/1720211017105631.jpeg\" alt=\"\"></p>\n<pre class=\"line-numbers language-css\" data-language=\"css\"><code class=\"language-css\"><span class=\"token comment\">/*使用我在文章内容详情定义的diyFnot类**/</span>\n<span class=\"token selector\">.diyfont</span> <span class=\"token punctuation\">{</span>\n   <span class=\"token property\">font-family</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'引用的web字体'</span><span class=\"token punctuation\">;</span> \n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">/*也可以使用自带的id*/</span>\n<span class=\"token selector\">#artDetail</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">font-family</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'引用的web字体'</span><span class=\"token punctuation\">;</span> \n<span class=\"token punctuation\">}</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<h3 id=\"网站全局化字体定义\">网站全局化字体定义</h3>\n<pre class=\"line-numbers language-css\" data-language=\"css\"><code class=\"language-css\"><span class=\"token atrule\"><span class=\"token rule\">@font-face</span></span><span class=\"token punctuation\">{</span>\n    <span class=\"token property\">font-family</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'引用的字体名称'</span><span class=\"token punctuation\">;</span>\n    <span class=\"token property\">src</span><span class=\"token punctuation\">:</span> <span class=\"token url\"><span class=\"token function\">url</span><span class=\"token punctuation\">(</span><span class=\"token string url\">'谷歌字体路径（或者其他什么字体引用）'</span><span class=\"token punctuation\">)</span></span><span class=\"token punctuation\">;</span>   \n<span class=\"token punctuation\">}</span>\n\n<span class=\"token selector\">body</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">font-family</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'引用的web字体名称'</span><span class=\"token punctuation\">;</span> \n<span class=\"token punctuation\">}</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<h3 id=\"引用本地的字体文件\">引用本地的字体文件</h3>\n<p>当然有时候那个谷歌字体的网站可能登录不上去，需要科学上网，很烦人！我们也可以直接下载下字体文件，将他放在本地，进行直接引用！看下面操作👇</p>\n<p>①在本地的hexo根目录的source文件下创立diy-font文件夹:<code>/source/diy-font</code></p>\n<p>在该文件下存放你的字体文件，比如：<code>/source/diy-font/IBMPlexMono-Italic.ttf</code></p>\n<p>②引用本地字体（仍然是在my.css文件中书写代码）</p>\n<pre class=\"line-numbers language-css\" data-language=\"css\"><code class=\"language-css\"><span class=\"token atrule\"><span class=\"token rule\">@font-face</span></span><span class=\"token punctuation\">{</span>\n    <span class=\"token property\">font-family</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'hl'</span><span class=\"token punctuation\">;</span>\n    <span class=\"token property\">src</span><span class=\"token punctuation\">:</span> <span class=\"token url\"><span class=\"token function\">url</span><span class=\"token punctuation\">(</span><span class=\"token string url\">'../diy-font/IBMPlexMono-Italic.ttf'</span><span class=\"token punctuation\">)</span></span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">/** 表示全局使用，如果不想全局使用不要添加该段 */</span>\n<span class=\"token selector\">body</span><span class=\"token punctuation\">{</span>\n    <span class=\"token property\">font-family</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'hl'</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n\n<span class=\"token comment\">/* 可以局部使用，建议添加 */</span>\n<span class=\"token selector\">.diyFont</span><span class=\"token punctuation\">{</span>\n    <span class=\"token property\">font-family</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'hl'</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<p>这样我们就可以实现引用本地的字体了，并且在web有效！</p>\n<p>在你想要使用的元素的 <code>class</code> 里面加上 <code>diyFont</code> 即可。</p>\n<ul>\n<li>\n<p>直接使用</p>\n<p>F12，找到对应的代码片段即可：</p>\n</li>\n</ul>\n<pre class=\"line-numbers language-markup\" data-language=\"markup\"><code class=\"language-markup\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>span</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>logo-span diyFont<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>测试字体<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>span</span><span class=\"token punctuation\">&gt;</span></span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<ul>\n<li>\n<p>模板使用</p>\n<p>找到对应的模板 <code>header.ejs</code>中的代码片段使用即可：</p>\n</li>\n</ul>\n<pre class=\"line-numbers language-markup\" data-language=\"markup\"><code class=\"language-markup\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>span</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>logo-span diyFont<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>&lt;%= config.title %&gt;<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>span</span><span class=\"token punctuation\">&gt;</span></span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<h2 id=\"修改主题颜色-2\">修改主题颜色</h2>\n<p>在主题文件的 <code>/source/css/matery.css</code> 文件中，搜索 <code>.bg-color</code> 来修改背景颜色：</p>\n<pre class=\"line-numbers language-css\" data-language=\"css\"><code class=\"language-css\"><span class=\"token comment\">/* 整体背景颜色，包括导航、移动端的导航、页尾、标签页等的背景颜色. */</span>\n<span class=\"token selector\">.bg-color</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token property\">background-image</span><span class=\"token punctuation\">:</span> <span class=\"token function\">linear-gradient</span><span class=\"token punctuation\">(</span>to right<span class=\"token punctuation\">,</span> #4cbf30 0%<span class=\"token punctuation\">,</span> #0f9d58 100%<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token atrule\"><span class=\"token rule\">@-webkit-keyframes</span> rainbow</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">/* 动态切换背景颜色. */</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token atrule\"><span class=\"token rule\">@keyframes</span> rainbow</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">/* 动态切换背景颜色. */</span>\n<span class=\"token punctuation\">}</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<h2 id=\"修改-banner-图和文章特色图\">修改 banner 图和文章特色图</h2>\n<p>可以直接在 <code>/source/medias/banner</code> 文件夹中更换喜欢的 <code>banner</code> 图片，主题代码中是每天动态切换一张，只需 <code>7</code> 张即可。如果会 <code>JavaScript</code> 代码，可以修改成自己喜欢切换逻辑，如：随机切换等，<code>banner</code> 切换的代码位置在 <code>/layout/_partial/bg-cover-content.ejs</code> 文件的 <code>&lt;script&gt;&lt;/script&gt;</code> 代码中：</p>\n<pre class=\"line-numbers language-javascript\" data-language=\"javascript\"><code class=\"language-javascript\"><span class=\"token function\">$</span><span class=\"token punctuation\">(</span><span class=\"token string\">\".bg-cover\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">css</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"background-image\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"url(/medias/banner/\"</span> <span class=\"token operator\">+</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Date</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">getDay</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token string\">\".jpg)\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p>在 <code>/source/medias/featureimages</code> 文件夹中默认有 24 张特色图片，你可以再增加或者减少，并需要在 <code>_config.yml</code> 做同步修改。</p>\n<h2 id=\"Hexo-跳过渲染\">Hexo 跳过渲染</h2>\n<p>在Hexo部署时会默认渲染source下的所有html页面，但有时候想在Hexo博客上单独自定义html页面或README.md时，却不希望被Hexo渲染。因此对某个文件或者目录进行排除渲染是非常必要的。</p>\n<h3 id=\"方法一：font-matter\">方法一：font matter</h3>\n<p><code>Hexo</code>新建网站页面，然后将你的代码直接写入 <code>index.md</code> 中</p>\n<p>在 <code>Front matter</code> 中添加 <code>layout: false</code>，此方法适用于单一的纯<code>HTML</code><br>\n<code>CSS</code> 页面。</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">---\ntitle: tools\ndate: <span class=\"token number\">2020</span>-04-28 00:00:00\ntype: <span class=\"token string\">\"tools\"</span>\nlayout: <span class=\"token boolean\">false</span>\n---<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<h3 id=\"方法二：skip-rende\">方法二：skip rende</h3>\n<p>在博客根目录下的 <code>_config.yml</code>，找到 <code>skip_render</code>，大概在32行左右，写入你想要的跳过渲染的路径，注意缩进和空格。</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token comment\"># 指定目录跳过hexo渲染</span>\nskip_render:\n  - <span class=\"token string\">'tools/*'</span>\n  - <span class=\"token string\">'tools/**'</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n<blockquote>\n<p>注释：<code>tools/*</code> 表示在目录 <code>source/fireworks</code> 下的文件全部跳过渲染，<code>tools/**</code> 表示在博客根目录 <code>source/tools/</code> 文件夹下的文件全部跳过渲染（例如页面的 js、css 在另一个文件夹中）。</p>\n</blockquote>\n<h2 id=\"hexo体积压缩\">hexo体积压缩</h2>\n<blockquote>\n<ul>\n<li>因为 hexo 生成的 html、css、js 等都有很多的空格或者换行，而空格和换行也是占用字节的，所以需要将空格换行去掉也就是我要进行的 “压缩”。减小体积，加快加载速度。</li>\n<li>npm下载太慢怎么办？ 修改国内淘宝源加速，<a href=\"https://blog.17lai.site/posts/40300608/#npm%E4%B8%8B%E8%BD%BD%E5%8A%A0%E9%80%9F\">戳</a></li>\n</ul>\n</blockquote>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token comment\"># 全局安装gulp模块</span>\n<span class=\"token function\">npm</span> <span class=\"token function\">install</span> gulp -g\n<span class=\"token comment\"># 安装各种小功能模块  执行这步的时候，可能会提示权限的问题，最好以管理员模式执行</span>\n<span class=\"token function\">npm</span> <span class=\"token function\">install</span> gulp gulp-htmlclean gulp-htmlmin gulp-minify-css gulp-uglify gulp-imagemin --save\n<span class=\"token comment\"># 额外的功能模块</span>\n<span class=\"token function\">npm</span> <span class=\"token function\">install</span> gulp-debug gulp-clean-css gulp-changed gulp-if gulp-plumber gulp-babel babel-preset-es2015 del @babel/core --save\n \n或者使用yarn \n \n<span class=\"token function\">yarn</span> global <span class=\"token function\">add</span> gulp\n<span class=\"token function\">yarn</span> <span class=\"token function\">add</span>  gulp gulp-htmlclean gulp-htmlmin gulp-minify-css gulp-uglify gulp-imagemin\n<span class=\"token function\">yarn</span> <span class=\"token function\">add</span>  gulp-debug gulp-clean-css gulp-changed gulp-if gulp-plumber gulp-babel babel-preset-es2015 del @babel/core<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<p>然后，在根目录(有_config.yml文件，theme目录的目录)新增 <code>gulpfile.js</code>文件，文件名必须是这个 :</p>\n<pre class=\"line-numbers language-javascript\" data-language=\"javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">var</span> gulp <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"gulp\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">var</span> debug <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"gulp-debug\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">var</span> cleancss <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"gulp-clean-css\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//css压缩组件</span>\n<span class=\"token keyword\">var</span> uglify <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"gulp-uglify\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//js压缩组件</span>\n<span class=\"token keyword\">var</span> htmlmin <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"gulp-htmlmin\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//html压缩组件</span>\n<span class=\"token keyword\">var</span> htmlclean <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"gulp-htmlclean\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//html清理组件</span>\n<span class=\"token keyword\">var</span> imagemin <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"gulp-imagemin\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//图片压缩组件</span>\n<span class=\"token keyword\">var</span> changed <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"gulp-changed\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//文件更改校验组件</span>\n<span class=\"token keyword\">var</span> gulpif <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"gulp-if\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//任务 帮助调用组件</span>\n<span class=\"token keyword\">var</span> plumber <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"gulp-plumber\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//容错组件（发生错误不跳出任务，并报出错误内容）</span>\n<span class=\"token keyword\">var</span> isScriptAll <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//是否处理所有文件，(true|处理所有文件)(false|只处理有更改的文件)</span>\n<span class=\"token keyword\">var</span> isDebug <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//是否调试显示 编译通过的文件</span>\n<span class=\"token keyword\">var</span> gulpBabel <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"gulp-babel\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">var</span> es2015Preset <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"babel-preset-es2015\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">var</span> del <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"del\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">var</span> Hexo <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"hexo\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">var</span> hexo <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Hexo</span><span class=\"token punctuation\">(</span>process<span class=\"token punctuation\">.</span><span class=\"token function\">cwd</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 初始化一个hexo对象</span>\n\n<span class=\"token comment\">// 清除public文件夹</span>\ngulp<span class=\"token punctuation\">.</span><span class=\"token function\">task</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"clean\"</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token function\">del</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"public/**/*\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// 下面几个跟hexo有关的操作，主要通过hexo.call()去执行，注意return</span>\n<span class=\"token comment\">// 创建静态页面 （等同 hexo generate）</span>\ngulp<span class=\"token punctuation\">.</span><span class=\"token function\">task</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"generate\"</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> hexo<span class=\"token punctuation\">.</span><span class=\"token function\">init</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> <span class=\"token function\">hexo</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">call</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"generate\"</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\n                <span class=\"token literal-property property\">watch</span><span class=\"token operator\">:</span> <span class=\"token boolean\">false</span>\n            <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                <span class=\"token keyword\">return</span> hexo<span class=\"token punctuation\">.</span><span class=\"token function\">exit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">catch</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">err</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                <span class=\"token keyword\">return</span> hexo<span class=\"token punctuation\">.</span><span class=\"token function\">exit</span><span class=\"token punctuation\">(</span>err<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// 启动Hexo服务器</span>\ngulp<span class=\"token punctuation\">.</span><span class=\"token function\">task</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"server\"</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> hexo\n        <span class=\"token punctuation\">.</span><span class=\"token function\">init</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">return</span> <span class=\"token function\">hexo</span><span class=\"token punctuation\">.</span><span class=\"token function\">call</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"server\"</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">.</span><span class=\"token function\">catch</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">err</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>err<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// 部署到服务器</span>\ngulp<span class=\"token punctuation\">.</span><span class=\"token function\">task</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"deploy\"</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> hexo<span class=\"token punctuation\">.</span><span class=\"token function\">init</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> <span class=\"token function\">hexo</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">call</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"deploy\"</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\n                <span class=\"token literal-property property\">watch</span><span class=\"token operator\">:</span> <span class=\"token boolean\">false</span>\n            <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                <span class=\"token keyword\">return</span> hexo<span class=\"token punctuation\">.</span><span class=\"token function\">exit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">catch</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">err</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                <span class=\"token keyword\">return</span> hexo<span class=\"token punctuation\">.</span><span class=\"token function\">exit</span><span class=\"token punctuation\">(</span>err<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// 压缩public目录下的js文件</span>\ngulp<span class=\"token punctuation\">.</span><span class=\"token function\">task</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"compressJs\"</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> gulp\n        <span class=\"token punctuation\">.</span><span class=\"token function\">src</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"./public/**/*.js\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"!./public/libs/**\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">//排除的js</span>\n        <span class=\"token punctuation\">.</span><span class=\"token function\">pipe</span><span class=\"token punctuation\">(</span><span class=\"token function\">gulpif</span><span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>isScriptAll<span class=\"token punctuation\">,</span> <span class=\"token function\">changed</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"./public\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">.</span><span class=\"token function\">pipe</span><span class=\"token punctuation\">(</span><span class=\"token function\">gulpif</span><span class=\"token punctuation\">(</span>isDebug<span class=\"token punctuation\">,</span> <span class=\"token function\">debug</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">title</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Compress JS:\"</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">.</span><span class=\"token function\">pipe</span><span class=\"token punctuation\">(</span><span class=\"token function\">plumber</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">.</span><span class=\"token function\">pipe</span><span class=\"token punctuation\">(</span>\n            <span class=\"token function\">gulpBabel</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n                <span class=\"token literal-property property\">presets</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>es2015Preset<span class=\"token punctuation\">]</span> <span class=\"token comment\">// es5检查机制</span>\n            <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">.</span><span class=\"token function\">pipe</span><span class=\"token punctuation\">(</span><span class=\"token function\">uglify</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">//调用压缩组件方法uglify(),对合并的文件进行压缩</span>\n        <span class=\"token punctuation\">.</span><span class=\"token function\">pipe</span><span class=\"token punctuation\">(</span>gulp<span class=\"token punctuation\">.</span><span class=\"token function\">dest</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"./public\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//输出到目标目录</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// 压缩public目录下的css文件</span>\ngulp<span class=\"token punctuation\">.</span><span class=\"token function\">task</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"compressCss\"</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">var</span> option <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token literal-property property\">rebase</span><span class=\"token operator\">:</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span>\n        <span class=\"token comment\">//advanced: true, //类型：Boolean 默认：true [是否开启高级优化（合并选择器等）]</span>\n        <span class=\"token literal-property property\">compatibility</span><span class=\"token operator\">:</span> <span class=\"token string\">\"ie7\"</span> <span class=\"token comment\">//保留ie7及以下兼容写法 类型：String 默认：''or'*' [启用兼容模式； 'ie7'：IE7兼容模式，'ie8'：IE8兼容模式，'*'：IE9+兼容模式]</span>\n        <span class=\"token comment\">//keepBreaks: true, //类型：Boolean 默认：false [是否保留换行]</span>\n        <span class=\"token comment\">//keepSpecialComments: '*' //保留所有特殊前缀 当你用autoprefixer生成的浏览器前缀，如果不加这个参数，有可能将会删除你的部分前缀</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">return</span> gulp\n        <span class=\"token punctuation\">.</span><span class=\"token function\">src</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"./public/**/*.css\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"!./public/**/*.min.css\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">//排除的css</span>\n        <span class=\"token punctuation\">.</span><span class=\"token function\">pipe</span><span class=\"token punctuation\">(</span><span class=\"token function\">gulpif</span><span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>isScriptAll<span class=\"token punctuation\">,</span> <span class=\"token function\">changed</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"./public\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">.</span><span class=\"token function\">pipe</span><span class=\"token punctuation\">(</span><span class=\"token function\">gulpif</span><span class=\"token punctuation\">(</span>isDebug<span class=\"token punctuation\">,</span> <span class=\"token function\">debug</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">title</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Compress CSS:\"</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">.</span><span class=\"token function\">pipe</span><span class=\"token punctuation\">(</span><span class=\"token function\">plumber</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">.</span><span class=\"token function\">pipe</span><span class=\"token punctuation\">(</span><span class=\"token function\">cleancss</span><span class=\"token punctuation\">(</span>option<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">.</span><span class=\"token function\">pipe</span><span class=\"token punctuation\">(</span>gulp<span class=\"token punctuation\">.</span><span class=\"token function\">dest</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"./public\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// 压缩public目录下的html文件</span>\ngulp<span class=\"token punctuation\">.</span><span class=\"token function\">task</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"compressHtml\"</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">var</span> cleanOptions <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token literal-property property\">protect</span><span class=\"token operator\">:</span> <span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">&lt;\\!--%fooTemplate\\b.*?%--&gt;</span><span class=\"token regex-delimiter\">/</span><span class=\"token regex-flags\">g</span></span><span class=\"token punctuation\">,</span> <span class=\"token comment\">//忽略处理</span>\n        <span class=\"token literal-property property\">unprotect</span><span class=\"token operator\">:</span> <span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">&lt;script [^&gt;]*\\btype=\"text\\/x-handlebars-template\"[\\s\\S]+?&lt;\\/script&gt;</span><span class=\"token regex-delimiter\">/</span><span class=\"token regex-flags\">gi</span></span> <span class=\"token comment\">//特殊处理</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">var</span> minOption <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token literal-property property\">collapseWhitespace</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">//压缩HTML</span>\n        <span class=\"token literal-property property\">collapseBooleanAttributes</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">//省略布尔属性的值 &lt;input checked=\"true\"/&gt; ==&gt; &lt;input /&gt;</span>\n        <span class=\"token literal-property property\">removeEmptyAttributes</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">//删除所有空格作属性值 &lt;input id=\"\" /&gt; ==&gt; &lt;input /&gt;</span>\n        <span class=\"token literal-property property\">removeScriptTypeAttributes</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">//删除&lt;script&gt;的type=\"text/javascript\"</span>\n        <span class=\"token literal-property property\">removeStyleLinkTypeAttributes</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">//删除&lt;style&gt;和&lt;link&gt;的type=\"text/css\"</span>\n        <span class=\"token literal-property property\">removeComments</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">//清除HTML注释</span>\n        <span class=\"token literal-property property\">minifyJS</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">//压缩页面JS</span>\n        <span class=\"token literal-property property\">minifyCSS</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">//压缩页面CSS</span>\n        <span class=\"token literal-property property\">minifyURLs</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span> <span class=\"token comment\">//替换页面URL</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">return</span> gulp\n        <span class=\"token punctuation\">.</span><span class=\"token function\">src</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"./public/**/*.html\"</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">.</span><span class=\"token function\">pipe</span><span class=\"token punctuation\">(</span><span class=\"token function\">gulpif</span><span class=\"token punctuation\">(</span>isDebug<span class=\"token punctuation\">,</span> <span class=\"token function\">debug</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">title</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Compress HTML:\"</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">.</span><span class=\"token function\">pipe</span><span class=\"token punctuation\">(</span><span class=\"token function\">plumber</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">.</span><span class=\"token function\">pipe</span><span class=\"token punctuation\">(</span><span class=\"token function\">htmlclean</span><span class=\"token punctuation\">(</span>cleanOptions<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">.</span><span class=\"token function\">pipe</span><span class=\"token punctuation\">(</span><span class=\"token function\">htmlmin</span><span class=\"token punctuation\">(</span>minOption<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">.</span><span class=\"token function\">pipe</span><span class=\"token punctuation\">(</span>gulp<span class=\"token punctuation\">.</span><span class=\"token function\">dest</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"./public\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// 压缩 public/medias 目录内图片</span>\ngulp<span class=\"token punctuation\">.</span><span class=\"token function\">task</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"compressImage\"</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">var</span> option <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token literal-property property\">optimizationLevel</span><span class=\"token operator\">:</span> <span class=\"token number\">5</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">//类型：Number 默认：3 取值范围：0-7（优化等级）</span>\n        <span class=\"token literal-property property\">progressive</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">//类型：Boolean 默认：false 无损压缩jpg图片</span>\n        <span class=\"token literal-property property\">interlaced</span><span class=\"token operator\">:</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">//类型：Boolean 默认：false 隔行扫描gif进行渲染</span>\n        <span class=\"token literal-property property\">multipass</span><span class=\"token operator\">:</span> <span class=\"token boolean\">false</span> <span class=\"token comment\">//类型：Boolean 默认：false 多次优化svg直到完全优化</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">return</span> gulp\n        <span class=\"token punctuation\">.</span><span class=\"token function\">src</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"./public/medias/**/*.*\"</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">.</span><span class=\"token function\">pipe</span><span class=\"token punctuation\">(</span><span class=\"token function\">gulpif</span><span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>isScriptAll<span class=\"token punctuation\">,</span> <span class=\"token function\">changed</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"./public/medias\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">.</span><span class=\"token function\">pipe</span><span class=\"token punctuation\">(</span><span class=\"token function\">gulpif</span><span class=\"token punctuation\">(</span>isDebug<span class=\"token punctuation\">,</span> <span class=\"token function\">debug</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">title</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Compress Images:\"</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">.</span><span class=\"token function\">pipe</span><span class=\"token punctuation\">(</span><span class=\"token function\">plumber</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">.</span><span class=\"token function\">pipe</span><span class=\"token punctuation\">(</span><span class=\"token function\">imagemin</span><span class=\"token punctuation\">(</span>option<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">.</span><span class=\"token function\">pipe</span><span class=\"token punctuation\">(</span>gulp<span class=\"token punctuation\">.</span><span class=\"token function\">dest</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"./public\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">// 执行顺序： 清除public目录 -&gt; 产生原始博客内容 -&gt; 执行压缩混淆 -&gt; 部署到服务器</span>\ngulp<span class=\"token punctuation\">.</span><span class=\"token function\">task</span><span class=\"token punctuation\">(</span>\n    <span class=\"token string\">\"cicd\"</span><span class=\"token punctuation\">,</span>\n    gulp<span class=\"token punctuation\">.</span><span class=\"token function\">series</span><span class=\"token punctuation\">(</span>\n        <span class=\"token string\">\"clean\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string\">\"generate\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string\">\"compressHtml\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string\">\"compressCss\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string\">\"compressJs\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string\">\"compressImage\"</span><span class=\"token punctuation\">,</span>\n        gulp<span class=\"token punctuation\">.</span><span class=\"token function\">parallel</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"deploy\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// 默认任务</span>\ngulp<span class=\"token punctuation\">.</span><span class=\"token function\">task</span><span class=\"token punctuation\">(</span>\n    <span class=\"token string\">\"ci\"</span><span class=\"token punctuation\">,</span>\n    gulp<span class=\"token punctuation\">.</span><span class=\"token function\">series</span><span class=\"token punctuation\">(</span>\n        <span class=\"token string\">\"clean\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string\">\"generate\"</span><span class=\"token punctuation\">,</span>\n        gulp<span class=\"token punctuation\">.</span><span class=\"token function\">parallel</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"compressHtml\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"compressCss\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"compressJs\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"compressImage\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// 默认任务</span>\ngulp<span class=\"token punctuation\">.</span><span class=\"token function\">task</span><span class=\"token punctuation\">(</span>\n    <span class=\"token string\">\"default\"</span><span class=\"token punctuation\">,</span>\n    gulp<span class=\"token punctuation\">.</span><span class=\"token function\">series</span><span class=\"token punctuation\">(</span>\n        gulp<span class=\"token punctuation\">.</span><span class=\"token function\">parallel</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"compressHtml\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"compressCss\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"compressJs\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"compressImage\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">//Gulp4最大的一个改变就是gulp.task函数现在只支持两个参数，分别是任务名和运行任务的函数</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<p>运行：</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">hexo clean <span class=\"token operator\">&amp;&amp;</span> hexo g <span class=\"token operator\">&amp;&amp;</span> gulp <span class=\"token operator\">&amp;&amp;</span>  hexo g<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p>gulp只执行压缩功能。直接在 Hexo 根目录执行  <code>gulp ci</code> ，这个命令相当于 hexo cl&amp;&amp;hexo g 并且再把代码和图片压缩。 在 Hexo 根目录执行 <code>gulp cicd</code> ，这个命令与前一个相比是：在最后又加了个 hexo d ，等于说生成、压缩文件后又帮你自动部署了</p>\n<p>如果不想用图片压缩可以把文件中的\"compressImage\" 去掉即可</p>\n<h2 id=\"博客中插入音乐\">博客中插入音乐</h2>\n<h3 id=\"hexo-tag-aplayer\">hexo-tag-aplayer</h3>\n<p><a target=\"_blank\" rel=\"noopener\" href=\"https://github.com/MoePlayer/hexo-tag-aplayer\">hexo-tag-aplayer</a><a target=\"_blank\" rel=\"noopener\" href=\"https://github.com/MoePlayer/APlayer\">APlayer</a> 播放器的 Hexo 标签插件（现已支持 <a target=\"_blank\" rel=\"noopener\" href=\"https://github.com/metowolf/MetingJS\">MetingJS</a>）。</p>\n<h3 id=\"安装-6\">安装</h3>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">npm</span> <span class=\"token function\">install</span> --save hexo-tag-aplayer<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<h3 id=\"使用方法——aplayer\">使用方法——aplayer</h3>\n<pre class=\"line-numbers language-markdown\" data-language=\"markdown\"><code class=\"language-markdown\">{% aplayer title author url [picture_url, narrow, autoplay, width:xxx, lrc:xxx] %}<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<ul>\n<li><code>title</code> : 曲目标题</li>\n<li><code>author</code>: 曲目作者</li>\n<li><code>url</code>: 音乐文件 URL 地址</li>\n<li><code>picture_url</code>: (可选) 音乐对应的图片地址</li>\n<li><code>narrow</code>: （可选）播放器袖珍风格</li>\n<li><code>autoplay</code>: (可选) 自动播放，移动端浏览器暂时不支持此功能</li>\n<li><code>width:xxx</code>: (可选) 播放器宽度 (默认: 100%)</li>\n<li><code>lrc:xxx</code>: （可选）歌词文件 URL 地址<br>\n<em><strong>例如：</strong></em></li>\n</ul>\n<pre class=\"line-numbers language-markdown\" data-language=\"markdown\"><code class=\"language-markdown\">{% aplayer \"她的睫毛\" \"周杰伦\" \"http://home.ustc.edu.cn/<span class=\"token strike\"><span class=\"token punctuation\">~</span><span class=\"token content\">mmmwhy/%d6%dc%bd%dc%c2%d7%20-%20%cb%fd%b5%c4%bd%de%c3%ab.mp3\"  \"http://home.ustc.edu.cn/</span><span class=\"token punctuation\">~</span></span>mmmwhy/jay.jpg\" %}<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p>如果你觉得前面的方法不太好用，可以用下面的方法，使用MetingJS。</p>\n<h3 id=\"使用方法——MetingJS\">使用方法——MetingJS</h3>\n<p>MetingJS 是基于Meting API 的 APlayer 衍生播放器，支持对于 QQ音乐、网易云音乐、虾米、酷狗、百度等平台的音乐播放。<br>\n<strong>第一步：修改_config.yml配置</strong><br>\n在hexo的配置文件_config.yml中添加：</p>\n<pre class=\"line-numbers language-yaml\" data-language=\"yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">aplayer</span><span class=\"token punctuation\">:</span>\n\t<span class=\"token key atrule\">meting</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n<p><strong>第二步：使用MetingJS 播放器</strong></p>\n<pre class=\"line-numbers language-markdown\" data-language=\"markdown\"><code class=\"language-markdown\"><span class=\"token comment\">&lt;!-- 简单示例 (id, server, type)  --&gt;</span>\n{% meting \"571184509\" \"xiami\" \"playlist\" %}<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n<p>有关的选项列表如下:</p>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:left\">选项</th>\n<th style=\"text-align:left\">默认值</th>\n<th style=\"text-align:left\">描述</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:left\">id</td>\n<td style=\"text-align:left\"><strong>必须值</strong></td>\n<td style=\"text-align:left\">歌曲 id / 播放列表 id / 相册 id / 搜索关键字</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">server</td>\n<td style=\"text-align:left\"><strong>必须值</strong></td>\n<td style=\"text-align:left\">音乐平台: <code>netease</code>, <code>tencent</code>, <code>kugou</code>, <code>xiami</code>, <code>baidu</code></td>\n</tr>\n<tr>\n<td style=\"text-align:left\">type</td>\n<td style=\"text-align:left\"><strong>必须值</strong></td>\n<td style=\"text-align:left\"><code>song</code>, <code>playlist</code>, <code>album</code>, <code>search</code>, <code>artist</code></td>\n</tr>\n<tr>\n<td style=\"text-align:left\">fixed</td>\n<td style=\"text-align:left\"><code>false</code></td>\n<td style=\"text-align:left\">开启固定模式</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">mini</td>\n<td style=\"text-align:left\"><code>false</code></td>\n<td style=\"text-align:left\">开启迷你模式</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">loop</td>\n<td style=\"text-align:left\"><code>all</code></td>\n<td style=\"text-align:left\">列表循环模式：<code>all</code>, <code>one</code>,<code>none</code></td>\n</tr>\n<tr>\n<td style=\"text-align:left\">order</td>\n<td style=\"text-align:left\"><code>list</code></td>\n<td style=\"text-align:left\">列表播放模式： <code>list</code>, <code>random</code></td>\n</tr>\n<tr>\n<td style=\"text-align:left\">volume</td>\n<td style=\"text-align:left\">0.7</td>\n<td style=\"text-align:left\">播放器音量</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">lrctype</td>\n<td style=\"text-align:left\">0</td>\n<td style=\"text-align:left\">歌词格式类型</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">listfolded</td>\n<td style=\"text-align:left\"><code>false</code></td>\n<td style=\"text-align:left\">指定音乐播放列表是否折叠</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">storagename</td>\n<td style=\"text-align:left\"><code>metingjs</code></td>\n<td style=\"text-align:left\">LocalStorage 中存储播放器设定的键名</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">autoplay</td>\n<td style=\"text-align:left\"><code>true</code></td>\n<td style=\"text-align:left\">自动播放，移动端浏览器暂时不支持此功能</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">mutex</td>\n<td style=\"text-align:left\"><code>true</code></td>\n<td style=\"text-align:left\">该选项开启时，如果同页面有其他 aplayer 播放，该播放器会暂停</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">listmaxheight</td>\n<td style=\"text-align:left\"><code>340px</code></td>\n<td style=\"text-align:left\">播放列表的最大长度</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">preload</td>\n<td style=\"text-align:left\"><code>auto</code></td>\n<td style=\"text-align:left\">音乐文件预载入模式，可选项： <code>none</code>, <code>metadata</code>, <code>auto</code></td>\n</tr>\n<tr>\n<td style=\"text-align:left\">theme</td>\n<td style=\"text-align:left\"><code>#ad7a86</code></td>\n<td style=\"text-align:left\">播放器风格色彩设置</td>\n</tr>\n</tbody>\n</table>\n<h2 id=\"博客中插入视频\">博客中插入视频</h2>\n<h3 id=\"hexo-tag-dplayer\">hexo-tag-dplayer</h3>\n<p><a target=\"_blank\" rel=\"noopener\" href=\"https://github.com/MoePlayer/hexo-tag-dplayer\">hexo-tag-dplayer</a> 是 <a target=\"_blank\" rel=\"noopener\" href=\"https://github.com/MoePlayer/DPlayer\">DPlayer</a> 播放器的 Hexo 标签插件</p>\n<h3 id=\"安装-7\">安装</h3>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">npm</span> <span class=\"token function\">install</span> --save hexo-tag-dplayer<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<h3 id=\"使用-2\">使用</h3>\n<pre class=\"line-numbers language-markdown\" data-language=\"markdown\"><code class=\"language-markdown\">{% dplayer key=value ... %}\n例：\n{% dplayer \"url=http://www.nenu.edu.cn/_upload/article/videos/03/5f/7c999eed42e3aadc413d7f851f0e/0f50b3eb-9285-41d2-ac4d-6cc363651aad_B.mp4\"  \"autoplay=true\" \"preload=metadata\" \"hotkey=true\" %} <span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n<p>有关的选项列表如下:</p>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:left\">选项</th>\n<th style=\"text-align:left\">默认值</th>\n<th style=\"text-align:left\">描述</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:left\">url</td>\n<td style=\"text-align:left\"><strong>必须值</strong></td>\n<td style=\"text-align:left\">视频地址</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">loop</td>\n<td style=\"text-align:left\"><code>false</code></td>\n<td style=\"text-align:left\">视频循环播放</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">volume</td>\n<td style=\"text-align:left\"><code>0.7</code></td>\n<td style=\"text-align:left\">播放器音量</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">hotkey</td>\n<td style=\"text-align:left\"><code>true</code></td>\n<td style=\"text-align:left\">开启热键</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">autoplay</td>\n<td style=\"text-align:left\"><code>true</code></td>\n<td style=\"text-align:left\">自动播放，移动端浏览器暂时不支持此功能</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">logo</td>\n<td style=\"text-align:left\"><code>-</code></td>\n<td style=\"text-align:left\">在左上角展示一个 logo，你可以通过 CSS 调整它的大小和位置</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">mutex</td>\n<td style=\"text-align:left\"><code>true</code></td>\n<td style=\"text-align:left\">该选项开启时，如果同页面有其他播放，该播放器会暂停</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">highlight</td>\n<td style=\"text-align:left\"><code>[]</code></td>\n<td style=\"text-align:left\">自定义进度条提示点</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">preload</td>\n<td style=\"text-align:left\"><code>auto</code></td>\n<td style=\"text-align:left\">视频文件预载入模式，可选项： <code>none</code>, <code>metadata</code>, <code>auto</code></td>\n</tr>\n<tr>\n<td style=\"text-align:left\">theme</td>\n<td style=\"text-align:left\"><code>#ad7a86</code></td>\n<td style=\"text-align:left\">播放器风格色彩设置</td>\n</tr>\n</tbody>\n</table>\n<p>注：如果使用腾讯视频、优酷视频等在线视频网站的资源，需要先进行视频地址解析，如<a target=\"_blank\" rel=\"noopener\" href=\"http://old.flvurl.cn/\">点量视频解析</a>，获取到实际的视频地址。</p>\n<h3 id=\"其他使用方法\">其他使用方法</h3>\n<p>在使用优酷或者腾讯视频时可以直接复制分享代码到文章中，如：</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">&lt;iframe height=498 width=510 src='https://player.youku.com/embed/XMjk4ODAyMzIyOA==' frameborder=0 'allowfullscreen'&gt;&lt;/iframe&gt;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<h3 id=\"参考文献\">参考文献</h3>\n<blockquote>\n<ul>\n<li><a target=\"_blank\" rel=\"noopener\" href=\"https://github.com/MoePlayer/hexo-tag-aplayer/blob/master/docs/README-zh_cn.md#%E8%87%AA%E5%AE%9A%E4%B9%89%E9%85%8D%E7%BD%AE30-%E6%96%B0%E5%8A%9F%E8%83%BD\">hexo-tag-aplayer</a></li>\n<li><a target=\"_blank\" rel=\"noopener\" href=\"https://github.com/MoePlayer/hexo-tag-dplayer\">hexo-tag-dplayer</a></li>\n</ul>\n</blockquote>\n<h2 id=\"系列教程-38\"><strong>系列教程</strong></h2>\n<p><a href=\"https://blog.17lai.site/atom.xml\">全部文章RSS订阅</a></p>\n<p><strong>Hexo系列</strong>  <a href=\"https://blog.17lai.site/categories/hexo/atom.xml\"><strong>HexoRSS分类订阅</strong></a></p>\n<p>[三万字教程]基于Hexo的matery主题搭建博客并深度优化完全一站式教程</p>\n<ul>\n<li>\n<p><a href=\"https://blog.17lai.site/posts/40300608/\">Hexo Docker环境与Hexo基础配置篇</a></p>\n</li>\n<li>\n<p><a href=\"https://blog.17lai.site/posts/4d8a0b22/\">hexo博客自定义修改篇</a></p>\n</li>\n<li>\n<p><a href=\"https://blog.17lai.site/posts/9b056c86/\">hexo博客网络优化篇</a></p>\n</li>\n<li>\n<p><a href=\"https://blog.17lai.site/posts/5311b619/\">hexo博客增强部署篇</a></p>\n</li>\n<li>\n<p><a href=\"https://blog.17lai.site/posts/4a2050e2/\">hexo博客个性定制篇</a></p>\n</li>\n<li>\n<p><a href=\"https://blog.17lai.site/posts/84b4059a/\">hexo博客常见问题篇</a></p>\n</li>\n<li>\n<p><a href=\"https://blog.17lai.site/posts/cf0f47fd/\">Hexo Markdown以及各种插件功能测试</a></p>\n</li>\n</ul>\n<blockquote>\n<ul>\n<li>markdown 各种其它语法插件</li>\n<li>latex公式支持</li>\n<li>mermaid图表</li>\n<li>plant uml图表</li>\n<li>URL卡片</li>\n<li>bilibili卡片</li>\n<li>github卡片</li>\n<li>豆瓣卡片</li>\n<li>插入音乐和视频</li>\n<li>插入脑图</li>\n</ul>\n</blockquote>\n<p><strong>笔记系列</strong>  <a href=\"https://blog.17lai.site/categories/note/atom.xml\"><strong>Note分类RSS订阅</strong></a></p>\n<ul>\n<li><a href=\"https://blog.17lai.site/posts/a8535f26/\">完美笔记进化论</a></li>\n</ul>\n<blockquote>\n<p>经历了很长时间，使用了各种各样的方案，最终选择了一种相对完美的方式。docker私有部署运行的joplin，使用markdown语法，github作为图床，picgo作为图像自动上传后端，pypora作为MD编辑器，Snipaste作为截图工具。后备gitlab ee selfhost备份，自建图床VPS多线负载均衡。cloudflare partner cdn加速，jsdelivr加速。</p>\n<ul>\n<li>pigo图床搭建与配置</li>\n<li>Joplin教程</li>\n<li>Snipaste截图工具</li>\n<li>Typora 作为Markdown编辑器最强</li>\n</ul>\n</blockquote>\n<ul>\n<li><a target=\"_blank\" rel=\"noopener\" href=\"https://blog.17lai.fun/posts/e6086437/\">Joplin入门指南&amp;实践方案</a></li>\n</ul>\n<blockquote>\n<ul>\n<li>Joplin和使用</li>\n<li>Joplin同步与备份</li>\n<li>Joplin导入与导出</li>\n</ul>\n</blockquote>\n<ul>\n<li><a target=\"_blank\" rel=\"noopener\" href=\"https://blog.17lai.fun/posts/45f878cd/\">替代Evernote免费开源笔记Joplin-网盘同步笔记历史版本Markdown可视化</a></li>\n</ul>\n<blockquote>\n<ul>\n<li>Joplin安装使用，调用外部编辑器，网盘同步等等</li>\n</ul>\n</blockquote>\n<ul>\n<li><a href=\"https://blog.17lai.site/posts/92d347d6/\">Joplin 插件以及其Markdown语法。All in One!</a></li>\n</ul>\n<blockquote>\n<ul>\n<li>Joplin简明教程</li>\n<li>markdown语法简明教程</li>\n</ul>\n</blockquote>\n<ul>\n<li><a href=\"https://blog.17lai.site/posts/e3ee7f8b/\">Joplin 插件使用推荐</a></li>\n</ul>\n<blockquote>\n<ul>\n<li>教你用各种插件打造一个强大的笔记工具。</li>\n</ul>\n</blockquote>\n<ul>\n<li><a href=\"https://blog.17lai.site/posts/1802a8a7/\">为知笔记私有化Docker部署</a></li>\n</ul>\n<blockquote>\n<ul>\n<li>如何部署自己私有的为知笔记。</li>\n<li>其实博主更推荐私有部署joplin</li>\n</ul>\n</blockquote>\n<p><strong>Gitbook使用系列</strong> <a href=\"https://blog.17lai.site/categories/gitbook/atom.xml\">Gitbook分类RSS订阅</a></p>\n<ul>\n<li>\n<p><a href=\"https://blog.17lai.site/posts/7fe86002/\">GitBook+GitLab撰写发布技术文档-Part1:GitBook篇</a></p>\n</li>\n<li>\n<p><a href=\"https://blog.17lai.site/posts/7790e989/\">GitBook+GitLab撰写发布技术文档-Part2:GitLab篇</a></p>\n</li>\n<li>\n<p><a href=\"https://blog.17lai.site/posts/d6bad1e5/\">自己动手制作电子书的最佳方式（支持PDF、ePub、mobi等格式）</a></p>\n</li>\n</ul>\n<p><strong>Gitlab 使用系列</strong>  <a href=\"https://blog.17lai.site/categories/gitlab/atom.xml\"><strong>Gitlab RSS 分类订阅</strong></a></p>\n<ul>\n<li><a href=\"https://blog.17lai.site/posts/acc13b70/\"><strong>Gitlab的安装及使用教程完全版</strong></a></li>\n<li><a href=\"https://blog.17lai.site/posts/29a820b3/\">破解Gitlab EE</a></li>\n<li><a href=\"https://blog.17lai.site/posts/d08eb7b/\">Gitlab的安装及使用</a></li>\n<li><a href=\"https://blog.17lai.site/posts/1879721e/\">CI/CD与Git Flow与GitLab</a></li>\n</ul>\n<link rel=\"stylesheet\" href=\"/css/bilicard.css\" type=\"text/css\">",
            "tags": [
                "github",
                "hexo",
                "matery",
                "cdn",
                "seo"
            ]
        },
        {
            "id": "https://blog.17lai.site/posts/cf0f47fd/",
            "url": "https://blog.17lai.site/posts/cf0f47fd/",
            "title": "Hexo Markdown以及各种插件功能测试",
            "date_published": "2021-10-20T01:25:00.000Z",
            "content_html": "<h2 id=\"Markdown-插件\">Markdown 插件</h2>\n<ul>\n<li><a target=\"_blank\" rel=\"noopener\" href=\"https://github.com/markdown-it/markdown-it-abbr\">markdown-it-abbr</a></li>\n<li><a target=\"_blank\" rel=\"noopener\" href=\"https://github.com/markdown-it/markdown-it-container\">markdown-it-container</a></li>\n<li><a target=\"_blank\" rel=\"noopener\" href=\"https://github.com/markdown-it/markdown-it-deflist\">markdown-it-deflist</a></li>\n<li><a target=\"_blank\" rel=\"noopener\" href=\"https://github.com/markdown-it/markdown-it-emoji\">markdown-it-emoji</a></li>\n<li><a target=\"_blank\" rel=\"noopener\" href=\"https://github.com/markdown-it/markdown-it-footnote\">markdown-it-footnote</a></li>\n<li><a target=\"_blank\" rel=\"noopener\" href=\"https://github.com/tatsy/markdown-it-imsize\">markdown-it-imsize</a></li>\n<li><a target=\"_blank\" rel=\"noopener\" href=\"https://github.com/markdown-it/markdown-it-ins\">markdown-it-ins</a></li>\n<li><a target=\"_blank\" rel=\"noopener\" href=\"https://github.com/markdown-it/markdown-it-mark\">markdown-it-mark</a></li>\n<li><a target=\"_blank\" rel=\"noopener\" href=\"https://github.com/rlidwka/markdown-it-regexp\">markdown-it-regexp</a></li>\n<li><a target=\"_blank\" rel=\"noopener\" href=\"https://github.com/markdown-it/markdown-it-sub\">markdown-it-sub</a></li>\n<li><a target=\"_blank\" rel=\"noopener\" href=\"https://github.com/markdown-it/markdown-it-sup\">markdown-it-sup</a></li>\n<li><a target=\"_blank\" rel=\"noopener\" href=\"https://github.com/linsir/markdown-it-task-checkbox\">markdown-it-task-checkbox</a></li>\n</ul>\n<h3 id=\"常用标记\">常用标记</h3>\n<pre class=\"line-numbers language-markdown\" data-language=\"markdown\"><code class=\"language-markdown\"><span class=\"token list punctuation\">-</span> 29^th^ =&gt; <span class=\"token code-snippet code keyword\">`29&lt;sup&gt;th&lt;/sup&gt;`</span>\n<span class=\"token list punctuation\">-</span> H<span class=\"token strike\"><span class=\"token punctuation\">~</span><span class=\"token content\">2</span><span class=\"token punctuation\">~</span></span>0 =&gt; <span class=\"token code-snippet code keyword\">`H&lt;sub&gt;2&lt;/sub&gt;O`</span>\n<span class=\"token list punctuation\">-</span> ==marked== =&gt; <span class=\"token code-snippet code keyword\">`&lt;mark&gt;inserted&lt;/mark&gt;`</span>\n<span class=\"token list punctuation\">-</span> ++inserted++ =&gt; <span class=\"token code-snippet code keyword\">`&lt;ins&gt;inserted&lt;/ins&gt;`</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n<ul>\n<li>29<sup>th</sup> =&gt; <code>29&lt;sup&gt;th&lt;/sup&gt;</code></li>\n<li>H<sub>2</sub>0 =&gt; <code>H&lt;sub&gt;2&lt;/sub&gt;O</code></li>\n<li><mark>marked</mark> =&gt; <code>&lt;mark&gt;inserted&lt;/mark&gt;</code></li>\n<li><ins>inserted</ins> =&gt; <code>&lt;ins&gt;inserted&lt;/ins&gt;</code></li>\n</ul>\n<pre class=\"line-numbers language-markup\" data-language=\"markup\"><code class=\"language-markup\"><span class=\"token doctype\"><span class=\"token punctuation\">&lt;!</span><span class=\"token doctype-tag\">DOCTYPE</span> <span class=\"token name\">HTML</span> <span class=\"token name\">PUBLIC</span> <span class=\"token string\">\"-//W3C//DTD HTML 4.01 Transitional//EN\"</span> <span class=\"token string\">\"http://www.w3.org/TR/html4/loose.dtd\"</span><span class=\"token punctuation\">&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>html</span><span class=\"token punctuation\">&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>head</span><span class=\"token punctuation\">&gt;</span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>meta</span> <span class=\"token attr-name\">http-equiv</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>Content-Type<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">content</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>text/html;charset=UTF-8<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>title</span><span class=\"token punctuation\">&gt;</span></span>Document<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>title</span><span class=\"token punctuation\">&gt;</span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>style</span><span class=\"token punctuation\">&gt;</span></span><span class=\"token style\"><span class=\"token language-css\">\n      <span class=\"token selector\">.lighter</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token property\">font-weight</span><span class=\"token punctuation\">:</span> lighter<span class=\"token punctuation\">;</span>\n      <span class=\"token punctuation\">}</span>\n\n      <span class=\"token selector\">.bold</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token property\">font-weight</span><span class=\"token punctuation\">:</span> bold<span class=\"token punctuation\">;</span>\n      <span class=\"token punctuation\">}</span>\n\n      <span class=\"token selector\">.bolder</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token property\">font-weight</span><span class=\"token punctuation\">:</span> bolder<span class=\"token punctuation\">;</span>\n      <span class=\"token punctuation\">}</span>\n    </span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>style</span><span class=\"token punctuation\">&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>head</span><span class=\"token punctuation\">&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>body</span><span class=\"token punctuation\">&gt;</span></span>\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>P</span><span class=\"token punctuation\">&gt;</span></span>这是分段<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>P</span><span class=\"token punctuation\">&gt;</span></span>\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>b</span><span class=\"token punctuation\">&gt;</span></span>这是粗体<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>b</span><span class=\"token punctuation\">&gt;</span></span>\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>br</span><span class=\"token punctuation\">/&gt;</span></span>\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>big</span><span class=\"token punctuation\">&gt;</span></span>这是大号字<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>big</span><span class=\"token punctuation\">&gt;</span></span>\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>br</span><span class=\"token punctuation\">/&gt;</span></span>\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>em</span><span class=\"token punctuation\">&gt;</span></span>这是着重字<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>em</span><span class=\"token punctuation\">&gt;</span></span>\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>br</span><span class=\"token punctuation\">/&gt;</span></span>\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>i</span><span class=\"token punctuation\">&gt;</span></span>这是斜体字<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>i</span><span class=\"token punctuation\">&gt;</span></span>\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>br</span><span class=\"token punctuation\">/&gt;</span></span>\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>small</span><span class=\"token punctuation\">&gt;</span></span>这是小号字<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>small</span><span class=\"token punctuation\">&gt;</span></span>\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>br</span><span class=\"token punctuation\">/&gt;</span></span>\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>strong</span><span class=\"token punctuation\">&gt;</span></span>加重语气<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>strong</span><span class=\"token punctuation\">&gt;</span></span>\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>br</span><span class=\"token punctuation\">/&gt;</span></span>\n\t这是<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>sup</span><span class=\"token punctuation\">&gt;</span></span>上标字<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>sup</span><span class=\"token punctuation\">&gt;</span></span>\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>br</span><span class=\"token punctuation\">/&gt;</span></span>\n\t这是<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>sub</span><span class=\"token punctuation\">&gt;</span></span>下标字<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>sub</span><span class=\"token punctuation\">&gt;</span></span>\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>br</span><span class=\"token punctuation\">/&gt;</span></span>\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>ins</span><span class=\"token punctuation\">&gt;</span></span>插入字<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>ins</span><span class=\"token punctuation\">&gt;</span></span>\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>br</span><span class=\"token punctuation\">/&gt;</span></span>\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>del</span><span class=\"token punctuation\">&gt;</span></span>删除字<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>del</span><span class=\"token punctuation\">&gt;</span></span>\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>br</span><span class=\"token punctuation\">/&gt;</span></span>\n\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span><span class=\"token punctuation\">&gt;</span></span>This is a <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>span</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>lighter<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>lighter text<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>span</span><span class=\"token punctuation\">&gt;</span></span>.<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span><span class=\"token punctuation\">&gt;</span></span>This is a <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>span</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>bold<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>bold text<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>span</span><span class=\"token punctuation\">&gt;</span></span>.<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span><span class=\"token punctuation\">&gt;</span></span>This is a <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>span</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>bolder<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>bolder text<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>span</span><span class=\"token punctuation\">&gt;</span></span>.<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">&gt;</span></span>\n\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span><span class=\"token punctuation\">&gt;</span></span>\nfont-weight 属性以 lighter、bold 和 bolder 作为值，数字从 100 到 900。因此，使用它，你不仅可以将文本加粗，还可以使其比周围的文本更亮。\n你通常应该避免使用 b，因为它已经是一种样式。当你使用 b 标记将文本设为粗体时，你明确地告诉浏览器将 HTML 中的文本设为粗体。\n\nstrong 也使文本显示粗体，但它是语义的。使用它，你就不是从 HTML 样式化（HTML 最初从未用于此目的），而是告诉浏览器使文本在外观上比周围的其他文本更为加粗。\n\nCSS font-weight 属性让你可以更好地控制文本的粗细程度。lighter、bold 和 bolder的值是一个开始，但你可以通过应用数字/权重（例如 100、200、300、400、500、600、700、800 和 900）作为值，从而更进一步，这会产生不同的粗细。\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">&gt;</span></span>\n\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>body</span><span class=\"token punctuation\">&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>html</span><span class=\"token punctuation\">&gt;</span></span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<h3 id=\"markdown-it-task-checkbox\"><a target=\"_blank\" rel=\"noopener\" href=\"https://github.com/linsir/markdown-it-task-checkbox\">markdown-it-task-checkbox</a></h3>\n<blockquote>\n<p>和主题某些css冲突，停用</p>\n</blockquote>\n<pre class=\"line-numbers language-markdown\" data-language=\"markdown\"><code class=\"language-markdown\"><span class=\"token list punctuation\">-</span> [x] item 1\n    <span class=\"token list punctuation\">-</span> [x] item 1-1\n    <span class=\"token list punctuation\">-</span> [ ] item 1-2\n    <span class=\"token list punctuation\">-</span> [ ] item 1-3\n    <span class=\"token list punctuation\">-</span> [ ] item 1-4\n<span class=\"token list punctuation\">-</span> [ ] item 2\n    <span class=\"token list punctuation\">-</span> [ ] item 2-1\n    <span class=\"token list punctuation\">-</span> [ ] item 2-2\n    <span class=\"token list punctuation\">-</span> [ ] item 2-3\n    <span class=\"token list punctuation\">-</span> [ ] item 2-4<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<ul>\n<li>[x] item 1\n<ul>\n<li>[x] item 1-1</li>\n<li>[ ] item 1-2</li>\n<li>[ ] item 1-3</li>\n<li>[ ] item 1-4</li>\n</ul>\n</li>\n<li>[ ] item 2\n<ul>\n<li>[ ] item 2-1</li>\n<li>[ ] item 2-2</li>\n<li>[ ] item 2-3</li>\n<li>[ ] item 2-4</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"markdown-it-multimd-table\"><a target=\"_blank\" rel=\"noopener\" href=\"https://github.com/RedBug312/markdown-it-multimd-table\">markdown-it-multimd-table</a></h3>\n<blockquote>\n<p>目前仅支持多列合并</p>\n</blockquote>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">| 标题1        | 标题2        |\n| ------------ | ------------ |\n| 合并第一行                ||\n| 第二行第一列 | 第二行第二列 |<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:left\">标题1</th>\n<th style=\"text-align:left\">标题2</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:left\">合并第一行</td>\n<td style=\"text-align:left\"></td>\n</tr>\n<tr>\n<td style=\"text-align:left\">第二行第一列</td>\n<td style=\"text-align:left\">第二行第二列</td>\n</tr>\n</tbody>\n</table>\n<p>colspan <code>&gt;</code> or <code>empty cell</code>:</p>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:left\">a</th>\n<th style=\"text-align:left\">b</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:left\">&gt;</td>\n<td style=\"text-align:left\">1</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">2</td>\n<td style=\"text-align:left\"></td>\n</tr>\n</tbody>\n</table>\n<p>rowspan ‘^’</p>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:left\">a</th>\n<th style=\"text-align:left\">b</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:left\">1</td>\n<td style=\"text-align:left\">2</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">^^</td>\n<td style=\"text-align:left\">4</td>\n</tr>\n</tbody>\n</table>\n<pre class=\"line-numbers language-markdown\" data-language=\"markdown\"><code class=\"language-markdown\"><span class=\"token table\"><span class=\"token table-header-row\"><span class=\"token punctuation\">|</span><span class=\"token table-header important\">   Markdown   </span><span class=\"token punctuation\">|</span><span class=\"token table-header important\"> Rendered HTML </span><span class=\"token punctuation\">|</span>\n</span><span class=\"token table-line\"><span class=\"token punctuation\">|</span><span class=\"token punctuation\">--------------</span><span class=\"token punctuation\">|</span><span class=\"token punctuation\">---------------</span><span class=\"token punctuation\">|</span>\n</span><span class=\"token table-data-rows\"></span></span>|    <span class=\"token italic\"><span class=\"token punctuation\">*</span><span class=\"token content\">Italic</span><span class=\"token punctuation\">*</span></span>  | <span class=\"token italic\"><span class=\"token punctuation\">*</span><span class=\"token content\">Italic</span><span class=\"token punctuation\">*</span></span>      | \\\n|              |               |\n|    - Item 1  | - Item 1      | \\\n|    - Item 2  | - Item 2      |\n|    ```python | ```python       \\\n|    .1 + .2   | .1 + .2         \\\n|    ```       | ```           |<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:left\">Markdown</th>\n<th style=\"text-align:left\">Rendered <abbr title=\"Hyper Text Markup Language\">HTML</abbr></th>\n<th></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:left\"><em>Italic</em></td>\n<td style=\"text-align:left\"><em>Italic</em></td>\n<td>\\</td>\n</tr>\n<tr>\n<td style=\"text-align:left\"></td>\n<td style=\"text-align:left\"></td>\n<td></td>\n</tr>\n<tr>\n<td style=\"text-align:left\">- Item 1</td>\n<td style=\"text-align:left\">- Item 1</td>\n<td>\\</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">- Item 2</td>\n<td style=\"text-align:left\">- Item 2</td>\n<td></td>\n</tr>\n<tr>\n<td style=\"text-align:left\">```python</td>\n<td style=\"text-align:left\">```python \\</td>\n<td></td>\n</tr>\n<tr>\n<td style=\"text-align:left\">.1 + .2</td>\n<td style=\"text-align:left\">.1 + .2 \\</td>\n<td></td>\n</tr>\n<tr>\n<td style=\"text-align:left\">```</td>\n<td style=\"text-align:left\">```</td>\n<td></td>\n</tr>\n</tbody>\n</table>\n<pre class=\"line-numbers language-markdown\" data-language=\"markdown\"><code class=\"language-markdown\"><span class=\"token table\"><span class=\"token table-header-row\"><span class=\"token punctuation\">|</span><span class=\"token table-header important\"> Task           </span><span class=\"token punctuation\">|</span><span class=\"token table-header important\"> Time required </span><span class=\"token punctuation\">|</span><span class=\"token table-header important\"> Assigned to   </span><span class=\"token punctuation\">|</span><span class=\"token table-header important\"> Current Status </span><span class=\"token punctuation\">|</span><span class=\"token table-header important\"> Finished </span><span class=\"token punctuation\">|</span><span class=\"token table-header important\"> </span>\n</span><span class=\"token table-line\"><span class=\"token punctuation\">|</span><span class=\"token punctuation\">----------------</span><span class=\"token punctuation\">|</span><span class=\"token punctuation\">---------------</span><span class=\"token punctuation\">|</span><span class=\"token punctuation\">---------------</span><span class=\"token punctuation\">|</span><span class=\"token punctuation\">----------------</span><span class=\"token punctuation\">|</span><span class=\"token punctuation\">-----------</span><span class=\"token punctuation\">|</span>\n</span><span class=\"token table-data-rows\"><span class=\"token punctuation\">|</span><span class=\"token table-data\"> Calendar Cache </span><span class=\"token punctuation\">|</span><span class=\"token table-data\"> &gt; 5 hours  </span><span class=\"token punctuation\">|</span><span class=\"token table-data\"> @georgehrke </span><span class=\"token punctuation\">|</span><span class=\"token table-data\"> in progress </span><span class=\"token punctuation\">|</span><span class=\"token table-data\"> <span class=\"token list punctuation\">-</span> [x] ok?</span>\n<span class=\"token punctuation\">|</span><span class=\"token table-data\"> Object Cache   </span><span class=\"token punctuation\">|</span><span class=\"token table-data\"> &gt; 5 hours  </span><span class=\"token punctuation\">|</span><span class=\"token table-data\"> @georgehrke </span><span class=\"token punctuation\">|</span><span class=\"token table-data\"> in progress </span><span class=\"token punctuation\">|</span><span class=\"token table-data\"> [x] item1<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>br</span><span class=\"token punctuation\">/&gt;</span></span>[ ] item2</span>\n<span class=\"token punctuation\">|</span><span class=\"token table-data\"> Object Cache   </span><span class=\"token punctuation\">|</span><span class=\"token table-data\"> &gt; 5 hours  </span><span class=\"token punctuation\">|</span><span class=\"token table-data\"> @georgehrke </span><span class=\"token punctuation\">|</span><span class=\"token table-data\"> in progress </span><span class=\"token punctuation\">|</span><span class=\"token table-data\"> <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>ul</span><span class=\"token punctuation\">&gt;</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>li</span><span class=\"token punctuation\">&gt;</span></span>- [x] item1<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>li</span><span class=\"token punctuation\">&gt;</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>li</span><span class=\"token punctuation\">&gt;</span></span>- [ ] item2<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>li</span><span class=\"token punctuation\">&gt;</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>ul</span><span class=\"token punctuation\">&gt;</span></span></span>\n<span class=\"token punctuation\">|</span><span class=\"token table-data\"> Object Cache   </span><span class=\"token punctuation\">|</span><span class=\"token table-data\"> &gt; 5 hours  </span><span class=\"token punctuation\">|</span><span class=\"token table-data\"> @georgehrke </span><span class=\"token punctuation\">|</span><span class=\"token table-data\"> in progress </span><span class=\"token punctuation\">|</span><span class=\"token table-data\"> <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>ul</span><span class=\"token punctuation\">&gt;</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>li</span><span class=\"token punctuation\">&gt;</span></span>[x] item1<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>li</span><span class=\"token punctuation\">&gt;</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>li</span><span class=\"token punctuation\">&gt;</span></span>[ ] item2<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>li</span><span class=\"token punctuation\">&gt;</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>ul</span><span class=\"token punctuation\">&gt;</span></span></span>\n</span></span>\n\n<span class=\"token list punctuation\">-</span> [x] works\n<span class=\"token list punctuation\">-</span> [x] works too<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:left\">Task</th>\n<th style=\"text-align:left\">Time required</th>\n<th style=\"text-align:left\">Assigned to</th>\n<th style=\"text-align:left\">Current Status</th>\n<th style=\"text-align:left\">Finished</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:left\">Calendar Cache</td>\n<td style=\"text-align:left\">&gt; 5 hours</td>\n<td style=\"text-align:left\">@georgehrke</td>\n<td style=\"text-align:left\">in progress</td>\n<td style=\"text-align:left\">- [x] ok?</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">Object Cache</td>\n<td style=\"text-align:left\">&gt; 5 hours</td>\n<td style=\"text-align:left\">@georgehrke</td>\n<td style=\"text-align:left\">in progress</td>\n<td style=\"text-align:left\">[x] item1 [ ] item2</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">Object Cache</td>\n<td style=\"text-align:left\">&gt; 5 hours</td>\n<td style=\"text-align:left\">@georgehrke</td>\n<td style=\"text-align:left\">in progress</td>\n<td style=\"text-align:left\">- [x] item1- [ ] item2</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">Object Cache</td>\n<td style=\"text-align:left\">&gt; 5 hours</td>\n<td style=\"text-align:left\">@georgehrke</td>\n<td style=\"text-align:left\">in progress</td>\n<td style=\"text-align:left\">[x] item1[ ] item2</td>\n</tr>\n</tbody>\n</table>\n<ul>\n<li>[x] works</li>\n<li>[x] works too</li>\n</ul>\n<pre class=\"line-numbers language-markdown\" data-language=\"markdown\"><code class=\"language-markdown\"><span class=\"token table\"><span class=\"token table-header-row\"><span class=\"token table-header important\">Function </span><span class=\"token punctuation\">|</span><span class=\"token table-header important\"> MySQL / MariaDB </span><span class=\"token punctuation\">|</span><span class=\"token table-header important\"> PostgreSQL </span><span class=\"token punctuation\">|</span><span class=\"token table-header important\"> SQLite</span>\n</span><span class=\"token table-line\"><span class=\"token punctuation\">:------------</span> <span class=\"token punctuation\">|</span> <span class=\"token punctuation\">:-------------</span><span class=\"token punctuation\">|</span> <span class=\"token punctuation\">:-------------</span><span class=\"token punctuation\">|</span> <span class=\"token punctuation\">:-------------</span>\n</span><span class=\"token table-data-rows\"><span class=\"token table-data\">substr </span><span class=\"token punctuation\">|</span><span class=\"token table-data\"> :heavy_check_mark: </span><span class=\"token punctuation\">|</span><span class=\"token table-data\">  :white_check_mark: </span><span class=\"token punctuation\">|</span><span class=\"token table-data\"> :heavy_check_mark:</span></span></span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:left\">Function</th>\n<th style=\"text-align:left\">MySQL / MariaDB</th>\n<th style=\"text-align:left\">PostgreSQL</th>\n<th style=\"text-align:left\">SQLite</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:left\">substr</td>\n<td style=\"text-align:left\">✔️</td>\n<td style=\"text-align:left\">✅</td>\n<td style=\"text-align:left\">✔️</td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"emoji\"><a target=\"_blank\" rel=\"noopener\" href=\"https://www.webfx.com/tools/emoji-cheat-sheet/\">emoji</a></h3>\n<pre class=\"line-numbers language-markdown\" data-language=\"markdown\"><code class=\"language-markdown\">:smile::smirk::sunny:<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p>😄😏☀️</p>\n<h3 id=\"markdown-it-abbr\"><a target=\"_blank\" rel=\"noopener\" href=\"https://github.com/markdown-it/markdown-it-abbr\">markdown-it-abbr</a></h3>\n<pre class=\"line-numbers language-markdown\" data-language=\"markdown\"><code class=\"language-markdown\"><span class=\"token italic\"><span class=\"token punctuation\">*</span><span class=\"token content\">[HTML]: Hyper Text Markup Language\n</span><span class=\"token punctuation\">*</span></span><span class=\"token url-reference url\"><span class=\"token punctuation\">[</span><span class=\"token variable\">W3C</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">:</span>  World</span> Wide Web Consortium\nThe HTML specification\nis maintained by the W3C.<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n<p>The <abbr title=\"Hyper Text Markup Language\">HTML</abbr> specification<br>\nis maintained by the <abbr title=\"World Wide Web Consortium\">W3C</abbr>.</p>\n<h3 id=\"markdown-it-container\"><a target=\"_blank\" rel=\"noopener\" href=\"https://github.com/markdown-it/markdown-it-container\">markdown-it-container</a></h3>\n<pre class=\"line-numbers language-markdown\" data-language=\"markdown\"><code class=\"language-markdown\">::: warning\n<span class=\"token italic\"><span class=\"token punctuation\">*</span><span class=\"token content\">here be dragons</span><span class=\"token punctuation\">*</span></span>\n:::<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n<p><em>here be dragons</em></p>\n<h3 id=\"footnote\">footnote</h3>\n<pre class=\"line-numbers language-markdown\" data-language=\"markdown\"><code class=\"language-markdown\">Here is a footnote reference,[^1] and another.[^longnote]\n\n<span class=\"token url-reference url\"><span class=\"token punctuation\">[</span><span class=\"token variable\">^1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">:</span> Here</span> is the footnote.\n\n<span class=\"token url-reference url\"><span class=\"token punctuation\">[</span><span class=\"token variable\">^longnote</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">:</span> Here's</span> one with multiple blocks.\n\n<span class=\"token code keyword\">    Subsequent paragraphs are indented to show that they</span>\nbelong to the previous footnote.<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<p>Here is a footnote reference,<sup class=\"footnote-ref\"><a href=\"#fn1\" id=\"fnref1\">[1]</a></sup> and another.<sup class=\"footnote-ref\"><a href=\"#fn2\" id=\"fnref2\">[2]</a></sup></p>\n<p>belong to the previous footnote.</p>\n<h3 id=\"markdown-it-imsize\"><a target=\"_blank\" rel=\"noopener\" href=\"https://github.com/tatsy/markdown-it-imsize\">markdown-it-imsize</a></h3>\n<pre class=\"line-numbers language-markdown\" data-language=\"markdown\"><code class=\"language-markdown\"><span class=\"token url\"><span class=\"token operator\">!</span>[<span class=\"token content\">test</span>](<span class=\"token url\">https://cimg1.17lai.site/data/2021/10/1220211012022352.png</span>)</span>\n![test](https://cimg1.17lai.site/data/2021/10/1220211012022352.png =100x200)<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n<p><img src=\"https://cimg1.17lai.site/data/2021/10/1220211012022352.png\" alt=\"test\"><br>\n<img src=\"https://cimg1.17lai.site/data/2021/10/1220211012022352.png\" alt=\"test\" width=\"100\" height=\"200\"></p>\n<h2 id=\"公式测试\">公式测试</h2>\n<blockquote>\n<p>采用**<a target=\"_blank\" rel=\"noopener\" href=\"https://github.com/MakerGYT/markdown-it-latex2img\">markdown-it-latex2img</a>**</p>\n</blockquote>\n<p><a target=\"_blank\" rel=\"noopener\" href=\"https://makergyt.github.io/markdown-it-latex2img/\">Demo</a></p>\n<h3 id=\"1-数学公式\">1 数学公式</h3>\n<h4 id=\"1-1-内联公式\">1.1 内联公式</h4>\n<p><strong>开头的<code>$</code>必须在其右边紧跟一个非空格字符，而结尾的<code>$</code>必须在其左边紧接一个非空格字符，并且不能紧跟一个数字。</strong></p>\n<ul>\n<li>勾股定理: <img src=\"https://math.now.sh?inline=a%5E2%2Bb%5E2%3Dc%5E2\" style=\"filter: opacity(90%);transform:scale(0.85);text-align:center;display:inline-block;margin: 0;\"></li>\n<li>等差数列求和公式: <img src=\"https://math.now.sh?inline=S_%7Bn%7D%3Dn%20a_%7B1%7D%2B%5Cfrac%7Bn%28n-1%29%7D%7B2%7D%20d%2C%20n%20%5Cin%20N%5E%7B*%7D\" style=\"filter: opacity(90%);transform:scale(0.85);text-align:center;display:inline-block;margin: 0;\"></li>\n<li>牛顿-莱布尼茨公式: <img src=\"https://math.now.sh?inline=%5Cint_%7Ba%7D%5E%7Bb%7D%20f%28x%29%20d%20x%3DF(b)-F(a)%3D%5Cleft.F(x)%5Cright%7C_%7Ba%7D%20%5E%7Bb%7D\" style=\"filter: opacity(90%);transform:scale(0.85);text-align:center;display:inline-block;margin: 0;\"></li>\n<li>二项分布: <img src=\"https://math.now.sh?inline=P_%7Bn%7D%28k%29%3DC_%7Bn%7D%5E%7Bk%7D%20p%5E%7Bk%7D%20q%5E%7Bn-k%7D%20%5Cquad%20k%3D0%2C1%2C2%20%5Cldots%20%5Cldots%2C%20n\" style=\"filter: opacity(90%);transform:scale(0.85);text-align:center;display:inline-block;margin: 0;\"></li>\n</ul>\n<h4 id=\"1-2-块公式\">1.2 块公式</h4>\n<p>正态分布<img src=\"https://math.now.sh?inline=X%20%5Csim%20N%28%5Cmu%2C%5Csigma%5E2%29\" style=\"filter: opacity(90%);transform:scale(0.85);text-align:center;display:inline-block;margin: 0;\">:</p>\n<p style=\"filter: opacity(90%);transform:scale(0.85);text-align:center;\"><img src=\"https://math.now.sh?from=f%28x%29%20%3D%20%5Cfrac%7B1%7D%7B%5Csqrt%7B2%5Cpi%7D%5Csigma%7De%5E%7B-%5Cfrac%7B(x-%5Cmu)%5E2%7D%7B2%5Csigma%5E2%7D%7D%0A\"></p><p>斐波那契数列<img src=\"https://math.now.sh?inline=A_n%3DA_%7Bn-1%7D%2BA_%7Bn-2%7D\" style=\"filter: opacity(90%);transform:scale(0.85);text-align:center;display:inline-block;margin: 0;\">,前后两项的比值逐渐收敛到黄金分割比例</p>\n<p style=\"filter: opacity(90%);transform:scale(0.85);text-align:center;\"><img src=\"https://math.now.sh?from=%5Clim_%7Bn%5Cto%20%5Cinfty%7D%5Cfrac%7BA_%7Bn-1%7D%7D%7BA_n%7D%3D%5Cfrac%7B%5Csqrt%7B5%7D-1%7D%7B2%7D.%0A\"></p><p>因式分解</p>\n<p style=\"filter: opacity(90%);transform:scale(0.85);text-align:center;\"><img src=\"https://math.now.sh?from=%5Cbegin%7Bsplit%7D%28x%E2%88%921%29(x%E2%88%923)%26%3Dx%5E2%E2%88%924x%2B3%20%5C%5C%20%0A%26%3Dx%5E2%E2%88%924x%2B4%E2%88%921%20%5C%5C%20%0A%26%3D(x%E2%88%922)%5E2%E2%88%921%0A%5Cend%7Bsplit%7D%0A\"></p><p>狄利克雷函数</p>\n<p style=\"filter: opacity(90%);transform:scale(0.85);text-align:center;\"><img src=\"https://math.now.sh?from=D%28x%29%3D%0A%5Cbegin%7Bcases%7D%0A1%2C%26%20x%20%5Cin%20Q%20%5C%5C%0A0%2C%26%20x%20%5Cnotin%20Q%0A%5Cend%7Bcases%7D%0A\"></p><p>高斯公式</p>\n<p style=\"filter: opacity(90%);transform:scale(0.85);text-align:center;\"><img src=\"https://math.now.sh?from=%5Ciiint_%7B%5COmega%7D%5Cleft%28%5Cfrac%7B%5Cpartial%20P%7D%7B%5Cpartial%20x%7D%2B%5Cfrac%7B%5Cpartial%20Q%7D%7B%5Cpartial%20y%7D%2B%5Cfrac%7B%5Cpartial%20R%7D%7B%5Cpartial%20z%7D%5Cright%29%20d%20v%3D%5Ciint_%7B%5CSigma%7D%20P%20d%20y%20d%20z%2BQ%20d%20z%20d%20x%2BR%20d%20x%20d%20y%0A\"></p><p>范德蒙行列式</p>\n<p style=\"filter: opacity(90%);transform:scale(0.85);text-align:center;\"><img src=\"https://math.now.sh?from=D_%7Bn-1%7D%3D%5Cleft%7C%5Cbegin%7Barray%7D%7Bcccc%7D%0A1%20%26%201%20%26%20%5Cdots%20%26%201%20%5C%5C%0Ax_%7B2%7D%20%26%20x_%7B3%7D%20%26%20%5Cdots%20%26%20x_%7Bn%7D%20%5C%5C%0A%5Cvdots%20%26%20%5Cvdots%20%26%20%26%20%5Cvdots%20%5C%5C%0Ax_%7B2%7D%5E%7Bn-2%7D%20%26%20x_%7B3%7D%5E%7Bn-2%7D%20%26%20%5Cdots%20%26%20x_%7Bn%7D%5E%7Bn-2%7D%0A%5Cend%7Barray%7D%5Cright%7C%3D%5Cprod_%7B2%20%5Cleq%20j%3Ci%20%5Cleq%20n%7D%5Cleft%28x_%7Bi%7D-x_%7Bj%7D%5Cright%29\"></p><p>线性方程组</p>\n<p style=\"filter: opacity(90%);transform:scale(0.85);text-align:center;\"><img src=\"https://math.now.sh?from=%5Cleft%5C%7B%5Cbegin%7Baligned%7D%0Aa_%7B11%7D%20x_%7B1%7D%2Ba_%7B12%7D%20x_%7B2%7D%2B%5Ccdots%2Ba_%7B1%20n%7D%20x_%7Bn%7D%20%26%3Db_%7B1%7D%20%5C%5C%0Aa_%7B21%7D%20x_%7B1%7D%2Ba_%7B22%7D%20x_%7B2%7D%2B%5Ccdots%2Ba_%7B2%20n%7D%20x_%7Bn%7D%20%26%3Db_%7B2%7D%20%5C%5C%0A%5Ccdots%20%5Ccdots%20%5Ccdots%20%5C%5C%0Aa_%7Bm%201%7D%20x_%7B1%7D%2Ba_%7Bm%202%7D%20x_%7B2%7D%2B%5Ccdots%2Ba_%7Bm%20n%7D%20x_%7Bn%7D%20%26%3Db_%7Bm%7D%0A%5Cend%7Baligned%7D%5Cright.\"></p><h3 id=\"2-物理公式\">2 物理公式</h3>\n<ul>\n<li>牛顿第一定律: <img src=\"https://math.now.sh?inline=%5Csum%20%5Cvec%7BF%7D_%7Bi%7D%3D%5Cfrac%7B%5Cmathrm%7Bd%7D%20%5Cvec%7Bv%7D%7D%7B%5Cmathrm%7Bd%7D%20t%7D%3D0\" style=\"filter: opacity(90%);transform:scale(0.85);text-align:center;display:inline-block;margin: 0;\"></li>\n<li>牛顿第二定律: <img src=\"https://math.now.sh?inline=%5Cvec%7BF%7D%3D%5Cfrac%7B%5Cmathrm%7Bd%7D%20m%7D%7B%5Cmathrm%7Bd%7D%20t%7D%20%5Cvec%7Bv%7D%2Bm%20%5Cfrac%7B%5Cmathrm%7Bd%7D%20%5Cvec%7Bv%7D%7D%7B%5Cmathrm%7Bd%7D%20t%7D%3D%5Cfrac%7B%5Cmathrm%7Bd%7D%20m%7D%7B%5Cmathrm%7Bd%7D%20t%7D%20%5Cvec%7Bv%7D%2Bm%20%5Cvec%7Ba%7D%3D%5Cfrac%7B%5Cmathrm%7Bd%7D%20m%7D%7B%5Cmathrm%7Bd%7D%20t%7D%20%5Cvec%7Bv%7D%2Bm%20%5Cfrac%7B%5Cmathrm%7Bd%7D%5E%7B2%7D%20%5Cvec%7Br%7D%7D%7B%5Cmathrm%7Bd%7D%20t%5E%7B2%7D%7D\" style=\"filter: opacity(90%);transform:scale(0.85);text-align:center;display:inline-block;margin: 0;\"></li>\n<li>牛顿第三定律: <img src=\"https://math.now.sh?inline=%5Coverrightarrow%7BF_%7B12%7D%7D%3D-%5Coverrightarrow%7BF_%7B21%7D%7D\" style=\"filter: opacity(90%);transform:scale(0.85);text-align:center;display:inline-block;margin: 0;\"></li>\n<li>质能守恒: <img src=\"https://math.now.sh?inline=E%3Dmc%5E2\" style=\"filter: opacity(90%);transform:scale(0.85);text-align:center;display:inline-block;margin: 0;\"></li>\n</ul>\n<p>万有引力定律: <img src=\"https://math.now.sh?inline=F%3D%5Cfrac%7BG%20M%20m%7D%7Br%5E%7B2%7D%7D\" style=\"filter: opacity(90%);transform:scale(0.85);text-align:center;display:inline-block;margin: 0;\"></p>\n<p style=\"filter: opacity(90%);transform:scale(0.85);text-align:center;\"><img src=\"https://math.now.sh?from=G%20%5Cfrac%7Bm%20M%7D%7B%28r%2Bh%29%5E%7B2%7D%7D%3Dm%20%5Cfrac%7B%5Cnu%5E%7B2%7D%7D%7B(r%2Bh)%7D%0A\"></p><p>基尔霍夫定律</p>\n<p style=\"filter: opacity(90%);transform:scale(0.85);text-align:center;\"><img src=\"https://math.now.sh?from=%5Cleft%5B%5Cfrac%7B%5Cpartial%5Cleft%28%5CDelta_%7Br%7D%20H_%7Bm%7D%5Cright%29%7D%7B%5Cpartial%20T%7D%5Cright%5D_%7Bp%7D%3D%5Csum_%7BB%7D%20v_%7BB%7D%20C_%7Bp%2C%20m%7D(B)%0A\"></p><p>热力学第二定律</p>\n<p style=\"filter: opacity(90%);transform:scale(0.85);text-align:center;\"><img src=\"https://math.now.sh?from=d%20S%20%5Cgeq%20%5Cfrac%7B%5Cdelta%20Q%7D%7BT%7D%0A\"></p><h3 id=\"3-化学公式\">3 化学公式</h3>\n<p>离子反应与沉淀: <img src=\"https://math.now.sh?inline=%5Cce%7BSO4%5E2-%20%2B%20Ba%5E2%2B%20-%3E%20BaSO4%20v%7D\" style=\"filter: opacity(90%);transform:scale(0.85);text-align:center;display:inline-block;margin: 0;\"></p>\n<p>氮气氢气合成氨</p>\n<p style=\"filter: opacity(90%);transform:scale(0.85);text-align:center;\"><img src=\"https://math.now.sh?from=%5Cce%7BN2%20%2B%203H2%20%3C%3D%3ET%5B%E9%AB%98%E6%B8%A9%E3%80%81%E5%8A%A0%E5%8E%8B%5D%5B%E5%82%AC%E5%8C%96%E5%89%82%5D%202NH3%7D%0A\"></p><p>化学平衡常数:<img src=\"https://math.now.sh?inline=%5Cmathrm%7BZn%7D%2B2%20%5Cmathrm%7BHCl%7D%28%5Cmathrm%7Baq%7D%29%3D%5Cmathrm%7BH%7D_%7B2%7D%2B%5Cmathrm%7BZnCl%7D_%7B2%7D%20%5Cquad(%5Cmathrm%7Baq%7D)\" style=\"filter: opacity(90%);transform:scale(0.85);text-align:center;display:inline-block;margin: 0;\"></p>\n<p style=\"filter: opacity(90%);transform:scale(0.85);text-align:center;\"><img src=\"https://math.now.sh?from=K%5E%7B%5Ctheta%7D%3D%5Cfrac%7B%5Cleft%5Bp%5Cleft%28%5Cmathrm%7BH%7D_%7B2%7D%5Cright%29%20%2F%20p%5E%7B%5Ctheta%7D%5Cright%5D%5Cleft%5Bc%5Cleft(%5Cmathrm%7BZnCl%7D_%7B2%7D%5Cright)%5Cright%5D%7D%7Bc%5E%7B2%7D(%5Cmathrm%7BHC%7D)%7D%0A\"></p><h3 id=\"4-生物公式\">4 生物公式</h3>\n<p>光合作用</p>\n<p style=\"filter: opacity(90%);transform:scale(0.85);text-align:center;\"><img src=\"https://math.now.sh?from=%5Cce%3C!--swig%EF%BF%BC80--%3E%0A\"></p><h3 id=\"5-语法参考\">5 语法参考</h3>\n<p><a target=\"_blank\" rel=\"noopener\" href=\"https://math.meta.stackexchange.com/questions/5020/mathjax-basic-tutorial-and-quick-reference\">MathJax basic tutorial and quick reference</a></p>\n<h4 id=\"长公式\">长公式</h4>\n<p><img src=\"https://math.now.sh/?from=%5Cdef%20%5Clowercase%20%7B%5Calpha%20%5Cbeta%20%5Cgamma%20%5Cdelta%20%5Cepsilon%20%5Czeta%20%5Ceta%20%5Ctheta%20%5Ciota%20%5Ckappa%20%5Clambda%20%5Cmu%20%5Cnu%20%5Comicron%20%5Cpi%20%5Crho%20%5Csigma%20%5Ctau%20%5Cupsilon%20%5Cphi%20%5Cchi%20%5Cpsi%20%5Comega%7D%0A%5Cdef%20%5Cuppercase%20%7BA%20B%20%5CGamma%20%5CDelta%20E%20Z%20E%20%5CTheta%20I%20K%20%5CLambda%20M%20N%20O%20%5CPi%20R%20%5CSigma%20T%20%5CUpsilon%20%5CPhi%20X%20%5CPsi%20%5COmega%7D%0A%5Cdef%20%5Clong%20%7B%5Cuppercase%20%5CLeftrightarrow%20%5Clowercase%7D%0A\" alt=\"img\"></p>\n<p><img src=\"https://math.now.sh/?inline=%5Ctext%7Blong%20inline%20mathjax%3A%7D%5Cquad%20%5Clong%20%5Cquad%20%5Clong%20%5Cquad%20%5Clong\" alt=\"img\"></p>\n<p><img src=\"https://math.now.sh/?from=%5Ctext%7B%3C-%20long%20displayed%20mathjax%20example%20-%3E%7D%20%5C%5C%0A%5Cbegin%7Bsplit%7D%0A%5Clong%20%5Cquad%20%26%5Clong%20%5C%5C%0A%26%5Clong%20%5Cquad%20%5Clong%0A%5Cend%7Bsplit%7D%0A\" alt=\"img\"></p>\n<h4 id=\"小括号测试\">小括号测试</h4>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">$\\alpha\\beta$\n\n$\\alpha_\\beta$\n\n$\\alpha_\\beta = \\gamma_\\delta$\n\n(abctest)\n\n\\(abctest\\)\n\n\\\\(abctest\\\\)<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<p><img src=\"https://math.now.sh?inline=%5Calpha%5Cbeta\" style=\"filter: opacity(90%);transform:scale(0.85);text-align:center;display:inline-block;margin: 0;\"></p>\n<p><img src=\"https://math.now.sh?inline=%5Calpha_%5Cbeta\" style=\"filter: opacity(90%);transform:scale(0.85);text-align:center;display:inline-block;margin: 0;\"></p>\n<p><img src=\"https://math.now.sh?inline=%5Calpha_%5Cbeta%20%3D%20%5Cgamma_%5Cdelta\" style=\"filter: opacity(90%);transform:scale(0.85);text-align:center;display:inline-block;margin: 0;\"></p>\n<p>(abctest)</p>\n<p>(abctest)</p>\n<p>\\(abctest\\)</p>\n<h4 id=\"下划线测试\">下划线测试</h4>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">w^{(l)}*{ij} = w^{(l)}*{ij} - \\eta\\frac{\\partial E(W, b)}{\\partial w^{(l)}_{ij}}<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p><img src=\"https://math.now.sh/?from=w%5E%7B%28l%29%7D*%7Bij%7D%20%3D%20w%5E%7B(l)%7D*%7Bij%7D%20-%20%5Ceta%5Cfrac%7B%5Cpartial%20E(W%2C%20b)%7D%7B%5Cpartial%20w%5E%7B(l)%7D_%7Bij%7D%7D%0A\" alt=\"img\"></p>\n<h2 id=\"CSS测试\">CSS测试</h2>\n<p>文字增加背景色块 <span id=\"inline-blue\">站点配置文件</span>,<br>\n<span id=\"inline-purple\">主题配置文件</span></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">&lt;span id=\"inline-blue\"&gt;站点配置文件&lt;/span&gt;, \n&lt;span id=\"inline-purple\"&gt;主题配置文件&lt;/span&gt;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n<h3 id=\"引用边框变色\">引用边框变色</h3>\n<p id=\"div-border-left-red\">如果没有安装成功, 那可能就是墙的原因. 建议下载 `Node.js` 直接安装. </p>\n<p id=\"div-border-top-blue\">关于更多基本操作和基础知识, 请查阅 [Hexo](https://hexo.io/zh-cn/) 与 [NexT](http://theme-next.iissnan.com/) 官方文档.</p>  \n<pre class=\"line-numbers language-none\"><code class=\"language-none\">&lt;p id=\"div-border-left-red\"&gt;如果没有安装成功, 那可能就是墙的原因. 建议下载 `Node.js` 直接安装. &lt;/p&gt;\n&lt;p id=\"div-border-top-blue\"&gt;关于更多基本操作和基础知识, 请查阅 [Hexo](https://hexo.io/zh-cn/) 与 [NexT](http://theme-next.iissnan.com/) 官方文档.&lt;/p&gt;  <span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n<h3 id=\"图形边框效果\">图形边框效果</h3>\n<p><a id=\"download\" target=\"_blank\" rel=\"noopener\" href=\"https://git-scm.com/download/win\"><i class=\"fa fa-download\"></i><span> Download Now</span><br>\n</a></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">&lt;a id=\"download\" href=\"https://git-scm.com/download/win\"&gt;&lt;i class=\"fa fa-download\"&gt;&lt;/i&gt;&lt;span&gt; Download Now&lt;/span&gt;\n&lt;/a&gt;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n<p>更多tips可参考 <a target=\"_blank\" rel=\"noopener\" href=\"https://yangbingdong.com/2017/build-blog-hexo-advanced\">blog</a></p>\n<h3 id=\"在文档中增加图标\">在文档中增加图标</h3>\n<ul>\n<li><i class=\"fa fa-pencil\"></i>支持Markdown<br>\n<i>Hexo 支持 GitHub Flavored Markdown 的所有功能, 甚至可以整合 Octopress 的大多数插件. </i></li>\n<li><i class=\"fa fa-cloud-upload\"></i>一件部署<br>\n<i>只需一条指令即可部署到Github Pages, 或其他网站</i></li>\n<li><i class=\"fa fa-cog\"></i>丰富的插件<br>\n<i>Hexo 拥有强大的插件系统, 安装插件可以让 Hexo 支持 Jade, CoffeeScript. </i></li>\n</ul>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">- &lt;i class=\"fa fa-pencil\"&gt;&lt;/i&gt;支持Markdown\n&lt;i&gt;Hexo 支持 GitHub Flavored Markdown 的所有功能, 甚至可以整合 Octopress 的大多数插件. &lt;/i&gt;\n- &lt;i class=\"fa fa-cloud-upload\"&gt;&lt;/i&gt;一件部署\n&lt;i&gt;只需一条指令即可部署到Github Pages, 或其他网站&lt;/i&gt;\n- &lt;i class=\"fa fa-cog\"&gt;&lt;/i&gt;丰富的插件\n&lt;i&gt;Hexo 拥有强大的插件系统, 安装插件可以让 Hexo 支持 Jade, CoffeeScript. &lt;/i&gt;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<p><i class=\"fa fa-github\"></i><br>\n<i class=\"fa fa-github fa-lg\"></i><br>\n<i class=\"fa fa-github fa-2x\"></i></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">`&lt;i class=\"fa fa-github\"&gt;&lt;/i&gt;`\n`&lt;i class=\"fa fa-github fa-lg\"&gt;&lt;/i&gt;`\n`&lt;i class=\"fa fa-github fa-2x\"&gt;&lt;/i&gt;`<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n<h2 id=\"图表绘制\">图表绘制</h2>\n<ul>\n<li>\n<p><strong><a target=\"_blank\" rel=\"noopener\" href=\"https://github.com/JameChou/hexo-tag-mermaid\">hexo-tag-mermaid</a></strong></p>\n</li>\n<li>\n<p><a target=\"_blank\" rel=\"noopener\" href=\"https://link.segmentfault.com/?enc=hOwQoD6fIIIe7W28woagTQ%3D%3D.VHuPUTxtKKrWqD9OwRmRWowEiRhfZtrRRPW0tAHaUnugQA9ofUIFaPqb38gbAsyx\"><strong>hexo-tag-plantuml</strong></a></p>\n<blockquote>\n<p>hexo-tag-plantuml is a tag plugin for Hexo. It can work with plantuml to draw uml.</p>\n</blockquote>\n<p>在Hexo中绘制uml图。</p>\n</li>\n<li>\n<p><a target=\"_blank\" rel=\"noopener\" href=\"https://link.segmentfault.com/?enc=7CVDHj4WMnK6vHwS3JXOAQ%3D%3D.VqG%2BdxXCAb%2FdHLPgRnzrtjEUBUuK1EhF%2Fo7ev0Banu7ADAa3cS1GF4ROLNNWkriO\"><strong>hexo-filter-flowchart</strong></a></p>\n<blockquote>\n<p>Generate flowchart diagrams for Hexo.</p>\n</blockquote>\n</li>\n</ul>\n<h2 id=\"Mermaid\">Mermaid</h2>\n<blockquote>\n<p><a target=\"_blank\" rel=\"noopener\" href=\"https://blog.csdn.net/horsee/category_10772579.html\">Markdown mermaid教程</a></p>\n</blockquote>\n<h3 id=\"mermaid\"><a target=\"_blank\" rel=\"noopener\" href=\"https://github.com/mermaid-js/mermaid\">mermaid</a></h3>\n<p><a target=\"_blank\" rel=\"noopener\" href=\"https://github.com/JameChou/hexo-tag-mermaid\">hexo-tag-mermaid</a><a target=\"_blank\" rel=\"noopener\" href=\"https://github.com/two/hexo-tag-plantuml\">hexo-tag-plantuml</a></p>\n<blockquote>\n<p><strong>需要用下面块包裹</strong></p>\n</blockquote>\n<pre class=\"line-numbers language-markdown\" data-language=\"markdown\"><code class=\"language-markdown\">{% mermaid %}\n[内容]\n{% endmermaid %}<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n<p>先来几个演示</p>\n<!-- htmlmin:ignore -->\n<div class=\"mermaid\">\n  graph LR \n\tsource(*.java) --javac--&gt; bytecode(*.class) \n\tbytecode --java--&gt; result(程序输出)\n</div>\n\n<div class=\"mermaid\">\n  graph LR \n\ttype(type) -.-&gt; type \n\ttype -.-&gt; object(object) \n\ttype -.-&gt; A(A) \n\ttype -.-&gt; int(int) \n\tA -.-&gt; a((a)) \n\tint -.-&gt; i((i)) \n\tobject --&gt; type \n\tobject --&gt; A\n</div>\n\n<!-- htmlmin:ignore -->\n<h3 id=\"flowchart\">flowchart</h3>\n<p>[<a target=\"_blank\" rel=\"noopener\" href=\"https://mermaid-js.github.io/mermaid/#/flowchart\">docs</a> - <a target=\"_blank\" rel=\"noopener\" href=\"https://mermaidjs.github.io/mermaid-live-editor/#/edit/eyJjb2RlIjoiZ3JhcGggVERcbiAgICBBW0hhcmRdIC0tPnxUZXh0fCBCKFJvdW5kKVxuICAgIEIgLS0-IEN7RGVjaXNpb259XG4gICAgQyAtLT58T25lfCBEW1Jlc3VsdCAxXVxuICAgIEMgLS0-fFR3b3wgRVtSZXN1bHQgMl0iLCJtZXJtYWlkIjp7InRoZW1lIjoiZGVmYXVsdCJ9fQ\">live editor</a>]</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">{% mermaid %}\ngraph TD\n    A[Christmas] --&gt;|Get money| B(Go shopping)\n    B --&gt; C{Let me think}\n    C --&gt;|One| D[Laptop]\n    C --&gt;|Two| E[iPhone]\n    C --&gt;|Three| F[Car]\n{% endmermaid %}<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<!-- htmlmin:ignore -->\n<div class=\"mermaid\">\n  graph TD\n    A[Christmas] --&gt;|Get money| B(Go shopping)\n    B --&gt; C{Let me think}\n    C --&gt;|One| D[Laptop]\n    C --&gt;|Two| E[iPhone]\n    C --&gt;|Three| F[Car]\n</div>\n\n<!-- htmlmin:ignore -->\n<h3 id=\"Sequence-diagram\">Sequence <strong>diagram</strong></h3>\n<p>[<a target=\"_blank\" rel=\"noopener\" href=\"https://mermaid-js.github.io/mermaid/#/sequenceDiagram\">docs</a> - <a target=\"_blank\" rel=\"noopener\" href=\"https://mermaidjs.github.io/mermaid-live-editor/#/edit/eyJjb2RlIjoic2VxdWVuY2VEaWFncmFtXG5BbGljZS0-PkpvaG46IEhlbGxvIEpvaG4sIGhvdyBhcmUgeW91P1xubG9vcCBIZWFsdGhjaGVja1xuICAgIEpvaG4tPj5Kb2huOiBGaWdodCBhZ2FpbnN0IGh5cG9jaG9uZHJpYVxuZW5kXG5Ob3RlIHJpZ2h0IG9mIEpvaG46IFJhdGlvbmFsIHRob3VnaHRzIVxuSm9obi0tPj5BbGljZTogR3JlYXQhXG5Kb2huLT4-Qm9iOiBIb3cgYWJvdXQgeW91P1xuQm9iLS0-PkpvaG46IEpvbGx5IGdvb2QhIiwibWVybWFpZCI6eyJ0aGVtZSI6ImRlZmF1bHQifX0\">live editor</a>]</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">{% mermaid %}\nsequenceDiagram\n    loop every day\n        Alice-&gt;&gt;John: Hello John, how are you?\n        John--&gt;&gt;Alice: Great!\n    end\n{% endmermaid %}<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<!-- htmlmin:ignore -->\n<div class=\"mermaid\">\n  sequenceDiagram\n    loop every day\n        Alice-&gt;&gt;John: Hello John, how are you?\n        John--&gt;&gt;Alice: Great!\n    end\n</div>\n\n<!-- htmlmin:ignore -->\n<h3 id=\"Gantt-diagram\">Gantt <strong>diagram</strong></h3>\n<p>[<a target=\"_blank\" rel=\"noopener\" href=\"https://mermaid-js.github.io/mermaid/#/gantt\">docs</a> - <a target=\"_blank\" rel=\"noopener\" href=\"https://mermaidjs.github.io/mermaid-live-editor/#/edit/eyJjb2RlIjoiZ2FudHRcbnNlY3Rpb24gU2VjdGlvblxuQ29tcGxldGVkIDpkb25lLCAgICBkZXMxLCAyMDE0LTAxLTA2LDIwMTQtMDEtMDhcbkFjdGl2ZSAgICAgICAgOmFjdGl2ZSwgIGRlczIsIDIwMTQtMDEtMDcsIDNkXG5QYXJhbGxlbCAxICAgOiAgICAgICAgIGRlczMsIGFmdGVyIGRlczEsIDFkXG5QYXJhbGxlbCAyICAgOiAgICAgICAgIGRlczQsIGFmdGVyIGRlczEsIDFkXG5QYXJhbGxlbCAzICAgOiAgICAgICAgIGRlczUsIGFmdGVyIGRlczMsIDFkXG5QYXJhbGxlbCA0ICAgOiAgICAgICAgIGRlczYsIGFmdGVyIGRlczQsIDFkIiwibWVybWFpZCI6eyJ0aGVtZSI6ImRlZmF1bHQifX0\">live editor</a>]</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">{% mermaid %}\ngantt\n    dateFormat  YYYY-MM-DD\n    title Adding GANTT diagram functionality to mermaid\n\n    section A section\n    Completed task            :done,    des1, 2014-01-06,2014-01-08\n    Active task               :active,  des2, 2014-01-09, 3d\n    Future task               :         des3, after des2, 5d\n    Future task2               :         des4, after des3, 5d\n\n    section Critical tasks\n    Completed task in the critical line :crit, done, 2014-01-06,24h\n    Implement parser and jison          :crit, done, after des1, 2d\n    Create tests for parser             :crit, active, 3d\n    Future task in critical line        :crit, 5d\n    Create tests for renderer           :2d\n    Add to mermaid                      :1d\n\n    section Documentation\n    Describe gantt syntax               :active, a1, after des1, 3d\n    Add gantt diagram to demo page      :after a1  , 20h\n    Add another diagram to demo page    :doc1, after a1  , 48h\n\n    section Last section\n    Describe gantt syntax               :after doc1, 3d\n    Add gantt diagram to demo page      : 20h\n    Add another diagram to demo page    : 48h\n{% endmermaid %}<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<!-- htmlmin:ignore -->\n<div class=\"mermaid\">\n  gantt\n    dateFormat  YYYY-MM-DD\n    title Adding GANTT diagram functionality to mermaid\n\n    section A section\n    Completed task            :done,    des1, 2014-01-06,2014-01-08\n    Active task               :active,  des2, 2014-01-09, 3d\n    Future task               :         des3, after des2, 5d\n    Future task2               :         des4, after des3, 5d\n    \n    section Critical tasks\n    Completed task in the critical line :crit, done, 2014-01-06,24h\n    Implement parser and jison          :crit, done, after des1, 2d\n    Create tests for parser             :crit, active, 3d\n    Future task in critical line        :crit, 5d\n    Create tests for renderer           :2d\n    Add to mermaid                      :1d\n    \n    section Documentation\n    Describe gantt syntax               :active, a1, after des1, 3d\n    Add gantt diagram to demo page      :after a1  , 20h\n    Add another diagram to demo page    :doc1, after a1  , 48h\n    \n    section Last section\n    Describe gantt syntax               :after doc1, 3d\n    Add gantt diagram to demo page      : 20h\n    Add another diagram to demo page    : 48h\n</div>\n\n<!-- htmlmin:ignore -->\n<h3 id=\"ER图\">ER图</h3>\n<!-- htmlmin:ignore -->\n<div class=\"mermaid\">\n  erDiagram\n    CUSTOMER ||--o{ ORDER : places\n    CUSTOMER {\n        string name\n        string custNumber\n        string sector\n    }\n    ORDER ||--|{ LINE-ITEM : contains\n    ORDER {\n        int orderNumber\n        string deliveryAddress\n    }\n    LINE-ITEM {\n        string productCode\n        int quantity\n        float pricePerUnit\n    }\n</div>\n\n<!-- htmlmin:ignore -->\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">erDiagram\n    CUSTOMER ||--o{ ORDER : places\n    CUSTOMER {\n        string name\n        string custNumber\n        string sector\n    }\n    ORDER ||--|{ LINE-ITEM : contains\n    ORDER {\n        int orderNumber\n        string deliveryAddress\n    }\n    LINE-ITEM {\n        string productCode\n        int quantity\n        float pricePerUnit\n    }<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<h3 id=\"class\"><strong>class</strong></h3>\n<p>[<a target=\"_blank\" rel=\"noopener\" href=\"https://mermaid-js.github.io/mermaid/#/classDiagram\">docs</a> - <a target=\"_blank\" rel=\"noopener\" href=\"https://mermaidjs.github.io/mermaid-live-editor/#/edit/eyJjb2RlIjoiY2xhc3NEaWFncmFtXG5DbGFzczAxIDx8LS0gQXZlcnlMb25nQ2xhc3MgOiBDb29sXG48PGludGVyZmFjZT4-IENsYXNzMDFcbkNsYXNzMDkgLS0-IEMyIDogV2hlcmUgYW0gaT9cbkNsYXNzMDkgLS0qIEMzXG5DbGFzczA5IC0tfD4gQ2xhc3MwN1xuQ2xhc3MwNyA6IGVxdWFscygpXG5DbGFzczA3IDogT2JqZWN0W10gZWxlbWVudERhdGFcbkNsYXNzMDEgOiBzaXplKClcbkNsYXNzMDEgOiBpbnQgY2hpbXBcbkNsYXNzMDEgOiBpbnQgZ29yaWxsYVxuY2xhc3MgQ2xhc3MxMCB7XG4gID4-c2VydmljZT4-XG4gIGludCBpZFxuICBzaXplKClcbn0iLCJtZXJtYWlkIjp7InRoZW1lIjoiZGVmYXVsdCJ9fQ\">live editor</a>]</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">classDiagram\n  class Shape{\n      &lt;&lt;interface&gt;&gt;\n      noOfVertices\n      draw()\n  }\n  class Color{\n      &lt;&lt;enumeration&gt;&gt;\n      RED\n      BLUE\n      GREEN\n      WHITE\n      BLACK\n  }<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<!-- htmlmin:ignore -->\n<div class=\"mermaid\">\n  classDiagram\n  class Shape{\n      &lt;<interface>&gt;\n      noOfVertices\n      draw()\n  }\n  class Color{\n      &lt;<enumeration>&gt;\n      RED\n      BLUE\n      GREEN\n      WHITE\n      BLACK\n  }\n</enumeration></interface></div>\n\n<!-- htmlmin:ignore -->\n<h3 id=\"State\"><strong>State</strong></h3>\n<p>[<a target=\"_blank\" rel=\"noopener\" href=\"https://mermaid-js.github.io/mermaid/#/stateDiagram\">docs</a> - <a target=\"_blank\" rel=\"noopener\" href=\"https://mermaid-js.github.io/mermaid-live-editor/#/edit/eyJjb2RlIjoic3RhdGVEaWFncmFtLXYyXG4gICAgWypdIC0tPiBTdGlsbFxuICAgIFN0aWxsIC0tPiBbKl1cbiAgICBTdGlsbCAtLT4gTW92aW5nXG4gICAgTW92aW5nIC0tPiBTdGlsbFxuICAgIE1vdmluZyAtLT4gQ3Jhc2hcbiAgICBDcmFzaCAtLT4gWypdIiwibWVybWFpZCI6eyJ0aGVtZSI6ImRlZmF1bHQiLCJ0aGVtZVZhcmlhYmxlcyI6eyJiYWNrZ3JvdW5kIjoid2hpdGUiLCJwcmltYXJ5Q29sb3IiOiIjRUNFQ0ZGIiwic2Vjb25kYXJ5Q29sb3IiOiIjZmZmZmRlIiwidGVydGlhcnlDb2xvciI6ImhzbCg4MCwgMTAwJSwgOTYuMjc0NTA5ODAzOSUpIiwicHJpbWFyeUJvcmRlckNvbG9yIjoiaHNsKDI0MCwgNjAlLCA4Ni4yNzQ1MDk4MDM5JSkiLCJzZWNvbmRhcnlCb3JkZXJDb2xvciI6ImhzbCg2MCwgNjAlLCA4My41Mjk0MTE3NjQ3JSkiLCJ0ZXJ0aWFyeUJvcmRlckNvbG9yIjoiaHNsKDgwLCA2MCUsIDg2LjI3NDUwOTgwMzklKSIsInByaW1hcnlUZXh0Q29sb3IiOiIjMTMxMzAwIiwic2Vjb25kYXJ5VGV4dENvbG9yIjoiIzAwMDAyMSIsInRlcnRpYXJ5VGV4dENvbG9yIjoicmdiKDkuNTAwMDAwMDAwMSwgOS41MDAwMDAwMDAxLCA5LjUwMDAwMDAwMDEpIiwibGluZUNvbG9yIjoiIzMzMzMzMyIsInRleHRDb2xvciI6IiMzMzMiLCJtYWluQmtnIjoiI0VDRUNGRiIsInNlY29uZEJrZyI6IiNmZmZmZGUiLCJib3JkZXIxIjoiIzkzNzBEQiIsImJvcmRlcjIiOiIjYWFhYTMzIiwiYXJyb3doZWFkQ29sb3IiOiIjMzMzMzMzIiwiZm9udEZhbWlseSI6IlwidHJlYnVjaGV0IG1zXCIsIHZlcmRhbmEsIGFyaWFsIiwiZm9udFNpemUiOiIxNnB4IiwibGFiZWxCYWNrZ3JvdW5kIjoiI2U4ZThlOCIsIm5vZGVCa2ciOiIjRUNFQ0ZGIiwibm9kZUJvcmRlciI6IiM5MzcwREIiLCJjbHVzdGVyQmtnIjoiI2ZmZmZkZSIsImNsdXN0ZXJCb3JkZXIiOiIjYWFhYTMzIiwiZGVmYXVsdExpbmtDb2xvciI6IiMzMzMzMzMiLCJ0aXRsZUNvbG9yIjoiIzMzMyIsImVkZ2VMYWJlbEJhY2tncm91bmQiOiIjZThlOGU4IiwiYWN0b3JCb3JkZXIiOiJoc2woMjU5LjYyNjE2ODIyNDMsIDU5Ljc3NjUzNjMxMjglLCA4Ny45MDE5NjA3ODQzJSkiLCJhY3RvckJrZyI6IiNFQ0VDRkYiLCJhY3RvclRleHRDb2xvciI6ImJsYWNrIiwiYWN0b3JMaW5lQ29sb3IiOiJncmV5Iiwic2lnbmFsQ29sb3IiOiIjMzMzIiwic2lnbmFsVGV4dENvbG9yIjoiIzMzMyIsImxhYmVsQm94QmtnQ29sb3IiOiIjRUNFQ0ZGIiwibGFiZWxCb3hCb3JkZXJDb2xvciI6ImhzbCgyNTkuNjI2MTY4MjI0MywgNTkuNzc2NTM2MzEyOCUsIDg3LjkwMTk2MDc4NDMlKSIsImxhYmVsVGV4dENvbG9yIjoiYmxhY2siLCJsb29wVGV4dENvbG9yIjoiYmxhY2siLCJub3RlQm9yZGVyQ29sb3IiOiIjYWFhYTMzIiwibm90ZUJrZ0NvbG9yIjoiI2ZmZjVhZCIsIm5vdGVUZXh0Q29sb3IiOiJibGFjayIsImFjdGl2YXRpb25Cb3JkZXJDb2xvciI6IiM2NjYiLCJhY3RpdmF0aW9uQmtnQ29sb3IiOiIjZjRmNGY0Iiwic2VxdWVuY2VOdW1iZXJDb2xvciI6IndoaXRlIiwic2VjdGlvbkJrZ0NvbG9yIjoicmdiYSgxMDIsIDEwMiwgMjU1LCAwLjQ5KSIsImFsdFNlY3Rpb25Ca2dDb2xvciI6IndoaXRlIiwic2VjdGlvbkJrZ0NvbG9yMiI6IiNmZmY0MDAiLCJ0YXNrQm9yZGVyQ29sb3IiOiIjNTM0ZmJjIiwidGFza0JrZ0NvbG9yIjoiIzhhOTBkZCIsInRhc2tUZXh0TGlnaHRDb2xvciI6IndoaXRlIiwidGFza1RleHRDb2xvciI6IndoaXRlIiwidGFza1RleHREYXJrQ29sb3IiOiJibGFjayIsInRhc2tUZXh0T3V0c2lkZUNvbG9yIjoiYmxhY2siLCJ0YXNrVGV4dENsaWNrYWJsZUNvbG9yIjoiIzAwMzE2MyIsImFjdGl2ZVRhc2tCb3JkZXJDb2xvciI6IiM1MzRmYmMiLCJhY3RpdmVUYXNrQmtnQ29sb3IiOiIjYmZjN2ZmIiwiZ3JpZENvbG9yIjoibGlnaHRncmV5IiwiZG9uZVRhc2tCa2dDb2xvciI6ImxpZ2h0Z3JleSIsImRvbmVUYXNrQm9yZGVyQ29sb3IiOiJncmV5IiwiY3JpdEJvcmRlckNvbG9yIjoiI2ZmODg4OCIsImNyaXRCa2dDb2xvciI6InJlZCIsInRvZGF5TGluZUNvbG9yIjoicmVkIiwibGFiZWxDb2xvciI6ImJsYWNrIiwiZXJyb3JCa2dDb2xvciI6IiM1NTIyMjIiLCJlcnJvclRleHRDb2xvciI6IiM1NTIyMjIiLCJjbGFzc1RleHQiOiIjMTMxMzAwIiwiZmlsbFR5cGUwIjoiI0VDRUNGRiIsImZpbGxUeXBlMSI6IiNmZmZmZGUiLCJmaWxsVHlwZTIiOiJoc2woMzA0LCAxMDAlLCA5Ni4yNzQ1MDk4MDM5JSkiLCJmaWxsVHlwZTMiOiJoc2woMTI0LCAxMDAlLCA5My41Mjk0MTE3NjQ3JSkiLCJmaWxsVHlwZTQiOiJoc2woMTc2LCAxMDAlLCA5Ni4yNzQ1MDk4MDM5JSkiLCJmaWxsVHlwZTUiOiJoc2woLTQsIDEwMCUsIDkzLjUyOTQxMTc2NDclKSIsImZpbGxUeXBlNiI6ImhzbCg4LCAxMDAlLCA5Ni4yNzQ1MDk4MDM5JSkiLCJmaWxsVHlwZTciOiJoc2woMTg4LCAxMDAlLCA5My41Mjk0MTE3NjQ3JSkifX0sInVwZGF0ZUVkaXRvciI6ZmFsc2V9\">live editor</a>]</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">{% mermaid %}\nstateDiagram-v2\n    [*] --&gt; Still\n    Still --&gt; [*]\n    Still --&gt; Moving\n    Moving --&gt; Still\n    Moving --&gt; Crash\n    Crash --&gt; [*]\n{% endmermaid %}<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<!-- htmlmin:ignore -->\n<div class=\"mermaid\">\n  stateDiagram-v2\n    [*] --&gt; Still\n    Still --&gt; [*]\n    Still --&gt; Moving\n    Moving --&gt; Still\n    Moving --&gt; Crash\n    Crash --&gt; [*]\n</div>\n\n<!-- htmlmin:ignore -->\n<h3 id=\"Pie\"><strong>Pie</strong></h3>\n<p>[<a target=\"_blank\" rel=\"noopener\" href=\"https://mermaid-js.github.io/mermaid/#/pie\">docs</a> - <a target=\"_blank\" rel=\"noopener\" href=\"https://mermaidjs.github.io/mermaid-live-editor/#/edit/eyJjb2RlIjoicGllXG5cIkRvZ3NcIiA6IDQyLjk2XG5cIkNhdHNcIiA6IDUwLjA1XG5cIlJhdHNcIiA6IDEwLjAxIiwibWVybWFpZCI6eyJ0aGVtZSI6ImRlZmF1bHQifX0\">live editor</a>]</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">{% mermaid %}\npie\n\"Dogs\" : 386\n\"Cats\" : 85\n\"Rats\" : 15\n{% endmermaid %}<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<!-- htmlmin:ignore -->\n<div class=\"mermaid\">\n  pie\n\"Dogs\" : 386\n\"Cats\" : 85\n\"Rats\" : 15\n</div>\n\n<!-- htmlmin:ignore -->\n<h3 id=\"User-Journey\"><strong>User Journey</strong></h3>\n<p>[<a target=\"_blank\" rel=\"noopener\" href=\"https://mermaid-js.github.io/mermaid/#/user-journey\">docs</a> - <a target=\"_blank\" rel=\"noopener\" href=\"https://mermaidjs.github.io/mermaid-live-editor/#/edit/eyJjb2RlIjoic3RhdGVEaWFncmFtXG4gICAgWypdIC0tPiBTdGlsbFxuICAgIFN0aWxsIC0tPiBbKl1cbiAgICBTdGlsbCAtLT4gTW92aW5nXG4gICAgTW92aW5nIC0tPiBTdGlsbFxuICAgIE1vdmluZyAtLT4gQ3Jhc2hcbiAgICBDcmFzaCAtLT4gWypdIiwibWVybWFpZCI6eyJ0aGVtZSI6ImRlZmF1bHQifX0\">live editor</a>]</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">{% mermaid %}\n\t  journey\n    title My working day\n    section Go to work\n      Make tea: 5: Me\n      Go upstairs: 3: Me\n      Do work: 1: Me, Cat\n    section Go home\n      Go downstairs: 5: Me\n      Sit down: 3: Me\n{% endmermaid %}<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<!-- htmlmin:ignore -->\n<div class=\"mermaid\">\n  journey\n title My working day\n section Go to work\n   Make tea: 5: Me\n   Go upstairs: 3: Me\n   Do work: 1: Me, Cat\n section Go home\n   Go downstairs: 5: Me\n   Sit down: 3: Me\n</div>\n\n<!-- htmlmin:ignore -->\n<h2 id=\"plant-uml\">plant uml</h2>\n<p><a target=\"_blank\" rel=\"noopener\" href=\"https://link.segmentfault.com/?enc=ZnkRBa%2Fre3TQCl7KNJg2Sg%3D%3D.ZEjsSgGk0F1LOYjRqQLWGcsHdjIHjXJJNCwT20OKlas%3D\"><strong>PlantUML</strong> </a>是一个允许你快速编写一下图表的组件 :</p>\n<ul>\n<li><a target=\"_blank\" rel=\"noopener\" href=\"https://link.segmentfault.com/?enc=WnNQQpbhwLLtOvy0iZznAw%3D%3D.ufDzIrmSHLTJOvU%2B%2BrCbHKX7i%2BXDfiAs43p47%2Brd6CPQPzmoRjTx9Yjer2eCPMIx\">Sequence diagram</a>（时序图）</li>\n<li><a target=\"_blank\" rel=\"noopener\" href=\"https://link.segmentfault.com/?enc=swyHFudu0Dv1kgG36K6uKQ%3D%3D.%2F3OTiCZ42cJb5Qx7sx3T0xkD8UzUl2QpmT5nScfRShRBbDCjvTAYmIjQBdcndh5P\">Usecase diagram</a></li>\n<li><a target=\"_blank\" rel=\"noopener\" href=\"https://link.segmentfault.com/?enc=y2iylEjbyP1BkiOoSD3aBQ%3D%3D.Uk3N50fH52eqKvi5pR9V2dCwZ2t88GyGCkB56t0bi51SDzK3TAm8q%2F%2BknYaMp6gq\">Class diagram</a>（类图）</li>\n<li><a target=\"_blank\" rel=\"noopener\" href=\"https://link.segmentfault.com/?enc=ZPF3Fm60rmWHTd6iqgefYw%3D%3D.hetxaEZitHOTlwF26EQHW1ze%2BqQe28tO5Zan9A6PQD7tELizzdVt2LCwJ7Wqni8N\">Activity diagram</a> (here is <a target=\"_blank\" rel=\"noopener\" href=\"https://link.segmentfault.com/?enc=G1AlcTWhXkwCzalwXO04Tw%3D%3D.RKEPVfhovignZnpee9bltjlVeAZ25VKK5bSbzmo2G225h2cQ3wEKM8LyC23GxRLL\">the legacy syntax)</a></li>\n<li><a target=\"_blank\" rel=\"noopener\" href=\"https://link.segmentfault.com/?enc=Vxtv5M%2FcCgkpBtyWH8mDCA%3D%3D.xTXdTliRpsnQ8OniXrs1V6YfjTy0nSFbS7l7wqvn0uACpHlTJNL9BlF0xb7vfM4Z\">Component diagram</a></li>\n<li><a target=\"_blank\" rel=\"noopener\" href=\"https://link.segmentfault.com/?enc=asRZoWO7I5UQ3wuP84r8hg%3D%3D.vyIPg7GpNKjSjf7e2IS4KO%2Bg6SnD1DLe9DYb9T1CuW2U41s72PgDFuT0hbkp2BO9\">State diagram</a></li>\n<li><a target=\"_blank\" rel=\"noopener\" href=\"https://link.segmentfault.com/?enc=WMWDuC4PoXS%2BUq8UK%2B6m6Q%3D%3D.UaRzixgD%2B8x%2BRoBPDjArHXZEVWCpjnRwzoBn9HZDWAgyM2iggTjoxPJrpjuH5nZL\">Object diagram</a></li>\n<li><a target=\"_blank\" rel=\"noopener\" href=\"https://link.segmentfault.com/?enc=4QYG%2FOLv5kpCA0Wur4JTBg%3D%3D.Ci3AIvz1ie0I6BCUt8a%2BaklDx8hJvKPujkVdWDGw%2BzDTkfdnBBhY5GhX9mIITaMb\">Deployment diagram</a>(BETA)</li>\n<li><a target=\"_blank\" rel=\"noopener\" href=\"https://link.segmentfault.com/?enc=%2Bi9ecBhjJV%2Fo6bPpIo6zEw%3D%3D.b0HW%2B0h7iKI3LibmVdbEmi77twGMobstSrkBWn2n6AucZmIcrNRI7QEhpDEMrUTR\">Timing diagram</a>(BETA)</li>\n</ul>\n<p>Hexo安装hexo-tag-plantuml插件，便能使其绘制的图表在博客上展示，其原理其实使用的是 PlantUML 提供的在线服务, 只是简单地将标签包裹的代码传给服务器, 获取生成的链接, 生成 img标签替换原来的代码区域.</p>\n<blockquote>\n<p><a target=\"_blank\" rel=\"noopener\" href=\"https://link.segmentfault.com/?enc=Om2tsztpVQpl48NLQP8wPg%3D%3D.lA5QuvRnDCcbundLA81sGH8MG3E6QjnIJQ6%2BgojZWH8%3D\">plantUML在线编辑网站</a></p>\n</blockquote>\n<p>可使用HTML标签将其嵌套</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">{% plantuml %}\ntitle Relationships - Class Diagram\n\nclass Dwelling {\n  +Int Windows\n  +void LockTheDoor()\n}\n\nclass Apartment\nclass House\nclass Commune\nclass Window\nclass Door\n\nDwelling &lt;|-down- Apartment: Inheritance\nDwelling &lt;|-down- Commune: Inheritance\nDwelling &lt;|-down- House: Inheritance\nDwelling \"1\" *-up- \"many\" Window: Composition\nDwelling \"1\" *-up- \"many\" Door: Composition\n{% endplantuml %}<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<img src=\"http://www.plantuml.com/plantuml/svg/XP0z2y8m48Rt_8gZanzaS2qkKWSBJY8uXpQqXybTQ5ABgF_TrhQAuCUMbpptt4V0O3Jij541cNo9peE4n2ZlOOsgg9GL8kjZeur1Ak0Y0EOf1JWWvTpuBfuOSzXoTjoNUirSJQRYDXQkdAg2rHI6lE7Qw-6TiBKrZQaNZlrQZH3FhikhRFz8ldGnf5Jg2eEYJ7y01_S_x37E5oXQH32JjPCGMKNdQ9WmxjoEFNP7-q5tAxonTm00\">\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">{% plantuml %}\n[内容]\n{% endplantuml %}<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n<h3 id=\"时序图\"><a target=\"_blank\" rel=\"noopener\" href=\"https://plantuml.com/zh/timing-diagram\">时序图</a></h3>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">{% plantuml %}\n    Bob-&gt;Alice : hello\n{% endplantuml %}<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n<img src=\"http://www.plantuml.com/plantuml/svg/SyfFqhLppCbCJbMmKiX8pSd91m00\">\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">Alice -&gt; Bob: Authentication Request\nBob --&gt; Alice: Authentication Response\n\nAlice -&gt; Bob: Another authentication Request\nAlice &lt;-- Bob: Another authentication Response<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<img src=\"http://www.plantuml.com/plantuml/svg/Syp9J4vLqBLJSCfFib9mB2t9ICqhoKnEBCdCprC8IYqiJIqkuGBAAUW2rJY256DHLLoGdrUSoiNbY6fONZvGNP528dP38OfjT7K9g8OO3W00\">\n<h3 id=\"用例图\"><a target=\"_blank\" rel=\"noopener\" href=\"https://plantuml.com/zh/use-case-diagram\">用例图</a></h3>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">{% plantuml %}\nUser -&gt; (Start)\nUser --&gt; (Use the application) : A small label\n\n:Main Admin: ---&gt; (Use the application) : This is\\nyet another\\nlabel\n{% endplantuml %}<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<h3 id=\"类图\"><a target=\"_blank\" rel=\"noopener\" href=\"https://plantuml.com/zh/class-diagram\">类图</a></h3>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">{% plantuml %}\nclass Object &lt;&lt; general &gt;&gt;\nObject &lt;|--- ArrayList\n\nnote top of Object : In java, every class\\nextends this one.\n\nnote \"This is a floating note\" as N1\nnote \"This note is connected\\nto several objects.\" as N2\nObject .. N2\nN2 .. ArrayList\n\nclass Foo\nnote left: On last defined class\n{% endplantuml %}<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<h3 id=\"活动图\"><a target=\"_blank\" rel=\"noopener\" href=\"https://plantuml.com/zh/activity-diagram-beta\">活动图</a></h3>\n<pre class=\"line-numbers language-markdown\" data-language=\"markdown\"><code class=\"language-markdown\">{% plantuml %}\n@startuml\nstart\n\nif (Graphviz 已安装?) then (yes)\n  :处理所有\\n绘制任务;\nelse (no)\n  :仅处理\n  <span class=\"token bold\"><span class=\"token punctuation\">__</span><span class=\"token content\">时序图</span><span class=\"token punctuation\">__</span></span> 和 <span class=\"token bold\"><span class=\"token punctuation\">__</span><span class=\"token content\">活动</span><span class=\"token punctuation\">__</span></span> 图;\nendif\n\nstop\n@enduml\n{% endplantuml %}<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<img src=\"http://www.plantuml.com/plantuml/svg/SoWkIImgAStDuG8pkBWoqnGqt8iI2pBACgiKdcxVz7HTvul5hVQQ2YKPgNaA6fMfnPfS2WfMJvUqF9_GzgopuTcSpfYyvxjdFEtOzcJtxgTT2wsvKdEAKnKqylB12f_iReMe1NBYuvzDt_PqL__JsVlYunMUJke1YMm1Qbe1uixU1zIQbvAPnWLqItu1bmEG0tGO0000\">\n<h3 id=\"组件图\"><a target=\"_blank\" rel=\"noopener\" href=\"https://plantuml.com/zh/component-diagram\">组件图</a></h3>\n<pre class=\"line-numbers language-markdown\" data-language=\"markdown\"><code class=\"language-markdown\">{% plantuml %}\n@startuml\n\n[First component]\n[Another component] as Comp2\ncomponent Comp3\ncomponent [Last\\ncomponent] as Comp4\n\n@enduml\n{% endplantuml %}<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<img src=\"http://www.plantuml.com/plantuml/svg/SoWkIImgAStDuUAATiiiAYvHICxFBSZFIyqhYUMATipBByb8BK8IKqWiLd06yeouu69WlZ4IFzediRWa9WzJamaNbqDgNWhGDW00\">\n<h3 id=\"状态图\"><a target=\"_blank\" rel=\"noopener\" href=\"https://plantuml.com/zh/state-diagram\">状态图</a></h3>\n<pre class=\"line-numbers language-markdown\" data-language=\"markdown\"><code class=\"language-markdown\">{% plantuml %}\n@startuml\n\n[<span class=\"token italic\"><span class=\"token punctuation\">*</span><span class=\"token content\">] --&gt; State1\nState1 --&gt; [</span><span class=\"token punctuation\">*</span></span>]\nState1 : this is a string\nState1 : this is another string\n\nState1 -&gt; State2\nState2 --&gt; [*]\n\n@enduml\n{% endplantuml %}<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<img src=\"http://www.plantuml.com/plantuml/svg/SoWkIImgAStDuUAArefLqDMrKmWkIIn9DUI2K60He0oCQwLGaf5Ph014YGh59KMPUUbOPFBoIp9IYs3oS9EWHXj118pWHdCvfEQb09q00000\">\n<h3 id=\"对象图\"><a target=\"_blank\" rel=\"noopener\" href=\"https://plantuml.com/zh/object-diagram\">对象图</a></h3>\n<pre class=\"line-numbers language-markdown\" data-language=\"markdown\"><code class=\"language-markdown\">{% plantuml %}\n@startuml PERT\nleft to right direction\n' Horizontal lines: --&gt;, <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>--,</span> <span class=\"token attr-name\">&lt;--</span><span class=\"token punctuation\">&gt;</span></span>\n' Vertical lines: -&gt;, <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>-,</span> <span class=\"token attr-name\">&lt;-</span><span class=\"token punctuation\">&gt;</span></span>\ntitle PERT: Project Name\n\nmap Kick.Off {\n}\nmap task.1 {\n    Start =&gt; End\n}\nmap task.2 {\n    Start =&gt; End\n}\nmap task.3 {\n    Start =&gt; End\n}\nmap task.4 {\n    Start =&gt; End\n}\nmap task.5 {\n    Start =&gt; End\n}\nKick.Off --&gt; task.1 : Label 1\nKick.Off --&gt; task.2 : Label 2\nKick.Off --&gt; task.3 : Label 3\ntask.1 --&gt; task.4\ntask.2 --&gt; task.4\ntask.3 --&gt; task.4\ntask.4 --&gt; task.5 : Label 4\n@enduml\n{% endplantuml %}<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<img src=\"http://www.plantuml.com/plantuml/svg/XP7DQiCm48Jl-nHpwoKEn3yNqvfS0e64r3IbTyMM4oMo5EJjfQNl7iMaIcWD5gn0yosp8tRUiN3ysMgKYxTtqh9Xi8LJ-mEZLavMhAoX9oojKr_MiD3GoiWkHnGL4pn7KNyLlkL3EbRLGqFFhrKGAzQodv6ZTFReVR4HhIHgnHahLPschqs3R_hf1HRTQJhpJ_YplKR4Iu65gHzvFCAJ4PwEy6oOXx3-rxz1Swp5JchC1cWSQ3n0aq0Jkfa5bjBDuA-I_5FIkv85nvJcqjH-kHS0\">\n<h3 id=\"部署图\"><a target=\"_blank\" rel=\"noopener\" href=\"https://plantuml.com/zh/deployment-diagram\">部署图</a></h3>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">{% plantuml %}\n@startuml\nactor actor\nagent agent\nartifact artifact\nboundary boundary\ncard card\ncloud cloud\ncomponent component\ncontrol control\ndatabase database\nentity entity\nfile file\nfolder folder\nframe frame\ninterface  interface\nnode node\npackage package\nqueue queue\nstack stack\nrectangle rectangle\nstorage storage\nusecase usecase\n@enduml\n{% endplantuml %}<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<img src=\"http://www.plantuml.com/plantuml/svg/FP1B4eGm24JtVGgEubKmGSio1WV9mjiFyRTv_Gho8HaEP_Es5N1oDRe8dgKwNKIqbodAz0f6RJMpdVGA4bkc3gIYBRGJIRTTQp_fiwXLDotq938xZtm8lO9OjVX9Ts1QYb079YrPZEx0PBn5enDBTR6OJ8W-HTKir86TqnfFeIVnQzA4BY9UdrQw29FaNEUuxxFeg_MzJw8TalgqJsAGckFp_W00\">\n<h2 id=\"URL-卡片\"><a target=\"_blank\" rel=\"noopener\" href=\"https://github.com/toastsgithub/hexo-valkyr-url\">URL 卡片</a></h2>\n<div class=\"vkr-url-wrapper\">\n<style>\n.vkr-url-wrapper {\n    padding: 10px;\n    border-radius: 5px;\n    border: 1px solid;\n    border-color: #eee #ddd #bbb;\n    box-shadow: rgba(0,0,0,.14) 0 1px 3px;\n    margin-bottom: 10px;\n    display: flex;\n}\n.vkr-url-wrapper .desc-wrapper > hr {\n    margin: 10px 0;\n    height: 1px;\n}\n.vkr-url-wrapper .avatar {\n    width: 100px;\n    height: 100px;\n    border: solid 1px #eee;\n    box-shadow: none!important;\n    margin: 0;\n    margin-right: 10px;\n}\n.vkr-url-wrapper h2 {\n    border: none;\n    margin: 0;\n    padding: 0;\n}\n.vkr-url-wrapper .desc-wrapper {\n    flex: 1;\n}\n.vkr-url-wrapper .desc-wrapper a {\n    font-size: 22px;\n    font-weight: 700;\n}\n</style>\n    \n        <a target=\"_blank\" rel=\"noopener\" href=\"https://github.com/toastsgithub/valkyr-ssh\"><img class=\"avatar\" src=\"http://images2.dzmtoast.top/post-cover/github-logo_hub2899c31b6ca7aed8d6a218f0e752fe4_46649_1200x1200_fill_box_center_2.png\"></a>\n    \n    <div class=\"desc-wrapper\">\n        <a target=\"_blank\" rel=\"noopener\" href=\"https://github.com/toastsgithub/valkyr-ssh\">valkyr ssh manager</a>\n        <hr>\n        <div class=\"desc\">valkyr-ssh, a simple commandline tool to help you store ssh login address</div>\n    </div>\n</div>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">{% valkyrurl\n[url=https://github.com/toastsgithub/valkyr-ssh]\n[title=\"valkyr ssh manager\"]\n[avatar=http://images2.dzmtoast.top/post-cover/github-logo_hub2899c31b6ca7aed8d6a218f0e752fe4_46649_1200x1200_fill_box_center_2.png]\n[desc=\"valkyr-ssh, a simple commandline tool to help you store ssh login address\"]\n%}<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">{% valkyrurl [url=http://example.com] [otherOpt=value] %}<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<ul>\n<li><code>avatar</code> image that describe your link (optional)</li>\n<li><code>title</code> title</li>\n<li><code>desc</code> description</li>\n<li><code>url</code> destination when you click image url or title</li>\n<li>空格要用引号包裹起来！</li>\n</ul>\n<h2 id=\"BILIBILI卡片\"><a target=\"_blank\" rel=\"noopener\" href=\"https://github.com/MaxChang3/hexo-bilibili-card\">BILIBILI卡片</a></h2>\n<div class=\"bvideo\">\n    <a href=\"//www.bilibili.com/video/BV1sr4y1K7Be\" target=\"_blank\">\n        <div class=\"bvideo-box\">\n            <div class=\"bvideo-cover\">\n                <div class=\"cover-default\"></div>\n                <div class=\"bvideo-cover-layer\" style=\"background-image:url(https://images.weserv.nl/?url=http://i1.hdslb.com/bfs/archive/ee23c0ab56c3e29838f1081a76cf55c5a6199bf0.jpg)\">\n                    <i class=\"icon-video\"></i>\n                </div>\n                <span class=\"duration\">52:09:00</span>\n            </div>\n            <div class=\"bvideo-info\">\n                <p class=\"title\">【PKU】高等数学（全60讲)</p>\n                <p class=\"card-status\">\n                    <span class=\"play-num\">\n                        <i class=\"fa fa-youtube-play\"></i>\n                        <span>26.9万</span></span>\n                    <span>\n                        <i class=\"fa fa-list-alt\"></i>\n                        <span>156</span></span></p>\n                <div class=\"partition\">\n                    <label class=\"card-label\">视频</label>\n                    <label class=\"up-label\"></label>\n                    <label class=\"up-name\">沉迷学习的PickleFermi</label>\n                </div>\n                <div class=\"actions hide\"></div>\n            </div>\n        </div>\n    </a>\n</div>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">{% bilicard your_video_id %}<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<h2 id=\"hexo-github-card\"><strong><a target=\"_blank\" rel=\"noopener\" href=\"https://github.com/Gisonrg/hexo-github-card\">hexo-github-card</a></strong></h2>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">{% githubCard user:your_user [repo:your_repo] [width:400] [height:200] [theme:default] [client_id:your_client_id] [client_secret:your_client_secret] [align:text-align_position] %}<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre class=\"line-numbers language-markdown\" data-language=\"markdown\"><code class=\"language-markdown\">{% githubCard user:appotry %}<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre class=\"line-numbers language-markdown\" data-language=\"markdown\"><code class=\"language-markdown\">{% githubCard user:appotry repo:hexo-github-card %}<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<div style=\"text-align: center\">\n  <div class=\"github-card\" data-user=\"appotry\" data-repo=\"\" data-height=\"200\" data-width=\"400\" data-theme=\"default\" data-target=\"\" data-client-id=\"\" data-client-secret=\"\"></div>\n</div>\n<script src=\"/github-card-lib/githubcard.js\"></script>\n\n<div style=\"text-align: center\">\n  <div class=\"github-card\" data-user=\"appotry\" data-repo=\"docker-hexo\" data-height=\"200\" data-width=\"400\" data-theme=\"default\" data-target=\"\" data-client-id=\"\" data-client-secret=\"\"></div>\n</div>\n<script src=\"/github-card-lib/githubcard.js\"></script>\n\n<div style=\"text-align: center\">\n  <div class=\"github-card\" data-user=\"appotry\" data-repo=\"PTtool\" data-height=\"200\" data-width=\"400\" data-theme=\"default\" data-target=\"\" data-client-id=\"\" data-client-secret=\"\"></div>\n</div>\n<script src=\"/github-card-lib/githubcard.js\"></script>\n\n<h2 id=\"hexo-douban-card\"><a target=\"_blank\" rel=\"noopener\" href=\"https://github.com/TankNee/hexo-douban-card\">hexo-douban-card</a></h2>\n<div class=\"douban-card-block\">\n    <a class=\"douban-card\" target=\"_blank\" rel=\"noopener\" href=\"https://movie.douban.com/subject/24745500\">\n        <div class=\"douban-card-bgimg\" style=\"background-image: url('https://images.weserv.nl/?url=https://img2.doubanio.com/view/photo/s_ratio_poster/public/p2194066391.jpg');\"></div>\n        <div class=\"douban-card-left\">\n            <div class=\"douban-card-img\" style=\"background-image: url('https://images.weserv.nl/?url=https://img2.doubanio.com/view/photo/s_ratio_poster/public/p2194066391.jpg');\"></div>\n            <div class=\"douban-card-status\">灯影绰约</div>\n        </div>\n        <div class=\"douban-card-right\">\n            <div class=\"douban-card-item\"><span>电影名: </span><strong>绣春刀(2014)</strong></div>\n            <div class=\"douban-card-item\"><span>导演: </span><span>路阳</span></div>\n            <div class=\"douban-card-item\"><span>主演: </span><span>张震/刘诗诗</span></div>\n            <div class=\"douban-card-item\"><span>上映时间: </span><span>2014-08-07(中国大陆)</span></div>\n            <div class=\"douban-card-item\"><span>评分: </span><span>7.6</span></div>\n        </div>\n    </a>\n</div>\n<style>\n    .douban-card-block {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    width: 100%;\n    max-height: 400px;\n}\n\n.douban-card {\n    display: flex;\n    margin: 30px 10px;\n    padding: 15px;\n    border-radius: 15px;\n    position: relative;\n    justify-content: center;\n    align-items: center;\n    overflow: hidden;\n    color: antiquewhite;\n    text-decoration: none;\n}\n\n.douban-card:hover {\n    text-decoration: none;\n}\n\n.douban-card-bgimg {\n    position: absolute;\n    width: 115%;\n    height: 115%;\n    filter: blur(15px) brightness(0.6);\n    background-size: 100%;\n    background-position: center;\n    background-repeat: no-repeat;\n}\n\n.douban-card-img {\n    position: relative;\n    height: 130px;\n    width: 80px;\n    background-size: 100%;\n    background-position: center;\n    background-repeat: no-repeat;\n}\n\n.douban-card-left:hover .douban-card-img {\n    filter: blur(5px) brightness(0.6);\n    transform: perspective(800px) rotateX(180deg);\n}\n\n.douban-card-left .douban-card-img {\n    transition: all 500ms ease;\n}\n\n.douban-card-left {\n    position: relative;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n}\n\n.douban-card-left .douban-card-status {\n    height: 130px;\n    width: 80px;\n    text-align: center;\n    font-weight: bold;\n    position: absolute;\n    left: 0;\n    top: 30%;\n    transform: rotateX(180deg);\n    backface-visibility: hidden;\n    transition: all 500ms ease;\n}\n\n.douban-card-left:hover .douban-card-status {\n    transform: perspective(800px) rotateX(0deg);\n}\n\n.douban-card-right {\n    position: relative;\n    display: flex;\n    flex-direction: column;\n    margin-left: 12px;\n    font-size: 16px;\n    font-family: \"Courier New\", Courier, monospace;\n    line-height: 1.3;\n    color: antiquewhite;\n}\n\n.douban-card-item {\n    margin-top: 4px;\n}\n\n</style>\n<div class=\"douban-card-block\">\n    <a class=\"douban-card\" target=\"_blank\" rel=\"noopener\" href=\"https://book.douban.com/subject/30376420\">\n        <div class=\"douban-card-bgimg\" style=\"background-image: url('https://images.weserv.nl/?url=https://img1.doubanio.com/view/subject/s/public/s30015279.jpg');\">\n        </div>\n        <div class=\"douban-card-left\">\n            <div class=\"douban-card-img\" style=\"background-image: url('https://images.weserv.nl/?url=https://img1.doubanio.com/view/subject/s/public/s30015279.jpg');\">\n            </div>\n            <div class=\"douban-card-status\">见字如晤</div>\n        </div>\n        <div class=\"douban-card-right\" style=\"line-height: 1.7;\">\n            <div class=\"douban-card-item\"><span>书名: </span><strong>一个人生活</strong></div>\n            <div class=\"douban-card-item\"><span>作者: </span><span>[日]谷川俊太郎</span></div>\n            <div class=\"douban-card-item\"><span>出版年份: </span><span>2019-3</span></div>\n            <div class=\"douban-card-item\"><span>评分: </span><span>7.1</span></div>\n        </div>\n    </a>\n</div>\n<style>\n    .douban-card-block {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    width: 100%;\n    max-height: 400px;\n}\n\n.douban-card {\n    display: flex;\n    margin: 30px 10px;\n    padding: 15px;\n    border-radius: 15px;\n    position: relative;\n    justify-content: center;\n    align-items: center;\n    overflow: hidden;\n    color: antiquewhite;\n    text-decoration: none;\n}\n\n.douban-card:hover {\n    text-decoration: none;\n}\n\n.douban-card-bgimg {\n    position: absolute;\n    width: 115%;\n    height: 115%;\n    filter: blur(15px) brightness(0.6);\n    background-size: 100%;\n    background-position: center;\n    background-repeat: no-repeat;\n}\n\n.douban-card-img {\n    position: relative;\n    height: 130px;\n    width: 80px;\n    background-size: 100%;\n    background-position: center;\n    background-repeat: no-repeat;\n}\n\n.douban-card-left:hover .douban-card-img {\n    filter: blur(5px) brightness(0.6);\n    transform: perspective(800px) rotateX(180deg);\n}\n\n.douban-card-left .douban-card-img {\n    transition: all 500ms ease;\n}\n\n.douban-card-left {\n    position: relative;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n}\n\n.douban-card-left .douban-card-status {\n    height: 130px;\n    width: 80px;\n    text-align: center;\n    font-weight: bold;\n    position: absolute;\n    left: 0;\n    top: 30%;\n    transform: rotateX(180deg);\n    backface-visibility: hidden;\n    transition: all 500ms ease;\n}\n\n.douban-card-left:hover .douban-card-status {\n    transform: perspective(800px) rotateX(0deg);\n}\n\n.douban-card-right {\n    position: relative;\n    display: flex;\n    flex-direction: column;\n    margin-left: 12px;\n    font-size: 16px;\n    font-family: \"Courier New\", Courier, monospace;\n    line-height: 1.3;\n    color: antiquewhite;\n}\n\n.douban-card-item {\n    margin-top: 4px;\n}\n\n</style>\n<div class=\"douban-card-block\">\n\t<a class=\"douban-card\" target=\"_blank\" rel=\"noopener\" href=\"https://music.douban.com/subject/35099703\">\n\t\t<div class=\"douban-card-bgimg\" style=\"background-image: url('https://images.weserv.nl/?url=https://img1.doubanio.com/view/subject/m/public/s33667479.jpg');\"></div>\n\t\t<div class=\"douban-card-left\">\n\t\t\t<div class=\"douban-card-img\" style=\"background-image: url('https://images.weserv.nl/?url=https://img1.doubanio.com/view/subject/m/public/s33667479.jpg');\"></div>\n            <div class=\"douban-card-status\">余音绕梁</div>\n        </div>\n\t\t<div class=\"douban-card-right\">\n\t\t\t<div class=\"douban-card-item\"><span>音乐名: </span><strong>María</strong></div>\n\t\t\t<div class=\"douban-card-item\"><span>表演者: </span><span>화사/华莎</span></div>\n\t\t\t<div class=\"douban-card-item\"><span>发行时间: </span><span>2020-06-30</span></div>\n\t\t\t<div class=\"douban-card-item\"><span>评分: </span><span>8.3</span></div>\n\t\t</div>\n\t</a>\n</div>\n<style>\n    .douban-card-block {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    width: 100%;\n    max-height: 400px;\n}\n\n.douban-card {\n    display: flex;\n    margin: 30px 10px;\n    padding: 15px;\n    border-radius: 15px;\n    position: relative;\n    justify-content: center;\n    align-items: center;\n    overflow: hidden;\n    color: antiquewhite;\n    text-decoration: none;\n}\n\n.douban-card:hover {\n    text-decoration: none;\n}\n\n.douban-card-bgimg {\n    position: absolute;\n    width: 115%;\n    height: 115%;\n    filter: blur(15px) brightness(0.6);\n    background-size: 100%;\n    background-position: center;\n    background-repeat: no-repeat;\n}\n\n.douban-card-img {\n    position: relative;\n    height: 130px;\n    width: 80px;\n    background-size: 100%;\n    background-position: center;\n    background-repeat: no-repeat;\n}\n\n.douban-card-left:hover .douban-card-img {\n    filter: blur(5px) brightness(0.6);\n    transform: perspective(800px) rotateX(180deg);\n}\n\n.douban-card-left .douban-card-img {\n    transition: all 500ms ease;\n}\n\n.douban-card-left {\n    position: relative;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n}\n\n.douban-card-left .douban-card-status {\n    height: 130px;\n    width: 80px;\n    text-align: center;\n    font-weight: bold;\n    position: absolute;\n    left: 0;\n    top: 30%;\n    transform: rotateX(180deg);\n    backface-visibility: hidden;\n    transition: all 500ms ease;\n}\n\n.douban-card-left:hover .douban-card-status {\n    transform: perspective(800px) rotateX(0deg);\n}\n\n.douban-card-right {\n    position: relative;\n    display: flex;\n    flex-direction: column;\n    margin-left: 12px;\n    font-size: 16px;\n    font-family: \"Courier New\", Courier, monospace;\n    line-height: 1.3;\n    color: antiquewhite;\n}\n\n.douban-card-item {\n    margin-top: 4px;\n}\n\n</style>\n\n<pre class=\"line-numbers language-markdown\" data-language=\"markdown\"><code class=\"language-markdown\">{% douban movie 24745500 %}\n\n{% douban book 30376420 %}\n\n{% douban music 35099703 %}<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<h2 id=\"插入音乐和视频\">插入音乐和视频</h2>\n<blockquote>\n<ul>\n<li>\n<p><a target=\"_blank\" rel=\"noopener\" href=\"https://github.com/MoePlayer/hexo-tag-aplayer\">hexo-tag-aplayer</a></p>\n</li>\n<li>\n<p><a target=\"_blank\" rel=\"noopener\" href=\"https://github.com/MoePlayer/hexo-tag-dplayer\">hexo-tag-dplayer</a></p>\n<p>最近做减法，去掉不必要的功能，只使用下面这个插件。</p>\n</li>\n<li>\n<p><a target=\"_blank\" rel=\"noopener\" href=\"https://github.com/u2sb/hexo-tag-mmedia\">hexo-tag-mmedia</a> 推荐使用</p>\n</li>\n</ul>\n</blockquote>\n<h3 id=\"插入音乐\">插入音乐</h3>\n<blockquote>\n<p><a target=\"_blank\" rel=\"noopener\" href=\"https://github.com/MoePlayer/hexo-tag-aplayer/blob/master/docs/README-zh_cn.md\">官方教程</a></p>\n</blockquote>\n<pre class=\"line-numbers language-markdown\" data-language=\"markdown\"><code class=\"language-markdown\">{% aplayer title author url [picture_url, narrow, autoplay, width:xxx, lrc:xxx] %}<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<ul>\n<li><code>title</code> : 曲目标题</li>\n<li><code>author</code>: 曲目作者</li>\n<li><code>url</code>: 音乐文件 URL 地址</li>\n<li><code>picture_url</code>: (可选) 音乐对应的图片地址</li>\n<li><code>narrow</code>: （可选）播放器袖珍风格</li>\n<li><code>autoplay</code>: (可选) 自动播放，移动端浏览器暂时不支持此能</li>\n<li><code>width:xxx</code>: (可选) 播放器宽度 (默认: 100%)</li>\n<li><code>lrc:xxx</code>: （可选）歌词文件 URL #### <em><strong>单曲附带歌词显示</strong></em></li>\n</ul>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">{% aplayer \"Hotel California\" \"Camille and Kennerly\" \"https://cdn.17lai.site/media/music/Hotel%20California/01%20Hotel%20California.mp3\" \"https://cdn.17lai.site/media/music/Hotel%20California/Hotel%20California.webp\" \"lrc:https://cdn.17lai.site/media/music/Hotel%20California/01%20Hotel%20California.lrc\" %}<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<h4 id=\"音乐播放列表\"><strong>音乐播放列表</strong></h4>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">{% aplayerlist %}\n{\n    \"narrow\": false,                          // （可选）播放器袖珍风格\n    \"autoplay\": true,                         // （可选) 自动播放，移动端浏览器暂时不支持此功能\n    \"mode\": \"random\",                         // （可选）曲目循环类型，有 'random'（随机播放）, 'single' (单曲播放), 'circulation' (循环播放), 'order' (列表播放)， 默认：'circulation' \n    \"showlrc\": 3,                             // （可选）歌词显示配置项，可选项有：1,2,3\n    \"mutex\": true,                            // （可选）该选项开启时，如果同页面有其他 aplayer 播放，该播放器会暂停\n    \"theme\": \"#e6d0b2\",\t                      // （可选）播放器风格色彩设置，默认：#b7daff\n    \"preload\": \"metadata\",                    // （可选）音乐文件预载入模式，可选项： 'none' 'metadata' 'auto', 默认: 'auto'\n    \"listmaxheight\": \"513px\",                 // (可选) 该播放列表的最大长度\n    \"music\": [\n        {\n            \"title\": \"CoCo\",\n            \"author\": \"Jeff Williams\",\n            \"url\": \"caffeine.mp3\",\n            \"pic\": \"caffeine.jpeg\",\n            \"lrc\": \"caffeine.txt\"\n        },\n        {\n            \"title\": \"アイロニ\",\n            \"author\": \"鹿乃\",\n            \"url\": \"irony.mp3\",\n            \"pic\": \"irony.jpg\"\n        }\n    ]\n}\n{% endaplayerlist %}<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">{% aplayerlist %}\n{\n    \"narrow\": false,\n    \"autoplay\": true, \n    \"mode\": \"random\", \n    \"showlrc\": 3, \n    \"mutex\": true, \n    \"theme\": \"#e6d0b2\",\n    \"preload\": \"metadata\", \n    \"listmaxheight\": \"513px\", \n    \"music\": [\n        {\n            \"title\": \"Hotel California\",\n            \"author\": \"Camille and Kennerly\",\n            \"url\": \"https://cdn.17lai.site/media/music/Hotel%20California/01%20Hotel%20California.mp3\",\n            \"pic\": \"https://cdn.17lai.site/media/music/Hotel%20California/Hotel%20California.webp\",\n            \"lrc\": \"https://cdn.17lai.site/media/music/Hotel%20California/01%20Hotel%20California.lrc\"\n        },\n        {\n            \"title\": \"Sold Out\",\n            \"author\": \"Diamonds\",\n            \"url\": \"https://cdn.17lai.site/media/music/Diamonds/05%20Sold%20Out.mp3\",\n            \"pic\": \"https://cdn.17lai.site/media/music/Diamonds/Diamonds.jpg\"\n        }\n    ]\n}\n{% endaplayerlist %}<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<h3 id=\"插入视频\">插入视频</h3>\n<blockquote>\n<p><a target=\"_blank\" rel=\"noopener\" href=\"http://dplayer.js.org/guide.html\">官方教程</a></p>\n</blockquote>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">{% dplayer key=value ... %}\n例：\n{% dplayer \"url=http://www.nenu.edu.cn/_upload/article/videos/03/5f/7c999eed42e3aadc413d7f851f0e/0f50b3eb-9285-41d2-ac4d-6cc363651aad_B.mp4\"  \"autoplay=true\" \"preload=metadata\" \"hotkey=true\" %} <span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n<p>有关的选项列表如下:</p>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:left\">选项</th>\n<th style=\"text-align:left\">默认值</th>\n<th style=\"text-align:left\">描述</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:left\">url</td>\n<td style=\"text-align:left\"><strong>必须值</strong></td>\n<td style=\"text-align:left\">视频地址</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">loop</td>\n<td style=\"text-align:left\"><code>false</code></td>\n<td style=\"text-align:left\">视频循环播放</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">volume</td>\n<td style=\"text-align:left\"><code>0.7</code></td>\n<td style=\"text-align:left\">播放器音量</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">hotkey</td>\n<td style=\"text-align:left\"><code>true</code></td>\n<td style=\"text-align:left\">开启热键</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">autoplay</td>\n<td style=\"text-align:left\"><code>true</code></td>\n<td style=\"text-align:left\">自动播放，移动端浏览器暂时不支持此功能</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">logo</td>\n<td style=\"text-align:left\"><code>-</code></td>\n<td style=\"text-align:left\">在左上角展示一个 logo，你可以通过 CSS 调整它的大小和位置</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">mutex</td>\n<td style=\"text-align:left\"><code>true</code></td>\n<td style=\"text-align:left\">该选项开启时，如果同页面有其他播放，该播放器会暂停</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">highlight</td>\n<td style=\"text-align:left\"><code>[]</code></td>\n<td style=\"text-align:left\">自定义进度条提示点</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">preload</td>\n<td style=\"text-align:left\"><code>auto</code></td>\n<td style=\"text-align:left\">视频文件预载入模式，可选项： <code>none</code>, <code>metadata</code>, <code>auto</code></td>\n</tr>\n<tr>\n<td style=\"text-align:left\">theme</td>\n<td style=\"text-align:left\"><code>#ad7a86</code></td>\n<td style=\"text-align:left\">播放器风格色彩设置</td>\n</tr>\n</tbody>\n</table>\n<p>注：如果使用腾讯视频、优酷视频等在线视频网站的资源，需要先进行视频地址解析，如<a target=\"_blank\" rel=\"noopener\" href=\"http://old.flvurl.cn/\">点量视频解析</a>，获取到实际的视频地址。</p>\n<p>在使用优酷或者腾讯视频时可以直接复制分享代码到文章中，如：</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">&lt;iframe height=498 width=510 src='https://player.youku.com/embed/XMjk4ODAyMzIyOA==' frameborder=0 'allowfullscreen'&gt;&lt;/iframe&gt;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<ul>\n<li><strong>dplayer</strong></li>\n</ul>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">{% dplayer \"url=http://www.nenu.edu.cn/_upload/article/videos/03/5f/7c999eed42e3aadc413d7f851f0e/0f50b3eb-9285-41d2-ac4d-6cc363651aad_B.mp4\"  \"autoplay=false\" \"preload=metadata\" \"hotkey=true\" %} <span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<ul>\n<li><strong>iframe</strong></li>\n</ul>\n<pre class=\"line-numbers language-markup\" data-language=\"markup\"><code class=\"language-markup\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>iframe</span> <span class=\"token attr-name\">height</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span>498</span> <span class=\"token attr-name\">width</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span>510</span> <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">'</span>https://player.youku.com/embed/XMjk4ODAyMzIyOA==<span class=\"token punctuation\">'</span></span> <span class=\"token attr-name\">frameborder</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span>0</span> <span class=\"token attr-name\">'allowfullscreen'</span><span class=\"token punctuation\">&gt;</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>iframe</span><span class=\"token punctuation\">&gt;</span></span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<h3 id=\"hexo-tag-mmedia使用\"><a target=\"_blank\" rel=\"noopener\" href=\"https://github.com/u2sb/hexo-tag-mmedia\">hexo-tag-mmedia</a>使用</h3>\n<blockquote>\n<p><a target=\"_blank\" rel=\"noopener\" href=\"https://www.u2sb.com/pages/7c33e5/\">官方教程</a></p>\n</blockquote>\n<h4 id=\"audio\"><strong>audio</strong></h4>\n<blockquote>\n<p>此部分请熟读 <a target=\"_blank\" rel=\"noopener\" href=\"https://www.w3.org/TR/2014/REC-html5-20141028/embedded-content-0.html#the-audio-element\">Audio 相关介绍</a></p>\n<p>目前主题中不可用</p>\n</blockquote>\n<ul>\n<li>使用 <code>:</code> 或 <code>=</code> 分割。</li>\n<li>所有 <code>&lt;audio&gt;</code> 标签的原生参数均可添加，只要能写进去就可以。</li>\n<li>具体能否实现相关标准，取决于客户端浏览器。</li>\n</ul>\n<pre class=\"line-numbers language-twig\" data-language=\"twig\"><code class=\"language-twig\"><span class=\"token twig language-twig\"><span class=\"token delimiter punctuation\">{%</span> <span class=\"token tag-name keyword\">mmedia</span> <span class=\"token string\"><span class=\"token punctuation\">\"</span>audio<span class=\"token punctuation\">\"</span></span> <span class=\"token string\"><span class=\"token punctuation\">\"</span>src:a.mp3<span class=\"token punctuation\">\"</span></span> <span class=\"token delimiter punctuation\">%}</span></span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre class=\"line-numbers language-twig\" data-language=\"twig\"><code class=\"language-twig\"><span class=\"token twig language-twig\"><span class=\"token delimiter punctuation\">{%</span> <span class=\"token tag-name keyword\">mmedia</span> <span class=\"token string\"><span class=\"token punctuation\">\"</span>audio<span class=\"token punctuation\">\"</span></span> <span class=\"token string\"><span class=\"token punctuation\">\"</span>src:https://baidu.com/a.mp3<span class=\"token punctuation\">\"</span></span> <span class=\"token string\"><span class=\"token punctuation\">\"</span>autoplay:true<span class=\"token punctuation\">\"</span></span> <span class=\"token delimiter punctuation\">%}</span></span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<h4 id=\"video\">video</h4>\n<blockquote>\n<p>此部分请熟读 <a target=\"_blank\" rel=\"noopener\" href=\"https://www.w3.org/TR/2014/REC-html5-20141028/embedded-content-0.html#the-video-element\">Video 相关介绍</a></p>\n<p>目前主题中不可用</p>\n</blockquote>\n<ul>\n<li>使用 <code>:</code> 或 <code>=</code> 分割。</li>\n<li>所有 <code>&lt;video&gt;</code> 标签的原生参数均可添加，只要能写进去就可以。</li>\n<li>具体能否实现相关标准，取决于客户端浏览器。</li>\n</ul>\n<pre class=\"line-numbers language-twig\" data-language=\"twig\"><code class=\"language-twig\"><span class=\"token twig language-twig\"><span class=\"token delimiter punctuation\">{%</span> <span class=\"token tag-name keyword\">mmedia</span> <span class=\"token string\"><span class=\"token punctuation\">\"</span>video<span class=\"token punctuation\">\"</span></span> <span class=\"token string\"><span class=\"token punctuation\">\"</span>src:a.mp4<span class=\"token punctuation\">\"</span></span> <span class=\"token delimiter punctuation\">%}</span></span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre class=\"line-numbers language-twig\" data-language=\"twig\"><code class=\"language-twig\"><span class=\"token twig language-twig\"><span class=\"token delimiter punctuation\">{%</span> <span class=\"token tag-name keyword\">mmedia</span> <span class=\"token string\"><span class=\"token punctuation\">\"</span>video<span class=\"token punctuation\">\"</span></span> <span class=\"token string\"><span class=\"token punctuation\">\"</span>src:https://baidu.com/a.mp4<span class=\"token punctuation\">\"</span></span> <span class=\"token string\"><span class=\"token punctuation\">\"</span>autoplay:true<span class=\"token punctuation\">\"</span></span> <span class=\"token delimiter punctuation\">%}</span></span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<h4 id=\"MetingJS\"><strong>MetingJS</strong></h4>\n<blockquote>\n<p>此部分请熟读 <a target=\"_blank\" rel=\"noopener\" href=\"https://github.com/metowolf/MetingJS#option\">MetingJS 文档</a></p>\n</blockquote>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:left\">option</th>\n<th style=\"text-align:center\">default</th>\n<th style=\"text-align:left\">description</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:left\">id</td>\n<td style=\"text-align:center\"><strong>require</strong></td>\n<td style=\"text-align:left\">song id / playlist id / album id / search keyword</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">server</td>\n<td style=\"text-align:center\"><strong>require</strong></td>\n<td style=\"text-align:left\">music platform: <code>netease</code>, <code>tencent</code>, <code>kugou</code>, <code>xiami</code>, <code>baidu</code></td>\n</tr>\n<tr>\n<td style=\"text-align:left\">type</td>\n<td style=\"text-align:center\"><strong>require</strong></td>\n<td style=\"text-align:left\"><code>song</code>, <code>playlist</code>, <code>album</code>, <code>search</code>, <code>artist</code></td>\n</tr>\n<tr>\n<td style=\"text-align:left\">auto</td>\n<td style=\"text-align:center\">options</td>\n<td style=\"text-align:left\">music link, support: <code>netease</code>, <code>tencent</code>, <code>xiami</code></td>\n</tr>\n<tr>\n<td style=\"text-align:left\">fixed</td>\n<td style=\"text-align:center\"><code>false</code></td>\n<td style=\"text-align:left\">enable fixed mode</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">mini</td>\n<td style=\"text-align:center\"><code>false</code></td>\n<td style=\"text-align:left\">enable mini mode</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">autoplay</td>\n<td style=\"text-align:center\"><code>false</code></td>\n<td style=\"text-align:left\">audio autoplay</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">theme</td>\n<td style=\"text-align:center\"><code>#2980b9</code></td>\n<td style=\"text-align:left\">main color</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">loop</td>\n<td style=\"text-align:center\"><code>all</code></td>\n<td style=\"text-align:left\">player loop play, values: ‘all’, ‘one’, ‘none’</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">order</td>\n<td style=\"text-align:center\"><code>list</code></td>\n<td style=\"text-align:left\">player play order, values: ‘list’, ‘random’</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">preload</td>\n<td style=\"text-align:center\"><code>auto</code></td>\n<td style=\"text-align:left\">values: ‘none’, ‘metadata’, ‘auto’</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">volume</td>\n<td style=\"text-align:center\"><code>0.7</code></td>\n<td style=\"text-align:left\">default volume, notice that player will remember user setting, default volume will not work after user set volume themselves</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">mutex</td>\n<td style=\"text-align:center\"><code>true</code></td>\n<td style=\"text-align:left\">prevent to play multiple player at the same time, pause other players when this player start play</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">lrc-type</td>\n<td style=\"text-align:center\"><code>0</code></td>\n<td style=\"text-align:left\">lyric type</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">list-folded</td>\n<td style=\"text-align:center\"><code>false</code></td>\n<td style=\"text-align:left\">indicate whether list should folded at first</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">list-max-height</td>\n<td style=\"text-align:center\"><code>340px</code></td>\n<td style=\"text-align:left\">list max height</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">storage-name</td>\n<td style=\"text-align:center\"><code>metingjs</code></td>\n<td style=\"text-align:left\">localStorage key that store player setting</td>\n</tr>\n</tbody>\n</table>\n<p>Documentation for APlayer can be found at https://aplayer.js.org/#/home?id=options</p>\n<p><strong>单曲</strong></p>\n<pre class=\"line-numbers language-twig\" data-language=\"twig\"><code class=\"language-twig\"><span class=\"token twig language-twig\"><span class=\"token delimiter punctuation\">{%</span> <span class=\"token tag-name keyword\">mmedia</span> <span class=\"token string\"><span class=\"token punctuation\">\"</span>meting<span class=\"token punctuation\">\"</span></span> <span class=\"token string\"><span class=\"token punctuation\">\"</span>auto=https://y.qq.com/n/ryqq/songDetail/0005RQAO3FqG5K<span class=\"token punctuation\">\"</span></span> <span class=\"token delimiter punctuation\">%}</span></span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre class=\"line-numbers language-twig\" data-language=\"twig\"><code class=\"language-twig\"><span class=\"token twig language-twig\"><span class=\"token delimiter punctuation\">{%</span> <span class=\"token tag-name keyword\">mmedia</span> <span class=\"token string\"><span class=\"token punctuation\">\"</span>meting<span class=\"token punctuation\">\"</span></span> <span class=\"token string\"><span class=\"token punctuation\">\"</span>auto=https://y.qq.com/n/yqq/song/001RGrEX3ija5X.html<span class=\"token punctuation\">\"</span></span> <span class=\"token delimiter punctuation\">%}</span></span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre class=\"line-numbers language-twig\" data-language=\"twig\"><code class=\"language-twig\"><span class=\"token twig language-twig\"><span class=\"token delimiter punctuation\">{%</span> <span class=\"token tag-name keyword\">mmedia</span> <span class=\"token string\"><span class=\"token punctuation\">\"</span>meting<span class=\"token punctuation\">\"</span></span> <span class=\"token string\"><span class=\"token punctuation\">\"</span>server=netease<span class=\"token punctuation\">\"</span></span>\t<span class=\"token string\"><span class=\"token punctuation\">\"</span>type=playlist<span class=\"token punctuation\">\"</span></span>\t<span class=\"token string\"><span class=\"token punctuation\">\"</span>id=60198<span class=\"token punctuation\">\"</span></span> <span class=\"token delimiter punctuation\">%}</span></span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<h4 id=\"Aplayer\"><strong>Aplayer</strong></h4>\n<p>详细参数表：</p>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:left\">参数</th>\n<th style=\"text-align:left\">默认</th>\n<th style=\"text-align:left\">解释</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:left\">name</td>\n<td style=\"text-align:left\">-</td>\n<td style=\"text-align:left\">audio name</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">artist</td>\n<td style=\"text-align:left\">-</td>\n<td style=\"text-align:left\">audio artist</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">url</td>\n<td style=\"text-align:left\">-</td>\n<td style=\"text-align:left\">audio url</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">cover</td>\n<td style=\"text-align:left\">-</td>\n<td style=\"text-align:left\">audio cover</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">lrc</td>\n<td style=\"text-align:left\">-</td>\n<td style=\"text-align:left\">audio lrc</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">theme</td>\n<td style=\"text-align:left\">-</td>\n<td style=\"text-align:left\">audio theme</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">type</td>\n<td style=\"text-align:left\">auto</td>\n<td style=\"text-align:left\">audio type 可选 ‘auto’, ‘hls’, ‘normal’</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">autoplay</td>\n<td style=\"text-align:left\">false</td>\n<td style=\"text-align:left\">autoplay</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">loop</td>\n<td style=\"text-align:left\">‘all’</td>\n<td style=\"text-align:left\">player loop play, values: ‘all’, ‘one’, ‘none’</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">order</td>\n<td style=\"text-align:left\">‘list’</td>\n<td style=\"text-align:left\">player play order, values: ‘list’, ‘random’</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">volume</td>\n<td style=\"text-align:left\">0.7</td>\n<td style=\"text-align:left\">default volume,</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">tlistMaxHeight</td>\n<td style=\"text-align:left\">-</td>\n<td style=\"text-align:left\">list max height</td>\n</tr>\n</tbody>\n</table>\n<p>不在表格内的参数请使用下面 JSON 类型的参数。</p>\n<p>mmedia 插件允许在 contents 部分使用 JSON 编写配置，由于允许使用 JSON5，此项配置几乎与 APlayer 完全一致。</p>\n<ul>\n<li><strong>单曲</strong></li>\n</ul>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">{% mmedia \"aplayer\" \"name:Hotel California\" \"artist:Camille and Kennerly\" \"url:https://cdn.17lai.site/media/music/Hotel%20California/01%20Hotel%20California.mp3\" \"lrc:https://cdn.17lai.site/media/music/Hotel%20California/01%20Hotel%20California.lrc\" \"cover:https://cdn.17lai.site/media/music/Hotel%20California/Hotel%20California.webp\" \"volume:0.66\" %}<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<link rel=\"stylesheet\" href=\"https://cdn.jsdelivr.net/npm/aplayer@1/dist/APlayer.min.css\"><script src=\"https://cdn.jsdelivr.net/npm/aplayer@1/dist/APlayer.min.js\"></script><div id=\"mmedia-cHjWsaZKhiyAyUte\"></div><script> var cHjWsaZKhiyAyUte_options = JSON.parse('{\\\"lrcType\\\":3,\\\"volume\\\":0.66,\\\"autoplay\\\":false,\\\"audio\\\":[{\\\"name\\\":\\\"Hotel California\\\",\\\"artist\\\":\\\"Camille and Kennerly\\\",\\\"url\\\":\\\"https://cdn.17lai.site/media/music/Hotel%20California/01%20Hotel%20California.mp3\\\",\\\"lrc\\\":\\\"https://cdn.17lai.site/media/music/Hotel%20California/01%20Hotel%20California.lrc\\\",\\\"cover\\\":\\\"https://cdn.17lai.site/media/music/Hotel%20California/Hotel%20California.webp\\\"}]}'); cHjWsaZKhiyAyUte_options.container = document.getElementById(\"mmedia-cHjWsaZKhiyAyUte\"); const ap_cHjWsaZKhiyAyUte = new APlayer(cHjWsaZKhiyAyUte_options); </script>\n\n- **列表**\n\n<link rel=\"stylesheet\" href=\"https://cdn.jsdelivr.net/npm/aplayer@1/dist/APlayer.min.css\"><script src=\"https://cdn.jsdelivr.net/npm/aplayer@1/dist/APlayer.min.js\"></script><div id=\"mmedia-atolnKbOrCCcVvHD\"></div><script> var atolnKbOrCCcVvHD_options = JSON.parse('{\\\"lrcType\\\":3,\\\"volume\\\":0.8,\\\"autoplay\\\":false,\\\"audio\\\":[{\\\"name\\\":\\\"Hotel California\\\",\\\"artist\\\":\\\"Camille and Kennerly\\\",\\\"url\\\":\\\"https://cdn.17lai.site/media/music/Hotel%20California/01%20Hotel%20California.mp3\\\",\\\"cover\\\":\\\"https://cdn.17lai.site/media/music/Hotel%20California/Hotel%20California.webp\\\",\\\"lrc\\\":\\\"https://cdn.17lai.site/media/music/Hotel%20California/01%20Hotel%20California.lrc\\\",\\\"theme\\\":\\\"#ebd0c2\\\"},{\\\"name\\\":\\\"Sold Out\\\",\\\"artist\\\":\\\"Diamonds\\\",\\\"url\\\":\\\"https://cdn.17lai.site/media/music/Diamonds/05%20Sold%20Out.mp3\\\",\\\"cover\\\":\\\"https://cdn.17lai.site/media/music/Diamonds/Diamonds.jpg\\\",\\\"theme\\\":\\\"#ebd0c2\\\"},{\\\"name\\\":\\\"The Final Bell\\\",\\\"artist\\\":\\\"Rocky_Original Motion Picture Score\\\",\\\"url\\\":\\\"https://cdn.17lai.site/media/music/Rocky_%20Original%20Motion%20Picture%20Score/12%20Bill%20Conti%20-%20The%20Final%20Bell.mp3\\\",\\\"cover\\\":\\\"https://cdn.17lai.site/media/music/Rocky_%20Original%20Motion%20Picture%20Score/Rocky_%20Original%20Motion%20Picture%20Score.jpg\\\",\\\"theme\\\":\\\"#ebd0c2\\\"},{\\\"name\\\":\\\" Croatian Rhapsody\\\",\\\"artist\\\":\\\"The Piano Player\\\",\\\"url\\\":\\\"https://cdn.17lai.site/media/music/The%20Piano%20Player/11%20Croatian%20Rhapsody.mp3\\\",\\\"cover\\\":\\\"https://cdn.17lai.site/media/music/The%20Piano%20Player/The%20Piano%20Player.jpg\\\",\\\"theme\\\":\\\"#ebd0c2\\\"}]}'); atolnKbOrCCcVvHD_options.container = document.getElementById(\"mmedia-atolnKbOrCCcVvHD\"); const ap_atolnKbOrCCcVvHD = new APlayer(atolnKbOrCCcVvHD_options); </script>\n<p><strong>例子</strong></p>\n<pre class=\"line-numbers language-twig\" data-language=\"twig\"><code class=\"language-twig\"><span class=\"token twig language-twig\"><span class=\"token delimiter punctuation\">{%</span> <span class=\"token tag-name keyword\">mmedias</span> <span class=\"token string\"><span class=\"token punctuation\">\"</span>aplayer<span class=\"token punctuation\">\"</span></span> <span class=\"token string\"><span class=\"token punctuation\">\"</span>autoplay:false<span class=\"token punctuation\">\"</span></span> <span class=\"token delimiter punctuation\">%}</span></span>\n{\n  \"volume\": 0.8,\n  \"audio\":\n  [\n    {\n      \"name\": \"name1\",\n      \"artist\": \"artist1\",\n      \"url\": \"url1.mp3\",\n      \"cover\": \"cover1.jpg\",\n      \"lrc\": \"lrc1.lrc\",\n      \"theme\": \"#ebd0c2\"\n    },\n    {\n      \"name\": \"name2\",\n      \"artist\": \"artist2\",\n      \"url\": \"url2.mp3\",\n      \"cover\": \"cover2.jpg\",\n      \"lrc\": \"lrc2.lrc\",\n      \"theme\": \"#46718b\"\n    }\n  ]\n}\n<span class=\"token twig language-twig\"><span class=\"token delimiter punctuation\">{%</span> <span class=\"token tag-name keyword\">endmmedias</span> <span class=\"token delimiter punctuation\">%}</span></span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<h4 id=\"Dplayer\">Dplayer</h4>\n<blockquote>\n<p>此部分请熟读 <a target=\"_blank\" rel=\"noopener\" href=\"http://dplayer.js.org/\">DPlayer 文档</a></p>\n</blockquote>\n<pre class=\"line-numbers language-twig\" data-language=\"twig\"><code class=\"language-twig\"><span class=\"token twig language-twig\"><span class=\"token delimiter punctuation\">{%</span> <span class=\"token tag-name keyword\">mmedia</span> <span class=\"token string\"><span class=\"token punctuation\">\"</span>dplayer<span class=\"token punctuation\">\"</span></span> <span class=\"token string\"><span class=\"token punctuation\">\"</span>url:a.mp4<span class=\"token punctuation\">\"</span></span> <span class=\"token delimiter punctuation\">%}</span></span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre class=\"line-numbers language-twig\" data-language=\"twig\"><code class=\"language-twig\"><span class=\"token twig language-twig\"><span class=\"token delimiter punctuation\">{%</span> <span class=\"token tag-name keyword\">mmedias</span> <span class=\"token string\"><span class=\"token punctuation\">\"</span>dplayer<span class=\"token punctuation\">\"</span></span> <span class=\"token string\"><span class=\"token punctuation\">\"</span>flv:<span class=\"token punctuation\">\"</span></span> <span class=\"token string\"><span class=\"token punctuation\">\"</span>url:https://dandoc.u2sb.com/video/%E5%AE%89%E8%A3%85/1-%E6%95%B0%E6%8D%AE%E5%BA%93%E5%AE%89%E8%A3%85.mp4<span class=\"token punctuation\">\"</span></span> <span class=\"token delimiter punctuation\">%}</span></span>\n{\n  \"contextmenu\":\n  [\n    {\n      text: \"custom1\",\n      link: \"https://github.com/DIYgod/DPlayer\"\n    }\n  ]\n}\n<span class=\"token twig language-twig\"><span class=\"token delimiter punctuation\">{%</span> <span class=\"token tag-name keyword\">endmmedias</span> <span class=\"token delimiter punctuation\">%}</span></span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<pre class=\"line-numbers language-twig\" data-language=\"twig\"><code class=\"language-twig\"><span class=\"token twig language-twig\"><span class=\"token delimiter punctuation\">{%</span> <span class=\"token tag-name keyword\">mmedia</span> <span class=\"token string\"><span class=\"token punctuation\">\"</span>dplayer<span class=\"token punctuation\">\"</span></span> <span class=\"token string\"><span class=\"token punctuation\">\"</span>url:https://sample-videos.com/video123/mp4/720/big_buck_bunny_720p_1mb.mp4<span class=\"token punctuation\">\"</span></span> <span class=\"token delimiter punctuation\">%}</span></span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">{% mmedia \"dplayer\" \"url:https://sample-videos.com/video123/mp4/720/big_buck_bunny_720p_1mb.mp4\" %}<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre class=\"line-numbers language-twig\" data-language=\"twig\"><code class=\"language-twig\"><span class=\"token twig language-twig\"><span class=\"token delimiter punctuation\">{%</span> <span class=\"token tag-name keyword\">mmedias</span> <span class=\"token string\"><span class=\"token punctuation\">\"</span>dplayer<span class=\"token punctuation\">\"</span></span> <span class=\"token delimiter punctuation\">%}</span></span>\n{\n  video: \n  {\n    url: \"https://sample-videos.com/video123/mp4/720/big_buck_bunny_720p_1mb.mp4\"\n  }\n}\n<span class=\"token twig language-twig\"><span class=\"token delimiter punctuation\">{%</span> <span class=\"token tag-name keyword\">endmmedias</span> <span class=\"token delimiter punctuation\">%}</span></span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<h4 id=\"哔哩哔哩\">哔哩哔哩</h4>\n<p>详细参数表：</p>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:left\">参数</th>\n<th style=\"text-align:left\">默认</th>\n<th style=\"text-align:left\">解释</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:left\">aid</td>\n<td style=\"text-align:left\">-</td>\n<td style=\"text-align:left\">aid</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">bvid</td>\n<td style=\"text-align:left\">-</td>\n<td style=\"text-align:left\">bvid，与 aid 同时出现时以 bvid 为准</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">page</td>\n<td style=\"text-align:left\">1</td>\n<td style=\"text-align:left\">page</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">danmaku</td>\n<td style=\"text-align:left\">true</td>\n<td style=\"text-align:left\">是否有弹幕 ture or false</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">allowfullscreen</td>\n<td style=\"text-align:left\">allowfullscreen</td>\n<td style=\"text-align:left\">允许全屏， allowfullscreen 或 true 允许，其他选项不允许</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">sandbox</td>\n<td style=\"text-align:left\">见 <a target=\"_blank\" rel=\"noopener\" href=\"https://www.u2sb.com/pages/19d343/#%E9%85%8D%E7%BD%AE\">配置</a></td>\n<td style=\"text-align:left\">iframe sandbox</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">width</td>\n<td style=\"text-align:left\">100%</td>\n<td style=\"text-align:left\">css 属性</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">max_width</td>\n<td style=\"text-align:left\">850px</td>\n<td style=\"text-align:left\">css 属性</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">margin</td>\n<td style=\"text-align:left\">auto</td>\n<td style=\"text-align:left\">css 属性</td>\n</tr>\n</tbody>\n</table>\n<p>mmedia 插件允许在 contents 部分使用 JSON 编写配置，使用 JSON5 标准。</p>\n<pre class=\"line-numbers language-twig\" data-language=\"twig\"><code class=\"language-twig\"><span class=\"token twig language-twig\"><span class=\"token delimiter punctuation\">{%</span> <span class=\"token tag-name keyword\">mmedia</span> <span class=\"token string\"><span class=\"token punctuation\">\"</span>bilibili<span class=\"token punctuation\">\"</span></span> <span class=\"token string\"><span class=\"token punctuation\">\"</span>bvid:BV1fs411S7u7<span class=\"token punctuation\">\"</span></span> <span class=\"token delimiter punctuation\">%}</span></span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<h4 id=\"西瓜视频\">西瓜视频</h4>\n<p>详细参数表：</p>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:left\">参数</th>\n<th style=\"text-align:left\">默认</th>\n<th style=\"text-align:left\">解释</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:left\">xid</td>\n<td style=\"text-align:left\">-</td>\n<td style=\"text-align:left\">西瓜视频的 ID，就是那一串数字</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">id</td>\n<td style=\"text-align:left\">-</td>\n<td style=\"text-align:left\">一般情况下不需要填写</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">autoplay</td>\n<td style=\"text-align:left\">false</td>\n<td style=\"text-align:left\">autoplay</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">startTime</td>\n<td style=\"text-align:left\">0</td>\n<td style=\"text-align:left\">开始时间，秒</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">allowfullscreen</td>\n<td style=\"text-align:left\">allowfullscreen</td>\n<td style=\"text-align:left\">允许全屏， allowfullscreen 或 true 允许，其他选项不允许</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">sandbox</td>\n<td style=\"text-align:left\">见 <a target=\"_blank\" rel=\"noopener\" href=\"https://www.u2sb.com/pages/a0c4a7/#%E9%85%8D%E7%BD%AE\">配置</a></td>\n<td style=\"text-align:left\">iframe sandbox</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">width</td>\n<td style=\"text-align:left\">100%</td>\n<td style=\"text-align:left\">css 属性</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">max_width</td>\n<td style=\"text-align:left\">850px</td>\n<td style=\"text-align:left\">css 属性</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">margin</td>\n<td style=\"text-align:left\">auto</td>\n<td style=\"text-align:left\">css 属性</td>\n</tr>\n</tbody>\n</table>\n<pre class=\"line-numbers language-twig\" data-language=\"twig\"><code class=\"language-twig\"><span class=\"token twig language-twig\"><span class=\"token delimiter punctuation\">{%</span> <span class=\"token tag-name keyword\">mmedia</span> <span class=\"token string\"><span class=\"token punctuation\">\"</span>xigua<span class=\"token punctuation\">\"</span></span> <span class=\"token string\"><span class=\"token punctuation\">\"</span>xid=6925997698269053453<span class=\"token punctuation\">\"</span></span> <span class=\"token delimiter punctuation\">%}</span></span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre class=\"line-numbers language-twig\" data-language=\"twig\"><code class=\"language-twig\"><span class=\"token twig language-twig\"><span class=\"token delimiter punctuation\">{%</span> <span class=\"token tag-name keyword\">mmedia</span> <span class=\"token string\"><span class=\"token punctuation\">\"</span>xigua<span class=\"token punctuation\">\"</span></span> <span class=\"token string\"><span class=\"token punctuation\">\"</span>xid:6925997698269053453<span class=\"token punctuation\">\"</span></span> <span class=\"token string\"><span class=\"token punctuation\">\"</span>autoplay:true<span class=\"token punctuation\">\"</span></span> <span class=\"token delimiter punctuation\">%}</span></span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre class=\"line-numbers language-twig\" data-language=\"twig\"><code class=\"language-twig\"><span class=\"token twig language-twig\"><span class=\"token delimiter punctuation\">{%</span> <span class=\"token tag-name keyword\">mmedia</span> <span class=\"token string\"><span class=\"token punctuation\">\"</span>xigua<span class=\"token punctuation\">\"</span></span> <span class=\"token string\"><span class=\"token punctuation\">\"</span>xid=6925997698269053453<span class=\"token punctuation\">\"</span></span> <span class=\"token delimiter punctuation\">%}</span></span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<h4 id=\"ArtPlayer\">ArtPlayer</h4>\n<blockquote>\n<p>此部分请熟读 <a target=\"_blank\" rel=\"noopener\" href=\"https://artplayer.org/document/#/options\">ArtPlayer 文档</a></p>\n</blockquote>\n<ul>\n<li>使用 <code>:</code> 或 <code>=</code> 分割。</li>\n</ul>\n<p>详细参数表：</p>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:left\">参数</th>\n<th style=\"text-align:left\">默认</th>\n<th style=\"text-align:left\">解释</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:left\">url</td>\n<td style=\"text-align:left\">-</td>\n<td style=\"text-align:left\">url</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">title</td>\n<td style=\"text-align:left\">-</td>\n<td style=\"text-align:left\">title</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">poster</td>\n<td style=\"text-align:left\">-</td>\n<td style=\"text-align:left\">poster</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">type</td>\n<td style=\"text-align:left\">-</td>\n<td style=\"text-align:left\">type</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">autoplay</td>\n<td style=\"text-align:left\">false</td>\n<td style=\"text-align:left\">video autoplay</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">loop</td>\n<td style=\"text-align:left\">false</td>\n<td style=\"text-align:left\">video loop</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">volume</td>\n<td style=\"text-align:left\">0.7</td>\n<td style=\"text-align:left\">default volume</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">style</td>\n<td style=\"text-align:left\">-</td>\n<td style=\"text-align:left\">style</td>\n</tr>\n</tbody>\n</table>\n<p>上面有一个比较特殊的参数 flv，这里单独解释一下，这个参数是用于引入其他 js 文件的，目前支持的有： <code>hls</code> <code>dash</code> <code>shaka_dash</code> <code>flv</code> <code>webtorrent</code> ，上述参数可多个一起使用，如果后面带有 js 地址，将直接使用，否则将使用 <code>_config.yml</code> 配置或插件默认配置，如：</p>\n<pre class=\"line-numbers language-twig\" data-language=\"twig\"><code class=\"language-twig\"><span class=\"token twig language-twig\"><span class=\"token delimiter punctuation\">{%</span> <span class=\"token tag-name keyword\">mmedia</span> <span class=\"token string\"><span class=\"token punctuation\">\"</span>artplayer<span class=\"token punctuation\">\"</span></span> <span class=\"token string\"><span class=\"token punctuation\">\"</span>flv:<span class=\"token punctuation\">\"</span></span> <span class=\"token string\"><span class=\"token punctuation\">\"</span>url:a.flv<span class=\"token punctuation\">\"</span></span> <span class=\"token delimiter punctuation\">%}</span></span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre class=\"line-numbers language-twig\" data-language=\"twig\"><code class=\"language-twig\"><span class=\"token twig language-twig\"><span class=\"token delimiter punctuation\">{%</span> <span class=\"token tag-name keyword\">mmedias</span> <span class=\"token string\"><span class=\"token punctuation\">\"</span>artplayer<span class=\"token punctuation\">\"</span></span> <span class=\"token string\"><span class=\"token punctuation\">\"</span>flv:<span class=\"token punctuation\">\"</span></span> <span class=\"token string\"><span class=\"token punctuation\">\"</span>hls:https://cdn.jsdelivr.net/npm/hls.js/dist/hls.min.js<span class=\"token punctuation\">\"</span></span> <span class=\"token delimiter punctuation\">%}</span></span>\n{\n  ...\n}\n<span class=\"token twig language-twig\"><span class=\"token delimiter punctuation\">{%</span> <span class=\"token tag-name keyword\">endmmedias</span> <span class=\"token delimiter punctuation\">%}</span></span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<pre class=\"line-numbers language-twig\" data-language=\"twig\"><code class=\"language-twig\"><span class=\"token twig language-twig\"><span class=\"token delimiter punctuation\">{%</span> <span class=\"token tag-name keyword\">mmedia</span> <span class=\"token string\"><span class=\"token punctuation\">\"</span>artplayer<span class=\"token punctuation\">\"</span></span> <span class=\"token string\"><span class=\"token punctuation\">\"</span>url:https://dandoc.u2sb.com/video/%E5%AE%89%E8%A3%85/1-%E6%95%B0%E6%8D%AE%E5%BA%93%E5%AE%89%E8%A3%85.mp4<span class=\"token punctuation\">\"</span></span> <span class=\"token delimiter punctuation\">%}</span></span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre class=\"line-numbers language-twig\" data-language=\"twig\"><code class=\"language-twig\"><span class=\"token twig language-twig\"><span class=\"token delimiter punctuation\">{%</span> <span class=\"token tag-name keyword\">mmedias</span> <span class=\"token string\"><span class=\"token punctuation\">\"</span>artplayer<span class=\"token punctuation\">\"</span></span> <span class=\"token string\"><span class=\"token punctuation\">\"</span>flv:<span class=\"token punctuation\">\"</span></span>  <span class=\"token delimiter punctuation\">%}</span></span>\n{\n  url: \"https://dandoc.u2sb.com/video/%E5%AE%89%E8%A3%85/1-%E6%95%B0%E6%8D%AE%E5%BA%93%E5%AE%89%E8%A3%85.mp4\"\n}\n<span class=\"token twig language-twig\"><span class=\"token delimiter punctuation\">{%</span> <span class=\"token tag-name keyword\">endmmedias</span> <span class=\"token delimiter punctuation\">%}</span></span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">{% mmedia \"artplayer\" \"url:https://sample-videos.com/video123/mp4/720/big_buck_bunny_720p_2mb.mp4\" %}<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">{% mmedias \"artplayer\" %}\n{\n  url: \"https://sample-videos.com/video123/mp4/720/big_buck_bunny_720p_2mb.mp4\"\n}\n{% endmmedias %}<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<p><strong>bilibili</strong></p>\n<style>.bbplayer{width: 100%; max-width: 850px; margin: auto}</style><div class=\"bbplayer\"><iframe class=\"bbplayer\" id=\"mmedia-KiAZZvIjAinCJWoZ\" src=\"https://player.bilibili.com/player.html?bvid=BV1fs411S7u7&amp;page=1&amp;high_quality=1&amp;danmaku=true\" allowfullscreen=\"allowfullscreen\" scrolling=\"no\" border=\"0\" frameborder=\"0\" framespacing=\"0\" sandbox=\"allow-top-navigation allow-same-origin allow-forms allow-scripts allow-popups\"></iframe></div><script> document.getElementById(\"mmedia-KiAZZvIjAinCJWoZ\").style.height=document.getElementById(\"mmedia-KiAZZvIjAinCJWoZ\").scrollWidth*0.76+\"px\";\n    window.onresize = function(){\n      document.getElementById(\"mmedia-KiAZZvIjAinCJWoZ\").style.height=document.getElementById(\"mmedia-KiAZZvIjAinCJWoZ\").scrollWidth*0.76+\"px\";\n    }; </script>\n\n**xigua**\n\n<style>.xgplayer{width: 100%; max-width: 850px; margin: auto}</style><div class=\"xgplayer\"><iframe class=\"xgplayer\" id=\"mmedia-WdAoqoScfhIlIrIZ\" src=\"https://www.ixigua.com/iframe/6925997698269053453?autoplay=0&amp;startTime=undefined\" allowfullscreen=\"allowfullscreen\" scrolling=\"no\" border=\"0\" frameborder=\"0\" framespacing=\"0\" sandbox=\"allow-top-navigation allow-same-origin allow-forms allow-scripts allow-popups\"></iframe></div><script> document.getElementById(\"mmedia-WdAoqoScfhIlIrIZ\").style.height=document.getElementById(\"mmedia-WdAoqoScfhIlIrIZ\").scrollWidth*0.7+\"px\";\n    window.onresize = function(){\n      document.getElementById(\"mmedia-WdAoqoScfhIlIrIZ\").style.height=document.getElementById(\"mmedia-WdAoqoScfhIlIrIZ\").scrollWidth*0.7+\"px\";\n    }; </script>\n\n**artplayer**\n\n<script src=\"https://cdn.jsdelivr.net/npm/artplayer@3/dist/artplayer.js\"></script><div id=\"mmedia-ILHGqDTdFEsCwFyb\" style=\"width:100%;height:650px;max-width:1200px;center\"></div><script> var ILHGqDTdFEsCwFyb_options = JSON.parse('{\\\"style\\\":\\\"width:100%;height:650px;max-width:1200px;center\\\",\\\"autoSize\\\":true,\\\"autoMini\\\":true,\\\"fullscreen\\\":true,\\\"fullscreenWeb\\\":true,\\\"url\\\":\\\"https://sample-videos.com/video123/mp4/720/big_buck_bunny_720p_2mb.mp4\\\"}'); ILHGqDTdFEsCwFyb_options.container = \"#mmedia-ILHGqDTdFEsCwFyb\"; const art_ILHGqDTdFEsCwFyb = new Artplayer(ILHGqDTdFEsCwFyb_options); </script>\n<h2 id=\"脑图\"><a target=\"_blank\" rel=\"noopener\" href=\"https://github.com/MaxChang3/hexo-markmap\">脑图</a></h2>\n<blockquote>\n<p><a target=\"_blank\" rel=\"noopener\" href=\"https://zhangmaimai.com/2021/02/23/hexo-mindmap-plugin/\">原作者记录</a></p>\n</blockquote>\n<p>如果你的博客安装了 pjax 请开启此项配置</p>\n<pre class=\"line-numbers language-yaml\" data-language=\"yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">hexo_markmap</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">pjax</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n    <div class=\"markmap-container\" style=\"height:250px\">\n      <svg data=\"{&quot;t&quot;:&quot;root&quot;,&quot;d&quot;:0,&quot;v&quot;:&quot;&quot;,&quot;c&quot;:[{&quot;t&quot;:&quot;list_item&quot;,&quot;d&quot;:2,&quot;p&quot;:{&quot;lines&quot;:[0,1]},&quot;v&quot;:&quot;使用现有的插件或组件？&quot;,&quot;c&quot;:[{&quot;t&quot;:&quot;list_item&quot;,&quot;d&quot;:4,&quot;p&quot;:{&quot;lines&quot;:[1,2]},&quot;v&quot;:&quot;Mermaid：更偏向流程图&quot;},{&quot;t&quot;:&quot;list_item&quot;,&quot;d&quot;:4,&quot;p&quot;:{&quot;lines&quot;:[2,3]},&quot;v&quot;:&quot;Kityminder&quot;,&quot;c&quot;:[{&quot;t&quot;:&quot;list_item&quot;,&quot;d&quot;:6,&quot;p&quot;:{&quot;lines&quot;:[3,4]},&quot;v&quot;:&quot;现成hexo插件有些小问题。&quot;},{&quot;t&quot;:&quot;list_item&quot;,&quot;d&quot;:6,&quot;p&quot;:{&quot;lines&quot;:[4,5]},&quot;v&quot;:&quot;二次开发，失败&quot;}]}]},{&quot;t&quot;:&quot;list_item&quot;,&quot;d&quot;:2,&quot;p&quot;:{&quot;lines&quot;:[5,6]},&quot;v&quot;:&quot;找寻相关项目？&quot;},{&quot;t&quot;:&quot;list_item&quot;,&quot;d&quot;:2,&quot;p&quot;:{&quot;lines&quot;:[6,7]},&quot;v&quot;:&quot;Markmap大法！&quot;,&quot;c&quot;:[{&quot;t&quot;:&quot;list_item&quot;,&quot;d&quot;:4,&quot;p&quot;:{&quot;lines&quot;:[7,8]},&quot;v&quot;:&quot;直接弄，失败&quot;},{&quot;t&quot;:&quot;list_item&quot;,&quot;d&quot;:4,&quot;p&quot;:{&quot;lines&quot;:[8,9]},&quot;v&quot;:&quot;使用jsdom，失败&quot;},{&quot;t&quot;:&quot;list_item&quot;,&quot;d&quot;:4,&quot;p&quot;:{&quot;lines&quot;:[9,10]},&quot;v&quot;:&quot;寻找现成库，成功&quot;}]},{&quot;t&quot;:&quot;list_item&quot;,&quot;d&quot;:2,&quot;p&quot;:{&quot;lines&quot;:[10,11]},&quot;v&quot;:&quot;咕咕咕咕咕咕咕咕咕咕咕咕&quot;},{&quot;t&quot;:&quot;list_item&quot;,&quot;d&quot;:2,&quot;p&quot;:{&quot;lines&quot;:[11,12]},&quot;v&quot;:&quot;凑一下行数让版面好看点&quot;},{&quot;t&quot;:&quot;list_item&quot;,&quot;d&quot;:2,&quot;p&quot;:{&quot;lines&quot;:[12,13]},&quot;v&quot;:&quot;现已支持&nbsp;<strong>markdown</strong>&quot;}],&quot;p&quot;:{}}\"></svg>\n    </div>\n  \n<pre class=\"line-numbers language-markdown\" data-language=\"markdown\"><code class=\"language-markdown\">{% markmap 250px %}\n<span class=\"token list punctuation\">-</span> 使用现有的插件或组件？\n    <span class=\"token list punctuation\">-</span> Mermaid：更偏向流程图\n    <span class=\"token list punctuation\">-</span> Kityminder\n        <span class=\"token list punctuation\">-</span> 现成hexo插件有些小问题。\n        <span class=\"token list punctuation\">-</span> 二次开发，失败\n<span class=\"token list punctuation\">-</span> 找寻相关项目？\n<span class=\"token list punctuation\">-</span> Markmap大法！\n  <span class=\"token list punctuation\">-</span> 直接弄，失败\n  <span class=\"token list punctuation\">-</span> 使用jsdom，失败\n  <span class=\"token list punctuation\">-</span> 寻找现成库，成功\n<span class=\"token list punctuation\">-</span> 咕咕咕咕咕咕咕咕咕咕咕咕\n<span class=\"token list punctuation\">-</span> 凑一下行数让版面好看点\n<span class=\"token list punctuation\">-</span> 现已支持 <span class=\"token bold\"><span class=\"token punctuation\">**</span><span class=\"token content\">markdown</span><span class=\"token punctuation\">**</span></span>\n{% endmarkmap %}<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<h2 id=\"系列教程-25\"><strong>系列教程</strong></h2>\n<p><a href=\"https://blog.17lai.site/atom.xml\">全部文章RSS订阅</a></p>\n<p><strong>Hexo系列</strong>  <a href=\"https://blog.17lai.site/categories/hexo/atom.xml\"><strong>HexoRSS分类订阅</strong></a></p>\n<p>[三万字教程]基于Hexo的matery主题搭建博客并深度优化完全一站式教程</p>\n<ul>\n<li>\n<p><a href=\"https://blog.17lai.site/posts/40300608/\">Hexo Docker环境与Hexo基础配置篇</a></p>\n</li>\n<li>\n<p><a href=\"https://blog.17lai.site/posts/4d8a0b22/\">hexo博客自定义修改篇</a></p>\n</li>\n<li>\n<p><a href=\"https://blog.17lai.site/posts/9b056c86/\">hexo博客网络优化篇</a></p>\n</li>\n<li>\n<p><a href=\"https://blog.17lai.site/posts/5311b619/\">hexo博客增强部署篇</a></p>\n</li>\n<li>\n<p><a href=\"https://blog.17lai.site/posts/4a2050e2/\">hexo博客个性定制篇</a></p>\n</li>\n<li>\n<p><a href=\"https://blog.17lai.site/posts/84b4059a/\">hexo博客常见问题篇</a></p>\n</li>\n<li>\n<p><a href=\"https://blog.17lai.site/posts/cf0f47fd/\">Hexo Markdown以及各种插件功能测试</a></p>\n</li>\n</ul>\n<blockquote>\n<ul>\n<li>markdown 各种其它语法插件</li>\n<li>latex公式支持</li>\n<li>mermaid图表</li>\n<li>plant uml图表</li>\n<li>URL卡片</li>\n<li>bilibili卡片</li>\n<li>github卡片</li>\n<li>豆瓣卡片</li>\n<li>插入音乐和视频</li>\n<li>插入脑图</li>\n</ul>\n</blockquote>\n<p><strong>笔记系列</strong>  <a href=\"https://blog.17lai.site/categories/note/atom.xml\"><strong>Note分类RSS订阅</strong></a></p>\n<ul>\n<li><a href=\"https://blog.17lai.site/posts/a8535f26/\">完美笔记进化论</a></li>\n</ul>\n<blockquote>\n<p>经历了很长时间，使用了各种各样的方案，最终选择了一种相对完美的方式。docker私有部署运行的joplin，使用markdown语法，github作为图床，picgo作为图像自动上传后端，pypora作为MD编辑器，Snipaste作为截图工具。后备gitlab ee selfhost备份，自建图床VPS多线负载均衡。cloudflare partner cdn加速，jsdelivr加速。</p>\n<ul>\n<li>pigo图床搭建与配置</li>\n<li>Joplin教程</li>\n<li>Snipaste截图工具</li>\n<li>Typora 作为Markdown编辑器最强</li>\n</ul>\n</blockquote>\n<ul>\n<li><a target=\"_blank\" rel=\"noopener\" href=\"https://blog.17lai.fun/posts/e6086437/\">Joplin入门指南&amp;实践方案</a></li>\n</ul>\n<blockquote>\n<ul>\n<li>Joplin和使用</li>\n<li>Joplin同步与备份</li>\n<li>Joplin导入与导出</li>\n</ul>\n</blockquote>\n<ul>\n<li><a target=\"_blank\" rel=\"noopener\" href=\"https://blog.17lai.fun/posts/45f878cd/\">替代Evernote免费开源笔记Joplin-网盘同步笔记历史版本Markdown可视化</a></li>\n</ul>\n<blockquote>\n<ul>\n<li>Joplin安装使用，调用外部编辑器，网盘同步等等</li>\n</ul>\n</blockquote>\n<ul>\n<li><a href=\"https://blog.17lai.site/posts/92d347d6/\">Joplin 插件以及其Markdown语法。All in One!</a></li>\n</ul>\n<blockquote>\n<ul>\n<li>Joplin简明教程</li>\n<li>markdown语法简明教程</li>\n</ul>\n</blockquote>\n<ul>\n<li><a href=\"https://blog.17lai.site/posts/e3ee7f8b/\">Joplin 插件使用推荐</a></li>\n</ul>\n<blockquote>\n<ul>\n<li>教你用各种插件打造一个强大的笔记工具。</li>\n</ul>\n</blockquote>\n<ul>\n<li><a href=\"https://blog.17lai.site/posts/1802a8a7/\">为知笔记私有化Docker部署</a></li>\n</ul>\n<blockquote>\n<ul>\n<li>如何部署自己私有的为知笔记。</li>\n<li>其实博主更推荐私有部署joplin</li>\n</ul>\n</blockquote>\n<hr class=\"footnotes-sep\">\n<section class=\"footnotes\">\n<ol class=\"footnotes-list\">\n<li id=\"fn1\" class=\"footnote-item\"><p>Here is the footnote. <a href=\"#fnref1\" class=\"footnote-backref\">↩︎</a></p>\n</li>\n<li id=\"fn2\" class=\"footnote-item\"><p>Here's one with multiple blocks.</p>\n<p>Subsequent paragraphs are indented to show that they <a href=\"#fnref2\" class=\"footnote-backref\">↩︎</a></p>\n</li>\n</ol>\n</section>\n<link rel=\"stylesheet\" href=\"/css/bilicard.css\" type=\"text/css\">",
            "tags": [
                "mermaid",
                "hexo",
                "plantuml",
                "mathjax"
            ]
        },
        {
            "id": "https://blog.17lai.site/posts/40300608/",
            "url": "https://blog.17lai.site/posts/40300608/",
            "title": "[三万字教程]基于Hexo的matery主题搭建博客并深度优化一站式完全教程",
            "date_published": "2021-09-10T14:25:00.000Z",
            "content_html": "<blockquote>\n<p>All in one 一站式Hexo配置优化教程！</p>\n<ul>\n<li>本文很长，特别长，如果你遇到了什么问题，可以尝试搜索本文，你很可能有收获！ <code>CtRL + F</code></li>\n<li>欢迎光临博主的独立博客 <a href=\"https://blog.17lai.site/\">夜法之书</a></li>\n<li>本文就教你搭建一个美观实用的博客系统，步骤极尽详细！</li>\n<li>本文中提到的大量特性，已经被博主提交到<a target=\"_blank\" rel=\"noopener\" href=\"https://github.com/blinkfox/hexo-theme-matery\">matery</a>主题develop分支，提交记录见<a target=\"_blank\" rel=\"noopener\" href=\"https://github.com/blinkfox/hexo-theme-matery/commits?author=appotry\">Commit</a>。所以下面很多特性已经不用自己修改了，可以直接使用。</li>\n<li>参考列表放到了最后一篇末尾，去找找看，里面能发现一些好东西。</li>\n</ul>\n</blockquote>\n<p><img src=\"https://cimg1.17lai.site/data/2021/11/0520211105195951.jpg\" alt=\"为什么写博客\"></p>\n<blockquote>\n<p>最终效果如下图所示！</p>\n<ul>\n<li>支持<mark>离线访问</mark>。</li>\n<li>支持<mark>浅色/深色</mark>模式。</li>\n<li>支持文章<mark>RSS订阅</mark>，并支持<mark>文章分类订阅</mark>。</li>\n<li>看板娘<mark>文字功能提示</mark>。</li>\n<li>支持新博文<mark>订阅通知</mark>，右下角小铃铛点击订阅！ <u>chrome用户可能由于网络原因链接不到Google的服务器而看不到这个小铃铛</u>。edge 和 Firefox 用户可以正常订阅。</li>\n</ul>\n</blockquote>\n<p><img src=\"https://cimg1.17lai.site/data/2022/03/2720220327072647.png\" alt=\"支持离线模式\"></p>\n<blockquote>\n<p>service worker 实现的渐进式App，不仅可以离线浏览，还可以加速缓存访问！</p>\n</blockquote>\n<p><img src=\"https://cimg1.17lai.site/data/2022/03/2720220327072647-1.png\" alt=\"博客深色模式\"></p>\n<blockquote>\n<p>深色模式，夜晚保护您的视力！</p>\n</blockquote>\n<p><img src=\"https://cimg1.17lai.site/data/2022/03/2720220327072844.png\" alt=\"RSS订阅与文章分类订阅\"></p>\n<blockquote>\n<p>RSS Hub 和 TTRSS 私有部署实现订阅。</p>\n<p>配合浏览器扩展 <a target=\"_blank\" rel=\"noopener\" href=\"https://github.com/DIYgod/RSSHub-Radar\">RSSHub Radar (opens new window)</a>和 移动端辅助 App <a target=\"_blank\" rel=\"noopener\" href=\"https://github.com/Cay-Zhang/RSSBud\">RSSBud (opens new window)</a>(iOS) 与 <a target=\"_blank\" rel=\"noopener\" href=\"https://github.com/LeetaoGoooo/RSSAid\">RSSAid (opens new window)</a>(Android) 食用。</p>\n</blockquote>\n<p><img src=\"https://cimg1.17lai.site/data/2022/03/2920220329182729.png\" alt=\"看板娘触发文字提示\"></p>\n<blockquote>\n<ul>\n<li>对所有菜单和常用按钮做了文字功能提示。</li>\n<li>支持看板娘模型切换，服装切换，某些模型还有语音互动！</li>\n<li>看板娘还可以自定义时间提示，特殊节日提示等等。参考 <a href=\"https://blog.17lai.site/posts/4a2050e2/\">Hexo博客个性定制篇</a>中来完成吧。</li>\n</ul>\n</blockquote>\n<p><img src=\"https://cimg1.17lai.site/data/2022/04/0220220402074306.png\" alt=\"博客性能优化\"></p>\n<blockquote>\n<p>经过多次优化，新版看板娘资源异步加载体积大拖累的性能分数。其它几乎都是满分了！</p>\n<p>大量使用本地缓存，牺牲了第一次加载的体积，保证了第二次打开几乎都是使用缓存，异步加载对第一次渲染速度影响不大，但可以极大的提高第二次来自后续的访问速度！</p>\n</blockquote>\n<p><strong>Hexo系列</strong>  <a href=\"https://blog.17lai.site/categories/hexo/atom.xml\"><strong>HexoRSS分类订阅</strong></a></p>\n<p>[三万字教程]基于Hexo的matery主题搭建博客并深度优化完全一站式教程</p>\n<ul>\n<li>\n<p><a href=\"https://blog.17lai.site/posts/40300608/\">Hexo Docker环境与Hexo基础配置篇</a></p>\n</li>\n<li>\n<p><a href=\"https://blog.17lai.site/posts/4d8a0b22/\">hexo博客自定义修改篇</a></p>\n</li>\n<li>\n<p><a href=\"https://blog.17lai.site/posts/9b056c86/\">hexo博客网络优化篇</a></p>\n</li>\n<li>\n<p><a href=\"https://blog.17lai.site/posts/5311b619/\">hexo博客增强部署篇</a></p>\n</li>\n<li>\n<p><a href=\"https://blog.17lai.site/posts/4a2050e2/\">hexo博客个性定制篇</a></p>\n</li>\n<li>\n<p><a href=\"https://blog.17lai.site/posts/84b4059a/\">hexo博客常见问题篇</a></p>\n</li>\n<li>\n<p><a href=\"https://blog.17lai.site/posts/cf0f47fd/\">Hexo Markdown以及各种插件功能测试</a></p>\n</li>\n</ul>\n<blockquote>\n<ul>\n<li>markdown 各种其它语法插件</li>\n<li>latex公式支持</li>\n<li>mermaid图表</li>\n<li>plant uml图表</li>\n<li>URL卡片</li>\n<li>bilibili卡片</li>\n<li>github卡片</li>\n<li>豆瓣卡片</li>\n<li>插入音乐和视频</li>\n<li>插入脑图</li>\n</ul>\n</blockquote>\n<h2 id=\"Hexo-Docker环境使用篇\">Hexo Docker环境使用篇</h2>\n<h3 id=\"Docker-简介：\">Docker 简介：</h3>\n<blockquote>\n<p>Docker 是一种轻量级的虚拟机环境，可以隔离主机的运行环境，内核公用主机的，运行库和环境是 Docker 私有的。运行 Docker 程序只比主机直接运行程序性能损失微乎其微。使用 Docker 你可以同时运行各种各样运行库环境而不用担心搞乱你的主机运行库环境！</p>\n<p>Docker 运行负载远小于 Vmware 这类虚拟机， Vmware 需要模拟对应的CPU指令，再虚机运行一个虚拟机自己的内核，再这个虚拟机内核之上，再运行虚拟机的运行库和程序。比 Docker 多了一个内核模拟和运行，Cpu 和内存开销大增！</p>\n</blockquote>\n<h3 id=\"Docker-版-hexo-环境一键部署\">Docker 版 hexo 环境一键部署</h3>\n<blockquote>\n<p>博主开源定制，推荐使用！省去您大量环境配置时间。</p>\n<p>使用Hexo Docker之前需要Docker 环境，请参阅后文Docker安装方法</p>\n<ul>\n<li><a target=\"_blank\" rel=\"noopener\" href=\"https://hub.docker.com/r/bloodstar/hexo\">docker-hub</a></li>\n<li><a target=\"_blank\" rel=\"noopener\" href=\"https://github.com/appotry/docker-hexo\">Github-hexo</a></li>\n</ul>\n</blockquote>\n<div style=\"text-align: center\">\n  <div class=\"github-card\" data-user=\"appotry\" data-repo=\"docker-hexo\" data-height=\"200\" data-width=\"400\" data-theme=\"default\" data-target=\"\" data-client-id=\"\" data-client-secret=\"\"></div>\n</div>\n<script src=\"/github-card-lib/githubcard.js\"></script>\n\n<p>使用推荐Docker来搭配本文，阅读使用，将更省事，方便，快捷。hexo环境一键搞定！</p>\n<p>Docker一键安装</p>\n<pre class=\"line-numbers language-yaml\" data-language=\"yaml\"><code class=\"language-yaml\">docker create <span class=\"token punctuation\">-</span><span class=\"token punctuation\">-</span>name=hexo \\\n<span class=\"token punctuation\">-</span>e HEXO_SERVER_PORT=4000 \\\n<span class=\"token punctuation\">-</span>e GIT_USER=\"17lai\" \\\n<span class=\"token punctuation\">-</span>e GIT_EMAIL=\"17lai@domain.tld\" \\\n<span class=\"token punctuation\">-</span>v /mnt/blog.17lai.site<span class=\"token punctuation\">:</span>/app \\\n<span class=\"token punctuation\">-</span>p 4000<span class=\"token punctuation\">:</span>4000 \\\nbloodstar/hexo<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<h3 id=\"hexo-web-后台写作\">hexo web 后台写作</h3>\n<blockquote>\n<p>基于 <strong><a target=\"_blank\" rel=\"noopener\" href=\"https://github.com/jaredly/hexo-admin\">hexo-admin</a></strong> 实现，具体配置实现方法见<a href=\"https://blog.17lai.site/posts/40300608/\">后文</a>。</p>\n<p>最终效果如下图所示。<code> blog.17lai.fun</code> 访问<code>blog</code>， 添加后缀 <code>admin</code> 访问 <code>hexo</code> 后台。</p>\n<p>使用前面提到的 hexo docker ，启动运行 hexo docker 后，非自动安装 hexo-admin 以及常用插件，你也可以自定义安装你虚幻的插件， <code>vi /app/useRun.sh</code>。</p>\n</blockquote>\n<p><img src=\"https://cimg1.17lai.site/data/2022/03/2620220326133730.png\" alt=\"hexo-admin 主界面\"></p>\n<p><img src=\"https://cimg1.17lai.site/data/2022/03/2620220326133825.png\" alt=\"hexo-admin 编辑写作界面\"></p>\n<p>配置 hexo-admin 根目录下<code>_config.yml</code>:</p>\n<pre class=\"line-numbers language-yaml\" data-language=\"yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">admin</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">username</span><span class=\"token punctuation\">:</span> myfavoritename <span class=\"token comment\">#用户名</span>\n  <span class=\"token key atrule\">password_hash</span><span class=\"token punctuation\">:</span> be121740bf988b2225a313fa1f107ca1 <span class=\"token comment\">#密码</span>\n  <span class=\"token key atrule\">secret</span><span class=\"token punctuation\">:</span> a secret something <span class=\"token comment\"># secret is used to make the cookies secure</span>\n  <span class=\"token key atrule\">deployCommand</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'/app/tools/cide.sh'</span>  <span class=\"token comment\"># 自定义的部署脚本，在 hexo admin 的 deploy 标签页 deploy 按钮点击调用</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<p>配置 post metadata 根目录下<code>_config.yml</code>:</p>\n<pre class=\"line-numbers language-yaml\" data-language=\"yaml\"><code class=\"language-yaml\"><span class=\"token comment\"># add and edit your own post metadata with the admin interface</span>\n<span class=\"token key atrule\">metadata</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">author_id</span><span class=\"token punctuation\">:</span> defaultAuthorId\n  language<span class=\"token punctuation\">:</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n<h3 id=\"ssh-key-部署\">ssh key 部署</h3>\n<p><strong>Docker会自动随机生成ssh key</strong> 在 /app/.ssh 目录下面。自动部署请把ssh key添加到github 等平台。</p>\n<p><a target=\"_blank\" rel=\"noopener\" href=\"https://docs.github.com/cn/authentication/connecting-to-github-with-ssh/adding-a-new-ssh-key-to-your-github-account\">Github详细教程</a></p>\n<blockquote>\n<ol>\n<li>将<strong>SSH</strong> 公钥复制到剪贴板。 ...</li>\n<li>在任何页面的右上角，单击您的个人资料照片，然后单击Settings（设置）。</li>\n<li>在用户设置侧边栏中，单击<strong>SSH</strong> and GPG keys（<strong>SSH</strong> 和GPG 密钥）。</li>\n<li>单击New <strong>SSH</strong> key（新<strong>SSH</strong> 密钥）或Add <strong>SSH</strong> key（添加<strong>SSH</strong> 密钥）。</li>\n</ol>\n</blockquote>\n<h3 id=\"SSH-进入docker\">SSH 进入docker</h3>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">docker</span> <span class=\"token builtin class-name\">exec</span> -it hexo /bin/bash<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p>然后就可以正常运行hexo的各种命令了，是不是非常简单？ 快来试试吧。</p>\n<h3 id=\"远程-SSH-访问Docker\">远程 SSH 访问Docker</h3>\n<blockquote>\n<p>推荐使用<code>SecurtCRT</code> 来远程访问你的<code>Docker</code>。</p>\n</blockquote>\n<p><img src=\"https://cimg1.17lai.site/data/2022/03/2620220326140201.png\" alt=\"SecurtCRT\"></p>\n<h3 id=\"自定义用户自动运行脚本\">自定义用户自动运行脚本</h3>\n<blockquote>\n<p>用户可以在这里添加自动配置，自动安装插件，等各种启动docker运行的命令。</p>\n<p>它将在Docker启动完成后自动调用运行！</p>\n</blockquote>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">vi</span> /app/useRun.sh<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<h3 id=\"反向代理-Hexo-Docker\">反向代理 Hexo Docker</h3>\n<blockquote>\n<p><em>Nginx</em> (engine x) 是一个高性能的HTTP和反向代理web服务器，同时也提供了IMAP/POP3/SMTP服务。</p>\n<ul>\n<li>\n<p>一些测试可能需要ssl支持，那么用nginx来反向代理一下，就可以在本地愉快的测试ssl加密功能了。</p>\n</li>\n<li>\n<p>访问docker，需要 <code>192.168.0.100:4000</code>这样数字<code>ip + 端口号</code>的方式不觉得很丑陋，而且需要开大量的端口，使用nginx反向代理，可以直接使用域名访问。</p>\n</li>\n<li>\n<p>如果你想使用<code>blog.17lai.fun</code>这样的域名访问你的 docker 里面运行的博客，请参考下文。</p>\n</li>\n</ul>\n</blockquote>\n<p>Nginx也使用docker来运行，<code>blog.17lai.fun</code>为本地域名，修改本地hosts dns信息来访问。</p>\n<h4 id=\"docker-compose-配置\">docker compose 配置</h4>\n<pre class=\"line-numbers language-yaml\" data-language=\"yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">nginxweb</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">image</span><span class=\"token punctuation\">:</span> bloodstar/nginx<span class=\"token punctuation\">-</span>purge\n  <span class=\"token key atrule\">container_name</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"nginxweb\"</span>\n  <span class=\"token key atrule\">hostname</span><span class=\"token punctuation\">:</span> nginxweb\n  <span class=\"token key atrule\">ports</span><span class=\"token punctuation\">:</span>\n    <span class=\"token punctuation\">-</span> <span class=\"token string\">\"80:80\"</span>\n    <span class=\"token punctuation\">-</span> <span class=\"token string\">\"443:443\"</span>\n  <span class=\"token key atrule\">restart</span><span class=\"token punctuation\">:</span> always\n  <span class=\"token key atrule\">volumes</span><span class=\"token punctuation\">:</span>\n    <span class=\"token comment\"># ${USERDIR}为你docker运行目录</span>\n    <span class=\"token punctuation\">-</span> $<span class=\"token punctuation\">{</span>USERDIR<span class=\"token punctuation\">}</span>/nginx/conf.d<span class=\"token punctuation\">:</span>/etc/nginx/conf.d<span class=\"token punctuation\">:</span>ro\n    <span class=\"token punctuation\">-</span> $<span class=\"token punctuation\">{</span>USERDIR<span class=\"token punctuation\">}</span>/nginxproxy/certs<span class=\"token punctuation\">:</span>/etc/nginx/certs<span class=\"token punctuation\">:</span>ro\n    <span class=\"token punctuation\">-</span> $<span class=\"token punctuation\">{</span>USERDIR<span class=\"token punctuation\">}</span>/nginx/nginx.conf<span class=\"token punctuation\">:</span>/etc/nginx/nginx.conf<span class=\"token punctuation\">:</span>ro<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<ul>\n<li><a target=\"_blank\" rel=\"noopener\" href=\"https://hub.docker.com/r/bloodstar/nginx-purge\">bloodstar/nginx-purge</a></li>\n</ul>\n<div style=\"text-align: center\">\n  <div class=\"github-card\" data-user=\"appotry\" data-repo=\"nginx-purge-docker\" data-height=\"200\" data-width=\"400\" data-theme=\"default\" data-target=\"\" data-client-id=\"\" data-client-secret=\"\"></div>\n</div>\n<script src=\"/github-card-lib/githubcard.js\"></script>\n\n<h4 id=\"nginx配置\">nginx配置</h4>\n<p>文件 <code>blog.conf</code> ，配置文件放到<code>${USERDIR}/nginx/conf.d</code>目录中</p>\n<pre class=\"line-numbers language-nginx\" data-language=\"nginx\"><code class=\"language-nginx\"><span class=\"token directive\"><span class=\"token keyword\">upstream</span> blog</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token directive\"><span class=\"token keyword\">server</span> hexo:4000</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token directive\"><span class=\"token keyword\">server</span></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token directive\"><span class=\"token keyword\">listen</span> <span class=\"token number\">80</span></span><span class=\"token punctuation\">;</span>\n    <span class=\"token directive\"><span class=\"token keyword\">listen</span> <span class=\"token number\">443</span> ssl http2</span><span class=\"token punctuation\">;</span>\n    <span class=\"token directive\"><span class=\"token keyword\">server_name</span>  blog.17lai.fun</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token directive\"><span class=\"token keyword\">ssl_certificate</span> /etc/nginx/certs/17lai.pem</span><span class=\"token punctuation\">;</span>\n    <span class=\"token directive\"><span class=\"token keyword\">ssl_certificate_key</span> /etc/nginx/certs/17lai.key</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token directive\"><span class=\"token keyword\">ssl_session_cache</span> shared:aria2SSL:10m</span><span class=\"token punctuation\">;</span>\n    <span class=\"token directive\"><span class=\"token keyword\">ssl_session_timeout</span>  <span class=\"token number\">30m</span></span><span class=\"token punctuation\">;</span>\n    <span class=\"token comment\">#ssl_ciphers ECDHE-RSA-AES128-GCM-SHA256:ECDHE:ECDH:AES:HIGH:!NULL:!aNULL:!MD5:!ADH:!RC4;</span>\n    <span class=\"token directive\"><span class=\"token keyword\">ssl_ciphers</span> EECDH+CHACHA20:EECDH+AES128:RSA+AES128:EECDH+AES256:RSA+AES256:EECDH+3DES:RSA+3DES:!MD5</span><span class=\"token punctuation\">;</span>\n    <span class=\"token directive\"><span class=\"token keyword\">ssl_protocols</span> TLSv1 TLSv1.1 TLSv1.2</span><span class=\"token punctuation\">;</span>\n    <span class=\"token directive\"><span class=\"token keyword\">ssl_prefer_server_ciphers</span> <span class=\"token boolean\">on</span></span><span class=\"token punctuation\">;</span>\n    \n    <span class=\"token directive\"><span class=\"token keyword\">access_log</span> /var/log/nginx/blog.17lai.fun_access.log combined</span><span class=\"token punctuation\">;</span>\n    <span class=\"token directive\"><span class=\"token keyword\">error_log</span>  /var/log/nginx/blog.17lai.fun_error.log</span><span class=\"token punctuation\">;</span>\n    \n    <span class=\"token directive\"><span class=\"token keyword\">keepalive_requests</span> <span class=\"token number\">10000</span></span><span class=\"token punctuation\">;</span>\n    \n    <span class=\"token directive\"><span class=\"token keyword\">location</span> /</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token comment\">#proxy_redirect off;</span>\n        <span class=\"token directive\"><span class=\"token keyword\">proxy_pass</span> http://blog</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token directive\"><span class=\"token keyword\">proxy_buffering</span> <span class=\"token boolean\">off</span></span><span class=\"token punctuation\">;</span>\n        \n        <span class=\"token directive\"><span class=\"token keyword\">add_header</span> X-Cache-Status <span class=\"token variable\">$upstream_cache_status</span></span><span class=\"token punctuation\">;</span>\n        <span class=\"token directive\"><span class=\"token keyword\">proxy_set_header</span> Host <span class=\"token variable\">$http_host</span></span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token directive\"><span class=\"token keyword\">proxy_set_header</span> X-Forwarded-Proto <span class=\"token variable\">$scheme</span></span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token directive\"><span class=\"token keyword\">proxy_set_header</span> X-Real-IP <span class=\"token variable\">$remote_addr</span></span><span class=\"token punctuation\">;</span>\n        <span class=\"token directive\"><span class=\"token keyword\">proxy_set_header</span>  X-Forwarded-Ssl     <span class=\"token boolean\">on</span></span><span class=\"token punctuation\">;</span>\n        <span class=\"token directive\"><span class=\"token keyword\">proxy_set_header</span>  X-Forwarded-For     <span class=\"token variable\">$proxy_add_x_forwarded_for</span></span><span class=\"token punctuation\">;</span>      \n        <span class=\"token directive\"><span class=\"token keyword\">proxy_set_header</span>  X-Frame-Options     SAMEORIGIN</span><span class=\"token punctuation\">;</span>\n        \n        <span class=\"token directive\"><span class=\"token keyword\">proxy_set_header</span> Upgrade <span class=\"token variable\">$http_upgrade</span></span><span class=\"token punctuation\">;</span>\n        <span class=\"token directive\"><span class=\"token keyword\">proxy_set_header</span> Connection <span class=\"token string\">\"upgrade\"</span></span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span> \n<span class=\"token punctuation\">}</span>\n<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<h4 id=\"Windows-DNS修改\">Windows DNS修改</h4>\n<p>windows hosts文件路径为： <code>C:\\Windows\\System32\\drivers\\etc\\HOSTS</code></p>\n<p>管理员权限用文本编辑器打开这个文件并添加 <code>192.168.0.100 blog.17lai.fun</code>，然后，你就可以在本地浏览器中使用域名访问你的blog了！</p>\n<h4 id=\"Linux-DNS-修改\">Linux DNS 修改</h4>\n<p>Linux hosts 文件路径为： <code>/etc/hosts</code></p>\n<p>用文本编辑器或者命令行工具<code>vim</code>打开这个文件并添加 <code>192.168.0.100 blog.17lai.fun</code>，然后，你就可以在本地浏览器中使用域名访问你的blog了！</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token comment\"># root用户一条指令搞定</span>\n<span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"192.168.0.100 blog.17lai.fun\"</span> <span class=\"token operator\">&gt;&gt;</span> /etc/hosts\n\n<span class=\"token comment\">#或者使用 vi 或者 vim</span>\n<span class=\"token function\">vi</span> /etc/hosts<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<h4 id=\"获取-SSL-证书\">获取 SSL 证书</h4>\n<blockquote>\n<ul>\n<li>如果你购买了域名，可以在域名服务商获得免费的ssl证书。</li>\n<li>自己生成<u><em>私有证书</em></u>，使用时需要给本地计算机，浏览器添加<mark>你自己的根证书</mark>，才能使你的ssl 证书在<mark>你自己的浏览器</mark>中生效。</li>\n</ul>\n</blockquote>\n<blockquote>\n<p>使用Hexo Docker之前需要Docker 环境，下面是Docker 环境安装方法。</p>\n</blockquote>\n<h3 id=\"Centos-安装Docker\"><strong>Centos 安装Docker</strong></h3>\n<p><strong>X86</strong>（一键安装脚本）：</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">curl</span> -sSL https://get.docker.com/ <span class=\"token operator\">|</span> <span class=\"token function\">sh</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p><strong>Arm</strong>：</p>\n<p>步骤1</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">sudo</span> yum <span class=\"token function\">install</span> -y yum-utils device-mapper-persistent-data lvm2<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p>步骤2</p>\n<p>添加仓库</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">sudo</span> yum-config-manager --add-repo https://download.docker.com/linux/centos/docker-ce.repo<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p>步骤3</p>\n<p>安装Docker</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">sudo</span> yum <span class=\"token function\">install</span> docker-ce docker-ce-cli containerd.io<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p><img src=\"https://cimg1.17lai.site/data/2022/03/2420220324173951.png\" alt=\"centos docker\"></p>\n<p><img src=\"https://cimg1.17lai.site/data/2022/03/2420220324173951-1.png\" alt=\"centos docker\">完成安装</p>\n<p>步骤4</p>\n<p>启动Docker</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">sudo</span> systemctl start <span class=\"token function\">docker</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<h3 id=\"QNAP-安装Docker\">QNAP 安装Docker</h3>\n<blockquote>\n<p>在系统应用的AppCenter中找到 Container  Station，可以直接点击安装即可。</p>\n</blockquote>\n<p><img src=\"https://cimg1.17lai.site/data/2022/03/2620220326110013.png\" alt=\"qnap docker\"></p>\n<h3 id=\"群晖-安装-Docker\">群晖 安装 Docker</h3>\n<p>首先要说的是，x86 平台的群晖才能用的上 <code>Docker</code> 套件，因此，ARM 架构平台的群晖只能说非常遗憾了。<br>\n　　打开套件中心，在 “所有套件” 中找到 <code>Docker</code> 并安装：</p>\n<p><img src=\"https://cimg1.17lai.site/data/2022/03/2620220326111828.png\" alt=\"群晖 Docker\"></p>\n<h2 id=\"Hexo入门篇\">Hexo入门篇</h2>\n<h3 id=\"Hexo-通用简明教程\">Hexo 通用简明教程</h3>\n<p><a target=\"_blank\" rel=\"noopener\" href=\"https://hexo.io/zh-cn/\">Hexo</a> 是一个快速、简洁且高效的博客框架。Hexo 使用 <a target=\"_blank\" rel=\"noopener\" href=\"http://daringfireball.net/projects/markdown/\">Markdown</a>（或其他渲染引擎）解析文章，在几秒内，即可利用靓丽的主题生成静态网页。</p>\n<h4 id=\"前提-2\">前提</h4>\n<p>安装 Hexo 相当简单，只需要先安装下列应用程序即可：</p>\n<ul>\n<li><a target=\"_blank\" rel=\"noopener\" href=\"http://nodejs.org/\">Node.js</a> (Node.js 版本需不低于 8.10，建议使用 Node.js 10.0 及以上版本)</li>\n<li><a target=\"_blank\" rel=\"noopener\" href=\"http://git-scm.com/\">Git</a></li>\n<li><a target=\"_blank\" rel=\"noopener\" href=\"https://www.npmjs.com/\">nmp</a></li>\n</ul>\n<h4 id=\"安装-8\">安装</h4>\n<p>所有必备的应用程序安装完成后，即可使用 npm 安装 Hexo。</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">npm</span> <span class=\"token function\">install</span> -g hexo-cli<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p>安装以后，可以使用以下两种方式执行 Hexo：</p>\n<ol>\n<li><code>npx hexo</code></li>\n<li>将 Hexo 所在的目录下的 <code>node_modules</code> 添加到环境变量之中即可直接使用： <code>hexo</code></li>\n</ol>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token builtin class-name\">echo</span> <span class=\"token string\">'PATH=\"$PATH:./node_modules/.bin\"'</span> <span class=\"token operator\">&gt;&gt;</span> ~/.profile<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<h4 id=\"升级\">升级</h4>\n<p>后期需要升级的化，进入 blog 目录，先检查更新:</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">$ <span class=\"token function\">npm</span> outdated\nPackage                  Current  Wanted  Latest  Location\nhexo                       <span class=\"token number\">3.9</span>.0   <span class=\"token number\">3.9</span>.0   <span class=\"token number\">4.2</span>.0  hexo-site\nhexo-deployer-git          <span class=\"token number\">1.0</span>.0   <span class=\"token number\">1.0</span>.0   <span class=\"token number\">2.1</span>.0  hexo-site\nhexo-generator-archive     <span class=\"token number\">0.1</span>.5   <span class=\"token number\">0.1</span>.5   <span class=\"token number\">1.0</span>.0  hexo-site\nhexo-generator-category    <span class=\"token number\">0.1</span>.3   <span class=\"token number\">0.1</span>.3   <span class=\"token number\">1.0</span>.0  hexo-site\nhexo-generator-feed        <span class=\"token number\">1.2</span>.2   <span class=\"token number\">1.2</span>.2   <span class=\"token number\">2.2</span>.0  hexo-site\nhexo-generator-index       <span class=\"token number\">0.2</span>.1   <span class=\"token number\">0.2</span>.1   <span class=\"token number\">1.0</span>.0  hexo-site\nhexo-generator-tag         <span class=\"token number\">0.2</span>.0   <span class=\"token number\">0.2</span>.0   <span class=\"token number\">1.0</span>.0  hexo-site\nhexo-renderer-ejs          <span class=\"token number\">0.3</span>.1   <span class=\"token number\">0.3</span>.1   <span class=\"token number\">1.0</span>.0  hexo-site\nhexo-renderer-marked       <span class=\"token number\">0.3</span>.2   <span class=\"token number\">0.3</span>.2   <span class=\"token number\">2.0</span>.0  hexo-site\nhexo-renderer-stylus       <span class=\"token number\">0.3</span>.3   <span class=\"token number\">0.3</span>.3   <span class=\"token number\">1.1</span>.0  hexo-site\nhexo-server                <span class=\"token number\">0.3</span>.3   <span class=\"token number\">0.3</span>.3   <span class=\"token number\">1.0</span>.0  hexo-site<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<p>修改 <code>package.json</code> 文件，基于 <code>Latest</code> 列内容更新版本号，然后更新并检查版本号：</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">$ <span class=\"token function\">npm</span> <span class=\"token function\">install</span> --save\n\n<span class=\"token comment\"># 检查版本号</span>\n$ hexo -v\nhexo: <span class=\"token number\">4.2</span>.0\nhexo-cli: <span class=\"token number\">3.1</span>.0\n<span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<h4 id=\"建站\">建站</h4>\n<p>安装 Hexo 完成后，请执行下列命令，Hexo 将会在指定文件夹中新建所需要的文件。</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">hexo init <span class=\"token operator\">&lt;</span>folder<span class=\"token operator\">&gt;</span>\n<span class=\"token builtin class-name\">cd</span> <span class=\"token operator\">&lt;</span>folder<span class=\"token operator\">&gt;</span>\n<span class=\"token function\">npm</span> <span class=\"token function\">install</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n<h4 id=\"启动网页服务\">启动网页服务</h4>\n<p>此时，通过 <code>hexo s</code> 命令即可在本地启动您的博客站点了。</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">$ hexo s\nINFO  Start processing\nINFO  Hexo is running at http://localhost:4000 <span class=\"token builtin class-name\">.</span> Press Ctrl+C to stop.<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n<p>接下来将安装主题，配置博客托管平台，实现一键发布并刷新 CDN 缓存。</p>\n<h3 id=\"npm下载加速\">npm下载加速</h3>\n<h4 id=\"安装淘宝镜像，-加NPM\">安装淘宝镜像， 加NPM</h4>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">npm</span> config <span class=\"token builtin class-name\">set</span> registry https://registry.npm.taobao.org<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<h4 id=\"安装CNPM\">安装CNPM</h4>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">npm</span> <span class=\"token function\">install</span> -g cnpm --registry<span class=\"token operator\">=</span>https://registry.npm.taobao.org<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<h3 id=\"Hexo-日常操作命令\">Hexo 日常操作命令</h3>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token comment\"># 进入hexo docker 环境。需要你已经安装了docker环境，并安装了上文提到的hexo docker</span>\n<span class=\"token function\">docker</span> <span class=\"token builtin class-name\">exec</span> -it hexo /bin/bash\n<span class=\"token comment\"># 运行完这条命令后，你就发现命令提示符变了，你此时进入了一个独立于你的主机运行环境的新的 node + hexo 开发环境了。</span>\n\n<span class=\"token comment\"># 生成新页面 404</span>\nhexo new page <span class=\"token number\">404</span>\n\n<span class=\"token comment\"># 新增新文章 2022-03-26-blog.17lai.site</span>\nhexo new post <span class=\"token number\">2022</span>-03-26-blog.17lai.site\n\n<span class=\"token comment\"># 清理上次生成的静态网页，可以不运行，但你修改了一些源码后，很可能有各种不生效或错误</span>\nhexo clean\n\n<span class=\"token comment\"># 生成静态网页</span>\nhexo g\n\n<span class=\"token comment\"># gulp调用gulpfile.js压缩静态网页相关代码，减小网页体积</span>\ngulp \n\n<span class=\"token comment\"># 调用根目录中 _config.yml 文件的deploy配置的参数来部署你的静态网页</span>\nhexo d<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<h3 id=\"hexo-目录结构说明\">hexo 目录结构说明</h3>\n<p>在执行过<code>Hexo deploy</code>命令之后，目录结构新增了<code>.deploy_git</code>，<code>public</code>，<code>.gitignore</code>，如下：</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"> $ tree -L <span class=\"token number\">2</span>\n<span class=\"token builtin class-name\">.</span>\n├── .deploy_git\n├── node_modules\n├── public\n├── scaffolds\n│   ├── draft.md\n│   ├── page.md\n│   └── post.md\n├── <span class=\"token builtin class-name\">source</span>\n│   ├── _posts\n│   ├── _drafts\n├── themes\n├── _config.yml\n├── db.json\n├── package.json\n└── package-lock.json<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<h5 id=\"config-yml\">_config.yml</h5>\n<p>用来配置博客相关的参数，初始化时自动创建。具体参数设置，可参照 <a target=\"_blank\" rel=\"noopener\" href=\"https://hexo.io/zh-cn/docs/configuration\">Hexo 配置</a> 文档。</p>\n<h5 id=\"node-modules-和-package-json\">node_modules 和 package.json</h5>\n<p>都是在初始化时自动创建。</p>\n<ul>\n<li><code>node_modules</code>用来存储已安装的各类依赖包。</li>\n<li><code>package.json</code>用来查看 Hexo 的版本以及相关依赖包的版本。</li>\n</ul>\n<p>Hexo 会默认安装：</p>\n<ul>\n<li>hexo：主程序</li>\n<li>hexo-deployer-git：实现 git 部署方式</li>\n<li>hexo-generator-archive：存档页面生成器</li>\n<li>hexo-generator-category：分类页面生成器</li>\n<li>hexo-generator-index：index 生成器</li>\n<li>hexo-generator-tag：标签页面生成器</li>\n<li>hexo-renderer-ejs：支持 EJS 渲染</li>\n<li>hexo-renderer-marked：Markdown 引擎</li>\n<li>hexo-renderer-stylus：支持 stylus 渲染</li>\n<li>hexo-server：支持本地预览，默认地址 localhost:4000</li>\n</ul>\n<p>新安装的依赖包，也会保存在<code>node_module</code>文件夹下。</p>\n<h5 id=\"scaffold\">scaffold</h5>\n<p>模板文件夹，初始化时自动创建。包含<code>page</code>，<code>post</code>，<code>draft</code>三种模板，分别对应 页面、要发布的文章、草稿。</p>\n<h5 id=\"themes\">themes</h5>\n<p>主题文件夹，初始化时自动创建。每一个主题，都有一个单独的文件夹。默认主题为 <a target=\"_blank\" rel=\"noopener\" href=\"https://github.com/hexojs/hexo-theme-landscape\">landscape</a>。</p>\n<h5 id=\"source-，-public-和-deploy-git\">source ， public 和 .deploy_git</h5>\n<ul>\n<li>source：资源文件夹。用来存放图片、Markdown 文档（文章、草稿）、各种页面（分类、关于页面等）。</li>\n<li>public：将 source 文件夹里的 Markdown 文档，转换成 index.html。再结合主题进行渲染，就是我们最终看到的博客。</li>\n<li>.deploy_git：将 public 文件夹的内容提交到 Github 后生成，内容与 public 文件夹基本一致。</li>\n</ul>\n<p>这三者的关系大致是：source -&gt; public -&gt; .deploy_git</p>\n<ul>\n<li>执行<code>hexo generate</code>，根据 source，更新 public。</li>\n<li>执行<code>hexo deploy</code>，根据 public，更新 .deploy_git。</li>\n</ul>\n<h3 id=\"常用命令\">常用命令</h3>\n<h4 id=\"指令说明\">指令说明</h4>\n<ul>\n<li><code>hexo server</code> #启动本地服务器，用于预览主题。Hexo 会监视文件变动并自动更新，除修改站点配置文件外,无须重启服务器,直接刷新网页即可生效。</li>\n<li><code>hexo server -s</code> #以静态模式启动</li>\n<li><code>hexo server -p 5000</code> #更改访问端口 (默认端口为 4000，’ctrl + c’关闭 server)</li>\n<li><code>hexo server -i IP地址</code> #自定义 IP</li>\n<li><code>hexo clean</code> #清除缓存 ,网页正常情况下可以忽略此条命令,执行该指令后,会删掉站点根目录下的 public 文件夹</li>\n<li><code>hexo g</code> #生成静态网页 (执行 $ <code>hexo g</code>后会在站点根目录下生成 public 文件夹, hexo 会将”/blog/source/“ 下面的.md 后缀的文件编译为.html 后缀的文件,存放在”/blog/public/ “ 路径下)</li>\n<li><code>hexo d</code> #自动生成网站静态文件，并将本地数据部署到设定的仓库(如 github)</li>\n<li><code>hexo init</code> 文件夹名称 #初始化 XX 文件夹名称</li>\n<li><code>npm update hexo -g</code>#升级</li>\n<li><code>npm install hexo -g</code> #安装</li>\n<li><code>node-v</code> #查看 node.js 版本号</li>\n<li><code>npm -v</code> #查看 npm 版本号</li>\n<li><code>git --version</code> #查看 git 版本号</li>\n<li><code>hexo -v</code> #查看 hexo 版本号</li>\n<li>hexo new page \"music\" #新增页面music</li>\n<li>hexo new post \"文章名称\" #新增文章</li>\n</ul>\n<h4 id=\"简写指令\">简写指令</h4>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">hexo n \"我的第一篇文章\"` 等价于 `hexo new \"我的第一篇文章\"` 还等价于 `hexo new post \"我的第一篇文章\"\nhexo p` 等价于 `hexo publish\nhexo g` 等价于 `hexo generate\nhexo s`等价于 `hexo server\nhexo d` 等价于 `hexo deploy\nhexo g -d`等价于`hexo generate --deploy<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<p>注: <code>hexo clean</code> 没有 简写, <code>git --version</code> 没有简写</p>\n<h2 id=\"Hexo基础配置篇\">Hexo基础配置篇</h2>\n<h3 id=\"下载主题\">下载主题</h3>\n<p><a target=\"_blank\" rel=\"noopener\" href=\"https://github.com/blinkfox/hexo-theme-matery\">hexo-theme-matery</a> 是一个采用 <code>Material Design</code> 和响应式设计的 Hexo 博客主题，点击 <a target=\"_blank\" rel=\"noopener\" href=\"https://www.lixl.cn/\">这里</a> 可以查看示例效果。点击 <a target=\"_blank\" rel=\"noopener\" href=\"https://codeload.github.com/blinkfox/hexo-theme-matery/zip/master\">这里</a> 下载 <code>master</code> 分支的最新稳定版的代码，解压缩后，将 <code>hexo-theme-matery</code> 的文件夹复制到 Hexo 的 <code>themes</code> 文件夹中即可。</p>\n<p>Docker环境命令</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">git</span> clone https://github.com/blinkfox/hexo-theme-matery.git /app/themes/matery<span class=\"token punctuation\">;</span> <span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<h3 id=\"切换主题\">切换主题</h3>\n<p>修改 Hexo 根目录下的 <code>_config.yml</code> 的 <code>theme</code> 的值：<code>theme: hexo-theme-matery</code></p>\n<h4 id=\"config-yml-文件的其它修改建议\"><code>_config.yml</code> 文件的其它修改建议</h4>\n<ul>\n<li>请修改 <code>_config.yml</code> 的 <code>url</code> 的值为你的网站主 <code>URL</code>（如：<code>http://xxx.github.io</code>）。</li>\n<li>建议修改两个 <code>per_page</code> 的分页条数值为 <code>6</code> 的倍数，如：<code>12</code>、<code>18</code> 等，这样文章列表在各个屏幕下都能较好的显示。</li>\n<li>如果是中文用户，则建议修改 <code>language</code> 的值为 <code>zh-CN</code>。</li>\n</ul>\n<p>在本主题的 <code>_config.yml</code> 中可以修改部分自定义信息，有以下几个部分：</p>\n<ul>\n<li>菜单</li>\n<li>我的梦想</li>\n<li>首页的音乐播放器和视频播放器配置</li>\n<li>是否显示推荐文章名称和按钮配置</li>\n<li><code>favicon</code> 和 <code>Logo</code></li>\n<li>个人信息</li>\n<li>TOC 目录</li>\n<li>文章打赏信息</li>\n<li>复制文章内容时追加版权信息</li>\n<li>MathJax</li>\n<li>文章字数统计、阅读时长</li>\n<li>点击页面的’爱心’效果</li>\n<li>我的项目</li>\n<li>我的技能</li>\n<li>我的相册</li>\n<li><code>Gitalk</code>、<code>Gitment</code>、<code>Valine</code> 和 <code>disqus</code> 评论配置</li>\n<li><a target=\"_blank\" rel=\"noopener\" href=\"https://busuanzi.ibruce.info/\">不蒜子统计</a>和谷歌分析（<code>Google Analytics</code>）</li>\n<li>默认特色图的集合。当文章没有设置特色图时，本主题会根据文章标题的 <code>hashcode</code> 值取余，来选择展示对应的特色图</li>\n</ul>\n<h3 id=\"新建主题必备about、tags、404等页面\">新建主题必备about、tags、404等页面</h3>\n<h4 id=\"新建分类-categories-页\">新建分类 categories 页</h4>\n<p><code>categories</code> 页是用来展示所有分类的页面，如果 <code>source</code> 目录下还没有 <code>categories/index.md</code> 文件，那么就需要新建一个，命令如下：</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">hexo new page <span class=\"token string\">\"categories\"</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p>编辑你刚刚新建的页面文件 <code>/source/categories/index.md</code>，至少需要以下内容：</p>\n<pre class=\"line-numbers language-yaml\" data-language=\"yaml\"><code class=\"language-yaml\"><span class=\"token punctuation\">---</span>\n<span class=\"token key atrule\">title</span><span class=\"token punctuation\">:</span> categories\n<span class=\"token key atrule\">date</span><span class=\"token punctuation\">:</span> <span class=\"token datetime number\">2018-09-30 17:25:30</span>\n<span class=\"token key atrule\">type</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"categories\"</span>\n<span class=\"token key atrule\">layout</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"categories\"</span>\n<span class=\"token punctuation\">---</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<h4 id=\"新建标签-tags-页\">新建标签 tags 页</h4>\n<p><code>tags</code> 页是用来展示所有标签的页面，如果 <code>source</code> 目录下还没有 <code>tags/index.md</code> 文件，那么就需要新建一个，命令如下：</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">hexo new page <span class=\"token string\">\"tags\"</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p>编辑刚刚新建的页面文件 <code>/source/tags/index.md</code>，至少需要以下内容：</p>\n<pre class=\"line-numbers language-yaml\" data-language=\"yaml\"><code class=\"language-yaml\"><span class=\"token punctuation\">---</span>\n<span class=\"token key atrule\">title</span><span class=\"token punctuation\">:</span> tags\n<span class=\"token key atrule\">date</span><span class=\"token punctuation\">:</span> <span class=\"token datetime number\">2018-09-30 18:23:38</span>\n<span class=\"token key atrule\">type</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"tags\"</span>\n<span class=\"token key atrule\">layout</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"tags\"</span>\n<span class=\"token punctuation\">---</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<h4 id=\"新建留言板-contact-页\">新建留言板 contact 页</h4>\n<p><code>contact</code> 页是用来展示<strong>留言板</strong>信息的页面，如果在你的博客 <code>source</code> 目录下还没有 <code>contact/index.md</code> 文件，那么你就需要新建一个，命令如下：</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">hexo new page <span class=\"token string\">\"contact\"</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p>编辑你刚刚新建的页面文件 <code>/source/contact/index.md</code>，至少需要以下内容：</p>\n<pre class=\"line-numbers language-yaml\" data-language=\"yaml\"><code class=\"language-yaml\"><span class=\"token punctuation\">---</span>\n<span class=\"token key atrule\">title</span><span class=\"token punctuation\">:</span> contact\n<span class=\"token key atrule\">date</span><span class=\"token punctuation\">:</span> <span class=\"token datetime number\">2018-09-30 17:25:30</span>\n<span class=\"token key atrule\">type</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"contact\"</span>\n<span class=\"token key atrule\">layout</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"contact\"</span>\n<span class=\"token punctuation\">---</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<blockquote>\n<p><strong>注</strong>：本留言板功能依赖于第三方评论系统，请<strong>激活</strong>你的评论系统才有效果。并且在主题的 <code>_config.yml</code> 文件中，第 <code>19</code> 至 <code>21</code> 行的“<strong>菜单</strong>”配置，取消关于留言板的注释即可。</p>\n</blockquote>\n<h4 id=\"新建友情链接-friends-页\">新建友情链接 friends 页</h4>\n<p><code>friends</code> 页是用来展示<strong>友情链接</strong>信息的页面，如果在你的博客 <code>source</code> 目录下还没有 <code>friends/index.md</code> 文件，那么你就需要新建一个，命令如下：</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">hexo new page <span class=\"token string\">\"friends\"</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p>编辑你刚刚新建的页面文件 <code>/source/friends/index.md</code>，至少需要以下内容：</p>\n<pre class=\"line-numbers language-yaml\" data-language=\"yaml\"><code class=\"language-yaml\"><span class=\"token punctuation\">---</span>\n<span class=\"token key atrule\">title</span><span class=\"token punctuation\">:</span> friends\n<span class=\"token key atrule\">date</span><span class=\"token punctuation\">:</span> <span class=\"token datetime number\">2018-12-12 21:25:30</span>\n<span class=\"token key atrule\">type</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"friends\"</span>\n<span class=\"token key atrule\">layout</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"friends\"</span>\n<span class=\"token punctuation\">---</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<p>同时，在你的博客 <code>source</code> 目录下新建 <code>_data</code> 目录，在 <code>_data</code> 目录中新建 <code>friends.json</code> 文件，文件内容如下所示：</p>\n<pre class=\"line-numbers language-json\" data-language=\"json\"><code class=\"language-json\"><span class=\"token punctuation\">[</span><span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"avatar\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"https://blog.17lai.site/favicon.png\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"name\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"夜法之书的Blog\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"introduction\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"嵌入式，Linux Kernel&amp;Driver, PT, Docker, Nas等等\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"url\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"https://blog.17lai.site\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"title\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"前去学习\"</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"avatar\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"http://image.luokangyuan.com/1_qq_27922023.jpg\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"name\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"码酱\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"introduction\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"我不是大佬，只是在追寻大佬的脚步\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"url\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"http://luokangyuan.com/\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"title\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"前去学习\"</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"avatar\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"http://image.luokangyuan.com/4027734.jpeg\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"name\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"闪烁之狐\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"introduction\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"编程界大佬，技术牛，人还特别好，不懂的都可以请教大佬\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"url\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"https://blinkfox.github.io/\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"title\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"前去学习\"</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"avatar\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"http://image.luokangyuan.com/avatar.jpg\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"name\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"ja_rome\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"introduction\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"平凡的脚步也可以走出伟大的行程\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"url\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"https://me.csdn.net/jlh912008548\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"title\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"前去学习\"</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<h4 id=\"新建关于我-about-页\">新建关于我 about 页</h4>\n<p><code>about</code> 页是用来展示<strong>关于我和我的博客</strong>信息的页面，如果 <code>source</code> 目录下还没有 <code>about/index.md</code> 文件，那么就需要新建一个，命令如下：</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">hexo new page <span class=\"token string\">\"about\"</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p>编辑刚刚新建的页面文件 <code>/source/about/index.md</code>，至少需要以下内容：</p>\n<pre class=\"line-numbers language-yaml\" data-language=\"yaml\"><code class=\"language-yaml\"><span class=\"token punctuation\">---</span>\n<span class=\"token key atrule\">title</span><span class=\"token punctuation\">:</span> about\n<span class=\"token key atrule\">date</span><span class=\"token punctuation\">:</span> <span class=\"token datetime number\">2018-09-30 17:25:30</span>\n<span class=\"token key atrule\">type</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"about\"</span>\n<span class=\"token key atrule\">layout</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"about\"</span>\n<span class=\"token punctuation\">---</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<h4 id=\"新建404页\">新建404页</h4>\n<p>新建一个404.md文件</p>\n<p>在hexo的souce文件夹下创建一个404.md，之后输入如下内容：</p>\n<pre class=\"line-numbers language-markdown\" data-language=\"markdown\"><code class=\"language-markdown\"><span class=\"token front-matter-block\"><span class=\"token punctuation\">---</span>\n<span class=\"token front-matter yaml language-yaml\"><span class=\"token key atrule\">title</span><span class=\"token punctuation\">:</span> <span class=\"token number\">404</span>\n<span class=\"token key atrule\">date</span><span class=\"token punctuation\">:</span> <span class=\"token datetime number\">2019-11-23 21:10:10</span>\n<span class=\"token key atrule\">type</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"404\"</span>\n<span class=\"token key atrule\">layout</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"404\"</span></span>\n<span class=\"token punctuation\">---</span></span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<p><img src=\"https://cimg1.17lai.site/data/2021/09/1320210913191101.png\" alt=\"新建404.md\"></p>\n<p>然后<code>hexo g</code>生成页面中就有404。只是页面较丑。</p>\n<h4 id=\"404页面美化\">404页面美化</h4>\n<blockquote>\n<p>下载404特效</p>\n<p>点击下载代码:<a target=\"_blank\" rel=\"noopener\" href=\"https://www.lanrenzhijia.com/js/4285.html\">点我去代码出处</a></p>\n</blockquote>\n<h5 id=\"移植\">移植</h5>\n<h5 id=\"放入js文件到主题中\">放入js文件到主题中</h5>\n<p>将下载的压缩包解压，会发现里面有两个js文件和一个html页面，重要的就是js文件，将文件移植到主题的source文件的libs文件夹下，需要自己创建一个文件夹，我给文件夹取的名字叫做404。</p>\n<p><img src=\"https://cimg1.17lai.site/data/2021/09/1320210913191716.png\" alt=\"\"></p>\n<h5 id=\"导入404-js\">导入404 js</h5>\n<p>因为该主题的js文件都是写_config.yml文件里面的，为了规范，也需要将文件的路径写到该文件夹下</p>\n<p>如下，之后导入js文件的时候就可以使用404bodymovin和404data来代替了</p>\n<p><img src=\"https://cimg1.17lai.site/data/2021/09/1320210913192151.png\" alt=\"修改主题_config.yml文件\"></p>\n<h5 id=\"编辑404-esj\">编辑404.esj</h5>\n<pre class=\"line-numbers language-markup\" data-language=\"markup\"><code class=\"language-markup\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>style</span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>text/css<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span><span class=\"token style\"><span class=\"token language-css\">\n    <span class=\"token comment\">/* don't remove. */</span>\n    <span class=\"token selector\">.page404-cover</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token comment\">/* height: 75vh; */</span>\n        <span class=\"token property\">height</span><span class=\"token punctuation\">:</span> 88vh<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n \n    <span class=\"token selector\">#svgContainer</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token property\">width</span><span class=\"token punctuation\">:</span> 100%<span class=\"token punctuation\">;</span>\n      <span class=\"token property\">height</span><span class=\"token punctuation\">:</span> 100%<span class=\"token punctuation\">;</span>\n      <span class=\"token property\">background-color</span><span class=\"token punctuation\">:</span> white<span class=\"token punctuation\">;</span>\n      <span class=\"token property\">position</span><span class=\"token punctuation\">:</span> absolute<span class=\"token punctuation\">;</span>\n      <span class=\"token property\">top</span><span class=\"token punctuation\">:</span> 0<span class=\"token punctuation\">;</span>\n      <span class=\"token property\">left</span><span class=\"token punctuation\">:</span> 0<span class=\"token punctuation\">;</span>\n      <span class=\"token property\">right</span><span class=\"token punctuation\">:</span> 0<span class=\"token punctuation\">;</span>\n      <span class=\"token property\">bottom</span><span class=\"token punctuation\">:</span> 0<span class=\"token punctuation\">;</span>\n      <span class=\"token property\">margin</span><span class=\"token punctuation\">:</span> auto<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>style</span><span class=\"token punctuation\">&gt;</span></span>\n \n \n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span> <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>&lt;%- theme.libs.js.my404bodymovin %&gt;<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span> <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>&lt;%- theme.libs.js.my404data %&gt;<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">&gt;</span></span>\n \n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>bg-cover pd-header page404-cover<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>svgContainer<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">&gt;</span></span>\n \n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>text/javascript<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span><span class=\"token script\"><span class=\"token language-javascript\">\n        <span class=\"token keyword\">var</span> svgContainer <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">'svgContainer'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">var</span> animItem <span class=\"token operator\">=</span> bodymovin<span class=\"token punctuation\">.</span><span class=\"token function\">loadAnimation</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n          <span class=\"token literal-property property\">wrapper</span><span class=\"token operator\">:</span> svgContainer<span class=\"token punctuation\">,</span>\n          <span class=\"token literal-property property\">animType</span><span class=\"token operator\">:</span> <span class=\"token string\">'svg'</span><span class=\"token punctuation\">,</span>\n          <span class=\"token literal-property property\">loop</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n          <span class=\"token literal-property property\">animationData</span><span class=\"token operator\">:</span> <span class=\"token constant\">JSON</span><span class=\"token punctuation\">.</span><span class=\"token function\">parse</span><span class=\"token punctuation\">(</span>animationData<span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    </span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">&gt;</span></span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<p>现在就移植成功了，使用下面命令上传，之后输入一个错误的页面就可以查看到了</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">hexo cl &amp;&amp; hexo g -d<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<blockquote>\n<p>Tips: 不要再本地试验，本地的时候输入错误的页面不会显示404页面的。</p>\n</blockquote>\n<h4 id=\"新建友情连接-friends-页（可选的）\">新建友情连接 friends 页（可选的）</h4>\n<p><code>friends</code> 页是用来展示<strong>友情连接</strong>信息的页面，如果 <code>source</code> 目录下还没有 <code>friends/index.md</code> 文件，那么就需要新建一个，命令如下：</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">hexo new page <span class=\"token string\">\"friends\"</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p>编辑刚刚新建的页面文件 <code>/source/friends/index.md</code>，至少需要以下内容：</p>\n<pre class=\"line-numbers language-yaml\" data-language=\"yaml\"><code class=\"language-yaml\"><span class=\"token punctuation\">---</span>\n<span class=\"token key atrule\">title</span><span class=\"token punctuation\">:</span> friends\n<span class=\"token key atrule\">date</span><span class=\"token punctuation\">:</span> <span class=\"token datetime number\">2018-12-12 21:25:30</span>\n<span class=\"token key atrule\">type</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"friends\"</span>\n<span class=\"token key atrule\">layout</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"friends\"</span>\n<span class=\"token punctuation\">---</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<p>同时，在 <code>source</code> 目录下新建 <code>_data</code> 目录，在 <code>_data</code> 目录中新建 <code>friends.json</code> 文件，文件内容如下所示：</p>\n<pre class=\"line-numbers language-json\" data-language=\"json\"><code class=\"language-json\"><span class=\"token punctuation\">[</span>\n  <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"avatar\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"https://www.lixl.cn/medias/avatar.jpg\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"name\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"悟尘记\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"introduction\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"人生就是一场修行，上善若水，厚德载物。\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"url\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"https://www.lixl.cn/\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"title\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"前去参观\"</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"avatar\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"https://wiki.hyperledger.org/download/attachments/2392069/fabric?version=1&amp;modificationDate=1540928132000&amp;api=v2\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"name\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Fabric\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"introduction\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"A Blockchain Platform for the Enterprise\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"url\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"https://hyperledger-fabric.readthedocs.io/en/master/\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"title\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"前去学习\"</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"avatar\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"https://www.bootcdn.cn/assets/img/maoyun.svg\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"name\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"BootCDN\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"introduction\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"稳定、快速、免费的前端开源项目 CDN 加速服务。\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"url\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"https://www.bootcdn.cn/\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"title\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"前去加速\"</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">]</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<h3 id=\"菜单导航配置\">菜单导航配置</h3>\n<h4 id=\"配置基本菜单导航的名称、路径url和图标icon\">配置基本菜单导航的名称、路径url和图标icon.</h4>\n<ul>\n<li>1.菜单导航名称可以是中文也可以是英文(如：<code>Index</code>或<code>主页</code>)</li>\n<li>2.图标icon 可以在<a target=\"_blank\" rel=\"noopener\" href=\"https://fontawesome.com/icons\">Font Awesome</a> 中查找</li>\n</ul>\n<pre class=\"line-numbers language-yaml\" data-language=\"yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">menu</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">Index</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">url</span><span class=\"token punctuation\">:</span> /\n    <span class=\"token key atrule\">icon</span><span class=\"token punctuation\">:</span> fas fa<span class=\"token punctuation\">-</span>home\n  <span class=\"token key atrule\">Tags</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">url</span><span class=\"token punctuation\">:</span> /tags\n    <span class=\"token key atrule\">icon</span><span class=\"token punctuation\">:</span> fas fa<span class=\"token punctuation\">-</span>tags\n  <span class=\"token key atrule\">Categories</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">url</span><span class=\"token punctuation\">:</span> /categories\n    <span class=\"token key atrule\">icon</span><span class=\"token punctuation\">:</span> fas fa<span class=\"token punctuation\">-</span>bookmark\n  <span class=\"token key atrule\">Archives</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">url</span><span class=\"token punctuation\">:</span> /archives\n    <span class=\"token key atrule\">icon</span><span class=\"token punctuation\">:</span> fas fa<span class=\"token punctuation\">-</span>archive\n  <span class=\"token key atrule\">About</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">url</span><span class=\"token punctuation\">:</span> /about\n    <span class=\"token key atrule\">icon</span><span class=\"token punctuation\">:</span> fas fa<span class=\"token punctuation\">-</span>user<span class=\"token punctuation\">-</span>circle\n  <span class=\"token key atrule\">Friends</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">url</span><span class=\"token punctuation\">:</span> /friends\n    <span class=\"token key atrule\">icon</span><span class=\"token punctuation\">:</span> fas fa<span class=\"token punctuation\">-</span>address<span class=\"token punctuation\">-</span>book<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<h4 id=\"二级菜单配置方法\">二级菜单配置方法</h4>\n<p>如果你需要二级菜单则可以在原基本菜单导航的基础上如下操作</p>\n<ol>\n<li>在需要添加二级菜单的一级菜单下添加<code>children</code>关键字(如:<code>About</code>菜单下添加<code>children</code>)</li>\n<li>在<code>children</code>下创建二级菜单的 名称name,路径url和图标icon.</li>\n<li>注意每个二级菜单模块前要加 <code>-</code>.</li>\n<li>注意缩进格式</li>\n</ol>\n<pre class=\"line-numbers language-yaml\" data-language=\"yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">menu</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">Index</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">url</span><span class=\"token punctuation\">:</span> /\n    <span class=\"token key atrule\">icon</span><span class=\"token punctuation\">:</span> fas fa<span class=\"token punctuation\">-</span>home\n  <span class=\"token key atrule\">Tags</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">url</span><span class=\"token punctuation\">:</span> /tags\n    <span class=\"token key atrule\">icon</span><span class=\"token punctuation\">:</span> fas fa<span class=\"token punctuation\">-</span>tags\n  <span class=\"token key atrule\">Categories</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">url</span><span class=\"token punctuation\">:</span> /categories\n    <span class=\"token key atrule\">icon</span><span class=\"token punctuation\">:</span> fas fa<span class=\"token punctuation\">-</span>bookmark\n  <span class=\"token key atrule\">Archives</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">url</span><span class=\"token punctuation\">:</span> /archives\n    <span class=\"token key atrule\">icon</span><span class=\"token punctuation\">:</span> fas fa<span class=\"token punctuation\">-</span>archive\n  <span class=\"token key atrule\">About</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">url</span><span class=\"token punctuation\">:</span> /about\n    <span class=\"token key atrule\">icon</span><span class=\"token punctuation\">:</span> fas fa<span class=\"token punctuation\">-</span>user<span class=\"token punctuation\">-</span>circle<span class=\"token punctuation\">-</span>o\n  <span class=\"token key atrule\">Friends</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">url</span><span class=\"token punctuation\">:</span> /friends\n    <span class=\"token key atrule\">icon</span><span class=\"token punctuation\">:</span> fas fa<span class=\"token punctuation\">-</span>address<span class=\"token punctuation\">-</span>book\n  <span class=\"token key atrule\">Medias</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">icon</span><span class=\"token punctuation\">:</span> fas fa<span class=\"token punctuation\">-</span>list\n    <span class=\"token key atrule\">children</span><span class=\"token punctuation\">:</span>\n      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Music\n        <span class=\"token key atrule\">url</span><span class=\"token punctuation\">:</span> /music\n        <span class=\"token key atrule\">icon</span><span class=\"token punctuation\">:</span> fas fa<span class=\"token punctuation\">-</span>music\n      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Movies\n        <span class=\"token key atrule\">url</span><span class=\"token punctuation\">:</span> /movies\n        <span class=\"token key atrule\">icon</span><span class=\"token punctuation\">:</span> fas fa<span class=\"token punctuation\">-</span>film\n      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Books\n        <span class=\"token key atrule\">url</span><span class=\"token punctuation\">:</span> /books\n        <span class=\"token key atrule\">icon</span><span class=\"token punctuation\">:</span> fas fa<span class=\"token punctuation\">-</span>book\n      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Galleries\n        <span class=\"token key atrule\">url</span><span class=\"token punctuation\">:</span> /galleries\n        <span class=\"token key atrule\">icon</span><span class=\"token punctuation\">:</span> fas fa<span class=\"token punctuation\">-</span>image<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<h3 id=\"文章-Front-matter-介绍\">文章 Front-matter 介绍</h3>\n<h3 id=\"Front-matter-选项详解\">Front-matter 选项详解</h3>\n<p><code>Front-matter</code> 选项中的所有内容均为<strong>非必填</strong>的。但仍然建议至少填写 <code>title</code> 和 <code>date</code> 的值。</p>\n<table>\n<thead>\n<tr>\n<th>配置选项</th>\n<th>默认值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>title</td>\n<td><code>Markdown</code> 的文件标题</td>\n<td>文章标题，强烈建议填写此选项</td>\n</tr>\n<tr>\n<td>date</td>\n<td>文件创建时的日期时间</td>\n<td>发布时间，强烈建议填写此选项，且最好保证全局唯一</td>\n</tr>\n<tr>\n<td>author</td>\n<td>根 <code>_config.yml</code> 中的 <code>author</code></td>\n<td>文章作者</td>\n</tr>\n<tr>\n<td>img</td>\n<td><code>featureImages</code> 中的某个值</td>\n<td>文章特征图，推荐使用图床(腾讯云、七牛云、又拍云等)来做图片的路径.如: <code>http://xxx.com/xxx.jpg</code></td>\n</tr>\n<tr>\n<td>top</td>\n<td><code>true</code></td>\n<td>推荐文章（文章是否置顶），如果 <code>top</code> 值为 <code>true</code>，则会作为首页推荐文章</td>\n</tr>\n<tr>\n<td>hide</td>\n<td><code>false</code></td>\n<td>隐藏文章，如果<code>hide</code>值为<code>true</code>，则文章不会在首页显示</td>\n</tr>\n<tr>\n<td>cover</td>\n<td><code>false</code></td>\n<td><code>v1.0.2</code>版本新增，表示该文章是否需要加入到首页轮播封面中</td>\n</tr>\n<tr>\n<td>coverImg</td>\n<td>无</td>\n<td><code>v1.0.2</code>版本新增，表示该文章在首页轮播封面需要显示的图片路径，如果没有，则默认使用文章的特色图片</td>\n</tr>\n<tr>\n<td>password</td>\n<td>无</td>\n<td>文章阅读密码，如果要对文章设置阅读验证密码的话，就可以设置 <code>password</code> 的值，该值必须是用 <code>SHA256</code> 加密后的密码，防止被他人识破。前提是在主题的 <code>config.yml</code> 中激活了 <code>verifyPassword</code> 选项</td>\n</tr>\n<tr>\n<td>toc</td>\n<td><code>true</code></td>\n<td>是否开启 TOC，可以针对某篇文章单独关闭 TOC 的功能。前提是在主题的 <code>config.yml</code> 中激活了 <code>toc</code> 选项</td>\n</tr>\n<tr>\n<td>mathjax</td>\n<td><code>false</code></td>\n<td>是否开启数学公式支持 ，本文章是否开启 <code>mathjax</code>，且需要在主题的 <code>_config.yml</code> 文件中也需要开启才行</td>\n</tr>\n<tr>\n<td>summary</td>\n<td>无</td>\n<td>文章摘要，自定义的文章摘要内容，如果这个属性有值，文章卡片摘要就显示这段文字，否则程序会自动截取文章的部分内容作为摘要</td>\n</tr>\n<tr>\n<td>categories</td>\n<td>无</td>\n<td>文章分类，本主题的分类表示宏观上大的分类，只建议一篇文章一个分类</td>\n</tr>\n<tr>\n<td>tags</td>\n<td>无</td>\n<td>文章标签，一篇文章可以多个标签</td>\n</tr>\n<tr>\n<td>keywords</td>\n<td>文章标题</td>\n<td>文章关键字，SEO 时需要</td>\n</tr>\n<tr>\n<td>reprintPolicy</td>\n<td>cc_by</td>\n<td>文章转载规则， 可以是 cc_by, cc_by_nd, cc_by_sa, cc_by_nc, cc_by_nc_nd, cc_by_nc_sa, cc0, noreprint 或 pay 中的一个</td>\n</tr>\n</tbody>\n</table>\n<blockquote>\n<p><strong>注意</strong>:</p>\n<ol>\n<li>如果 <code>img</code> 属性不填写的话，文章特色图会根据文章标题的 <code>hashcode</code> 的值取余，然后选取主题中对应的特色图片，从而达到让所有文章都的特色图<strong>各有特色</strong>。</li>\n<li><code>date</code> 的值尽量保证每篇文章是唯一的，因为本主题中 <code>Gitalk</code> 和 <code>Gitment</code> 识别 <code>id</code> 是通过 <code>date</code> 的值来作为唯一标识的。</li>\n<li>如果要对文章设置阅读验证密码的功能，不仅要在 Front-matter 中设置采用了 SHA256 加密的 password 的值，还需要在主题的 <code>_config.yml</code> 中激活了配置。有些在线的 SHA256 加密的地址，可供使用：<a target=\"_blank\" rel=\"noopener\" href=\"http://tool.oschina.net/encrypt?type=2\">开源中国在线工具</a>、<a target=\"_blank\" rel=\"noopener\" href=\"http://encode.chahuo.com/\">chahuo</a>、<a target=\"_blank\" rel=\"noopener\" href=\"http://tool.chinaz.com/tools/hash.aspx\">站长工具</a>。</li>\n</ol>\n</blockquote>\n<p>以下为文章的 <code>Front-matter</code> 示例。</p>\n<h4 id=\"最简示例\">最简示例</h4>\n<pre class=\"line-numbers language-yaml\" data-language=\"yaml\"><code class=\"language-yaml\"><span class=\"token punctuation\">---</span>\n<span class=\"token key atrule\">title</span><span class=\"token punctuation\">:</span> 基于Hexo的hexo<span class=\"token punctuation\">-</span>theme<span class=\"token punctuation\">-</span>matery主题搭建博客并优化\n<span class=\"token key atrule\">date</span><span class=\"token punctuation\">:</span> <span class=\"token datetime number\">2019-10-03 14:25:00</span>\n<span class=\"token punctuation\">---</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n<h4 id=\"最全示例\">最全示例</h4>\n<pre class=\"line-numbers language-yaml\" data-language=\"yaml\"><code class=\"language-yaml\"><span class=\"token punctuation\">---</span>\n<span class=\"token key atrule\">title</span><span class=\"token punctuation\">:</span> 基于Hexo的hexo<span class=\"token punctuation\">-</span>theme<span class=\"token punctuation\">-</span>matery主题搭建博客并优化\n<span class=\"token key atrule\">date</span><span class=\"token punctuation\">:</span> <span class=\"token datetime number\">2019-12-30 09:25:00</span>\n<span class=\"token key atrule\">author</span><span class=\"token punctuation\">:</span> 17lai.site\n<span class=\"token key atrule\">img</span><span class=\"token punctuation\">:</span> /medias/cover/hexo.jpg\n<span class=\"token key atrule\">top</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span>\n<span class=\"token key atrule\">cover</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span>\n<span class=\"token key atrule\">coverImg</span><span class=\"token punctuation\">:</span> /medias/cover/hexo.jpg\n<span class=\"token key atrule\">password</span><span class=\"token punctuation\">:</span> 8d969eef6ecad3c29a3a629280e686cf0c3f5d5a86aff3ca12020c923adc6c92\n<span class=\"token key atrule\">toc</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">false</span>\n<span class=\"token key atrule\">mathjax</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">false</span>\n<span class=\"token key atrule\">summary</span><span class=\"token punctuation\">:</span> 这是你自定义的文章摘要内容，如果这个属性有值，文章卡片摘要就显示这段文字，否则程序会自动截取文章的部分内容作为摘要\n<span class=\"token key atrule\">categories</span><span class=\"token punctuation\">:</span> Hexo\n<span class=\"token key atrule\">keywords</span><span class=\"token punctuation\">:</span> Hexo GitHub blog\n<span class=\"token key atrule\">tags</span><span class=\"token punctuation\">:</span>\n  <span class=\"token punctuation\">-</span> Hexo\n  <span class=\"token punctuation\">-</span> Blog\n  <span class=\"token punctuation\">-</span> GitHub\n<span class=\"token punctuation\">---</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<h3 id=\"新建文章模板修改\">新建文章模板修改</h3>\n<p>首先为了新建文章方便，我们可以修改一下文章模板，建议将<code>/scaffolds/post.md</code>修改为如下代码：</p>\n<pre class=\"line-numbers language-yaml\" data-language=\"yaml\"><code class=\"language-yaml\"><span class=\"token punctuation\">---</span>\n<span class=\"token key atrule\">title</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> title <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\n<span class=\"token key atrule\">date</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> date <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\n<span class=\"token key atrule\">author</span><span class=\"token punctuation\">:</span> \n<span class=\"token key atrule\">img</span><span class=\"token punctuation\">:</span> \n<span class=\"token key atrule\">coverImg</span><span class=\"token punctuation\">:</span> \n<span class=\"token key atrule\">top</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">false</span>\n<span class=\"token key atrule\">cover</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">false</span>\n<span class=\"token key atrule\">toc</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span>\n<span class=\"token key atrule\">mathjax</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">false</span>\n<span class=\"token key atrule\">password</span><span class=\"token punctuation\">:</span>\n<span class=\"token key atrule\">summary</span><span class=\"token punctuation\">:</span>\n<span class=\"token key atrule\">tags</span><span class=\"token punctuation\">:</span>\n<span class=\"token key atrule\">categories</span><span class=\"token punctuation\">:</span>\n<span class=\"token punctuation\">---</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<p>这样新建文章后 一些<code>Front-matter</code>参数不用你自己补充了，修改对应信息就可以了。</p>\n<h3 id=\"代码高亮\">代码高亮</h3>\n<p>由于 Hexo 自带的代码高亮主题显示不好看，所以主题中使用到了 <a target=\"_blank\" rel=\"noopener\" href=\"https://github.com/ele828/hexo-prism-plugin\">hexo-prism-plugin</a> 的 Hexo 插件来做代码高亮，安装命令如下：</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">npm</span> i -S hexo-prism-plugin<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p>然后，修改 Hexo 根目录下 <code>_config.yml</code> 文件中 <code>highlight.enable</code> 的值为 <code>false</code>，并新增 <code>prism</code> 插件相关的配置，主要配置如下：</p>\n<pre class=\"line-numbers language-yaml\" data-language=\"yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">highlight</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">enable</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">false</span>\n\n<span class=\"token key atrule\">prism_plugin</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">mode</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"preprocess\"</span> <span class=\"token comment\"># realtime/preprocess</span>\n  <span class=\"token key atrule\">theme</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"tomorrow\"</span>\n  <span class=\"token key atrule\">line_number</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">false</span> <span class=\"token comment\"># default false</span>\n  custom_css<span class=\"token punctuation\">:</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<h3 id=\"添加文章搜索功能\">添加文章搜索功能</h3>\n<blockquote>\n<ul>\n<li>\n<p>这个插件比广大教程提到的<code>hexo-generator-search</code>插件更加强大和好用！</p>\n</li>\n<li>\n<p>matery目前只支持<code>search.xml</code> xml格式的搜索文件！</p>\n</li>\n</ul>\n</blockquote>\n<p>本主题中还使用到了 <a target=\"_blank\" rel=\"noopener\" href=\"https://github.com/next-theme/hexo-generator-searchdb\">hexo-generator-searchdb</a> 的 Hexo 插件来做内容搜索，安装命令如下：</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">npm</span> <span class=\"token function\">install</span> hexo-generator-searchdb --save<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p>在 Hexo 根目录下的 <code>_config.yml</code> 文件中，新增以下的配置项：</p>\n<pre class=\"line-numbers language-yaml\" data-language=\"yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">search</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">path</span><span class=\"token punctuation\">:</span> search.xml\n  <span class=\"token key atrule\">field</span><span class=\"token punctuation\">:</span> post\n  <span class=\"token key atrule\">content</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span>\n  <span class=\"token key atrule\">format</span><span class=\"token punctuation\">:</span> html<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<p><strong>参数含义</strong></p>\n<ul>\n<li>\n<p><strong>path</strong> - file path. By default is <code>search.xml</code>. If the file extension is <code>.json</code>, the output format will be JSON. Otherwise XML format file will be exported.</p>\n</li>\n<li>\n<p>field</p>\n<ul>\n<li>\n<p>the search scope you want to search, you can chose:</p>\n</li>\n<li>\n<p><strong>post</strong> (Default) - will only cover all the posts of your blog.</p>\n</li>\n<li>\n<p><strong>page</strong> - will only cover all the pages of your blog.</p>\n</li>\n<li>\n<p><strong>all</strong> - will cover all the posts and pages of your blog.</p>\n</li>\n</ul>\n</li>\n<li>\n<p><strong>content</strong> - whether contains the whole content of each article. If <code>false</code>, the generated results only cover title and other meta info without mainbody. By default is <code>true</code>.</p>\n</li>\n<li>\n<p>format</p>\n<ul>\n<li>\n<p>the form of the page contents, options are:</p>\n</li>\n<li>\n<p><strong>html</strong> (Default) - original html string being minified.</p>\n</li>\n<li>\n<p><strong>striptags</strong> - original html string being minified, and remove all the tags.</p>\n</li>\n<li>\n<p><strong>raw</strong> - markdown text of each posts or pages.</p>\n</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"修改页脚\">修改页脚</h3>\n<p>页脚信息可能需要做定制化修改，而且它不便于做成配置信息，所以可能需要你自己去再修改和加工。修改的地方在主题文件的 <code>/layout/_partial/footer.ejs</code> 文件中，包括站点、使用的主题、访问量等。</p>\n<h3 id=\"修改社交链接\">修改社交链接</h3>\n<p>在主题的 <code>_config.yml</code> 文件中，默认支持 <code>QQ</code>、<code>GitHub</code> 和邮箱的配置，可以在主题文件的 <code>/layout/_partial/social-link.ejs</code> 文件中，新增、修改需要的社交链接地址，增加链接可参考如下代码：</p>\n<pre class=\"line-numbers language-markup\" data-language=\"markup\"><code class=\"language-markup\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>a</span>\n  <span class=\"token attr-name\">href</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>https://github.com/blinkfox<span class=\"token punctuation\">\"</span></span>\n  <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>tooltipped<span class=\"token punctuation\">\"</span></span>\n  <span class=\"token attr-name\">target</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>_blank<span class=\"token punctuation\">\"</span></span>\n  <span class=\"token attr-name\">data-tooltip</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>访问我的GitHub<span class=\"token punctuation\">\"</span></span>\n  <span class=\"token attr-name\">data-position</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>top<span class=\"token punctuation\">\"</span></span>\n  <span class=\"token attr-name\">data-delay</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>50<span class=\"token punctuation\">\"</span></span>\n<span class=\"token punctuation\">&gt;</span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>i</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>fa fa-github<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>i</span><span class=\"token punctuation\">&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>a</span><span class=\"token punctuation\">&gt;</span></span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<p>其中，社交图标（如：<code>fa-github</code>）可以在 <a target=\"_blank\" rel=\"noopener\" href=\"https://fontawesome.com/icons\">Font Awesome</a> 中搜索找到。以下是常用社交图标的标识，供参考：</p>\n<ul>\n<li>Facebook: <code>fa-facebook</code></li>\n<li>Twitter: <code>fa-twitter</code></li>\n<li>Google-plus: <code>fa-google-plus</code></li>\n<li>Linkedin: <code>fa-linkedin</code></li>\n<li>Tumblr: <code>fa-tumblr</code></li>\n<li>Medium: <code>fa-medium</code></li>\n<li>Slack: <code>fa-slack</code></li>\n<li>新浪微博: <code>fa-weibo</code></li>\n<li>微信: <code>fa-wechat</code></li>\n<li>QQ: <code>fa-qq</code></li>\n</ul>\n<h3 id=\"修改打赏的二维码图片\">修改打赏的二维码图片</h3>\n<p>在主题文件的 <code>source/medias/reward</code> 文件中，可以替换成你的的微信和支付宝的打赏二维码图片。</p>\n<h3 id=\"配置文章基本信息\">配置文章基本信息</h3>\n<pre class=\"line-numbers language-yaml\" data-language=\"yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">new_post_name</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">:</span>title.md   <span class=\"token comment\"># 新文章的文件名称</span>\n<span class=\"token key atrule\">default_layout</span><span class=\"token punctuation\">:</span> post       <span class=\"token comment\"># 预设布局</span>\n<span class=\"token key atrule\">auto_spacing</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">false</span>        <span class=\"token comment\"># 在中文和英文之间加入空格</span>\n<span class=\"token key atrule\">titlecase</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">false</span>           <span class=\"token comment\"># 把标题转换为 title case</span>\n<span class=\"token key atrule\">external_link</span><span class=\"token punctuation\">:</span>             <span class=\"token comment\"># 在新标签中打开链接</span>\n  <span class=\"token key atrule\">enable</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span>             <span class=\"token comment\"># 在新标签中打开链接</span>\n  <span class=\"token key atrule\">field</span><span class=\"token punctuation\">:</span>                   <span class=\"token comment\"># 对整个网站（site）生效或仅对文章（post）生效</span>\n  <span class=\"token key atrule\">exclude</span><span class=\"token punctuation\">:</span>                 <span class=\"token comment\"># 需要排除的域名。主域名和子域名如 www 需分别配置\t[]</span>\n<span class=\"token key atrule\">filename_case</span><span class=\"token punctuation\">:</span> <span class=\"token number\">0</span>           <span class=\"token comment\"># 把文件名称转换为 (1) 小写或 (2) 大写</span>\n<span class=\"token key atrule\">render_drafts</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">false</span>       <span class=\"token comment\"># 显示草稿，默认为：false</span>\n<span class=\"token key atrule\">post_asset_folder</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span>    <span class=\"token comment\"># 启动 Asset 文件夹</span>\n<span class=\"token key atrule\">relative_link</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">false</span>       <span class=\"token comment\"># 把链接改为与根目录的相对位址</span>\n<span class=\"token key atrule\">future</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span>               <span class=\"token comment\"># 显示未来的文章</span>\n<span class=\"token key atrule\">highlight</span><span class=\"token punctuation\">:</span>                 <span class=\"token comment\"># 代码块的设置</span>\n  <span class=\"token key atrule\">enable</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">false</span>            <span class=\"token comment\"># 开启代码块高亮</span>\n  <span class=\"token key atrule\">line_number</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">false</span>       <span class=\"token comment\"># 显示行数</span>\n  <span class=\"token key atrule\">auto_detect</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">false</span>       <span class=\"token comment\"># 如果未指定语言，则启用自动检测</span>\n  <span class=\"token key atrule\">tab_replace</span><span class=\"token punctuation\">:</span>             <span class=\"token comment\"># 用 n 个空格替换 tabs；如果值为空，则不会替换 tabs</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<h3 id=\"配置代码高亮及样式\">配置代码高亮及样式</h3>\n<pre class=\"line-numbers language-yaml\" data-language=\"yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">highlight</span><span class=\"token punctuation\">:</span>                      <span class=\"token comment\"># 代码块的设置</span>\n  <span class=\"token key atrule\">enable</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">false</span>                 <span class=\"token comment\"># 开启代码块高亮</span>\n  <span class=\"token key atrule\">line_number</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span>             <span class=\"token comment\"># 显示行数</span>\n  <span class=\"token key atrule\">auto_detect</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">false</span>            <span class=\"token comment\"># 如果未指定语言，则启用自动检测</span>\n  <span class=\"token key atrule\">tab_replace</span><span class=\"token punctuation\">:</span> <span class=\"token string\">''</span>               <span class=\"token comment\"># 用 n 个空格替换 tabs；如果值为空，则不会替换 tabs</span>\n  <span class=\"token key atrule\">wrap</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span>\n  <span class=\"token key atrule\">hljs</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">false</span>\n<span class=\"token key atrule\">prismjs</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">enable</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span>\n  <span class=\"token key atrule\">preprocess</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span>\n  <span class=\"token key atrule\">line_number</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span>\n  <span class=\"token key atrule\">tab_replace</span><span class=\"token punctuation\">:</span> <span class=\"token string\">''</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<p>配置代码的样式</p>\n<pre class=\"line-numbers language-yaml\" data-language=\"yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">code</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">lang</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span>     <span class=\"token comment\"># 代码块是否显示名称</span>\n  <span class=\"token key atrule\">copy</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span>     <span class=\"token comment\"># 代码块是否可复制</span>\n  <span class=\"token key atrule\">shrink</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">false</span>  <span class=\"token comment\"># 代码块是否可以收缩</span>\n  <span class=\"token key atrule\">break</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">false</span>   <span class=\"token comment\"># 代码是否折行</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<h3 id=\"配置是否启用转载限制模块\">配置是否启用转载限制模块</h3>\n<pre class=\"line-numbers language-YAML\" data-language=\"YAML\"><code class=\"language-YAML\">reprint:\n  enable: false   #是否启用“转载规则限定模块”\n  default: cc_by<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n<p>文章转载规则，可以是 <code>cc_by</code>, <code>cc_by_nd</code>, <code>cc_by_sa</code>, <code>cc_by_nc</code>, <code>cc_by_nc_nd</code>, <code>cc_by_nc_sa</code>, <code>cc0</code>, <code>noreprint</code> 或 <code>pay</code> 中的一个</p>\n<h3 id=\"配置文章阅读密码功能\">配置文章阅读密码功能</h3>\n<p>阅读文章的密码验证功能，如要使用此功能请激活该配置项，并在对应文章的 <code>Front-matter</code> 中写上 <code>password</code> 的键和加密后的密文即可。</p>\n<blockquote>\n<p>请注意：为了保证密码原文不会被泄露到网页中，文章的密码必须是通过 <code>SHA256</code> 加密的，这样就不会被破解。</p>\n</blockquote>\n<pre class=\"line-numbers language-yaml\" data-language=\"yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">verifyPassword</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">enable</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span>\n  <span class=\"token key atrule\">promptMessage</span><span class=\"token punctuation\">:</span> 请输入访问本文章的密码\n  <span class=\"token key atrule\">errorMessage</span><span class=\"token punctuation\">:</span>  密码错误，将返回主页！<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n<h3 id=\"如何一键部署hexo\">如何一键部署hexo</h3>\n<p>通过 <a target=\"_blank\" rel=\"noopener\" href=\"https://github.com/hexojs/hexo-deployer-git\">hexo-deployer-git</a> 插件可以实现一键将博客同时部署到多个 git 仓库中。如同时发布到 github 及 gitee 提供的 pages 服务。安装：</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">npm</span> <span class=\"token function\">install</span> hexo-deployer-git --save<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p>修改 Hexo 根目录下的 <code>_config.yml</code> 文件中的如下内容:</p>\n<pre class=\"line-numbers language-yaml\" data-language=\"yaml\"><code class=\"language-yaml\"><span class=\"token comment\">## Docs: https://hexo.io/docs/deployment.html</span>\n<span class=\"token key atrule\">deploy</span><span class=\"token punctuation\">:</span>\n  <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">type</span><span class=\"token punctuation\">:</span> git\n    <span class=\"token key atrule\">repo</span><span class=\"token punctuation\">:</span> https<span class=\"token punctuation\">:</span>//github.com/lxl80/blog.git\n    <span class=\"token key atrule\">branch</span><span class=\"token punctuation\">:</span> gh<span class=\"token punctuation\">-</span>pages\n    <span class=\"token key atrule\">ignore_hidden</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">false</span>\n  <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">type</span><span class=\"token punctuation\">:</span> git\n    <span class=\"token key atrule\">repo</span><span class=\"token punctuation\">:</span> https<span class=\"token punctuation\">:</span>//gitee.com/lxl80/lxl80.git\n    <span class=\"token key atrule\">branch</span><span class=\"token punctuation\">:</span> master\n    <span class=\"token key atrule\">ignore_hidden</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">false</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<blockquote>\n<p>也可以如本站一样，采用 <a target=\"_blank\" rel=\"noopener\" href=\"https://github.com/75k/hexo-deployer-cos-enhanced\">hexo-deployer-cos-enhanced</a> 插件将静态内容部署到腾讯云对象存储服务中，在 DNS 配置中将境内线路解析到腾讯云 CDN 地址，实现加速。部署完成后会自动刷新被更新文件的 CDN 缓存。</p>\n</blockquote>\n<p>安装：</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">npm</span> <span class=\"token function\">install</span> hexo-deployer-cos-enhanced --save<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p><code>_config.yml</code> 配置如下:</p>\n<pre class=\"line-numbers language-yaml\" data-language=\"yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">deploy</span><span class=\"token punctuation\">:</span>\n  <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">type</span><span class=\"token punctuation\">:</span> git\n    <span class=\"token key atrule\">repo</span><span class=\"token punctuation\">:</span> https<span class=\"token punctuation\">:</span>//github.com/lxl80/blog.git\n    <span class=\"token key atrule\">branch</span><span class=\"token punctuation\">:</span> gh<span class=\"token punctuation\">-</span>pages\n    <span class=\"token key atrule\">ignore_hidden</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">false</span>\n  <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">type</span><span class=\"token punctuation\">:</span> cos\n    <span class=\"token key atrule\">bucket</span><span class=\"token punctuation\">:</span> lxl80<span class=\"token punctuation\">-</span>130<span class=\"token important\">****</span>\n    <span class=\"token key atrule\">region</span><span class=\"token punctuation\">:</span> ap<span class=\"token punctuation\">-</span>beijing\n    <span class=\"token key atrule\">secretId</span><span class=\"token punctuation\">:</span> AKIDh9<span class=\"token important\">****F8FvL</span>\n    <span class=\"token key atrule\">secretKey</span><span class=\"token punctuation\">:</span> Z3IGiur<span class=\"token important\">****QZR3PgjXmlVg</span>\n    <span class=\"token key atrule\">cdnConfig</span><span class=\"token punctuation\">:</span>\n      <span class=\"token key atrule\">enable</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span>\n      <span class=\"token key atrule\">cdnUrl</span><span class=\"token punctuation\">:</span> https<span class=\"token punctuation\">:</span>//static.lixl.cn\n      <span class=\"token key atrule\">bucket</span><span class=\"token punctuation\">:</span> static<span class=\"token punctuation\">-</span>130<span class=\"token important\">****</span>\n      <span class=\"token key atrule\">region</span><span class=\"token punctuation\">:</span> ap<span class=\"token punctuation\">-</span>beijing\n      <span class=\"token key atrule\">folder</span><span class=\"token punctuation\">:</span> static\n      <span class=\"token key atrule\">secretId</span><span class=\"token punctuation\">:</span> AKIDh9<span class=\"token important\">****F8FvL</span>\n      <span class=\"token key atrule\">secretKey</span><span class=\"token punctuation\">:</span> Z3IGiur<span class=\"token important\">****QZR3PgjXmlVg</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<p>然后通过 <code>hexo g -d</code> 即可实现一键发布，并更新 CDN 缓存。</p>\n<h3 id=\"文章链接转静态短地址（可选的）\">文章链接转静态短地址（可选的）</h3>\n<p>如果文章名称是中文的，那么 Hexo 默认生成的永久链接也会有中文，这样不利于 <code>SEO</code>，且 <code>gitment</code> 评论对中文链接也不支持。我们可以用 <a target=\"_blank\" rel=\"noopener\" href=\"https://github.com/viko16/hexo-permalink-pinyin\">hexo-permalink-pinyin</a> Hexo 插件生成文章时生成中文拼音的永久链接，或者用<a target=\"_blank\" rel=\"noopener\" href=\"https://github.com/rozbo/hexo-abbrlink\">hexo-abbrlink</a> 生成静态文章链接。以下结合 hexo-abbrlink 生成类似 <code>/yyyy/mmdd+随机数.html</code> 的文章链接地址。</p>\n<p>安装命令如下：</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">npm</span> <span class=\"token function\">install</span> hexo-abbrlink --save<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<ul>\n<li>\n<blockquote>\n<p>npm下载太慢怎么办？ 修改国内淘宝源加速，<a href=\"https://blog.17lai.site/posts/40300608/#npm%E4%B8%8B%E8%BD%BD%E5%8A%A0%E9%80%9F\">戳</a></p>\n</blockquote>\n</li>\n</ul>\n<p>在 Hexo 根目录下的 <code>_config.yml</code> 文件中，修改 <code>permalink:</code> ，并在文件末尾新增 <code>abbrlink:</code>配置项：</p>\n<pre class=\"line-numbers language-yaml\" data-language=\"yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">permalink</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">:</span>year/<span class=\"token punctuation\">:</span>month<span class=\"token punctuation\">:</span>day<span class=\"token punctuation\">:</span>abbrlink.html\n\n<span class=\"token key atrule\">abbrlink</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">alg</span><span class=\"token punctuation\">:</span> crc16 <span class=\"token comment\">#算法选项：crc16丨crc32</span>\n  <span class=\"token key atrule\">rep</span><span class=\"token punctuation\">:</span> dec <span class=\"token comment\">#输出进制：dec为十进制，hex为十六进制</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<h3 id=\"添加-emoji-表情支持（可选的）\">添加 emoji 表情支持（可选的）</h3>\n<p>Matery主题新增了对 <code>emoji</code> 表情的支持，使用到了 <a target=\"_blank\" rel=\"noopener\" href=\"https://npm.taobao.org/package/hexo-filter-github-emojis\">hexo-filter-github-emojis</a> 的 Hexo 插件来支持 <code>emoji</code> 表情的生成，把对应的 <code>markdown emoji</code> 语法（<code>::</code>, 例如：<code>:smile:</code>）转变成会跳跃的 <code>emoji</code> 表情，安装命令如下</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">npm</span> <span class=\"token function\">install</span> hexo-filter-github-emojis --save<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<blockquote>\n<ul>\n<li>npm下载太慢怎么办？ 修改国内淘宝源加速，<a href=\"https://blog.17lai.site/posts/40300608/#npm%E4%B8%8B%E8%BD%BD%E5%8A%A0%E9%80%9F\">戳</a></li>\n</ul>\n</blockquote>\n<p>在 博客根目录下的 <code>_config.yml</code> 文件中，新增以下的配置项：</p>\n<pre class=\"line-numbers language-yaml\" data-language=\"yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">githubEmojis</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">enable</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span>\n  <span class=\"token key atrule\">className</span><span class=\"token punctuation\">:</span> github<span class=\"token punctuation\">-</span>emoji\n  <span class=\"token key atrule\">inject</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span>\n  <span class=\"token key atrule\">styles</span><span class=\"token punctuation\">:</span>\n  customEmojis<span class=\"token punctuation\">:</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<p>执行 <code>hexo clean &amp;&amp; hexo g</code> 重新生成博客文件，然后就可以在文章中对应位置看到你用 <code>emoji</code> 语法写的表情了。</p>\n<h3 id=\"文章字数统计插件\">文章字数统计插件</h3>\n<p>如果你想要在文章中显示文章字数、阅读时长信息，可以安装 <a target=\"_blank\" rel=\"noopener\" href=\"https://github.com/willin/hexo-wordcount\">hexo-wordcount</a>插件。</p>\n<p>安装命令如下：</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">npm</span> i --save hexo-wordcount<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p>然后只需在本主题下的 <code>_config.yml</code> 文件中，激活以下配置项即可：</p>\n<pre class=\"line-numbers language-yaml\" data-language=\"yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">wordCount</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">enable</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">false</span> <span class=\"token comment\"># 将这个值设置为 true 即可.</span>\n  <span class=\"token key atrule\">postWordCount</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span>\n  <span class=\"token key atrule\">min2read</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span>\n  <span class=\"token key atrule\">totalCount</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<h3 id=\"添加-RSS-订阅支持\">添加 RSS 订阅支持</h3>\n<p>本主题中还使用到了 <a target=\"_blank\" rel=\"noopener\" href=\"https://github.com/hexojs/hexo-generator-feed\">hexo-generator-feed</a> 的 Hexo 插件来做 <code>RSS</code>，安装命令如下：</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">npm</span> <span class=\"token function\">install</span> hexo-generator-feed --save<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p>在 Hexo 根目录下的 <code>_config.yml</code> 文件中，新增以下的配置项：</p>\n<pre class=\"line-numbers language-yaml\" data-language=\"yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">feed</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">type</span><span class=\"token punctuation\">:</span> atom\n  <span class=\"token key atrule\">path</span><span class=\"token punctuation\">:</span> atom.xml\n  <span class=\"token key atrule\">limit</span><span class=\"token punctuation\">:</span> <span class=\"token number\">20</span>\n  <span class=\"token key atrule\">hub</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">content</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">content_limit</span><span class=\"token punctuation\">:</span> <span class=\"token number\">140</span>\n  <span class=\"token key atrule\">content_limit_delim</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\" \"</span>\n  <span class=\"token key atrule\">order_by</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">-</span>date<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<p>执行 <code>hexo clean &amp;&amp; hexo g</code> 重新生成博客文件，然后在 <code>public</code> 文件夹中即可看到 <code>atom.xml</code> 文件，说明已经安装成功了。</p>\n<h3 id=\"增加百度统计功能\">增加百度统计功能</h3>\n<p>首先注册<a target=\"_blank\" rel=\"noopener\" href=\"https://tongji.baidu.com/\"><strong>百度统计站长版</strong></a>，登陆后点击 新增网站，然后直接输入你的博客地址例如： https://blog.17lai.site，网站域名 和 网站首页 都写这个，网站名称 可以填 我的博客，<br>\n行业类别： 博客—空间周边。</p>\n<p>然后点击左侧菜单的 代码获取，找到</p>\n<pre class=\"line-numbers language-javascript\" data-language=\"javascript\"><code class=\"language-javascript\">hm<span class=\"token punctuation\">.</span>src <span class=\"token operator\">=</span> <span class=\"token string\">\"https://hm.baidu.com/hm.js?……\"</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p>问号后的这一段十六进制代码<br>\n复制下来，粘贴到 主题配置文件 中的baidu_analytics:后面，注意冒号和值之间要有一个空格，然后将该字段前面的#号删除代表启用此功能。保存后即可</p>\n<pre class=\"line-numbers language-yaml\" data-language=\"yaml\"><code class=\"language-yaml\"><span class=\"token comment\"># Add baidu analytics configuration</span>\n<span class=\"token comment\"># 添加 baidu Analytics 配置</span>\n<span class=\"token key atrule\">baiduAnalytics</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">enable</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">false</span>\n  <span class=\"token key atrule\">id</span><span class=\"token punctuation\">:</span> f614xxxxxxxxxxxxxxxx05d25e<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<h3 id=\"Leancloud-Valine打造Hexo个人博客极简评论系统\"><a target=\"_blank\" rel=\"noopener\" href=\"https://www.cnblogs.com/Timesi/p/9556236.html\">Leancloud+Valine打造Hexo个人博客极简评论系统</a></h3>\n<h4 id=\"Leancloud配置\">Leancloud配置</h4>\n<p>首先访问Leancloud官网<code>https://leancloud.cn/</code><br>\n有Github账号的小伙伴可以用Github账号进行登陆然后绑定邮箱就可以啦！<br>\n进入之后点击创建应用<br>\n<img src=\"https://cimg1.17lai.site/data/2021/09/1120210911134958.png\" alt=\"\"><br>\n这样我们就创建好啦！<br>\n<img src=\"https://cimg1.17lai.site/data/2021/09/1120210911135007.png\" alt=\"\"><br>\n接着点击应用右上角的设置进入设置界面<br>\n<img src=\"https://cimg1.17lai.site/data/2021/09/1120210911135013.png\" alt=\"\"><br>\n选择应用key，这样就可以看到我们接下来需要使用到的key<br>\n<img src=\"https://cimg1.17lai.site/data/2021/09/1120210911135020.png\" alt=\"\"><br>\n接着进入应用中心绑定你的个人博客域名<br>\n<img src=\"https://cimg1.17lai.site/data/2021/09/1120210911135027.png\" alt=\"\"></p>\n<h4 id=\"Valine配置\">Valine配置</h4>\n<p>然后我们去主题配置文件中进行修改<br>\n主题配置文件路径：<code>matery_config.yml</code><br>\n找到以下参数进行修改</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\"># Valine.\n# You can get your appid and appkey from https://leancloud.cn\n# more info please open https://valine.js.org\nvaline:\n  enable: true //打开valine评论功能\n  appid: 你的leancloud appid \n  appkey: 你的leancloud appkey \n  notify: false //邮件提醒\n  verify: true //评论时是否有验证码，需要在Leancloud 设置-&gt;安全中心 中打开\n  placeholder: 说点什么吧！ //评论框默认显示\n  avatar: hide //评论者的头像,我这里设置的不显示\n  guest_info: nick # custom comment header\n  pageSize: 10 # pagination size<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<p>PS：评论者头像可以进行如下设置<br>\n<img src=\"https://cimg1.17lai.site/data/2021/09/1120210911135034.png\" alt=\"\"></p>\n<p>到此，一个极简评论系统就完成啦！</p>\n<h2 id=\"系列教程-40\"><strong>系列教程</strong></h2>\n<p><a href=\"https://blog.17lai.site/atom.xml\">全部文章RSS订阅</a></p>\n<p><strong>Hexo系列</strong>  <a href=\"https://blog.17lai.site/categories/hexo/atom.xml\"><strong>HexoRSS分类订阅</strong></a></p>\n<p>[三万字教程]基于Hexo的matery主题搭建博客并深度优化完全一站式教程</p>\n<ul>\n<li>\n<p><a href=\"https://blog.17lai.site/posts/40300608/\">Hexo Docker环境与Hexo基础配置篇</a></p>\n</li>\n<li>\n<p><a href=\"https://blog.17lai.site/posts/4d8a0b22/\">hexo博客自定义修改篇</a></p>\n</li>\n<li>\n<p><a href=\"https://blog.17lai.site/posts/9b056c86/\">hexo博客网络优化篇</a></p>\n</li>\n<li>\n<p><a href=\"https://blog.17lai.site/posts/5311b619/\">hexo博客增强部署篇</a></p>\n</li>\n<li>\n<p><a href=\"https://blog.17lai.site/posts/4a2050e2/\">hexo博客个性定制篇</a></p>\n</li>\n<li>\n<p><a href=\"https://blog.17lai.site/posts/84b4059a/\">hexo博客常见问题篇</a></p>\n</li>\n<li>\n<p><a href=\"https://blog.17lai.site/posts/cf0f47fd/\">Hexo Markdown以及各种插件功能测试</a></p>\n</li>\n</ul>\n<blockquote>\n<ul>\n<li>markdown 各种其它语法插件</li>\n<li>latex公式支持</li>\n<li>mermaid图表</li>\n<li>plant uml图表</li>\n<li>URL卡片</li>\n<li>bilibili卡片</li>\n<li>github卡片</li>\n<li>豆瓣卡片</li>\n<li>插入音乐和视频</li>\n<li>插入脑图</li>\n</ul>\n</blockquote>\n<p><strong>Docker系列</strong> <a href=\"https://blog.17lai.site/categories/docker/atom.xml\"><strong>Docker 分类 RSS 订阅</strong></a></p>\n<ul>\n<li><a href=\"https://blog.17lai.site/posts/42b6a86d/\">Docker使用简明教程</a></li>\n<li><a href=\"https://blog.17lai.site/posts/9912bd5d/\">使用jeckett,sonarr,iyuu,qt,emby打造全自动追剧流程</a></li>\n<li><a href=\"https://blog.17lai.site/posts/1802a8a7/\">为知笔记私有化Docker部署</a></li>\n<li><a href=\"https://blog.17lai.site/posts/593cc323/\">Earthly 一个更加强大的镜像构建工具</a></li>\n<li><a href=\"https://blog.17lai.site/posts/90e60aac/\">使用 Shell 脚本实现一个简单 Docker</a></li>\n<li><a href=\"https://blog.17lai.site/posts/465d2738/\">如何使用Traefik V2 在Ubuntu20.04 上面来做 Dockers</a></li>\n<li><a href=\"https://blog.17lai.site/posts/462f1e5c/\">通过IPV6访问Qnap NAS中Docker的服务</a></li>\n</ul>\n<p><strong>笔记系列</strong>  <a href=\"https://blog.17lai.site/categories/note/atom.xml\"><strong>Note分类RSS订阅</strong></a></p>\n<ul>\n<li><a href=\"https://blog.17lai.site/posts/a8535f26/\">完美笔记进化论</a></li>\n</ul>\n<blockquote>\n<p>经历了很长时间，使用了各种各样的方案，最终选择了一种相对完美的方式。docker私有部署运行的joplin，使用markdown语法，github作为图床，picgo作为图像自动上传后端，pypora作为MD编辑器，Snipaste作为截图工具。后备gitlab ee selfhost备份，自建图床VPS多线负载均衡。cloudflare partner cdn加速，jsdelivr加速。</p>\n<ul>\n<li>pigo图床搭建与配置</li>\n<li>Joplin教程</li>\n<li>Snipaste截图工具</li>\n<li>Typora 作为Markdown编辑器最强</li>\n</ul>\n</blockquote>\n<ul>\n<li><a target=\"_blank\" rel=\"noopener\" href=\"https://blog.17lai.fun/posts/e6086437/\">Joplin入门指南&amp;实践方案</a></li>\n</ul>\n<blockquote>\n<ul>\n<li>Joplin和使用</li>\n<li>Joplin同步与备份</li>\n<li>Joplin导入与导出</li>\n</ul>\n</blockquote>\n<ul>\n<li><a target=\"_blank\" rel=\"noopener\" href=\"https://blog.17lai.fun/posts/45f878cd/\">替代Evernote免费开源笔记Joplin-网盘同步笔记历史版本Markdown可视化</a></li>\n</ul>\n<blockquote>\n<ul>\n<li>Joplin安装使用，调用外部编辑器，网盘同步等等</li>\n</ul>\n</blockquote>\n<ul>\n<li><a href=\"https://blog.17lai.site/posts/92d347d6/\">Joplin 插件以及其Markdown语法。All in One!</a></li>\n</ul>\n<blockquote>\n<ul>\n<li>Joplin简明教程</li>\n<li>markdown语法简明教程</li>\n</ul>\n</blockquote>\n<ul>\n<li><a href=\"https://blog.17lai.site/posts/e3ee7f8b/\">Joplin 插件使用推荐</a></li>\n</ul>\n<blockquote>\n<ul>\n<li>教你用各种插件打造一个强大的笔记工具。</li>\n</ul>\n</blockquote>\n<ul>\n<li><a href=\"https://blog.17lai.site/posts/1802a8a7/\">为知笔记私有化Docker部署</a></li>\n</ul>\n<blockquote>\n<ul>\n<li>如何部署自己私有的为知笔记。</li>\n<li>其实博主更推荐私有部署joplin</li>\n</ul>\n</blockquote>\n<p><strong>Gitbook使用系列</strong> <a href=\"https://blog.17lai.site/categories/gitbook/atom.xml\">Gitbook分类RSS订阅</a></p>\n<ul>\n<li>\n<p><a href=\"https://blog.17lai.site/posts/7fe86002/\">GitBook+GitLab撰写发布技术文档-Part1:GitBook篇</a></p>\n</li>\n<li>\n<p><a href=\"https://blog.17lai.site/posts/7790e989/\">GitBook+GitLab撰写发布技术文档-Part2:GitLab篇</a></p>\n</li>\n<li>\n<p><a href=\"https://blog.17lai.site/posts/d6bad1e5/\">自己动手制作电子书的最佳方式（支持PDF、ePub、mobi等格式）</a></p>\n</li>\n</ul>\n<p><strong>Gitlab 使用系列</strong>  <a href=\"https://blog.17lai.site/categories/gitlab/atom.xml\"><strong>Gitlab RSS 分类订阅</strong></a></p>\n<ul>\n<li><a href=\"https://blog.17lai.site/posts/acc13b70/\"><strong>Gitlab的安装及使用教程完全版</strong></a></li>\n<li><a href=\"https://blog.17lai.site/posts/29a820b3/\">破解Gitlab EE</a></li>\n<li><a href=\"https://blog.17lai.site/posts/d08eb7b/\">Gitlab的安装及使用</a></li>\n<li><a href=\"https://blog.17lai.site/posts/1879721e/\">CI/CD与Git Flow与GitLab</a></li>\n</ul>\n<link rel=\"stylesheet\" href=\"/css/bilicard.css\" type=\"text/css\">",
            "tags": [
                "github",
                "hexo",
                "matery",
                "cdn",
                "seo"
            ]
        }
    ]
}