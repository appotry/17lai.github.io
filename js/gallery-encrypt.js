"use strict";function decryptAES(t){try{var n=String(document.getElementById("decryptionError").innerHTML),o=String(document.getElementById("noContentError").innerHTML)}catch(e){n="Incorrect Password!",o="No content to display!"}try{let e=CryptoJS.AES.decrypt(document.getElementById("encrypt-blog").innerHTML.trim(),t);if(e=e.toString(CryptoJS.enc.Utf8),e=decodeBase64(e),e=unescape(e),""===e)throw new Error(o);document.getElementById("encrypt-blog").style.display="inline",document.getElementById("encrypt-blog").innerHTML="";try{$("#encrypt-blog").html(e)}catch(e){console.error(e),$("#encrypt-blog").html("<p>Some errors occurred, check the original file please.Detailed exceptions are shown in console.</p>")}if(document.getElementById("hbe-security").style.display="none",document.getElementById("toc-div")&&(document.getElementById("toc-div").style.display="inline"),"undefined"!=typeof MathJax)try{MathJax.Hub.Queue(["resetEquationNumbers",MathJax.InputJax.TeX],["PreProcess",MathJax.Hub],["Reprocess",MathJax.Hub])}catch(e){console.log("Can't render with MathJax")}}catch(e){return alert(n),console.log(e),!1}return!0}function htmlDecode(e){let t="";return 0==e.length?"":(t=e.replace(/&gt;/g,"&"),t=t.replace(/&lt;/g,"<"),t=t.replace(/&gt;/g,">"),t=t.replace(/&nbsp;/g,"    "),t=t.replace(/'/g,"'"),t=t.replace(/&quot;/g,'"'),t=t.replace(/<br>/g,"\n"),t)}function decodeBase64(e){return e=CryptoJS.enc.Base64.parse(e),e=CryptoJS.enc.Utf8.stringify(e)}function setCookie(e,t,n){const o=new Date((new Date).getTime()+6e4*n);document.cookie=`${e}=${escape(t)}${null==n?"":`;expires=${o.toGMTString()}`}`}function getCookie(t){if(0<document.cookie.length){var n=document.cookie.indexOf(`${t}=`);if(-1!=n){n=n+t.length+1;let e=document.cookie.indexOf(";",n);return-1==e&&(e=document.cookie.length),unescape(document.cookie.substring(n,e))}}return""}function GetUrlRelativePath(){const e=document.location.toString(),t=e.split("//");var n=t[1].indexOf("/");let o=t[1].substring(n);return-1!=o.indexOf("?")&&(o=o.split("?")[0]),o}function GenerateCookieName(){return"HBE-PASSWORD"+GetUrlRelativePath()}$(document).ready(function(){let t=String(getCookie(GenerateCookieName()));console.log(`Get password from Cookie:${t}`),""!=t&&(decryptAES(t)?(document.getElementById("encrypt-blog").removeAttribute("style"),$("#encrypt-blog").justifiedGallery({margins:5,rowHeight:150})):setCookie(COOKIE_NAME,t,-5)),document.getElementById("pass").onkeypress=function(e){t=String(document.getElementById("pass").value),13===e.keyCode&&decryptAES(t)&&(document.getElementById("encrypt-blog").removeAttribute("style"),$("#encrypt-blog").justifiedGallery({margins:5,rowHeight:150}),setCookie(GenerateCookieName(),t,30))},$("#btn_decrypt").on("click",function(){t=String(document.getElementById("pass").value),decryptAES(t)&&(document.getElementById("encrypt-blog").removeAttribute("style"),$("#encrypt-blog").justifiedGallery({margins:5,rowHeight:150}),setCookie(GenerateCookieName(),t,30))})});