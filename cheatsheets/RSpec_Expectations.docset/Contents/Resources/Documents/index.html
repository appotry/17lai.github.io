<!DOCTYPE html>
<html>
<head>
<meta charset='utf-8'>
<title>RSpec Expectations</title>
<link href='style.css' rel='stylesheet'>
<link href='//dash_ref/Category/Built-in Matchers/1'>
<link href='//dash_ref_Built-in Matchers/Entry/Object identity/0'>
<link href='//dash_ref_Built-in Matchers/Entry/Object equivalence/0'>
<link href='//dash_ref_Built-in Matchers/Entry/Optional APIs for identity%2Fequivalence/0'>
<link href='//dash_ref_Built-in Matchers/Entry/Comparisons/0'>
<link href='//dash_ref_Built-in Matchers/Entry/Types%2Fclasses%2Fresponse/0'>
<link href='//dash_ref_Built-in Matchers/Entry/Truthiness and existentialism/0'>
<link href='//dash_ref_Built-in Matchers/Entry/Expecting errors/0'>
<link href='//dash_ref_Built-in Matchers/Entry/Expecting throws/0'>
<link href='//dash_ref_Built-in Matchers/Entry/Predicate matchers/0'>
<link href='//dash_ref_Built-in Matchers/Entry/Collection membership/0'>
<link href='//dash_ref_Built-in Matchers/Entry/Ranges (1.9 only)/0'>
<link href='//dash_ref_Built-in Matchers/Entry/Change observation/0'>
<link href='//dash_ref_Built-in Matchers/Entry/Satisfy/0'>
<link href='//dash_ref_Built-in Matchers/Entry/Output capture/0'>
<link href='//dash_ref_Built-in Matchers/Entry/Block expectation/0'>
</head>
<body>
<header>
<h1>RSpec Expectations</h1>
</header>
<article>
<p><p>Each matcher can be used with <code>expect(..).to</code> or <code>expect(..).not_to</code> to define positive and negative expectations respectively on an object. Most matchers can also be accessed using the <code>(...).should</code> and <code>(...).should_not</code> syntax; see <a href="https://github.com/rspec/rspec-expectations/blob/master/Should.md">using should syntax</a> for why we recommend using expect.</p>
</p>
<section class='category'>
<h2 id='//dash_ref/Category/Built-in Matchers/1'>
Built-in Matchers
</h2>
<div class='scrollable'>
<table>
<tr id='//dash_ref_Built-in Matchers/Entry/Object identity/0'>
<td class='command'>
<p>
<code>be</code>
</p>
</td>
<td class='description'>
<div class='name'><p>Object identity</p>
</div>
<div class='notes'><pre class="highlight ruby"><span class="n">expect</span><span class="p">(</span><span class="n">actual</span><span class="p">).</span><span class="nf">to</span> <span class="n">be</span><span class="p">(</span><span class="n">expected</span><span class="p">)</span> <span class="c1"># passes if actual.equal?(expected)</span></pre></div>
<div class='notes'></div>
</td>
</tr>
<tr id='//dash_ref_Built-in Matchers/Entry/Object equivalence/0'>
<td class='command'>
<p>
<code>eq</code>
</p>
</td>
<td class='description'>
<div class='name'><p>Object equivalence</p>
</div>
<div class='notes'><pre class="highlight ruby"><span class="n">expect</span><span class="p">(</span><span class="n">actual</span><span class="p">).</span><span class="nf">to</span> <span class="n">eq</span><span class="p">(</span><span class="n">expected</span><span class="p">)</span> <span class="c1"># passes if actual == expected</span></pre></div>
<div class='notes'></div>
</td>
</tr>
<tr id='//dash_ref_Built-in Matchers/Entry/Optional APIs for identity%2Fequivalence/0'>
<td class='command'>
<p>
<code>eql</code>
</p>
<p>
<code>equal</code>
</p>
</td>
<td class='description'>
<div class='name'><p>Optional APIs for identity/equivalence</p>
</div>
<div class='notes'><pre class="highlight ruby"><span class="n">expect</span><span class="p">(</span><span class="n">actual</span><span class="p">).</span><span class="nf">to</span> <span class="n">eql</span><span class="p">(</span><span class="n">expected</span><span class="p">)</span>   <span class="c1"># passes if actual.eql?(expected)</span>&#x000A;<span class="n">expect</span><span class="p">(</span><span class="n">actual</span><span class="p">).</span><span class="nf">to</span> <span class="n">equal</span><span class="p">(</span><span class="n">expected</span><span class="p">)</span> <span class="c1"># passes if actual.equal?(expected)</span></pre>
<blockquote>
<p>NOTE: <code>expect</code> does not support <code>==</code> matcher.</p>
</blockquote>
</div>
<div class='notes'></div>
</td>
</tr>
<tr id='//dash_ref_Built-in Matchers/Entry/Comparisons/0'>
<td class='command'>
<p>
<code>be &gt;</code>
</p>
<p>
<code>be &gt;=</code>
</p>
<p>
<code>be &lt;=</code>
</p>
<p>
<code>be &lt;</code>
</p>
<p>
<code>be_between</code>
</p>
<p>
<code>match</code>
</p>
<p>
<code>be_within .. of</code>
</p>
<p>
<code>start_with</code>
</p>
<p>
<code>end_with</code>
</p>
</td>
<td class='description'>
<div class='name'><p>Comparisons</p>
</div>
<div class='notes'><pre class="highlight ruby"><span class="n">expect</span><span class="p">(</span><span class="n">actual</span><span class="p">).</span><span class="nf">to</span> <span class="n">be</span> <span class="o">&gt;</span>  <span class="n">expected</span>&#x000A;<span class="n">expect</span><span class="p">(</span><span class="n">actual</span><span class="p">).</span><span class="nf">to</span> <span class="n">be</span> <span class="o">&gt;=</span> <span class="n">expected</span>&#x000A;<span class="n">expect</span><span class="p">(</span><span class="n">actual</span><span class="p">).</span><span class="nf">to</span> <span class="n">be</span> <span class="o">&lt;=</span> <span class="n">expected</span>&#x000A;<span class="n">expect</span><span class="p">(</span><span class="n">actual</span><span class="p">).</span><span class="nf">to</span> <span class="n">be</span> <span class="o">&lt;</span>  <span class="n">expected</span>&#x000A;<span class="n">expect</span><span class="p">(</span><span class="n">actual</span><span class="p">).</span><span class="nf">to</span> <span class="n">be_between</span><span class="p">(</span><span class="n">minimum</span><span class="p">,</span> <span class="n">maximum</span><span class="p">).</span><span class="nf">inclusive</span>&#x000A;<span class="n">expect</span><span class="p">(</span><span class="n">actual</span><span class="p">).</span><span class="nf">to</span> <span class="n">be_between</span><span class="p">(</span><span class="n">minimum</span><span class="p">,</span> <span class="n">maximum</span><span class="p">).</span><span class="nf">exclusive</span>&#x000A;<span class="n">expect</span><span class="p">(</span><span class="n">actual</span><span class="p">).</span><span class="nf">to</span> <span class="n">match</span><span class="p">(</span><span class="sr">/expression/</span><span class="p">)</span>&#x000A;<span class="n">expect</span><span class="p">(</span><span class="n">actual</span><span class="p">).</span><span class="nf">to</span> <span class="n">be_within</span><span class="p">(</span><span class="n">delta</span><span class="p">).</span><span class="nf">of</span><span class="p">(</span><span class="n">expected</span><span class="p">)</span>&#x000A;<span class="n">expect</span><span class="p">(</span><span class="n">actual</span><span class="p">).</span><span class="nf">to</span> <span class="n">start_with</span> <span class="n">expected</span>&#x000A;<span class="n">expect</span><span class="p">(</span><span class="n">actual</span><span class="p">).</span><span class="nf">to</span> <span class="n">end_with</span> <span class="n">expected</span></pre>
<blockquote>
<p>NOTE: <code>expect</code> does not support <code>=~</code> matcher.</p>
</blockquote>
</div>
<div class='notes'></div>
</td>
</tr>
<tr id='//dash_ref_Built-in Matchers/Entry/Types%2Fclasses%2Fresponse/0'>
<td class='command'>
<p>
<code>be_instance_of</code>
</p>
<p>
<code>be_kind_of</code>
</p>
<p>
<code>respond_to</code>
</p>
</td>
<td class='description'>
<div class='name'><p>Types/classes/response</p>
</div>
<div class='notes'><pre class="highlight ruby"><span class="n">expect</span><span class="p">(</span><span class="n">actual</span><span class="p">).</span><span class="nf">to</span> <span class="n">be_instance_of</span><span class="p">(</span><span class="n">expected</span><span class="p">)</span>&#x000A;<span class="n">expect</span><span class="p">(</span><span class="n">actual</span><span class="p">).</span><span class="nf">to</span> <span class="n">be_kind_of</span><span class="p">(</span><span class="n">expected</span><span class="p">)</span>&#x000A;<span class="n">expect</span><span class="p">(</span><span class="n">actual</span><span class="p">).</span><span class="nf">to</span> <span class="n">respond_to</span><span class="p">(</span><span class="n">expected</span><span class="p">)</span></pre></div>
<div class='notes'></div>
</td>
</tr>
<tr id='//dash_ref_Built-in Matchers/Entry/Truthiness and existentialism/0'>
<td class='command'>
<p>
<code>be_truthy</code>
</p>
<p>
<code>be true</code>
</p>
<p>
<code>be_falsey</code>
</p>
<p>
<code>be false</code>
</p>
<p>
<code>be_nil</code>
</p>
<p>
<code>exist</code>
</p>
</td>
<td class='description'>
<div class='name'><p>Truthiness and existentialism</p>
</div>
<div class='notes'><pre class="highlight ruby"><span class="n">expect</span><span class="p">(</span><span class="n">actual</span><span class="p">).</span><span class="nf">to</span> <span class="n">be_truthy</span>    <span class="c1"># passes if actual is truthy (not nil or false)</span>&#x000A;<span class="n">expect</span><span class="p">(</span><span class="n">actual</span><span class="p">).</span><span class="nf">to</span> <span class="n">be</span> <span class="kp">true</span>      <span class="c1"># passes if actual == true</span>&#x000A;<span class="n">expect</span><span class="p">(</span><span class="n">actual</span><span class="p">).</span><span class="nf">to</span> <span class="n">be_falsey</span>    <span class="c1"># passes if actual is falsy (nil or false)</span>&#x000A;<span class="n">expect</span><span class="p">(</span><span class="n">actual</span><span class="p">).</span><span class="nf">to</span> <span class="n">be</span> <span class="kp">false</span>     <span class="c1"># passes if actual == false</span>&#x000A;<span class="n">expect</span><span class="p">(</span><span class="n">actual</span><span class="p">).</span><span class="nf">to</span> <span class="n">be_nil</span>       <span class="c1"># passes if actual is nil</span>&#x000A;<span class="n">expect</span><span class="p">(</span><span class="n">actual</span><span class="p">).</span><span class="nf">to</span> <span class="n">exist</span>        <span class="c1"># passes if actual.exist? and/or actual.exists? are truthy</span>&#x000A;<span class="n">expect</span><span class="p">(</span><span class="n">actual</span><span class="p">).</span><span class="nf">to</span> <span class="n">exist</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">)</span> <span class="c1"># passes if actual.exist?(*args) and/or actual.exists?(*args) are truthy</span></pre></div>
<div class='notes'></div>
</td>
</tr>
<tr id='//dash_ref_Built-in Matchers/Entry/Expecting errors/0'>
<td class='command'>
<p>
<code>raise_error</code>
</p>
</td>
<td class='description'>
<div class='name'><p>Expecting errors</p>
</div>
<div class='notes'><pre class="highlight ruby"><span class="n">expect</span> <span class="p">{</span> <span class="o">...</span> <span class="p">}.</span><span class="nf">to</span> <span class="n">raise_error</span>&#x000A;<span class="n">expect</span> <span class="p">{</span> <span class="o">...</span> <span class="p">}.</span><span class="nf">to</span> <span class="n">raise_error</span><span class="p">(</span><span class="no">ErrorClass</span><span class="p">)</span>&#x000A;<span class="n">expect</span> <span class="p">{</span> <span class="o">...</span> <span class="p">}.</span><span class="nf">to</span> <span class="n">raise_error</span><span class="p">(</span><span class="s2">"message"</span><span class="p">)</span>&#x000A;<span class="n">expect</span> <span class="p">{</span> <span class="o">...</span> <span class="p">}.</span><span class="nf">to</span> <span class="n">raise_error</span><span class="p">(</span><span class="no">ErrorClass</span><span class="p">,</span> <span class="s2">"message"</span><span class="p">)</span></pre></div>
<div class='notes'></div>
</td>
</tr>
<tr id='//dash_ref_Built-in Matchers/Entry/Expecting throws/0'>
<td class='command'>
<p>
<code>throw_symbol</code>
</p>
</td>
<td class='description'>
<div class='name'><p>Expecting throws</p>
</div>
<div class='notes'><pre class="highlight ruby"><span class="n">expect</span> <span class="p">{</span> <span class="o">...</span> <span class="p">}.</span><span class="nf">to</span> <span class="n">throw_symbol</span>&#x000A;<span class="n">expect</span> <span class="p">{</span> <span class="o">...</span> <span class="p">}.</span><span class="nf">to</span> <span class="n">throw_symbol</span><span class="p">(</span><span class="ss">:symbol</span><span class="p">)</span>&#x000A;<span class="n">expect</span> <span class="p">{</span> <span class="o">...</span> <span class="p">}.</span><span class="nf">to</span> <span class="n">throw_symbol</span><span class="p">(</span><span class="ss">:symbol</span><span class="p">,</span> <span class="s1">'value'</span><span class="p">)</span></pre></div>
<div class='notes'></div>
</td>
</tr>
<tr id='//dash_ref_Built-in Matchers/Entry/Predicate matchers/0'>
<td class='command'>
<p>
<code>be_*</code>
</p>
<p>
<code>have_*</code>
</p>
</td>
<td class='description'>
<div class='name'><p>Predicate matchers</p>
</div>
<div class='notes'><pre class="highlight ruby"><span class="n">expect</span><span class="p">(</span><span class="n">actual</span><span class="p">).</span><span class="nf">to</span> <span class="n">be_xxx</span>         <span class="c1"># passes if actual.xxx?</span>&#x000A;<span class="n">expect</span><span class="p">(</span><span class="n">actual</span><span class="p">).</span><span class="nf">to</span> <span class="n">have_xxx</span><span class="p">(</span><span class="ss">:arg</span><span class="p">)</span> <span class="c1"># passes if actual.has_xxx?(:arg)</span></pre>
<h4>Examples</h4>
<pre class="highlight ruby"><span class="n">expect</span><span class="p">([]).</span><span class="nf">to</span>      <span class="n">be_empty</span>&#x000A;<span class="n">expect</span><span class="p">(</span><span class="ss">:a</span> <span class="o">=&gt;</span> <span class="mi">1</span><span class="p">).</span><span class="nf">to</span> <span class="n">have_key</span><span class="p">(</span><span class="ss">:a</span><span class="p">)</span></pre></div>
<div class='notes'></div>
</td>
</tr>
<tr id='//dash_ref_Built-in Matchers/Entry/Collection membership/0'>
<td class='command'>
<p>
<code>include</code>
</p>
<p>
<code>match_array</code>
</p>
<p>
<code>contain_exactly</code>
</p>
</td>
<td class='description'>
<div class='name'><p>Collection membership</p>
</div>
<div class='notes'><pre class="highlight ruby"><span class="n">expect</span><span class="p">(</span><span class="n">actual</span><span class="p">).</span><span class="nf">to</span> <span class="kp">include</span><span class="p">(</span><span class="n">expected</span><span class="p">)</span>&#x000A;<span class="n">expect</span><span class="p">(</span><span class="n">array</span><span class="p">).</span><span class="nf">to</span> <span class="n">match_array</span><span class="p">(</span><span class="n">expected_array</span><span class="p">)</span>&#x000A;<span class="c1"># ...which is the same as:</span>&#x000A;<span class="n">expect</span><span class="p">(</span><span class="n">array</span><span class="p">).</span><span class="nf">to</span> <span class="n">contain_exactly</span><span class="p">(</span><span class="n">individual</span><span class="p">,</span> <span class="n">elements</span><span class="p">)</span></pre>
<h4>Examples</h4>
<pre class="highlight ruby"><span class="n">expect</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]).</span><span class="nf">to</span>     <span class="kp">include</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>&#x000A;<span class="n">expect</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]).</span><span class="nf">to</span>     <span class="kp">include</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>&#x000A;<span class="n">expect</span><span class="p">(</span><span class="ss">:a</span> <span class="o">=&gt;</span> <span class="s1">'b'</span><span class="p">).</span><span class="nf">to</span>     <span class="kp">include</span><span class="p">(</span><span class="ss">:a</span> <span class="o">=&gt;</span> <span class="s1">'b'</span><span class="p">)</span>&#x000A;<span class="n">expect</span><span class="p">(</span><span class="s2">"this string"</span><span class="p">).</span><span class="nf">to</span> <span class="kp">include</span><span class="p">(</span><span class="s2">"is str"</span><span class="p">)</span>&#x000A;<span class="n">expect</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]).</span><span class="nf">to</span>     <span class="n">contain_exactly</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>&#x000A;<span class="n">expect</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]).</span><span class="nf">to</span>     <span class="n">match_array</span><span class="p">([</span><span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span></pre></div>
<div class='notes'></div>
</td>
</tr>
<tr id='//dash_ref_Built-in Matchers/Entry/Ranges (1.9 only)/0'>
<td class='command'>
<p>
<code>cover</code>
</p>
</td>
<td class='description'>
<div class='name'><p>Ranges (1.9 only)</p>
</div>
<div class='notes'><pre class="highlight ruby"><span class="n">expect</span><span class="p">(</span><span class="mi">1</span><span class="o">..</span><span class="mi">10</span><span class="p">).</span><span class="nf">to</span> <span class="n">cover</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span></pre></div>
<div class='notes'></div>
</td>
</tr>
<tr id='//dash_ref_Built-in Matchers/Entry/Change observation/0'>
<td class='command'>
<p>
<code>change .. from .. to</code>
</p>
<p>
<code>change .. by</code>
</p>
<p>
<code>change .. by_at_least</code>
</p>
<p>
<code>change .. by_at_most</code>
</p>
</td>
<td class='description'>
<div class='name'><p>Change observation</p>
</div>
<div class='notes'><pre class="highlight ruby"><span class="n">expect</span> <span class="p">{</span> <span class="n">object</span><span class="p">.</span><span class="nf">action</span> <span class="p">}.</span><span class="nf">to</span> <span class="n">change</span><span class="p">(</span><span class="n">object</span><span class="p">,</span> <span class="ss">:value</span><span class="p">).</span><span class="nf">from</span><span class="p">(</span><span class="n">old</span><span class="p">).</span><span class="nf">to</span><span class="p">(</span><span class="n">new</span><span class="p">)</span>&#x000A;<span class="n">expect</span> <span class="p">{</span> <span class="n">object</span><span class="p">.</span><span class="nf">action</span> <span class="p">}.</span><span class="nf">to</span> <span class="n">change</span><span class="p">(</span><span class="n">object</span><span class="p">,</span> <span class="ss">:value</span><span class="p">).</span><span class="nf">by</span><span class="p">(</span><span class="n">delta</span><span class="p">)</span>&#x000A;<span class="n">expect</span> <span class="p">{</span> <span class="n">object</span><span class="p">.</span><span class="nf">action</span> <span class="p">}.</span><span class="nf">to</span> <span class="n">change</span><span class="p">(</span><span class="n">object</span><span class="p">,</span> <span class="ss">:value</span><span class="p">).</span><span class="nf">by_at_least</span><span class="p">(</span><span class="n">minimum_delta</span><span class="p">)</span>&#x000A;<span class="n">expect</span> <span class="p">{</span> <span class="n">object</span><span class="p">.</span><span class="nf">action</span> <span class="p">}.</span><span class="nf">to</span> <span class="n">change</span><span class="p">(</span><span class="n">object</span><span class="p">,</span> <span class="ss">:value</span><span class="p">).</span><span class="nf">by_at_most</span><span class="p">(</span><span class="n">maximum_delta</span><span class="p">)</span></pre>
<h4>Examples</h4>
<pre class="highlight ruby"><span class="n">expect</span> <span class="p">{</span> <span class="n">a</span> <span class="o">+=</span> <span class="mi">1</span> <span class="p">}.</span><span class="nf">to</span> <span class="n">change</span> <span class="p">{</span> <span class="n">a</span> <span class="p">}.</span><span class="nf">by</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>&#x000A;<span class="n">expect</span> <span class="p">{</span> <span class="n">a</span> <span class="o">+=</span> <span class="mi">3</span> <span class="p">}.</span><span class="nf">to</span> <span class="n">change</span> <span class="p">{</span> <span class="n">a</span> <span class="p">}.</span><span class="nf">from</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>&#x000A;<span class="n">expect</span> <span class="p">{</span> <span class="n">a</span> <span class="o">+=</span> <span class="mi">3</span> <span class="p">}.</span><span class="nf">to</span> <span class="n">change</span> <span class="p">{</span> <span class="n">a</span> <span class="p">}.</span><span class="nf">by_at_least</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span></pre></div>
<div class='notes'></div>
</td>
</tr>
<tr id='//dash_ref_Built-in Matchers/Entry/Satisfy/0'>
<td class='command'>
<p>
<code>satisfy</code>
</p>
</td>
<td class='description'>
<div class='name'><p>Satisfy</p>
</div>
<div class='notes'><pre class="highlight ruby"><span class="n">expect</span><span class="p">(</span><span class="n">actual</span><span class="p">).</span><span class="nf">to</span> <span class="n">satisfy</span> <span class="p">{</span> <span class="o">|</span><span class="n">value</span><span class="o">|</span> <span class="n">value</span> <span class="o">==</span> <span class="n">expected</span> <span class="p">}</span></pre></div>
<div class='notes'></div>
</td>
</tr>
<tr id='//dash_ref_Built-in Matchers/Entry/Output capture/0'>
<td class='command'>
<p>
<code>output</code>
</p>
</td>
<td class='description'>
<div class='name'><p>Output capture</p>
</div>
<div class='notes'><pre class="highlight ruby"><span class="n">expect</span> <span class="p">{</span> <span class="n">actual</span> <span class="p">}.</span><span class="nf">to</span> <span class="n">output</span><span class="p">(</span><span class="s2">"some output"</span><span class="p">).</span><span class="nf">to_stdout</span>&#x000A;<span class="n">expect</span> <span class="p">{</span> <span class="n">actual</span> <span class="p">}.</span><span class="nf">to</span> <span class="n">output</span><span class="p">(</span><span class="s2">"some error"</span><span class="p">).</span><span class="nf">to_stderr</span></pre></div>
<div class='notes'></div>
</td>
</tr>
<tr id='//dash_ref_Built-in Matchers/Entry/Block expectation/0'>
<td class='command'>
<p>
<code>yield_control</code>
</p>
<p>
<code>yield_with_no_args</code>
</p>
<p>
<code>yield_with_args</code>
</p>
<p>
<code>yield_successive_args</code>
</p>
</td>
<td class='description'>
<div class='name'><p>Block expectation</p>
</div>
<div class='notes'><pre class="highlight ruby"><span class="n">expect</span> <span class="p">{</span> <span class="o">|</span><span class="n">b</span><span class="o">|</span> <span class="n">object</span><span class="p">.</span><span class="nf">action</span><span class="p">(</span><span class="o">&amp;</span><span class="n">b</span><span class="p">)</span> <span class="p">}.</span><span class="nf">to</span> <span class="n">yield_control</span>&#x000A;<span class="n">expect</span> <span class="p">{</span> <span class="o">|</span><span class="n">b</span><span class="o">|</span> <span class="n">object</span><span class="p">.</span><span class="nf">action</span><span class="p">(</span><span class="o">&amp;</span><span class="n">b</span><span class="p">)</span> <span class="p">}.</span><span class="nf">to</span> <span class="n">yield_with_no_args</span>           <span class="c1"># only matches no args</span>&#x000A;<span class="n">expect</span> <span class="p">{</span> <span class="o">|</span><span class="n">b</span><span class="o">|</span> <span class="n">object</span><span class="p">.</span><span class="nf">action</span><span class="p">(</span><span class="o">&amp;</span><span class="n">b</span><span class="p">)</span> <span class="p">}.</span><span class="nf">to</span> <span class="n">yield_with_args</span>              <span class="c1"># matches any args</span>&#x000A;<span class="n">expect</span> <span class="p">{</span> <span class="o">|</span><span class="n">b</span><span class="o">|</span> <span class="n">object</span><span class="p">.</span><span class="nf">action</span><span class="p">(</span><span class="o">&amp;</span><span class="n">b</span><span class="p">)</span> <span class="p">}.</span><span class="nf">to</span> <span class="n">yield_successive_args</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">)</span> <span class="c1"># matches args against multiple yields</span></pre>
<h4>Examples</h4>
<pre class="highlight ruby"><span class="n">expect</span> <span class="p">{</span> <span class="o">|</span><span class="n">b</span><span class="o">|</span> <span class="no">User</span><span class="p">.</span><span class="nf">transaction</span><span class="p">(</span><span class="o">&amp;</span><span class="n">b</span><span class="p">)</span> <span class="p">}.</span><span class="nf">to</span> <span class="n">yield_control</span>&#x000A;<span class="n">expect</span> <span class="p">{</span> <span class="o">|</span><span class="n">b</span><span class="o">|</span> <span class="no">User</span><span class="p">.</span><span class="nf">transaction</span><span class="p">(</span><span class="o">&amp;</span><span class="n">b</span><span class="p">)</span> <span class="p">}.</span><span class="nf">to</span> <span class="n">yield_with_no_args</span>&#x000A;<span class="n">expect</span> <span class="p">{</span> <span class="o">|</span><span class="n">b</span><span class="o">|</span> <span class="mi">5</span><span class="p">.</span><span class="nf">tap</span><span class="p">(</span><span class="o">&amp;</span><span class="n">b</span><span class="p">)</span>            <span class="p">}.</span><span class="nf">not_to</span> <span class="n">yield_with_no_args</span>         <span class="c1"># because it yields with `5`</span>&#x000A;<span class="n">expect</span> <span class="p">{</span> <span class="o">|</span><span class="n">b</span><span class="o">|</span> <span class="mi">5</span><span class="p">.</span><span class="nf">tap</span><span class="p">(</span><span class="o">&amp;</span><span class="n">b</span><span class="p">)</span>            <span class="p">}.</span><span class="nf">to</span> <span class="n">yield_with_args</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>             <span class="c1"># because 5 == 5</span>&#x000A;<span class="n">expect</span> <span class="p">{</span> <span class="o">|</span><span class="n">b</span><span class="o">|</span> <span class="mi">5</span><span class="p">.</span><span class="nf">tap</span><span class="p">(</span><span class="o">&amp;</span><span class="n">b</span><span class="p">)</span>            <span class="p">}.</span><span class="nf">to</span> <span class="n">yield_with_args</span><span class="p">(</span><span class="no">Fixnum</span><span class="p">)</span>        <span class="c1"># because Fixnum === 5</span>&#x000A;<span class="n">expect</span> <span class="p">{</span> <span class="o">|</span><span class="n">b</span><span class="o">|</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">].</span><span class="nf">each</span><span class="p">(</span><span class="o">&amp;</span><span class="n">b</span><span class="p">)</span>   <span class="p">}.</span><span class="nf">to</span> <span class="n">yield_successive_args</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span></pre></div>
<div class='notes'></div>
</td>
</tr>
</table>
</div>
</section>
</article>
<footer>
You can modify and improve this cheat sheet <a onclick="window.dash.openExternal_(this.href); return false;" href="http://cheat.kapeli.com">here</a>
</footer>
</body>
</html>
