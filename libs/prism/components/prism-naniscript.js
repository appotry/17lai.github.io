(function(e){var t=/\{[^\r\n\[\]{}]*\}/;var a={"quoted-string":{pattern:/"(?:[^"\\]|\\.)*"/,alias:"operator"},"command-param-id":{pattern:/(\s)\w+:/,lookbehind:true,alias:"property"},"command-param-value":[{pattern:t,alias:"selector"},{pattern:/([\t ])\S+/,lookbehind:true,greedy:true,alias:"operator"},{pattern:/\S(?:.*\S)?/,alias:"operator"}]};e.languages.naniscript={comment:{pattern:/^([\t ]*);.*/m,lookbehind:true},define:{pattern:/^>.+/m,alias:"tag",inside:{value:{pattern:/(^>\w+[\t ]+)(?!\s)[^{}\r\n]+/,lookbehind:true,alias:"operator"},key:{pattern:/(^>)\w+/,lookbehind:true}}},label:{pattern:/^([\t ]*)#[\t ]*\w+[\t ]*$/m,lookbehind:true,alias:"regex"},command:{pattern:/^([\t ]*)@\w+(?=[\t ]|$).*/m,lookbehind:true,alias:"function",inside:{"command-name":/^@\w+/,expression:{pattern:t,greedy:true,alias:"selector"},"command-params":{pattern:/\s*\S[\s\S]*/,inside:a}}},"generic-text":{pattern:/(^[ \t]*)[^#@>;\s].*/m,lookbehind:true,alias:"punctuation",inside:{"escaped-char":/\\[{}\[\]"]/,expression:{pattern:t,greedy:true,alias:"selector"},"inline-command":{pattern:/\[[\t ]*\w[^\r\n\[\]]*\]/,greedy:true,alias:"function",inside:{"command-params":{pattern:/(^\[[\t ]*\w+\b)[\s\S]+(?=\]$)/,lookbehind:true,inside:a},"command-param-name":{pattern:/^(\[[\t ]*)\w+/,lookbehind:true,alias:"name"},"start-stop-char":/[\[\]]/}}}}};e.languages.nani=e.languages["naniscript"];e.hooks.add("after-tokenize",function(e){var t=e.tokens;t.forEach(function(e){if(typeof e!=="string"&&e.type==="generic-text"){var t=r(e);if(!n(t)){e.type="bad-line";e.content=t}}})});function n(e){var t="[]{}";var a=[];for(var n=0;n<e.length;n++){var r=e[n];var i=t.indexOf(r);if(i!==-1){if(i%2===0){a.push(i+1)}else if(a.pop()!==i){return false}}}return a.length===0}function r(e){if(typeof e==="string"){return e}else if(Array.isArray(e)){return e.map(r).join("")}else{return r(e.content)}}})(Prism);